import{d as f,r,P as a,v as m,T as g,U as h,N as c,W as v,X as x,Y as b,Z as y}from"./index.a025567c.js";import{A as O}from"./Add.c90fd24d.js";const p=f({props:{value:String},emits:["update:value"],setup(n,d){const t=r(!1),i=r(null),u=r(n.value);function s(){t.value=!0,g(()=>{var l;(l=i.value)==null||l.focus()})}function e(){d.emit("update:value",u.value),t.value=!1}return()=>a("div",{style:"min-height: 22px",onClick:s},[t.value?a(m,{ref:i,value:u.value,onUpdateValue:l=>u.value=l,onChange:e,onBlur:e},null):n.value])}});var C=f({name:"WidgetOptions",props:{graph:{required:!0,type:Object},plugin:{required:!0,type:Object}},setup(n,d){const t=r([]);h(n.plugin.attr,n.graph.selected[0])&&n.plugin.attr==="options"&&(t.value=n.graph.selected[0].attrs[n.plugin.attr].map(e=>{var l;return{label:e.label,value:(l=e.value)!=null?l:e.label}})),d.expose({update(){return t.value}});function i(){t.value.push({label:"",value:""})}function u(e){y.remove(t.value,t.value.indexOf(e))}const s=e=>t.value.indexOf(e);return()=>a("section",{class:"widget-options"},[a("header",null,[a(c,{type:"primary",size:"small",class:"text-sm",onClick:i},{default:()=>[v("Add Option")],icon:()=>a(x,null,{default:()=>[a(O,null,null)]})}),a("p",{class:"text-gray-500 font-bold"},[v("Please add at least one option.")])]),a(b,{"max-height":"300",class:"!w-min",striped:!0,data:t.value,columns:[{title:"Label",key:"label",width:200,render:e=>{const l=s(e);return a(p,{value:e.label,"onUpdate:value":o=>t.value[l].label=o},null)}},{title:"Value",key:"value",width:200,render:e=>{const l=s(e);return a(p,{value:e.value,"onUpdate:value":o=>t.value[l].value=o},null)}},{title:"Action",key:"actions",width:100,render:e=>a(c,{type:"error",strong:!0,size:"small",onClick:()=>u(e)},{default:()=>[v("Delete")]})}]},null)])}});export{C as default};
