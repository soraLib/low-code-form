var Aw=Object.defineProperty,Mw=Object.defineProperties;var Tw=Object.getOwnPropertyDescriptors;var Cp=Object.getOwnPropertySymbols;var Ow=Object.prototype.hasOwnProperty,Pw=Object.prototype.propertyIsEnumerable;var wp=(n,t,e)=>t in n?Aw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,vn=(n,t)=>{for(var e in t||(t={}))Ow.call(t,e)&&wp(n,e,t[e]);if(Cp)for(var e of Cp(t))Pw.call(t,e)&&wp(n,e,t[e]);return n},to=(n,t)=>Mw(n,Tw(t));function Ch(n,t){const e=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)e[i[s]]=!0;return t?s=>!!e[s.toLowerCase()]:s=>!!e[s]}const $w="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dw=Ch($w);function xp(n){return!!n||n===""}function Me(n){if(Gt(n)){const t={};for(let e=0;e<n.length;e++){const i=n[e],s=Ie(i)?Lw(i):Me(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(Ie(n))return n;if(je(n))return n}}const kw=/;(?![^(]*\))/g,Nw=/:(.+)/;function Lw(n){const t={};return n.split(kw).forEach(e=>{if(e){const i=e.split(Nw);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ln(n){let t="";if(Ie(n))t=n;else if(Gt(n))for(let e=0;e<n.length;e++){const i=ln(n[e]);i&&(t+=i+" ")}else if(je(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function Fw(n,t){if(n.length!==t.length)return!1;let e=!0;for(let i=0;e&&i<n.length;i++)e=Xl(n[i],t[i]);return e}function Xl(n,t){if(n===t)return!0;let e=Ap(n),i=Ap(t);if(e||i)return e&&i?n.getTime()===t.getTime():!1;if(e=Gt(n),i=Gt(t),e||i)return e&&i?Fw(n,t):!1;if(e=je(n),i=je(t),e||i){if(!e||!i)return!1;const s=Object.keys(n).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Xl(n[o],t[o]))return!1}}return String(n)===String(t)}function Sp(n,t){return n.findIndex(e=>Xl(e,t))}const Xn=n=>n==null?"":Gt(n)||je(n)&&(n.toString===Tp||!ee(n.toString))?JSON.stringify(n,Ep,2):String(n),Ep=(n,t)=>t&&t.__v_isRef?Ep(n,t.value):no(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[i,s])=>(e[`${i} =>`]=s,e),{})}:Kl(t)?{[`Set(${t.size})`]:[...t.values()]}:je(t)&&!Gt(t)&&!Pp(t)?String(t):t,Ne={},eo=[],Fn=()=>{},Iw=()=>!1,_w=/^on[^a-z]/,Yl=n=>_w.test(n),wh=n=>n.startsWith("onUpdate:"),Tn=Object.assign,xh=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Rw=Object.prototype.hasOwnProperty,ce=(n,t)=>Rw.call(n,t),Gt=Array.isArray,no=n=>ma(n)==="[object Map]",Kl=n=>ma(n)==="[object Set]",Ap=n=>n instanceof Date,ee=n=>typeof n=="function",Ie=n=>typeof n=="string",Sh=n=>typeof n=="symbol",je=n=>n!==null&&typeof n=="object",Mp=n=>je(n)&&ee(n.then)&&ee(n.catch),Tp=Object.prototype.toString,ma=n=>Tp.call(n),Op=n=>ma(n).slice(8,-1),Pp=n=>ma(n)==="[object Object]",Eh=n=>Ie(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Jl=Ch(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zl=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},jw=/-(\w)/g,Di=Zl(n=>n.replace(jw,(t,e)=>e?e.toUpperCase():"")),zw=/\B([A-Z])/g,or=Zl(n=>n.replace(zw,"-$1").toLowerCase()),Ql=Zl(n=>n.charAt(0).toUpperCase()+n.slice(1)),Ah=Zl(n=>n?`on${Ql(n)}`:""),ba=(n,t)=>!Object.is(n,t),tc=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},ec=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},$p=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let Dp;const Bw=()=>Dp||(Dp=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Gi;const nc=[];class Hw{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&Gi&&(this.parent=Gi,this.index=(Gi.scopes||(Gi.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(nc.push(this),Gi=this)}off(){this.active&&(nc.pop(),Gi=nc[nc.length-1])}stop(t){if(this.active){if(this.effects.forEach(e=>e.stop()),this.cleanups.forEach(e=>e()),this.scopes&&this.scopes.forEach(e=>e.stop(!0)),this.parent&&!t){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function Vw(n,t){t=t||Gi,t&&t.active&&t.effects.push(n)}function Gw(){return Gi}function kp(n){Gi&&Gi.cleanups.push(n)}const Mh=n=>{const t=new Set(n);return t.w=0,t.n=0,t},Np=n=>(n.w&Ts)>0,Lp=n=>(n.n&Ts)>0,Ww=({deps:n})=>{if(n.length)for(let t=0;t<n.length;t++)n[t].w|=Ts},Uw=n=>{const{deps:t}=n;if(t.length){let e=0;for(let i=0;i<t.length;i++){const s=t[i];Np(s)&&!Lp(s)?s.delete(n):t[e++]=s,s.w&=~Ts,s.n&=~Ts}t.length=e}},Th=new WeakMap;let ya=0,Ts=1;const Oh=30,va=[];let ar;const lr=Symbol(""),Ph=Symbol("");class $h{constructor(t,e=null,i){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],Vw(this,i)}run(){if(!this.active)return this.fn();if(!va.includes(this))try{return va.push(ar=this),qw(),Ts=1<<++ya,ya<=Oh?Ww(this):Fp(this),this.fn()}finally{ya<=Oh&&Uw(this),Ts=1<<--ya,Os(),va.pop();const t=va.length;ar=t>0?va[t-1]:void 0}}stop(){this.active&&(Fp(this),this.onStop&&this.onStop(),this.active=!1)}}function Fp(n){const{deps:t}=n;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(n);t.length=0}}let io=!0;const Dh=[];function cr(){Dh.push(io),io=!1}function qw(){Dh.push(io),io=!0}function Os(){const n=Dh.pop();io=n===void 0?!0:n}function ai(n,t,e){if(!Ip())return;let i=Th.get(n);i||Th.set(n,i=new Map);let s=i.get(e);s||i.set(e,s=Mh()),_p(s)}function Ip(){return io&&ar!==void 0}function _p(n,t){let e=!1;ya<=Oh?Lp(n)||(n.n|=Ts,e=!Np(n)):e=!n.has(ar),e&&(n.add(ar),ar.deps.push(n))}function cs(n,t,e,i,s,r){const o=Th.get(n);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&Gt(n))o.forEach((l,c)=>{(c==="length"||c>=i)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":Gt(n)?Eh(e)&&a.push(o.get("length")):(a.push(o.get(lr)),no(n)&&a.push(o.get(Ph)));break;case"delete":Gt(n)||(a.push(o.get(lr)),no(n)&&a.push(o.get(Ph)));break;case"set":no(n)&&a.push(o.get(lr));break}if(a.length===1)a[0]&&kh(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);kh(Mh(l))}}function kh(n,t){for(const e of Gt(n)?n:[...n])(e!==ar||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Xw=Ch("__proto__,__v_isRef,__isVue"),Rp=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(Sh)),Yw=Nh(),Kw=Nh(!1,!0),Jw=Nh(!0),jp=Zw();function Zw(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const i=be(this);for(let r=0,o=this.length;r<o;r++)ai(i,"get",r+"");const s=i[t](...e);return s===-1||s===!1?i[t](...e.map(be)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){cr();const i=be(this)[t].apply(this,e);return Os(),i}}),n}function Nh(n=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_raw"&&r===(n?t?gx:Xp:t?qp:Up).get(i))return i;const o=Gt(i);if(!n&&o&&ce(jp,s))return Reflect.get(jp,s,r);const a=Reflect.get(i,s,r);return(Sh(s)?Rp.has(s):Xw(s))||(n||ai(i,"get",s),t)?a:cn(a)?!o||!Eh(s)?a.value:a:je(a)?n?Yp(a):ur(a):a}}const Qw=zp(),tx=zp(!0);function zp(n=!1){return function(e,i,s,r){let o=e[i];if(!n&&!_h(s)&&(s=be(s),o=be(o),!Gt(e)&&cn(o)&&!cn(s)))return o.value=s,!0;const a=Gt(e)&&Eh(i)?Number(i)<e.length:ce(e,i),l=Reflect.set(e,i,s,r);return e===be(r)&&(a?ba(s,o)&&cs(e,"set",i,s):cs(e,"add",i,s)),l}}function ex(n,t){const e=ce(n,t);n[t];const i=Reflect.deleteProperty(n,t);return i&&e&&cs(n,"delete",t,void 0),i}function nx(n,t){const e=Reflect.has(n,t);return(!Sh(t)||!Rp.has(t))&&ai(n,"has",t),e}function ix(n){return ai(n,"iterate",Gt(n)?"length":lr),Reflect.ownKeys(n)}const Bp={get:Yw,set:Qw,deleteProperty:ex,has:nx,ownKeys:ix},sx={get:Jw,set(n,t){return!0},deleteProperty(n,t){return!0}},rx=Tn({},Bp,{get:Kw,set:tx}),Lh=n=>n,ic=n=>Reflect.getPrototypeOf(n);function sc(n,t,e=!1,i=!1){n=n.__v_raw;const s=be(n),r=be(t);t!==r&&!e&&ai(s,"get",t),!e&&ai(s,"get",r);const{has:o}=ic(s),a=i?Lh:e?Rh:Ca;if(o.call(s,t))return a(n.get(t));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(t)}function rc(n,t=!1){const e=this.__v_raw,i=be(e),s=be(n);return n!==s&&!t&&ai(i,"has",n),!t&&ai(i,"has",s),n===s?e.has(n):e.has(n)||e.has(s)}function oc(n,t=!1){return n=n.__v_raw,!t&&ai(be(n),"iterate",lr),Reflect.get(n,"size",n)}function Hp(n){n=be(n);const t=be(this);return ic(t).has.call(t,n)||(t.add(n),cs(t,"add",n,n)),this}function Vp(n,t){t=be(t);const e=be(this),{has:i,get:s}=ic(e);let r=i.call(e,n);r||(n=be(n),r=i.call(e,n));const o=s.call(e,n);return e.set(n,t),r?ba(t,o)&&cs(e,"set",n,t):cs(e,"add",n,t),this}function Gp(n){const t=be(this),{has:e,get:i}=ic(t);let s=e.call(t,n);s||(n=be(n),s=e.call(t,n)),i&&i.call(t,n);const r=t.delete(n);return s&&cs(t,"delete",n,void 0),r}function Wp(){const n=be(this),t=n.size!==0,e=n.clear();return t&&cs(n,"clear",void 0,void 0),e}function ac(n,t){return function(i,s){const r=this,o=r.__v_raw,a=be(o),l=t?Lh:n?Rh:Ca;return!n&&ai(a,"iterate",lr),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function lc(n,t,e){return function(...i){const s=this.__v_raw,r=be(s),o=no(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=e?Lh:t?Rh:Ca;return!t&&ai(r,"iterate",l?Ph:lr),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ps(n){return function(...t){return n==="delete"?!1:this}}function ox(){const n={get(r){return sc(this,r)},get size(){return oc(this)},has:rc,add:Hp,set:Vp,delete:Gp,clear:Wp,forEach:ac(!1,!1)},t={get(r){return sc(this,r,!1,!0)},get size(){return oc(this)},has:rc,add:Hp,set:Vp,delete:Gp,clear:Wp,forEach:ac(!1,!0)},e={get(r){return sc(this,r,!0)},get size(){return oc(this,!0)},has(r){return rc.call(this,r,!0)},add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear"),forEach:ac(!0,!1)},i={get(r){return sc(this,r,!0,!0)},get size(){return oc(this,!0)},has(r){return rc.call(this,r,!0)},add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear"),forEach:ac(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=lc(r,!1,!1),e[r]=lc(r,!0,!1),t[r]=lc(r,!1,!0),i[r]=lc(r,!0,!0)}),[n,e,t,i]}const[ax,lx,cx,ux]=ox();function Fh(n,t){const e=t?n?ux:cx:n?lx:ax;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(ce(e,s)&&s in i?e:i,s,r)}const hx={get:Fh(!1,!1)},dx={get:Fh(!1,!0)},fx={get:Fh(!0,!1)},Up=new WeakMap,qp=new WeakMap,Xp=new WeakMap,gx=new WeakMap;function px(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mx(n){return n.__v_skip||!Object.isExtensible(n)?0:px(Op(n))}function ur(n){return n&&n.__v_isReadonly?n:Ih(n,!1,Bp,hx,Up)}function bx(n){return Ih(n,!1,rx,dx,qp)}function Yp(n){return Ih(n,!0,sx,fx,Xp)}function Ih(n,t,e,i,s){if(!je(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=mx(n);if(o===0)return n;const a=new Proxy(n,o===2?i:e);return s.set(n,a),a}function so(n){return _h(n)?so(n.__v_raw):!!(n&&n.__v_isReactive)}function _h(n){return!!(n&&n.__v_isReadonly)}function Kp(n){return so(n)||_h(n)}function be(n){const t=n&&n.__v_raw;return t?be(t):n}function Jp(n){return ec(n,"__v_skip",!0),n}const Ca=n=>je(n)?ur(n):n,Rh=n=>je(n)?Yp(n):n;function Zp(n){Ip()&&(n=be(n),n.dep||(n.dep=Mh()),_p(n.dep))}function Qp(n,t){n=be(n),n.dep&&kh(n.dep)}function cn(n){return Boolean(n&&n.__v_isRef===!0)}function ot(n){return t2(n,!1)}function yx(n){return t2(n,!0)}function t2(n,t){return cn(n)?n:new vx(n,t)}class vx{constructor(t,e){this._shallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:be(t),this._value=e?t:Ca(t)}get value(){return Zp(this),this._value}set value(t){t=this._shallow?t:be(t),ba(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:Ca(t),Qp(this))}}function Le(n){return cn(n)?n.value:n}const Cx={get:(n,t,e)=>Le(Reflect.get(n,t,e)),set:(n,t,e,i)=>{const s=n[t];return cn(s)&&!cn(e)?(s.value=e,!0):Reflect.set(n,t,e,i)}};function e2(n){return so(n)?n:new Proxy(n,Cx)}function n2(n){const t=Gt(n)?new Array(n.length):{};for(const e in n)t[e]=ro(n,e);return t}class wx{constructor(t,e,i){this._object=t,this._key=e,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function ro(n,t,e){const i=n[t];return cn(i)?i:new wx(n,t,e)}class xx{constructor(t,e,i){this._setter=e,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new $h(t,()=>{this._dirty||(this._dirty=!0,Qp(this))}),this.__v_isReadonly=i}get value(){const t=be(this);return Zp(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function wt(n,t){let e,i;const s=ee(n);return s?(e=n,i=Fn):(e=n.get,i=n.set),new xx(e,i,s||!i)}Promise.resolve();function Sx(n,t,...e){const i=n.vnode.props||Ne;let s=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Ne;f?s=e.map(g=>g.trim()):h&&(s=e.map($p))}let a,l=i[a=Ah(t)]||i[a=Ah(Di(t))];!l&&r&&(l=i[a=Ah(or(t))]),l&&mi(l,n,6,s);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,mi(c,n,6,s)}}function i2(n,t,e=!1){const i=t.emitsCache,s=i.get(n);if(s!==void 0)return s;const r=n.emits;let o={},a=!1;if(!ee(n)){const l=c=>{const u=i2(c,t,!0);u&&(a=!0,Tn(o,u))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!r&&!a?(i.set(n,null),null):(Gt(r)?r.forEach(l=>o[l]=null):Tn(o,r),i.set(n,o),o)}function jh(n,t){return!n||!Yl(t)?!1:(t=t.slice(2).replace(/Once$/,""),ce(n,t[0].toLowerCase()+t.slice(1))||ce(n,or(t))||ce(n,t))}let li=null,s2=null;function cc(n){const t=li;return li=n,s2=n&&n.type.__scopeId||null,t}function Je(n,t=li,e){if(!t||n._n)return n;const i=(...s)=>{i._d&&D2(-1);const r=cc(t),o=n(...s);return cc(r),i._d&&D2(1),o};return i._n=!0,i._c=!0,i._d=!0,i}function zh(n){const{type:t,vnode:e,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:g,ctx:b,inheritAttrs:y}=n;let w,C;const E=cc(n);try{if(e.shapeFlag&4){const T=s||i;w=Wi(u.call(T,T,h,r,g,f,b)),C=l}else{const T=t;w=Wi(T.length>1?T(r,{attrs:l,slots:a,emit:c}):T(r,null)),C=t.props?l:Ex(l)}}catch(T){Aa.length=0,Sc(T,n,1),w=ue(ci)}let S=w;if(C&&y!==!1){const T=Object.keys(C),{shapeFlag:$}=S;T.length&&$&(1|6)&&(o&&T.some(wh)&&(C=Ax(C,o)),S=mr(S,C))}return e.dirs&&(S.dirs=S.dirs?S.dirs.concat(e.dirs):e.dirs),e.transition&&(S.transition=e.transition),w=S,cc(E),w}const Ex=n=>{let t;for(const e in n)(e==="class"||e==="style"||Yl(e))&&((t||(t={}))[e]=n[e]);return t},Ax=(n,t)=>{const e={};for(const i in n)(!wh(i)||!(i.slice(9)in t))&&(e[i]=n[i]);return e};function Mx(n,t,e){const{props:i,children:s,component:r}=n,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return i?r2(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!jh(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?r2(i,o,c):!0:!!o;return!1}function r2(n,t,e){const i=Object.keys(t);if(i.length!==Object.keys(n).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==n[r]&&!jh(e,r))return!0}return!1}function Tx({vnode:n,parent:t},e){for(;t&&t.subTree===n;)(n=t.vnode).el=e,t=t.parent}const Ox=n=>n.__isSuspense;function Px(n,t){t&&t.pendingBranch?Gt(n)?t.effects.push(...n):t.effects.push(n):M3(n)}function uc(n,t){if(xn){let e=xn.provides;const i=xn.parent&&xn.parent.provides;i===e&&(e=xn.provides=Object.create(i)),e[n]=t}}function jn(n,t,e=!1){const i=xn||li;if(i){const s=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&n in s)return s[n];if(arguments.length>1)return e&&ee(t)?t.call(i.proxy):t}}function $x(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ki(()=>{n.isMounted=!0}),xa(()=>{n.isUnmounting=!0}),n}const pi=[Function,Array],Dx={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pi,onEnter:pi,onAfterEnter:pi,onEnterCancelled:pi,onBeforeLeave:pi,onLeave:pi,onAfterLeave:pi,onLeaveCancelled:pi,onBeforeAppear:pi,onAppear:pi,onAfterAppear:pi,onAppearCancelled:pi},setup(n,{slots:t}){const e=Oe(),i=$x();let s;return()=>{const r=t.default&&c2(t.default(),!0);if(!r||!r.length)return;const o=be(n),{mode:a}=o,l=r[0];if(i.isLeaving)return Hh(l);const c=l2(l);if(!c)return Hh(l);const u=Bh(c,o,i,e);Vh(c,u);const h=e.subTree,f=h&&l2(h);let g=!1;const{getTransitionKey:b}=c.type;if(b){const y=b();s===void 0?s=y:y!==s&&(s=y,g=!0)}if(f&&f.type!==ci&&(!pr(c,f)||g)){const y=Bh(f,o,i,e);if(Vh(f,y),a==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,e.update()},Hh(l);a==="in-out"&&c.type!==ci&&(y.delayLeave=(w,C,E)=>{const S=a2(i,f);S[String(f.key)]=f,w._leaveCb=()=>{C(),w._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=E})}return l}}},o2=Dx;function a2(n,t){const{leavingVNodes:e}=n;let i=e.get(t.type);return i||(i=Object.create(null),e.set(t.type,i)),i}function Bh(n,t,e,i){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:g,onLeaveCancelled:b,onBeforeAppear:y,onAppear:w,onAfterAppear:C,onAppearCancelled:E}=t,S=String(n.key),T=a2(e,n),$=(A,k)=>{A&&mi(A,i,9,k)},p={mode:r,persisted:o,beforeEnter(A){let k=a;if(!e.isMounted)if(s)k=y||a;else return;A._leaveCb&&A._leaveCb(!0);const F=T[S];F&&pr(n,F)&&F.el._leaveCb&&F.el._leaveCb(),$(k,[A])},enter(A){let k=l,F=c,H=u;if(!e.isMounted)if(s)k=w||l,F=C||c,H=E||u;else return;let _=!1;const I=A._enterCb=Y=>{_||(_=!0,Y?$(H,[A]):$(F,[A]),p.delayedLeave&&p.delayedLeave(),A._enterCb=void 0)};k?(k(A,I),k.length<=1&&I()):I()},leave(A,k){const F=String(n.key);if(A._enterCb&&A._enterCb(!0),e.isUnmounting)return k();$(h,[A]);let H=!1;const _=A._leaveCb=I=>{H||(H=!0,k(),I?$(b,[A]):$(g,[A]),A._leaveCb=void 0,T[F]===n&&delete T[F])};T[F]=n,f?(f(A,_),f.length<=1&&_()):_()},clone(A){return Bh(A,t,e,i)}};return p}function Hh(n){if(hc(n))return n=mr(n),n.children=null,n}function l2(n){return hc(n)?n.children?n.children[0]:void 0:n}function Vh(n,t){n.shapeFlag&6&&n.component?Vh(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function c2(n,t=!1){let e=[],i=0;for(let s=0;s<n.length;s++){const r=n[s];r.type===Ze?(r.patchFlag&128&&i++,e=e.concat(c2(r.children,t))):(t||r.type!==ci)&&e.push(r)}if(i>1)for(let s=0;s<e.length;s++)e[s].patchFlag=-2;return e}function Ee(n){return ee(n)?{setup:n,name:n.name}:n}const Gh=n=>!!n.type.__asyncLoader,hc=n=>n.type.__isKeepAlive;function u2(n,t){d2(n,"a",t)}function h2(n,t){d2(n,"da",t)}function d2(n,t,e=xn){const i=n.__wdc||(n.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return n()});if(dc(t,i,e),e){let s=e.parent;for(;s&&s.parent;)hc(s.parent.vnode)&&kx(i,t,e,s),s=s.parent}}function kx(n,t,e,i){const s=dc(t,n,i,!0);Sa(()=>{xh(i[t],s)},e)}function dc(n,t,e=xn,i=!1){if(e){const s=e[n]||(e[n]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;cr(),ao(e);const a=mi(t,e,n,o);return br(),Os(),a});return i?s.unshift(r):s.push(r),r}}const us=n=>(t,e=xn)=>(!xc||n==="sp")&&dc(n,t,e),Wh=us("bm"),ki=us("m"),Nx=us("bu"),wa=us("u"),xa=us("bum"),Sa=us("um"),Lx=us("sp"),Fx=us("rtg"),Ix=us("rtc");function _x(n,t=xn){dc("ec",n,t)}let Uh=!0;function Rx(n){const t=p2(n),e=n.proxy,i=n.ctx;Uh=!1,t.beforeCreate&&f2(t.beforeCreate,n,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:b,activated:y,deactivated:w,beforeDestroy:C,beforeUnmount:E,destroyed:S,unmounted:T,render:$,renderTracked:p,renderTriggered:A,errorCaptured:k,serverPrefetch:F,expose:H,inheritAttrs:_,components:I,directives:Y,filters:nt}=t;if(c&&jx(c,i,null,n.appContext.config.unwrapInjectedRef),o)for(const Q in o){const st=o[Q];ee(st)&&(i[Q]=st.bind(e))}if(s){const Q=s.call(e,e);je(Q)&&(n.data=ur(Q))}if(Uh=!0,r)for(const Q in r){const st=r[Q],Tt=ee(st)?st.bind(e,e):ee(st.get)?st.get.bind(e,e):Fn,Ut=!ee(st)&&ee(st.set)?st.set.bind(e):Fn,ht=wt({get:Tt,set:Ut});Object.defineProperty(i,Q,{enumerable:!0,configurable:!0,get:()=>ht.value,set:Nt=>ht.value=Nt})}if(a)for(const Q in a)g2(a[Q],i,e,Q);if(l){const Q=ee(l)?l.call(e):l;Reflect.ownKeys(Q).forEach(st=>{uc(st,Q[st])})}u&&f2(u,n,"c");function q(Q,st){Gt(st)?st.forEach(Tt=>Q(Tt.bind(e))):st&&Q(st.bind(e))}if(q(Wh,h),q(ki,f),q(Nx,g),q(wa,b),q(u2,y),q(h2,w),q(_x,k),q(Ix,p),q(Fx,A),q(xa,E),q(Sa,T),q(Lx,F),Gt(H))if(H.length){const Q=n.exposed||(n.exposed={});H.forEach(st=>{Object.defineProperty(Q,st,{get:()=>e[st],set:Tt=>e[st]=Tt})})}else n.exposed||(n.exposed={});$&&n.render===Fn&&(n.render=$),_!=null&&(n.inheritAttrs=_),I&&(n.components=I),Y&&(n.directives=Y)}function jx(n,t,e=Fn,i=!1){Gt(n)&&(n=qh(n));for(const s in n){const r=n[s];let o;je(r)?"default"in r?o=jn(r.from||s,r.default,!0):o=jn(r.from||s):o=jn(r),cn(o)&&i?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function f2(n,t,e){mi(Gt(n)?n.map(i=>i.bind(t.proxy)):n.bind(t.proxy),t,e)}function g2(n,t,e,i){const s=i.includes(".")?K2(e,i):()=>e[i];if(Ie(n)){const r=t[n];ee(r)&&ve(s,r)}else if(ee(n))ve(s,n.bind(e));else if(je(n))if(Gt(n))n.forEach(r=>g2(r,t,e,i));else{const r=ee(n.handler)?n.handler.bind(e):t[n.handler];ee(r)&&ve(s,r,n)}}function p2(n){const t=n.type,{mixins:e,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!e&&!i?l=t:(l={},s.length&&s.forEach(c=>fc(l,c,o,!0)),fc(l,t,o)),r.set(t,l),l}function fc(n,t,e,i=!1){const{mixins:s,extends:r}=t;r&&fc(n,r,e,!0),s&&s.forEach(o=>fc(n,o,e,!0));for(const o in t)if(!(i&&o==="expose")){const a=zx[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const zx={data:m2,props:hr,emits:hr,methods:hr,computed:hr,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:hr,directives:hr,watch:Hx,provide:m2,inject:Bx};function m2(n,t){return t?n?function(){return Tn(ee(n)?n.call(this,this):n,ee(t)?t.call(this,this):t)}:t:n}function Bx(n,t){return hr(qh(n),qh(t))}function qh(n){if(Gt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function zn(n,t){return n?[...new Set([].concat(n,t))]:t}function hr(n,t){return n?Tn(Tn(Object.create(null),n),t):t}function Hx(n,t){if(!n)return t;if(!t)return n;const e=Tn(Object.create(null),n);for(const i in t)e[i]=zn(n[i],t[i]);return e}function Vx(n,t,e,i=!1){const s={},r={};ec(r,yc,1),n.propsDefaults=Object.create(null),b2(n,t,s,r);for(const o in n.propsOptions[0])o in s||(s[o]=void 0);e?n.props=i?s:bx(s):n.type.props?n.props=s:n.props=r,n.attrs=r}function Gx(n,t,e,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=n,a=be(s),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];const g=t[f];if(l)if(ce(r,f))g!==r[f]&&(r[f]=g,c=!0);else{const b=Di(f);s[b]=Xh(l,a,b,g,n,!1)}else g!==r[f]&&(r[f]=g,c=!0)}}}else{b2(n,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!ce(t,h)&&((u=or(h))===h||!ce(t,u)))&&(l?e&&(e[h]!==void 0||e[u]!==void 0)&&(s[h]=Xh(l,a,h,void 0,n,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!ce(t,h))&&(delete r[h],c=!0)}c&&cs(n,"set","$attrs")}function b2(n,t,e,i){const[s,r]=n.propsOptions;let o=!1,a;if(t)for(let l in t){if(Jl(l))continue;const c=t[l];let u;s&&ce(s,u=Di(l))?!r||!r.includes(u)?e[u]=c:(a||(a={}))[u]=c:jh(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=be(e),c=a||Ne;for(let u=0;u<r.length;u++){const h=r[u];e[h]=Xh(s,l,h,c[h],n,!ce(c,h))}}return o}function Xh(n,t,e,i,s,r){const o=n[e];if(o!=null){const a=ce(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&ee(l)){const{propsDefaults:c}=s;e in c?i=c[e]:(ao(s),i=c[e]=l.call(null,t),br())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===or(e))&&(i=!0))}return i}function y2(n,t,e=!1){const i=t.propsCache,s=i.get(n);if(s)return s;const r=n.props,o={},a=[];let l=!1;if(!ee(n)){const u=h=>{l=!0;const[f,g]=y2(h,t,!0);Tn(o,f),g&&a.push(...g)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!l)return i.set(n,eo),eo;if(Gt(r))for(let u=0;u<r.length;u++){const h=Di(r[u]);v2(h)&&(o[h]=Ne)}else if(r)for(const u in r){const h=Di(u);if(v2(h)){const f=r[u],g=o[h]=Gt(f)||ee(f)?{type:f}:f;if(g){const b=x2(Boolean,g.type),y=x2(String,g.type);g[0]=b>-1,g[1]=y<0||b<y,(b>-1||ce(g,"default"))&&a.push(h)}}}const c=[o,a];return i.set(n,c),c}function v2(n){return n[0]!=="$"}function C2(n){const t=n&&n.toString().match(/^\s*function (\w+)/);return t?t[1]:n===null?"null":""}function w2(n,t){return C2(n)===C2(t)}function x2(n,t){return Gt(t)?t.findIndex(e=>w2(e,n)):ee(t)&&w2(t,n)?0:-1}const S2=n=>n[0]==="_"||n==="$stable",Yh=n=>Gt(n)?n.map(Wi):[Wi(n)],Wx=(n,t,e)=>{const i=Je((...s)=>Yh(t(...s)),e);return i._c=!1,i},E2=(n,t,e)=>{const i=n._ctx;for(const s in n){if(S2(s))continue;const r=n[s];if(ee(r))t[s]=Wx(s,r,i);else if(r!=null){const o=Yh(r);t[s]=()=>o}}},A2=(n,t)=>{const e=Yh(t);n.slots.default=()=>e},Ux=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=be(t),ec(t,"_",e)):E2(t,n.slots={})}else n.slots={},t&&A2(n,t);ec(n.slots,yc,1)},qx=(n,t,e)=>{const{vnode:i,slots:s}=n;let r=!0,o=Ne;if(i.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:(Tn(s,t),!e&&a===1&&delete s._):(r=!t.$stable,E2(t,s)),o=t}else t&&(A2(n,t),o={default:1});if(r)for(const a in s)!S2(a)&&!(a in o)&&delete s[a]};function un(n,t){const e=li;if(e===null)return n;const i=e.proxy,s=n.dirs||(n.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Ne]=t[r];ee(o)&&(o={mounted:o,updated:o}),o.deep&&yr(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c})}return n}function dr(n,t,e,i){const s=n.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(cr(),mi(l,e,8,[n.el,a,n,t]),Os())}}function M2(){return{app:null,config:{isNativeTag:Iw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xx=0;function Yx(n,t){return function(i,s=null){s!=null&&!je(s)&&(s=null);const r=M2(),o=new Set;let a=!1;const l=r.app={_uid:Xx++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:O3,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ee(c.install)?(o.add(c),c.install(l,...u)):ee(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=ue(i,s);return f.appContext=r,u&&t?t(f,c):n(f,c,h),a=!0,l._container=c,c.__vue_app__=l,sd(f.component)||f.component.proxy}},unmount(){a&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l}};return l}}function Kh(n,t,e,i,s=!1){if(Gt(n)){n.forEach((f,g)=>Kh(f,t&&(Gt(t)?t[g]:t),e,i,s));return}if(Gh(i)&&!s)return;const r=i.shapeFlag&4?sd(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=n,c=t&&t.r,u=a.refs===Ne?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Ie(c)?(u[c]=null,ce(h,c)&&(h[c]=null)):cn(c)&&(c.value=null)),ee(l))hs(l,a,12,[o,u]);else{const f=Ie(l),g=cn(l);if(f||g){const b=()=>{if(n.f){const y=f?u[l]:l.value;s?Gt(y)&&xh(y,r):Gt(y)?y.includes(r)||y.push(r):f?u[l]=[r]:(l.value=[r],n.k&&(u[n.k]=l.value))}else f?(u[l]=o,ce(h,l)&&(h[l]=o)):cn(l)&&(l.value=o,n.k&&(u[n.k]=o))};o?(b.id=-1,Yn(b,e)):b()}}}const Yn=Px;function Kx(n){return Jx(n)}function Jx(n,t){const e=Bw();e.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=Fn,cloneNode:b,insertStaticContent:y}=n,w=(N,B,Z,X=null,et=null,gt=null,vt=!1,dt=null,pt=!!B.dynamicChildren)=>{if(N===B)return;N&&!pr(N,B)&&(X=qt(N),Ft(N,et,gt,!0),N=null),B.patchFlag===-2&&(pt=!1,B.dynamicChildren=null);const{type:ct,ref:Dt,shapeFlag:Ct}=B;switch(ct){case mc:C(N,B,Z,X);break;case ci:E(N,B,Z,X);break;case ed:N==null&&S(B,Z,X,vt);break;case Ze:Y(N,B,Z,X,et,gt,vt,dt,pt);break;default:Ct&1?p(N,B,Z,X,et,gt,vt,dt,pt):Ct&6?nt(N,B,Z,X,et,gt,vt,dt,pt):(Ct&64||Ct&128)&&ct.process(N,B,Z,X,et,gt,vt,dt,pt,Ae)}Dt!=null&&et&&Kh(Dt,N&&N.ref,gt,B||N,!B)},C=(N,B,Z,X)=>{if(N==null)i(B.el=a(B.children),Z,X);else{const et=B.el=N.el;B.children!==N.children&&c(et,B.children)}},E=(N,B,Z,X)=>{N==null?i(B.el=l(B.children||""),Z,X):B.el=N.el},S=(N,B,Z,X)=>{[N.el,N.anchor]=y(N.children,B,Z,X)},T=({el:N,anchor:B},Z,X)=>{let et;for(;N&&N!==B;)et=f(N),i(N,Z,X),N=et;i(B,Z,X)},$=({el:N,anchor:B})=>{let Z;for(;N&&N!==B;)Z=f(N),s(N),N=Z;s(B)},p=(N,B,Z,X,et,gt,vt,dt,pt)=>{vt=vt||B.type==="svg",N==null?A(B,Z,X,et,gt,vt,dt,pt):H(N,B,et,gt,vt,dt,pt)},A=(N,B,Z,X,et,gt,vt,dt)=>{let pt,ct;const{type:Dt,props:Ct,shapeFlag:Pt,transition:zt,patchFlag:ft,dirs:xt}=N;if(N.el&&b!==void 0&&ft===-1)pt=N.el=b(N.el);else{if(pt=N.el=o(N.type,gt,Ct&&Ct.is,Ct),Pt&8?u(pt,N.children):Pt&16&&F(N.children,pt,null,X,et,gt&&Dt!=="foreignObject",vt,dt),xt&&dr(N,null,X,"created"),Ct){for(const $t in Ct)$t!=="value"&&!Jl($t)&&r(pt,$t,null,Ct[$t],gt,N.children,X,et,Mt);"value"in Ct&&r(pt,"value",null,Ct.value),(ct=Ct.onVnodeBeforeMount)&&Ui(ct,X,N)}k(pt,N,N.scopeId,vt,X)}xt&&dr(N,null,X,"beforeMount");const kt=(!et||et&&!et.pendingBranch)&&zt&&!zt.persisted;kt&&zt.beforeEnter(pt),i(pt,B,Z),((ct=Ct&&Ct.onVnodeMounted)||kt||xt)&&Yn(()=>{ct&&Ui(ct,X,N),kt&&zt.enter(pt),xt&&dr(N,null,X,"mounted")},et)},k=(N,B,Z,X,et)=>{if(Z&&g(N,Z),X)for(let gt=0;gt<X.length;gt++)g(N,X[gt]);if(et){let gt=et.subTree;if(B===gt){const vt=et.vnode;k(N,vt,vt.scopeId,vt.slotScopeIds,et.parent)}}},F=(N,B,Z,X,et,gt,vt,dt,pt=0)=>{for(let ct=pt;ct<N.length;ct++){const Dt=N[ct]=dt?$s(N[ct]):Wi(N[ct]);w(null,Dt,B,Z,X,et,gt,vt,dt)}},H=(N,B,Z,X,et,gt,vt)=>{const dt=B.el=N.el;let{patchFlag:pt,dynamicChildren:ct,dirs:Dt}=B;pt|=N.patchFlag&16;const Ct=N.props||Ne,Pt=B.props||Ne;let zt;Z&&fr(Z,!1),(zt=Pt.onVnodeBeforeUpdate)&&Ui(zt,Z,B,N),Dt&&dr(B,N,Z,"beforeUpdate"),Z&&fr(Z,!0);const ft=et&&B.type!=="foreignObject";if(ct?_(N.dynamicChildren,ct,dt,Z,X,ft,gt):vt||Tt(N,B,dt,null,Z,X,ft,gt,!1),pt>0){if(pt&16)I(dt,B,Ct,Pt,Z,X,et);else if(pt&2&&Ct.class!==Pt.class&&r(dt,"class",null,Pt.class,et),pt&4&&r(dt,"style",Ct.style,Pt.style,et),pt&8){const xt=B.dynamicProps;for(let kt=0;kt<xt.length;kt++){const $t=xt[kt],Jt=Ct[$t],Pe=Pt[$t];(Pe!==Jt||$t==="value")&&r(dt,$t,Jt,Pe,et,N.children,Z,X,Mt)}}pt&1&&N.children!==B.children&&u(dt,B.children)}else!vt&&ct==null&&I(dt,B,Ct,Pt,Z,X,et);((zt=Pt.onVnodeUpdated)||Dt)&&Yn(()=>{zt&&Ui(zt,Z,B,N),Dt&&dr(B,N,Z,"updated")},X)},_=(N,B,Z,X,et,gt,vt)=>{for(let dt=0;dt<B.length;dt++){const pt=N[dt],ct=B[dt],Dt=pt.el&&(pt.type===Ze||!pr(pt,ct)||pt.shapeFlag&(6|64))?h(pt.el):Z;w(pt,ct,Dt,null,X,et,gt,vt,!0)}},I=(N,B,Z,X,et,gt,vt)=>{if(Z!==X){for(const dt in X){if(Jl(dt))continue;const pt=X[dt],ct=Z[dt];pt!==ct&&dt!=="value"&&r(N,dt,ct,pt,vt,B.children,et,gt,Mt)}if(Z!==Ne)for(const dt in Z)!Jl(dt)&&!(dt in X)&&r(N,dt,Z[dt],null,vt,B.children,et,gt,Mt);"value"in X&&r(N,"value",Z.value,X.value)}},Y=(N,B,Z,X,et,gt,vt,dt,pt)=>{const ct=B.el=N?N.el:a(""),Dt=B.anchor=N?N.anchor:a("");let{patchFlag:Ct,dynamicChildren:Pt,slotScopeIds:zt}=B;zt&&(dt=dt?dt.concat(zt):zt),N==null?(i(ct,Z,X),i(Dt,Z,X),F(B.children,Z,Dt,et,gt,vt,dt,pt)):Ct>0&&Ct&64&&Pt&&N.dynamicChildren?(_(N.dynamicChildren,Pt,Z,et,gt,vt,dt),(B.key!=null||et&&B===et.subTree)&&Jh(N,B,!0)):Tt(N,B,Z,Dt,et,gt,vt,dt,pt)},nt=(N,B,Z,X,et,gt,vt,dt,pt)=>{B.slotScopeIds=dt,N==null?B.shapeFlag&512?et.ctx.activate(B,Z,X,vt,pt):G(B,Z,X,et,gt,vt,pt):q(N,B,pt)},G=(N,B,Z,X,et,gt,vt)=>{const dt=N.component=c3(N,X,et);if(hc(N)&&(dt.ctx.renderer=Ae),u3(dt),dt.asyncDep){if(et&&et.registerDep(dt,Q),!N.el){const pt=dt.subTree=ue(ci);E(null,pt,B,Z)}return}Q(dt,N,B,Z,et,gt,vt)},q=(N,B,Z)=>{const X=B.component=N.component;if(Mx(N,B,Z))if(X.asyncDep&&!X.asyncResolved){st(X,B,Z);return}else X.next=B,E3(X.update),X.update();else B.component=N.component,B.el=N.el,X.vnode=B},Q=(N,B,Z,X,et,gt,vt)=>{const dt=()=>{if(N.isMounted){let{next:Dt,bu:Ct,u:Pt,parent:zt,vnode:ft}=N,xt=Dt,kt;fr(N,!1),Dt?(Dt.el=ft.el,st(N,Dt,vt)):Dt=ft,Ct&&tc(Ct),(kt=Dt.props&&Dt.props.onVnodeBeforeUpdate)&&Ui(kt,zt,Dt,ft),fr(N,!0);const $t=zh(N),Jt=N.subTree;N.subTree=$t,w(Jt,$t,h(Jt.el),qt(Jt),N,et,gt),Dt.el=$t.el,xt===null&&Tx(N,$t.el),Pt&&Yn(Pt,et),(kt=Dt.props&&Dt.props.onVnodeUpdated)&&Yn(()=>Ui(kt,zt,Dt,ft),et)}else{let Dt;const{el:Ct,props:Pt}=B,{bm:zt,m:ft,parent:xt}=N,kt=Gh(B);if(fr(N,!1),zt&&tc(zt),!kt&&(Dt=Pt&&Pt.onVnodeBeforeMount)&&Ui(Dt,xt,B),fr(N,!0),Ct&&ni){const $t=()=>{N.subTree=zh(N),ni(Ct,N.subTree,N,et,null)};kt?B.type.__asyncLoader().then(()=>!N.isUnmounted&&$t()):$t()}else{const $t=N.subTree=zh(N);w(null,$t,Z,X,N,et,gt),B.el=$t.el}if(ft&&Yn(ft,et),!kt&&(Dt=Pt&&Pt.onVnodeMounted)){const $t=B;Yn(()=>Ui(Dt,xt,$t),et)}B.shapeFlag&256&&N.a&&Yn(N.a,et),N.isMounted=!0,B=Z=X=null}},pt=N.effect=new $h(dt,()=>G2(N.update),N.scope),ct=N.update=pt.run.bind(pt);ct.id=N.uid,fr(N,!0),ct()},st=(N,B,Z)=>{B.component=N;const X=N.vnode.props;N.vnode=B,N.next=null,Gx(N,B.props,X,Z),qx(N,B.children,Z),cr(),ld(void 0,N.update),Os()},Tt=(N,B,Z,X,et,gt,vt,dt,pt=!1)=>{const ct=N&&N.children,Dt=N?N.shapeFlag:0,Ct=B.children,{patchFlag:Pt,shapeFlag:zt}=B;if(Pt>0){if(Pt&128){ht(ct,Ct,Z,X,et,gt,vt,dt,pt);return}else if(Pt&256){Ut(ct,Ct,Z,X,et,gt,vt,dt,pt);return}}zt&8?(Dt&16&&Mt(ct,et,gt),Ct!==ct&&u(Z,Ct)):Dt&16?zt&16?ht(ct,Ct,Z,X,et,gt,vt,dt,pt):Mt(ct,et,gt,!0):(Dt&8&&u(Z,""),zt&16&&F(Ct,Z,X,et,gt,vt,dt,pt))},Ut=(N,B,Z,X,et,gt,vt,dt,pt)=>{N=N||eo,B=B||eo;const ct=N.length,Dt=B.length,Ct=Math.min(ct,Dt);let Pt;for(Pt=0;Pt<Ct;Pt++){const zt=B[Pt]=pt?$s(B[Pt]):Wi(B[Pt]);w(N[Pt],zt,Z,null,et,gt,vt,dt,pt)}ct>Dt?Mt(N,et,gt,!0,!1,Ct):F(B,Z,X,et,gt,vt,dt,pt,Ct)},ht=(N,B,Z,X,et,gt,vt,dt,pt)=>{let ct=0;const Dt=B.length;let Ct=N.length-1,Pt=Dt-1;for(;ct<=Ct&&ct<=Pt;){const zt=N[ct],ft=B[ct]=pt?$s(B[ct]):Wi(B[ct]);if(pr(zt,ft))w(zt,ft,Z,null,et,gt,vt,dt,pt);else break;ct++}for(;ct<=Ct&&ct<=Pt;){const zt=N[Ct],ft=B[Pt]=pt?$s(B[Pt]):Wi(B[Pt]);if(pr(zt,ft))w(zt,ft,Z,null,et,gt,vt,dt,pt);else break;Ct--,Pt--}if(ct>Ct){if(ct<=Pt){const zt=Pt+1,ft=zt<Dt?B[zt].el:X;for(;ct<=Pt;)w(null,B[ct]=pt?$s(B[ct]):Wi(B[ct]),Z,ft,et,gt,vt,dt,pt),ct++}}else if(ct>Pt)for(;ct<=Ct;)Ft(N[ct],et,gt,!0),ct++;else{const zt=ct,ft=ct,xt=new Map;for(ct=ft;ct<=Pt;ct++){const xe=B[ct]=pt?$s(B[ct]):Wi(B[ct]);xe.key!=null&&xt.set(xe.key,ct)}let kt,$t=0;const Jt=Pt-ft+1;let Pe=!1,nn=0;const rn=new Array(Jt);for(ct=0;ct<Jt;ct++)rn[ct]=0;for(ct=zt;ct<=Ct;ct++){const xe=N[ct];if($t>=Jt){Ft(xe,et,gt,!0);continue}let $e;if(xe.key!=null)$e=xt.get(xe.key);else for(kt=ft;kt<=Pt;kt++)if(rn[kt-ft]===0&&pr(xe,B[kt])){$e=kt;break}$e===void 0?Ft(xe,et,gt,!0):(rn[$e-ft]=ct+1,$e>=nn?nn=$e:Pe=!0,w(xe,B[$e],Z,null,et,gt,vt,dt,pt),$t++)}const on=Pe?Zx(rn):eo;for(kt=on.length-1,ct=Jt-1;ct>=0;ct--){const xe=ft+ct,$e=B[xe],Es=xe+1<Dt?B[xe+1].el:X;rn[ct]===0?w(null,$e,Z,Es,et,gt,vt,dt,pt):Pe&&(kt<0||ct!==on[kt]?Nt($e,Z,Es,2):kt--)}}},Nt=(N,B,Z,X,et=null)=>{const{el:gt,type:vt,transition:dt,children:pt,shapeFlag:ct}=N;if(ct&6){Nt(N.component.subTree,B,Z,X);return}if(ct&128){N.suspense.move(B,Z,X);return}if(ct&64){vt.move(N,B,Z,Ae);return}if(vt===Ze){i(gt,B,Z);for(let Ct=0;Ct<pt.length;Ct++)Nt(pt[Ct],B,Z,X);i(N.anchor,B,Z);return}if(vt===ed){T(N,B,Z);return}if(X!==2&&ct&1&&dt)if(X===0)dt.beforeEnter(gt),i(gt,B,Z),Yn(()=>dt.enter(gt),et);else{const{leave:Ct,delayLeave:Pt,afterLeave:zt}=dt,ft=()=>i(gt,B,Z),xt=()=>{Ct(gt,()=>{ft(),zt&&zt()})};Pt?Pt(gt,ft,xt):xt()}else i(gt,B,Z)},Ft=(N,B,Z,X=!1,et=!1)=>{const{type:gt,props:vt,ref:dt,children:pt,dynamicChildren:ct,shapeFlag:Dt,patchFlag:Ct,dirs:Pt}=N;if(dt!=null&&Kh(dt,null,Z,N,!0),Dt&256){B.ctx.deactivate(N);return}const zt=Dt&1&&Pt,ft=!Gh(N);let xt;if(ft&&(xt=vt&&vt.onVnodeBeforeUnmount)&&Ui(xt,B,N),Dt&6)ie(N.component,Z,X);else{if(Dt&128){N.suspense.unmount(Z,X);return}zt&&dr(N,null,B,"beforeUnmount"),Dt&64?N.type.remove(N,B,Z,et,Ae,X):ct&&(gt!==Ze||Ct>0&&Ct&64)?Mt(ct,B,Z,!1,!0):(gt===Ze&&Ct&(128|256)||!et&&Dt&16)&&Mt(pt,B,Z),X&&Ot(N)}(ft&&(xt=vt&&vt.onVnodeUnmounted)||zt)&&Yn(()=>{xt&&Ui(xt,B,N),zt&&dr(N,null,B,"unmounted")},Z)},Ot=N=>{const{type:B,el:Z,anchor:X,transition:et}=N;if(B===Ze){jt(Z,X);return}if(B===ed){$(N);return}const gt=()=>{s(Z),et&&!et.persisted&&et.afterLeave&&et.afterLeave()};if(N.shapeFlag&1&&et&&!et.persisted){const{leave:vt,delayLeave:dt}=et,pt=()=>vt(Z,gt);dt?dt(N.el,gt,pt):pt()}else gt()},jt=(N,B)=>{let Z;for(;N!==B;)Z=f(N),s(N),N=Z;s(B)},ie=(N,B,Z)=>{const{bum:X,scope:et,update:gt,subTree:vt,um:dt}=N;X&&tc(X),et.stop(),gt&&(gt.active=!1,Ft(vt,N,B,Z)),dt&&Yn(dt,B),Yn(()=>{N.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},Mt=(N,B,Z,X=!1,et=!1,gt=0)=>{for(let vt=gt;vt<N.length;vt++)Ft(N[vt],B,Z,X,et)},qt=N=>N.shapeFlag&6?qt(N.component.subTree):N.shapeFlag&128?N.suspense.next():f(N.anchor||N.el),ye=(N,B,Z)=>{N==null?B._vnode&&Ft(B._vnode,null,null,!0):w(B._vnode||null,N,B,null,null,null,Z),q2(),B._vnode=N},Ae={p:w,um:Ft,m:Nt,r:Ot,mt:G,mc:F,pc:Tt,pbc:_,n:qt,o:n};let Gn,ni;return t&&([Gn,ni]=t(Ae)),{render:ye,hydrate:Gn,createApp:Yx(ye,Gn)}}function fr({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function Jh(n,t,e=!1){const i=n.children,s=t.children;if(Gt(i)&&Gt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=$s(s[r]),a.el=o.el),e||Jh(o,a))}}function Zx(n){const t=n.slice(),e=[0];let i,s,r,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(s=e[e.length-1],n[s]<c){t[i]=s,e.push(i);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,n[e[a]]<c?r=a+1:o=a;c<n[e[r]]&&(r>0&&(t[i]=e[r-1]),e[r]=i)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}const Qx=n=>n.__isTeleport,Ea=n=>n&&(n.disabled||n.disabled===""),T2=n=>typeof SVGElement!="undefined"&&n instanceof SVGElement,Zh=(n,t)=>{const e=n&&n.to;return Ie(e)?t?t(e):null:e},t3={__isTeleport:!0,process(n,t,e,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:g,querySelector:b,createText:y,createComment:w}}=c,C=Ea(t.props);let{shapeFlag:E,children:S,dynamicChildren:T}=t;if(n==null){const $=t.el=y(""),p=t.anchor=y("");g($,e,i),g(p,e,i);const A=t.target=Zh(t.props,b),k=t.targetAnchor=y("");A&&(g(k,A),o=o||T2(A));const F=(H,_)=>{E&16&&u(S,H,_,s,r,o,a,l)};C?F(e,p):A&&F(A,k)}else{t.el=n.el;const $=t.anchor=n.anchor,p=t.target=n.target,A=t.targetAnchor=n.targetAnchor,k=Ea(n.props),F=k?e:p,H=k?$:A;if(o=o||T2(p),T?(f(n.dynamicChildren,T,F,s,r,o,a),Jh(n,t,!0)):l||h(n,t,F,H,s,r,o,a,!1),C)k||gc(t,e,$,c,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const _=t.target=Zh(t.props,b);_&&gc(t,_,null,c,0)}else k&&gc(t,p,A,c,1)}},remove(n,t,e,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=n;if(h&&r(u),(o||!Ea(f))&&(r(c),a&16))for(let g=0;g<l.length;g++){const b=l[g];s(b,t,e,!0,!!b.dynamicChildren)}},move:gc,hydrate:e3};function gc(n,t,e,{o:{insert:i},m:s},r=2){r===0&&i(n.targetAnchor,t,e);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=n,h=r===2;if(h&&i(o,t,e),(!h||Ea(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],t,e,2);h&&i(a,t,e)}function e3(n,t,e,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=Zh(t.props,l);if(u){const h=u._lpa||u.firstChild;t.shapeFlag&16&&(Ea(t.props)?(t.anchor=c(o(n),t,a(n),e,i,s,r),t.targetAnchor=h):(t.anchor=o(n),t.targetAnchor=c(h,t,u,e,i,s,r)),u._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const O2=t3,Qh="components",n3="directives";function We(n,t){return td(Qh,n,!0,t)||n}const P2=Symbol();function oo(n){return Ie(n)?td(Qh,n,!1)||n:n||P2}function pc(n){return td(n3,n)}function td(n,t,e=!0,i=!1){const s=li||xn;if(s){const r=s.type;if(n===Qh){const a=z2(r);if(a&&(a===t||a===Di(t)||a===Ql(Di(t))))return r}const o=$2(s[n]||r[n],t)||$2(s.appContext[n],t);return!o&&i?r:o}}function $2(n,t){return n&&(n[t]||n[Di(t)]||n[Ql(Di(t))])}const Ze=Symbol(void 0),mc=Symbol(void 0),ci=Symbol(void 0),ed=Symbol(void 0),Aa=[];let gr=null;function mt(n=!1){Aa.push(gr=n?null:[])}function i3(){Aa.pop(),gr=Aa[Aa.length-1]||null}let bc=1;function D2(n){bc+=n}function k2(n){return n.dynamicChildren=bc>0?gr||eo:null,i3(),bc>0&&gr&&gr.push(n),n}function Lt(n,t,e,i,s,r){return k2(ne(n,t,e,i,s,r,!0))}function ze(n,t,e,i,s){return k2(ue(n,t,e,i,s,!0))}function Ma(n){return n?n.__v_isVNode===!0:!1}function pr(n,t){return n.type===t.type&&n.key===t.key}const yc="__vInternal",N2=({key:n})=>n!=null?n:null,vc=({ref:n,ref_key:t,ref_for:e})=>n!=null?Ie(n)||cn(n)||ee(n)?{i:li,r:n,k:t,f:!!e}:n:null;function ne(n,t=null,e=null,i=0,s=null,r=n===Ze?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&N2(t),ref:t&&vc(t),scopeId:s2,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(nd(l,e),r&128&&n.normalize(l)):e&&(l.shapeFlag|=Ie(e)?8:16),bc>0&&!o&&gr&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&gr.push(l),l}const ue=s3;function s3(n,t=null,e=null,i=0,s=null,r=!1){if((!n||n===P2)&&(n=ci),Ma(n)){const a=mr(n,t,!0);return e&&nd(a,e),a}if(m3(n)&&(n=n.__vccOpts),t){t=r3(t);let{class:a,style:l}=t;a&&!Ie(a)&&(t.class=ln(a)),je(l)&&(Kp(l)&&!Gt(l)&&(l=Tn({},l)),t.style=Me(l))}const o=Ie(n)?1:Ox(n)?128:Qx(n)?64:je(n)?4:ee(n)?2:0;return ne(n,t,e,i,s,o,r,!0)}function r3(n){return n?Kp(n)||yc in n?Tn({},n):n:null}function mr(n,t,e=!1){const{props:i,ref:s,patchFlag:r,children:o}=n,a=t?Cc(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&N2(a),ref:t&&t.ref?e&&s?Gt(s)?s.concat(vc(t)):[s,vc(t)]:vc(t):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Ze?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&mr(n.ssContent),ssFallback:n.ssFallback&&mr(n.ssFallback),el:n.el,anchor:n.anchor}}function Ta(n=" ",t=0){return ue(mc,null,n,t)}function Zt(n="",t=!1){return t?(mt(),ze(ci,null,n)):ue(ci,null,n)}function Wi(n){return n==null||typeof n=="boolean"?ue(ci):Gt(n)?ue(Ze,null,n.slice()):typeof n=="object"?$s(n):ue(mc,null,String(n))}function $s(n){return n.el===null||n.memo?n:mr(n)}function nd(n,t){let e=0;const{shapeFlag:i}=n;if(t==null)t=null;else if(Gt(t))e=16;else if(typeof t=="object")if(i&(1|64)){const s=t.default;s&&(s._c&&(s._d=!1),nd(n,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(yc in t)?t._ctx=li:s===3&&li&&(li.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:li},e=32):(t=String(t),i&64?(e=16,t=[Ta(t)]):e=8);n.children=t,n.shapeFlag|=e}function Cc(...n){const t={};for(let e=0;e<n.length;e++){const i=n[e];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ln([t.class,i.class]));else if(s==="style")t.style=Me([t.style,i.style]);else if(Yl(s)){const r=t[s],o=i[s];r!==o&&!(Gt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Ui(n,t,e,i=null){mi(n,t,7,[e,i])}function L2(n,t,e,i){let s;const r=e&&e[i];if(Gt(n)||Ie(n)){s=new Array(n.length);for(let o=0,a=n.length;o<a;o++)s[o]=t(n[o],o,void 0,r&&r[o])}else if(typeof n=="number"){s=new Array(n);for(let o=0;o<n;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(je(n))if(n[Symbol.iterator])s=Array.from(n,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(n);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(n[c],c,a,r&&r[a])}}else s=[];return e&&(e[i]=s),s}function hn(n,t,e={},i,s){if(li.isCE)return ue("slot",t==="default"?null:{name:t},i&&i());let r=n[t];r&&r._c&&(r._d=!1),mt();const o=r&&F2(r(e)),a=ze(Ze,{key:e.key||`_${t}`},o||(i?i():[]),o&&n._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function F2(n){return n.some(t=>Ma(t)?!(t.type===ci||t.type===Ze&&!F2(t.children)):!0)?n:null}const id=n=>n?I2(n)?sd(n)||n.proxy:id(n.parent):null,wc=Tn(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>id(n.parent),$root:n=>id(n.root),$emit:n=>n.emit,$options:n=>p2(n),$forceUpdate:n=>()=>G2(n.update),$nextTick:n=>On.bind(n.proxy),$watch:n=>T3.bind(n)}),o3={get({_:n},t){const{ctx:e,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=n;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return s[t];case 4:return e[t];case 3:return r[t]}else{if(i!==Ne&&ce(i,t))return o[t]=1,i[t];if(s!==Ne&&ce(s,t))return o[t]=2,s[t];if((c=n.propsOptions[0])&&ce(c,t))return o[t]=3,r[t];if(e!==Ne&&ce(e,t))return o[t]=4,e[t];Uh&&(o[t]=0)}}const u=wc[t];let h,f;if(u)return t==="$attrs"&&ai(n,"get",t),u(n);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==Ne&&ce(e,t))return o[t]=4,e[t];if(f=l.config.globalProperties,ce(f,t))return f[t]},set({_:n},t,e){const{data:i,setupState:s,ctx:r}=n;if(s!==Ne&&ce(s,t))s[t]=e;else if(i!==Ne&&ce(i,t))i[t]=e;else if(ce(n.props,t))return!1;return t[0]==="$"&&t.slice(1)in n?!1:(r[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!e[o]||n!==Ne&&ce(n,o)||t!==Ne&&ce(t,o)||(a=r[0])&&ce(a,o)||ce(i,o)||ce(wc,o)||ce(s.config.globalProperties,o)}},a3=M2();let l3=0;function c3(n,t,e){const i=n.type,s=(t?t.appContext:n.appContext)||a3,r={uid:l3++,vnode:n,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:y2(i,s),emitsOptions:i2(i,s),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:i.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Sx.bind(null,r),n.ce&&n.ce(r),r}let xn=null;const Oe=()=>xn||li,ao=n=>{xn=n,n.scope.on()},br=()=>{xn&&xn.scope.off(),xn=null};function I2(n){return n.vnode.shapeFlag&4}let xc=!1;function u3(n,t=!1){xc=t;const{props:e,children:i}=n.vnode,s=I2(n);Vx(n,e,s,t),Ux(n,i);const r=s?h3(n,t):void 0;return xc=!1,r}function h3(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=Jp(new Proxy(n.ctx,o3));const{setup:i}=e;if(i){const s=n.setupContext=i.length>1?f3(n):null;ao(n),cr();const r=hs(i,n,0,[n.props,s]);if(Os(),br(),Mp(r)){if(r.then(br,br),t)return r.then(o=>{_2(n,o,t)}).catch(o=>{Sc(o,n,0)});n.asyncDep=r}else _2(n,r,t)}else j2(n,t)}function _2(n,t,e){ee(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:je(t)&&(n.setupState=e2(t)),j2(n,e)}let R2;function j2(n,t,e){const i=n.type;if(!n.render){if(!t&&R2&&!i.render){const s=i.template;if(s){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Tn(Tn({isCustomElement:r,delimiters:a},o),l);i.render=R2(s,c)}}n.render=i.render||Fn}ao(n),cr(),Rx(n),Os(),br()}function d3(n){return new Proxy(n.attrs,{get(t,e){return ai(n,"get","$attrs"),t[e]}})}function f3(n){const t=i=>{n.exposed=i||{}};let e;return{get attrs(){return e||(e=d3(n))},slots:n.slots,emit:n.emit,expose:t}}function sd(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(e2(Jp(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in wc)return wc[e](n)}}))}const g3=/(?:^|[-_])(\w)/g,p3=n=>n.replace(g3,t=>t.toUpperCase()).replace(/[-_]/g,"");function z2(n){return ee(n)&&n.displayName||n.name}function B2(n,t,e=!1){let i=z2(t);if(!i&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&n&&n.parent){const s=r=>{for(const o in r)if(r[o]===t)return o};i=s(n.components||n.parent.type.components)||s(n.appContext.components)}return i?p3(i):e?"App":"Anonymous"}function m3(n){return ee(n)&&"__vccOpts"in n}const Oa=[];function b3(n,...t){cr();const e=Oa.length?Oa[Oa.length-1].component:null,i=e&&e.appContext.config.warnHandler,s=y3();if(i)hs(i,e,11,[n+t.join(""),e&&e.proxy,s.map(({vnode:r})=>`at <${B2(e,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${n}`,...t];s.length&&r.push(`
`,...v3(s)),console.warn(...r)}Os()}function y3(){let n=Oa[Oa.length-1];if(!n)return[];const t=[];for(;n;){const e=t[0];e&&e.vnode===n?e.recurseCount++:t.push({vnode:n,recurseCount:0});const i=n.component&&n.component.parent;n=i&&i.vnode}return t}function v3(n){const t=[];return n.forEach((e,i)=>{t.push(...i===0?[]:[`
`],...C3(e))}),t}function C3({vnode:n,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",i=n.component?n.component.parent==null:!1,s=` at <${B2(n.component,n.type,i)}`,r=">"+e;return n.props?[s,...w3(n.props),r]:[s+r]}function w3(n){const t=[],e=Object.keys(n);return e.slice(0,3).forEach(i=>{t.push(...H2(i,n[i]))}),e.length>3&&t.push(" ..."),t}function H2(n,t,e){return Ie(t)?(t=JSON.stringify(t),e?t:[`${n}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${n}=${t}`]:cn(t)?(t=H2(n,be(t.value),!0),e?t:[`${n}=Ref<`,t,">"]):ee(t)?[`${n}=fn${t.name?`<${t.name}>`:""}`]:(t=be(t),e?t:[`${n}=`,t])}function hs(n,t,e,i){let s;try{s=i?n(...i):n()}catch(r){Sc(r,t,e)}return s}function mi(n,t,e,i){if(ee(n)){const r=hs(n,t,e,i);return r&&Mp(r)&&r.catch(o=>{Sc(o,t,e)}),r}const s=[];for(let r=0;r<n.length;r++)s.push(mi(n[r],t,e,i));return s}function Sc(n,t,e,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=e;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){hs(l,null,10,[n,o,a]);return}}x3(n,e,s,i)}function x3(n,t,e,i=!0){console.error(n)}let Ec=!1,rd=!1;const ui=[];let ds=0;const Pa=[];let $a=null,lo=0;const Da=[];let Ds=null,co=0;const V2=Promise.resolve();let od=null,ad=null;function On(n){const t=od||V2;return n?t.then(this?n.bind(this):n):t}function S3(n){let t=ds+1,e=ui.length;for(;t<e;){const i=t+e>>>1;ka(ui[i])<n?t=i+1:e=i}return t}function G2(n){(!ui.length||!ui.includes(n,Ec&&n.allowRecurse?ds+1:ds))&&n!==ad&&(n.id==null?ui.push(n):ui.splice(S3(n.id),0,n),W2())}function W2(){!Ec&&!rd&&(rd=!0,od=V2.then(X2))}function E3(n){const t=ui.indexOf(n);t>ds&&ui.splice(t,1)}function U2(n,t,e,i){Gt(n)?e.push(...n):(!t||!t.includes(n,n.allowRecurse?i+1:i))&&e.push(n),W2()}function A3(n){U2(n,$a,Pa,lo)}function M3(n){U2(n,Ds,Da,co)}function ld(n,t=null){if(Pa.length){for(ad=t,$a=[...new Set(Pa)],Pa.length=0,lo=0;lo<$a.length;lo++)$a[lo]();$a=null,lo=0,ad=null,ld(n,t)}}function q2(n){if(Da.length){const t=[...new Set(Da)];if(Da.length=0,Ds){Ds.push(...t);return}for(Ds=t,Ds.sort((e,i)=>ka(e)-ka(i)),co=0;co<Ds.length;co++)Ds[co]();Ds=null,co=0}}const ka=n=>n.id==null?1/0:n.id;function X2(n){rd=!1,Ec=!0,ld(n),ui.sort((e,i)=>ka(e)-ka(i));const t=Fn;try{for(ds=0;ds<ui.length;ds++){const e=ui[ds];e&&e.active!==!1&&hs(e,null,14)}}finally{ds=0,ui.length=0,q2(),Ec=!1,od=null,(ui.length||Pa.length||Da.length)&&X2(n)}}function Na(n,t){return cd(n,null,t)}const Y2={};function ve(n,t,e){return cd(n,t,e)}function cd(n,t,{immediate:e,deep:i,flush:s,onTrack:r,onTrigger:o}=Ne){const a=xn;let l,c=!1,u=!1;if(cn(n)?(l=()=>n.value,c=!!n._shallow):so(n)?(l=()=>n,i=!0):Gt(n)?(u=!0,c=n.some(so),l=()=>n.map(C=>{if(cn(C))return C.value;if(so(C))return yr(C);if(ee(C))return hs(C,a,2)})):ee(n)?t?l=()=>hs(n,a,2):l=()=>{if(!(a&&a.isUnmounted))return h&&h(),mi(n,a,3,[f])}:l=Fn,t&&i){const C=l;l=()=>yr(C())}let h,f=C=>{h=w.onStop=()=>{hs(C,a,4)}};if(xc)return f=Fn,t?e&&mi(t,a,3,[l(),u?[]:void 0,f]):l(),Fn;let g=u?[]:Y2;const b=()=>{if(!!w.active)if(t){const C=w.run();(i||c||(u?C.some((E,S)=>ba(E,g[S])):ba(C,g)))&&(h&&h(),mi(t,a,3,[C,g===Y2?void 0:g,f]),g=C)}else w.run()};b.allowRecurse=!!t;let y;s==="sync"?y=b:s==="post"?y=()=>Yn(b,a&&a.suspense):y=()=>{!a||a.isMounted?A3(b):b()};const w=new $h(l,y);return t?e?b():g=w.run():s==="post"?Yn(w.run.bind(w),a&&a.suspense):w.run(),()=>{w.stop(),a&&a.scope&&xh(a.scope.effects,w)}}function T3(n,t,e){const i=this.proxy,s=Ie(n)?n.includes(".")?K2(i,n):()=>i[n]:n.bind(i,i);let r;ee(t)?r=t:(r=t.handler,e=t);const o=xn;ao(this);const a=cd(s,r.bind(i),e);return o?ao(o):br(),a}function K2(n,t){const e=t.split(".");return()=>{let i=n;for(let s=0;s<e.length&&i;s++)i=i[e[s]];return i}}function yr(n,t){if(!je(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),cn(n))yr(n.value,t);else if(Gt(n))for(let e=0;e<n.length;e++)yr(n[e],t);else if(Kl(n)||no(n))n.forEach(e=>{yr(e,t)});else if(Pp(n))for(const e in n)yr(n[e],t);return n}function Xt(n,t,e){const i=arguments.length;return i===2?je(t)&&!Gt(t)?Ma(t)?ue(n,null,[t]):ue(n,t):ue(n,null,t):(i>3?e=Array.prototype.slice.call(arguments,2):i===3&&Ma(e)&&(e=[e]),ue(n,t,e))}const O3="3.2.26",P3="http://www.w3.org/2000/svg",uo=typeof document!="undefined"?document:null,J2=new Map,$3={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,i)=>{const s=t?uo.createElementNS(P3,n):uo.createElement(n,e?{is:e}:void 0);return n==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:n=>uo.createTextNode(n),createComment:n=>uo.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>uo.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},cloneNode(n){const t=n.cloneNode(!0);return"_value"in n&&(t._value=n._value),t},insertStaticContent(n,t,e,i){const s=e?e.previousSibling:t.lastChild;let r=J2.get(n);if(!r){const o=uo.createElement("template");if(o.innerHTML=i?`<svg>${n}</svg>`:n,r=o.content,i){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}J2.set(n,r)}return t.insertBefore(r.cloneNode(!0),e),[s?s.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function D3(n,t,e){const i=n._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}function k3(n,t,e){const i=n.style,s=Ie(e);if(e&&!s){for(const r in e)ud(i,r,e[r]);if(t&&!Ie(t))for(const r in t)e[r]==null&&ud(i,r,"")}else{const r=i.display;s?t!==e&&(i.cssText=e):t&&n.removeAttribute("style"),"_vod"in n&&(i.display=r)}}const Z2=/\s*!important$/;function ud(n,t,e){if(Gt(e))e.forEach(i=>ud(n,t,i));else if(t.startsWith("--"))n.setProperty(t,e);else{const i=N3(n,t);Z2.test(e)?n.setProperty(or(i),e.replace(Z2,""),"important"):n[i]=e}}const Q2=["Webkit","Moz","ms"],hd={};function N3(n,t){const e=hd[t];if(e)return e;let i=Di(t);if(i!=="filter"&&i in n)return hd[t]=i;i=Ql(i);for(let s=0;s<Q2.length;s++){const r=Q2[s]+i;if(r in n)return hd[t]=r}return t}const t0="http://www.w3.org/1999/xlink";function L3(n,t,e,i,s){if(i&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(t0,t.slice(6,t.length)):n.setAttributeNS(t0,t,e);else{const r=Dw(t);e==null||r&&!xp(e)?n.removeAttribute(t):n.setAttribute(t,r?"":e)}}function F3(n,t,e,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),n[t]=e==null?"":e;return}if(t==="value"&&n.tagName!=="PROGRESS"&&!n.tagName.includes("-")){n._value=e;const a=e==null?"":e;(n.value!==a||n.tagName==="OPTION")&&(n.value=a),e==null&&n.removeAttribute(t);return}if(e===""||e==null){const a=typeof n[t];if(a==="boolean"){n[t]=xp(e);return}else if(e==null&&a==="string"){n[t]="",n.removeAttribute(t);return}else if(a==="number"){try{n[t]=0}catch{}n.removeAttribute(t);return}}try{n[t]=e}catch{}}let Ac=Date.now,e0=!1;if(typeof window!="undefined"){Ac()>document.createEvent("Event").timeStamp&&(Ac=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);e0=!!(n&&Number(n[1])<=53)}let dd=0;const I3=Promise.resolve(),_3=()=>{dd=0},R3=()=>dd||(I3.then(_3),dd=Ac());function n0(n,t,e,i){n.addEventListener(t,e,i)}function j3(n,t,e,i){n.removeEventListener(t,e,i)}function z3(n,t,e,i,s=null){const r=n._vei||(n._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=B3(t);if(i){const c=r[t]=H3(i,s);n0(n,a,c,l)}else o&&(j3(n,a,o,l),r[t]=void 0)}}const i0=/(?:Once|Passive|Capture)$/;function B3(n){let t;if(i0.test(n)){t={};let e;for(;e=n.match(i0);)n=n.slice(0,n.length-e[0].length),t[e[0].toLowerCase()]=!0}return[or(n.slice(2)),t]}function H3(n,t){const e=i=>{const s=i.timeStamp||Ac();(e0||s>=e.attached-1)&&mi(V3(i,e.value),t,5,[i])};return e.value=n,e.attached=R3(),e}function V3(n,t){if(Gt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(i=>s=>!s._stopped&&i(s))}else return t}const s0=/^on[a-z]/,G3=(n,t,e,i,s=!1,r,o,a,l)=>{t==="class"?D3(n,i,s):t==="style"?k3(n,e,i):Yl(t)?wh(t)||z3(n,t,e,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):W3(n,t,i,s))?F3(n,t,i,r,o,a,l):(t==="true-value"?n._trueValue=i:t==="false-value"&&(n._falseValue=i),L3(n,t,i,s))};function W3(n,t,e,i){return i?!!(t==="innerHTML"||t==="textContent"||t in n&&s0.test(t)&&ee(e)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA"||s0.test(t)&&Ie(e)?!1:t in n}const ks="transition",La="animation",Fa=(n,{slots:t})=>Xt(o2,U3(n),t);Fa.displayName="Transition";const r0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Fa.props=Tn({},o2.props,r0);const vr=(n,t=[])=>{Gt(n)?n.forEach(e=>e(...t)):n&&n(...t)},o0=n=>n?Gt(n)?n.some(t=>t.length>1):n.length>1:!1;function U3(n){const t={};for(const I in n)I in r0||(t[I]=n[I]);if(n.css===!1)return t;const{name:e="v",type:i,duration:s,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:g=`${e}-leave-to`}=n,b=q3(s),y=b&&b[0],w=b&&b[1],{onBeforeEnter:C,onEnter:E,onEnterCancelled:S,onLeave:T,onLeaveCancelled:$,onBeforeAppear:p=C,onAppear:A=E,onAppearCancelled:k=S}=t,F=(I,Y,nt)=>{ho(I,Y?u:a),ho(I,Y?c:o),nt&&nt()},H=(I,Y)=>{ho(I,g),ho(I,f),Y&&Y()},_=I=>(Y,nt)=>{const G=I?A:E,q=()=>F(Y,I,nt);vr(G,[Y,q]),a0(()=>{ho(Y,I?l:r),Ns(Y,I?u:a),o0(G)||l0(Y,i,y,q)})};return Tn(t,{onBeforeEnter(I){vr(C,[I]),Ns(I,r),Ns(I,o)},onBeforeAppear(I){vr(p,[I]),Ns(I,l),Ns(I,c)},onEnter:_(!1),onAppear:_(!0),onLeave(I,Y){const nt=()=>H(I,Y);Ns(I,h),K3(),Ns(I,f),a0(()=>{ho(I,h),Ns(I,g),o0(T)||l0(I,i,w,nt)}),vr(T,[I,nt])},onEnterCancelled(I){F(I,!1),vr(S,[I])},onAppearCancelled(I){F(I,!0),vr(k,[I])},onLeaveCancelled(I){H(I),vr($,[I])}})}function q3(n){if(n==null)return null;if(je(n))return[fd(n.enter),fd(n.leave)];{const t=fd(n);return[t,t]}}function fd(n){return $p(n)}function Ns(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n._vtc||(n._vtc=new Set)).add(t)}function ho(n,t){t.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const{_vtc:e}=n;e&&(e.delete(t),e.size||(n._vtc=void 0))}function a0(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let X3=0;function l0(n,t,e,i){const s=n._endId=++X3,r=()=>{s===n._endId&&i()};if(e)return setTimeout(r,e);const{type:o,timeout:a,propCount:l}=Y3(n,t);if(!o)return i();const c=o+"end";let u=0;const h=()=>{n.removeEventListener(c,f),r()},f=g=>{g.target===n&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),n.addEventListener(c,f)}function Y3(n,t){const e=window.getComputedStyle(n),i=b=>(e[b]||"").split(", "),s=i(ks+"Delay"),r=i(ks+"Duration"),o=c0(s,r),a=i(La+"Delay"),l=i(La+"Duration"),c=c0(a,l);let u=null,h=0,f=0;t===ks?o>0&&(u=ks,h=o,f=r.length):t===La?c>0&&(u=La,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?ks:La:null,f=u?u===ks?r.length:l.length:0);const g=u===ks&&/\b(transform|all)(,|$)/.test(e[ks+"Property"]);return{type:u,timeout:h,propCount:f,hasTransform:g}}function c0(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,i)=>u0(e)+u0(n[i])))}function u0(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function K3(){return document.body.offsetHeight}const h0=n=>{const t=n.props["onUpdate:modelValue"];return Gt(t)?e=>tc(t,e):t},Mc={deep:!0,created(n,t,e){n._assign=h0(e),n0(n,"change",()=>{const i=n._modelValue,s=J3(n),r=n.checked,o=n._assign;if(Gt(i)){const a=Sp(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Kl(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(f0(n,r))})},mounted:d0,beforeUpdate(n,t,e){n._assign=h0(e),d0(n,t,e)}};function d0(n,{value:t,oldValue:e},i){n._modelValue=t,Gt(t)?n.checked=Sp(t,i.props.value)>-1:Kl(t)?n.checked=t.has(i.props.value):t!==e&&(n.checked=Xl(t,f0(n,!0)))}function J3(n){return"_value"in n?n._value:n.value}function f0(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const Z3=["ctrl","shift","alt","meta"],Q3={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>Z3.some(e=>n[`${e}Key`]&&!t.includes(e))},Ia=(n,t)=>(e,...i)=>{for(let s=0;s<t.length;s++){const r=Q3[t[s]];if(r&&r(e,t))return}return n(e,...i)},tS={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tc=(n,t)=>e=>{if(!("key"in e))return;const i=or(e.key);if(t.some(s=>s===i||tS[s]===i))return n(e)},Ls={beforeMount(n,{value:t},{transition:e}){n._vod=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):_a(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:i}){!t!=!e&&(i?t?(i.beforeEnter(n),_a(n,!0),i.enter(n)):i.leave(n,()=>{_a(n,!1)}):_a(n,t))},beforeUnmount(n,{value:t}){_a(n,t)}};function _a(n,t){n.style.display=t?n._vod:"none"}const eS=Tn({patchProp:G3},$3);let g0;function nS(){return g0||(g0=Kx(eS))}const I9=(...n)=>{const t=nS().createApp(...n),{mount:e}=t;return t.mount=i=>{const s=iS(i);if(!s)return;const r=t._component;!ee(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function iS(n){return Ie(n)?document.querySelector(n):n}var sS=typeof global=="object"&&global&&global.Object===Object&&global,p0=sS,rS=typeof self=="object"&&self&&self.Object===Object&&self,oS=p0||rS||Function("return this")(),Ni=oS,aS=Ni.Symbol,bi=aS,m0=Object.prototype,lS=m0.hasOwnProperty,cS=m0.toString,Ra=bi?bi.toStringTag:void 0;function uS(n){var t=lS.call(n,Ra),e=n[Ra];try{n[Ra]=void 0;var i=!0}catch{}var s=cS.call(n);return i&&(t?n[Ra]=e:delete n[Ra]),s}var hS=Object.prototype,dS=hS.toString;function fS(n){return dS.call(n)}var gS="[object Null]",pS="[object Undefined]",b0=bi?bi.toStringTag:void 0;function fs(n){return n==null?n===void 0?pS:gS:b0&&b0 in Object(n)?uS(n):fS(n)}function yi(n){return n!=null&&typeof n=="object"}var mS="[object Symbol]";function gs(n){return typeof n=="symbol"||yi(n)&&fs(n)==mS}function fo(n,t){for(var e=-1,i=n==null?0:n.length,s=Array(i);++e<i;)s[e]=t(n[e],e,n);return s}var bS=Array.isArray,In=bS,yS=1/0,y0=bi?bi.prototype:void 0,v0=y0?y0.toString:void 0;function C0(n){if(typeof n=="string")return n;if(In(n))return fo(n,C0)+"";if(gs(n))return v0?v0.call(n):"";var t=n+"";return t=="0"&&1/n==-yS?"-0":t}var vS=/\s/;function CS(n){for(var t=n.length;t--&&vS.test(n.charAt(t)););return t}var wS=/^\s+/;function xS(n){return n&&n.slice(0,CS(n)+1).replace(wS,"")}function sn(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var w0=0/0,SS=/^[-+]0x[0-9a-f]+$/i,ES=/^0b[01]+$/i,AS=/^0o[0-7]+$/i,MS=parseInt;function ja(n){if(typeof n=="number")return n;if(gs(n))return w0;if(sn(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=sn(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=xS(n);var e=ES.test(n);return e||AS.test(n)?MS(n.slice(2),e?2:8):SS.test(n)?w0:+n}function za(n){return n}var TS="[object AsyncFunction]",OS="[object Function]",PS="[object GeneratorFunction]",$S="[object Proxy]";function gd(n){if(!sn(n))return!1;var t=fs(n);return t==OS||t==PS||t==TS||t==$S}var DS=Ni["__core-js_shared__"],pd=DS,x0=function(){var n=/[^.]+$/.exec(pd&&pd.keys&&pd.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function kS(n){return!!x0&&x0 in n}var NS=Function.prototype,LS=NS.toString;function Cr(n){if(n!=null){try{return LS.call(n)}catch{}try{return n+""}catch{}}return""}var FS=/[\\^$.*+?()[\]{}|]/g,IS=/^\[object .+?Constructor\]$/,_S=Function.prototype,RS=Object.prototype,jS=_S.toString,zS=RS.hasOwnProperty,BS=RegExp("^"+jS.call(zS).replace(FS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function HS(n){if(!sn(n)||kS(n))return!1;var t=gd(n)?BS:IS;return t.test(Cr(n))}function VS(n,t){return n==null?void 0:n[t]}function wr(n,t){var e=VS(n,t);return HS(e)?e:void 0}var GS=wr(Ni,"WeakMap"),md=GS,S0=Object.create,WS=function(){function n(){}return function(t){if(!sn(t))return{};if(S0)return S0(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),US=WS;function bd(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function qS(){}function E0(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}var XS=800,YS=16,KS=Date.now;function JS(n){var t=0,e=0;return function(){var i=KS(),s=YS-(i-e);if(e=i,s>0){if(++t>=XS)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function ZS(n){return function(){return n}}var QS=function(){try{var n=wr(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Oc=QS,tE=Oc?function(n,t){return Oc(n,"toString",{configurable:!0,enumerable:!1,value:ZS(t),writable:!0})}:za,eE=tE,nE=JS(eE),A0=nE;function iE(n,t){for(var e=-1,i=n==null?0:n.length;++e<i&&t(n[e],e,n)!==!1;);return n}function sE(n,t,e,i){for(var s=n.length,r=e+(i?1:-1);i?r--:++r<s;)if(t(n[r],r,n))return r;return-1}function rE(n){return n!==n}function oE(n,t,e){for(var i=e-1,s=n.length;++i<s;)if(n[i]===t)return i;return-1}function aE(n,t,e){return t===t?oE(n,t,e):sE(n,rE,e)}function M0(n,t){var e=n==null?0:n.length;return!!e&&aE(n,t,0)>-1}var lE=9007199254740991,cE=/^(?:0|[1-9]\d*)$/;function Pc(n,t){var e=typeof n;return t=t==null?lE:t,!!t&&(e=="number"||e!="symbol"&&cE.test(n))&&n>-1&&n%1==0&&n<t}function $c(n,t,e){t=="__proto__"&&Oc?Oc(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function xr(n,t){return n===t||n!==n&&t!==t}var uE=Object.prototype,hE=uE.hasOwnProperty;function yd(n,t,e){var i=n[t];(!(hE.call(n,t)&&xr(i,e))||e===void 0&&!(t in n))&&$c(n,t,e)}function go(n,t,e,i){var s=!e;e||(e={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=i?i(e[a],n[a],a,e,n):void 0;l===void 0&&(l=n[a]),s?$c(e,a,l):yd(e,a,l)}return e}var T0=Math.max;function O0(n,t,e){return t=T0(t===void 0?n.length-1:t,0),function(){for(var i=arguments,s=-1,r=T0(i.length-t,0),o=Array(r);++s<r;)o[s]=i[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=i[s];return a[t]=e(o),bd(n,this,a)}}function Fs(n,t){return A0(O0(n,t,za),n+"")}var dE=9007199254740991;function vd(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=dE}function Sr(n){return n!=null&&vd(n.length)&&!gd(n)}function Ba(n,t,e){if(!sn(e))return!1;var i=typeof t;return(i=="number"?Sr(e)&&Pc(t,e.length):i=="string"&&t in e)?xr(e[t],n):!1}function Cd(n){return Fs(function(t,e){var i=-1,s=e.length,r=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(r=n.length>3&&typeof r=="function"?(s--,r):void 0,o&&Ba(e[0],e[1],o)&&(r=s<3?void 0:r,s=1),t=Object(t);++i<s;){var a=e[i];a&&n(t,a,i,r)}return t})}var fE=Object.prototype;function Dc(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||fE;return n===e}function gE(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}var pE="[object Arguments]";function P0(n){return yi(n)&&fs(n)==pE}var $0=Object.prototype,mE=$0.hasOwnProperty,bE=$0.propertyIsEnumerable,yE=P0(function(){return arguments}())?P0:function(n){return yi(n)&&mE.call(n,"callee")&&!bE.call(n,"callee")},po=yE;function vE(){return!1}var D0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,k0=D0&&typeof module=="object"&&module&&!module.nodeType&&module,CE=k0&&k0.exports===D0,N0=CE?Ni.Buffer:void 0,wE=N0?N0.isBuffer:void 0,xE=wE||vE,mo=xE,SE="[object Arguments]",EE="[object Array]",AE="[object Boolean]",ME="[object Date]",TE="[object Error]",OE="[object Function]",PE="[object Map]",$E="[object Number]",DE="[object Object]",kE="[object RegExp]",NE="[object Set]",LE="[object String]",FE="[object WeakMap]",IE="[object ArrayBuffer]",_E="[object DataView]",RE="[object Float32Array]",jE="[object Float64Array]",zE="[object Int8Array]",BE="[object Int16Array]",HE="[object Int32Array]",VE="[object Uint8Array]",GE="[object Uint8ClampedArray]",WE="[object Uint16Array]",UE="[object Uint32Array]",Be={};Be[RE]=Be[jE]=Be[zE]=Be[BE]=Be[HE]=Be[VE]=Be[GE]=Be[WE]=Be[UE]=!0;Be[SE]=Be[EE]=Be[IE]=Be[AE]=Be[_E]=Be[ME]=Be[TE]=Be[OE]=Be[PE]=Be[$E]=Be[DE]=Be[kE]=Be[NE]=Be[LE]=Be[FE]=!1;function qE(n){return yi(n)&&vd(n.length)&&!!Be[fs(n)]}function Ha(n){return function(t){return n(t)}}var L0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Va=L0&&typeof module=="object"&&module&&!module.nodeType&&module,XE=Va&&Va.exports===L0,wd=XE&&p0.process,YE=function(){try{var n=Va&&Va.require&&Va.require("util").types;return n||wd&&wd.binding&&wd.binding("util")}catch{}}(),bo=YE,F0=bo&&bo.isTypedArray,KE=F0?Ha(F0):qE,kc=KE,JE=Object.prototype,ZE=JE.hasOwnProperty;function I0(n,t){var e=In(n),i=!e&&po(n),s=!e&&!i&&mo(n),r=!e&&!i&&!s&&kc(n),o=e||i||s||r,a=o?gE(n.length,String):[],l=a.length;for(var c in n)(t||ZE.call(n,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pc(c,l)))&&a.push(c);return a}function _0(n,t){return function(e){return n(t(e))}}var QE=_0(Object.keys,Object),tA=QE,eA=Object.prototype,nA=eA.hasOwnProperty;function R0(n){if(!Dc(n))return tA(n);var t=[];for(var e in Object(n))nA.call(n,e)&&e!="constructor"&&t.push(e);return t}function yo(n){return Sr(n)?I0(n):R0(n)}function iA(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var sA=Object.prototype,rA=sA.hasOwnProperty;function oA(n){if(!sn(n))return iA(n);var t=Dc(n),e=[];for(var i in n)i=="constructor"&&(t||!rA.call(n,i))||e.push(i);return e}function Er(n){return Sr(n)?I0(n,!0):oA(n)}var aA=Cd(function(n,t,e,i){go(t,Er(t),n,i)}),j0=aA,lA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cA=/^\w*$/;function xd(n,t){if(In(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||gs(n)?!0:cA.test(n)||!lA.test(n)||t!=null&&n in Object(t)}var uA=wr(Object,"create"),Ga=uA;function hA(){this.__data__=Ga?Ga(null):{},this.size=0}function dA(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var fA="__lodash_hash_undefined__",gA=Object.prototype,pA=gA.hasOwnProperty;function mA(n){var t=this.__data__;if(Ga){var e=t[n];return e===fA?void 0:e}return pA.call(t,n)?t[n]:void 0}var bA=Object.prototype,yA=bA.hasOwnProperty;function vA(n){var t=this.__data__;return Ga?t[n]!==void 0:yA.call(t,n)}var CA="__lodash_hash_undefined__";function wA(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=Ga&&t===void 0?CA:t,this}function Ar(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Ar.prototype.clear=hA;Ar.prototype.delete=dA;Ar.prototype.get=mA;Ar.prototype.has=vA;Ar.prototype.set=wA;function xA(){this.__data__=[],this.size=0}function Nc(n,t){for(var e=n.length;e--;)if(xr(n[e][0],t))return e;return-1}var SA=Array.prototype,EA=SA.splice;function AA(n){var t=this.__data__,e=Nc(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():EA.call(t,e,1),--this.size,!0}function MA(n){var t=this.__data__,e=Nc(t,n);return e<0?void 0:t[e][1]}function TA(n){return Nc(this.__data__,n)>-1}function OA(n,t){var e=this.__data__,i=Nc(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}function ps(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ps.prototype.clear=xA;ps.prototype.delete=AA;ps.prototype.get=MA;ps.prototype.has=TA;ps.prototype.set=OA;var PA=wr(Ni,"Map"),Wa=PA;function $A(){this.size=0,this.__data__={hash:new Ar,map:new(Wa||ps),string:new Ar}}function DA(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function Lc(n,t){var e=n.__data__;return DA(t)?e[typeof t=="string"?"string":"hash"]:e.map}function kA(n){var t=Lc(this,n).delete(n);return this.size-=t?1:0,t}function NA(n){return Lc(this,n).get(n)}function LA(n){return Lc(this,n).has(n)}function FA(n,t){var e=Lc(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}function ms(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ms.prototype.clear=$A;ms.prototype.delete=kA;ms.prototype.get=NA;ms.prototype.has=LA;ms.prototype.set=FA;var IA="Expected a function";function Sd(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(IA);var e=function(){var i=arguments,s=t?t.apply(this,i):i[0],r=e.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return e.cache=r.set(s,o)||r,o};return e.cache=new(Sd.Cache||ms),e}Sd.Cache=ms;var _A=500;function RA(n){var t=Sd(n,function(i){return e.size===_A&&e.clear(),i}),e=t.cache;return t}var jA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zA=/\\(\\)?/g,BA=RA(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(jA,function(e,i,s,r){t.push(s?r.replace(zA,"$1"):i||e)}),t}),HA=BA;function Is(n){return n==null?"":C0(n)}function Fc(n,t){return In(n)?n:xd(n,t)?[n]:HA(Is(n))}var VA=1/0;function Ua(n){if(typeof n=="string"||gs(n))return n;var t=n+"";return t=="0"&&1/n==-VA?"-0":t}function Ic(n,t){t=Fc(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[Ua(t[e++])];return e&&e==i?n:void 0}function GA(n,t,e){var i=n==null?void 0:Ic(n,t);return i===void 0?e:i}function Ed(n,t){for(var e=-1,i=t.length,s=n.length;++e<i;)n[s+e]=t[e];return n}var z0=bi?bi.isConcatSpreadable:void 0;function WA(n){return In(n)||po(n)||!!(z0&&n&&n[z0])}function qa(n,t,e,i,s){var r=-1,o=n.length;for(e||(e=WA),s||(s=[]);++r<o;){var a=n[r];t>0&&e(a)?t>1?qa(a,t-1,e,i,s):Ed(s,a):i||(s[s.length]=a)}return s}function UA(n){var t=n==null?0:n.length;return t?qa(n,1):[]}function qA(n){return A0(O0(n,void 0,UA),n+"")}var XA=_0(Object.getPrototypeOf,Object),Ad=XA,YA="[object Object]",KA=Function.prototype,JA=Object.prototype,B0=KA.toString,ZA=JA.hasOwnProperty,QA=B0.call(Object);function hi(n){if(!yi(n)||fs(n)!=YA)return!1;var t=Ad(n);if(t===null)return!0;var e=ZA.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&B0.call(e)==QA}var tM="[object DOMException]",eM="[object Error]";function H0(n){if(!yi(n))return!1;var t=fs(n);return t==eM||t==tM||typeof n.message=="string"&&typeof n.name=="string"&&!hi(n)}var nM=Fs(function(n,t){try{return bd(n,void 0,t)}catch(e){return H0(e)?e:new Error(e)}}),iM=nM;function sM(n,t,e){var i=-1,s=n.length;t<0&&(t=-t>s?0:s+t),e=e>s?s:e,e<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var r=Array(s);++i<s;)r[i]=n[i+t];return r}function rM(n,t,e){var i=n.length;return e=e===void 0?i:e,!t&&e>=i?n:sM(n,t,e)}var oM="\\ud800-\\udfff",aM="\\u0300-\\u036f",lM="\\ufe20-\\ufe2f",cM="\\u20d0-\\u20ff",uM=aM+lM+cM,hM="\\ufe0e\\ufe0f",dM="\\u200d",fM=RegExp("["+dM+oM+uM+hM+"]");function V0(n){return fM.test(n)}function gM(n){return n.split("")}var G0="\\ud800-\\udfff",pM="\\u0300-\\u036f",mM="\\ufe20-\\ufe2f",bM="\\u20d0-\\u20ff",yM=pM+mM+bM,vM="\\ufe0e\\ufe0f",CM="["+G0+"]",Md="["+yM+"]",Td="\\ud83c[\\udffb-\\udfff]",wM="(?:"+Md+"|"+Td+")",W0="[^"+G0+"]",U0="(?:\\ud83c[\\udde6-\\uddff]){2}",q0="[\\ud800-\\udbff][\\udc00-\\udfff]",xM="\\u200d",X0=wM+"?",Y0="["+vM+"]?",SM="(?:"+xM+"(?:"+[W0,U0,q0].join("|")+")"+Y0+X0+")*",EM=Y0+X0+SM,AM="(?:"+[W0+Md+"?",Md,U0,q0,CM].join("|")+")",MM=RegExp(Td+"(?="+Td+")|"+AM+EM,"g");function TM(n){return n.match(MM)||[]}function OM(n){return V0(n)?TM(n):gM(n)}function K0(n){return function(t){t=Is(t);var e=V0(t)?OM(t):void 0,i=e?e[0]:t.charAt(0),s=e?rM(e,1).join(""):t.slice(1);return i[n]()+s}}var PM=K0("toUpperCase"),_c=PM;function $M(n){return _c(Is(n).toLowerCase())}function DM(n,t,e,i){var s=-1,r=n==null?0:n.length;for(i&&r&&(e=n[++s]);++s<r;)e=t(e,n[s],s,n);return e}function J0(n){return function(t){return n==null?void 0:n[t]}}var kM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},NM=J0(kM),LM=NM,FM=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,IM="\\u0300-\\u036f",_M="\\ufe20-\\ufe2f",RM="\\u20d0-\\u20ff",jM=IM+_M+RM,zM="["+jM+"]",BM=RegExp(zM,"g");function HM(n){return n=Is(n),n&&n.replace(FM,LM).replace(BM,"")}var VM=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function GM(n){return n.match(VM)||[]}var WM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function UM(n){return WM.test(n)}var Z0="\\ud800-\\udfff",qM="\\u0300-\\u036f",XM="\\ufe20-\\ufe2f",YM="\\u20d0-\\u20ff",KM=qM+XM+YM,Q0="\\u2700-\\u27bf",tm="a-z\\xdf-\\xf6\\xf8-\\xff",JM="\\xac\\xb1\\xd7\\xf7",ZM="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",QM="\\u2000-\\u206f",tT=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",em="A-Z\\xc0-\\xd6\\xd8-\\xde",eT="\\ufe0e\\ufe0f",nm=JM+ZM+QM+tT,im="['\u2019]",sm="["+nm+"]",nT="["+KM+"]",rm="\\d+",iT="["+Q0+"]",om="["+tm+"]",am="[^"+Z0+nm+rm+Q0+tm+em+"]",sT="\\ud83c[\\udffb-\\udfff]",rT="(?:"+nT+"|"+sT+")",oT="[^"+Z0+"]",lm="(?:\\ud83c[\\udde6-\\uddff]){2}",cm="[\\ud800-\\udbff][\\udc00-\\udfff]",vo="["+em+"]",aT="\\u200d",um="(?:"+om+"|"+am+")",lT="(?:"+vo+"|"+am+")",hm="(?:"+im+"(?:d|ll|m|re|s|t|ve))?",dm="(?:"+im+"(?:D|LL|M|RE|S|T|VE))?",fm=rT+"?",gm="["+eT+"]?",cT="(?:"+aT+"(?:"+[oT,lm,cm].join("|")+")"+gm+fm+")*",uT="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hT="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dT=gm+fm+cT,fT="(?:"+[iT,lm,cm].join("|")+")"+dT,gT=RegExp([vo+"?"+om+"+"+hm+"(?="+[sm,vo,"$"].join("|")+")",lT+"+"+dm+"(?="+[sm,vo+um,"$"].join("|")+")",vo+"?"+um+"+"+hm,vo+"+"+dm,hT,uT,rm,fT].join("|"),"g");function pT(n){return n.match(gT)||[]}function mT(n,t,e){return n=Is(n),t=e?void 0:t,t===void 0?UM(n)?pT(n):GM(n):n.match(t)||[]}var bT="['\u2019]",yT=RegExp(bT,"g");function pm(n){return function(t){return DM(mT(HM(t).replace(yT,"")),n,"")}}var vT=pm(function(n,t,e){return t=t.toLowerCase(),n+(e?$M(t):t)}),Od=vT;function CT(n,t,e){return n===n&&(e!==void 0&&(n=n<=e?n:e),t!==void 0&&(n=n>=t?n:t)),n}function Bn(n,t,e){return e===void 0&&(e=t,t=void 0),e!==void 0&&(e=ja(e),e=e===e?e:0),t!==void 0&&(t=ja(t),t=t===t?t:0),CT(ja(n),t,e)}function wT(){this.__data__=new ps,this.size=0}function xT(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function ST(n){return this.__data__.get(n)}function ET(n){return this.__data__.has(n)}var AT=200;function MT(n,t){var e=this.__data__;if(e instanceof ps){var i=e.__data__;if(!Wa||i.length<AT-1)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new ms(i)}return e.set(n,t),this.size=e.size,this}function Li(n){var t=this.__data__=new ps(n);this.size=t.size}Li.prototype.clear=wT;Li.prototype.delete=xT;Li.prototype.get=ST;Li.prototype.has=ET;Li.prototype.set=MT;function TT(n,t){return n&&go(t,yo(t),n)}function OT(n,t){return n&&go(t,Er(t),n)}var mm=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bm=mm&&typeof module=="object"&&module&&!module.nodeType&&module,PT=bm&&bm.exports===mm,ym=PT?Ni.Buffer:void 0,vm=ym?ym.allocUnsafe:void 0;function Cm(n,t){if(t)return n.slice();var e=n.length,i=vm?vm(e):new n.constructor(e);return n.copy(i),i}function $T(n,t){for(var e=-1,i=n==null?0:n.length,s=0,r=[];++e<i;){var o=n[e];t(o,e,n)&&(r[s++]=o)}return r}function wm(){return[]}var DT=Object.prototype,kT=DT.propertyIsEnumerable,xm=Object.getOwnPropertySymbols,NT=xm?function(n){return n==null?[]:(n=Object(n),$T(xm(n),function(t){return kT.call(n,t)}))}:wm,Pd=NT;function LT(n,t){return go(n,Pd(n),t)}var FT=Object.getOwnPropertySymbols,IT=FT?function(n){for(var t=[];n;)Ed(t,Pd(n)),n=Ad(n);return t}:wm,Sm=IT;function _T(n,t){return go(n,Sm(n),t)}function Em(n,t,e){var i=t(n);return In(n)?i:Ed(i,e(n))}function $d(n){return Em(n,yo,Pd)}function RT(n){return Em(n,Er,Sm)}var jT=wr(Ni,"DataView"),Dd=jT,zT=wr(Ni,"Promise"),kd=zT,BT=wr(Ni,"Set"),Co=BT,Am="[object Map]",HT="[object Object]",Mm="[object Promise]",Tm="[object Set]",Om="[object WeakMap]",Pm="[object DataView]",VT=Cr(Dd),GT=Cr(Wa),WT=Cr(kd),UT=Cr(Co),qT=Cr(md),Mr=fs;(Dd&&Mr(new Dd(new ArrayBuffer(1)))!=Pm||Wa&&Mr(new Wa)!=Am||kd&&Mr(kd.resolve())!=Mm||Co&&Mr(new Co)!=Tm||md&&Mr(new md)!=Om)&&(Mr=function(n){var t=fs(n),e=t==HT?n.constructor:void 0,i=e?Cr(e):"";if(i)switch(i){case VT:return Pm;case GT:return Am;case WT:return Mm;case UT:return Tm;case qT:return Om}return t});var wo=Mr,XT=Object.prototype,YT=XT.hasOwnProperty;function KT(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&YT.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var JT=Ni.Uint8Array,Rc=JT;function Nd(n){var t=new n.constructor(n.byteLength);return new Rc(t).set(new Rc(n)),t}function ZT(n,t){var e=t?Nd(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var QT=/\w*$/;function tO(n){var t=new n.constructor(n.source,QT.exec(n));return t.lastIndex=n.lastIndex,t}var $m=bi?bi.prototype:void 0,Dm=$m?$m.valueOf:void 0;function eO(n){return Dm?Object(Dm.call(n)):{}}function km(n,t){var e=t?Nd(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var nO="[object Boolean]",iO="[object Date]",sO="[object Map]",rO="[object Number]",oO="[object RegExp]",aO="[object Set]",lO="[object String]",cO="[object Symbol]",uO="[object ArrayBuffer]",hO="[object DataView]",dO="[object Float32Array]",fO="[object Float64Array]",gO="[object Int8Array]",pO="[object Int16Array]",mO="[object Int32Array]",bO="[object Uint8Array]",yO="[object Uint8ClampedArray]",vO="[object Uint16Array]",CO="[object Uint32Array]";function wO(n,t,e){var i=n.constructor;switch(t){case uO:return Nd(n);case nO:case iO:return new i(+n);case hO:return ZT(n,e);case dO:case fO:case gO:case pO:case mO:case bO:case yO:case vO:case CO:return km(n,e);case sO:return new i;case rO:case lO:return new i(n);case oO:return tO(n);case aO:return new i;case cO:return eO(n)}}function Nm(n){return typeof n.constructor=="function"&&!Dc(n)?US(Ad(n)):{}}var xO="[object Map]";function SO(n){return yi(n)&&wo(n)==xO}var Lm=bo&&bo.isMap,EO=Lm?Ha(Lm):SO,AO=EO,MO="[object Set]";function TO(n){return yi(n)&&wo(n)==MO}var Fm=bo&&bo.isSet,OO=Fm?Ha(Fm):TO,PO=OO,$O=1,DO=2,kO=4,Im="[object Arguments]",NO="[object Array]",LO="[object Boolean]",FO="[object Date]",IO="[object Error]",_m="[object Function]",_O="[object GeneratorFunction]",RO="[object Map]",jO="[object Number]",Rm="[object Object]",zO="[object RegExp]",BO="[object Set]",HO="[object String]",VO="[object Symbol]",GO="[object WeakMap]",WO="[object ArrayBuffer]",UO="[object DataView]",qO="[object Float32Array]",XO="[object Float64Array]",YO="[object Int8Array]",KO="[object Int16Array]",JO="[object Int32Array]",ZO="[object Uint8Array]",QO="[object Uint8ClampedArray]",tP="[object Uint16Array]",eP="[object Uint32Array]",_e={};_e[Im]=_e[NO]=_e[WO]=_e[UO]=_e[LO]=_e[FO]=_e[qO]=_e[XO]=_e[YO]=_e[KO]=_e[JO]=_e[RO]=_e[jO]=_e[Rm]=_e[zO]=_e[BO]=_e[HO]=_e[VO]=_e[ZO]=_e[QO]=_e[tP]=_e[eP]=!0;_e[IO]=_e[_m]=_e[GO]=!1;function Xa(n,t,e,i,s,r){var o,a=t&$O,l=t&DO,c=t&kO;if(e&&(o=s?e(n,i,s,r):e(n)),o!==void 0)return o;if(!sn(n))return n;var u=In(n);if(u){if(o=KT(n),!a)return E0(n,o)}else{var h=wo(n),f=h==_m||h==_O;if(mo(n))return Cm(n,a);if(h==Rm||h==Im||f&&!s){if(o=l||f?{}:Nm(n),!a)return l?_T(n,OT(o,n)):LT(n,TT(o,n))}else{if(!_e[h])return s?n:{};o=wO(n,h,a)}}r||(r=new Li);var g=r.get(n);if(g)return g;r.set(n,o),PO(n)?n.forEach(function(w){o.add(Xa(w,t,e,w,n,r))}):AO(n)&&n.forEach(function(w,C){o.set(C,Xa(w,t,e,C,n,r))});var b=c?l?RT:$d:l?Er:yo,y=u?void 0:b(n);return iE(y||n,function(w,C){y&&(C=w,w=n[C]),yd(o,C,Xa(w,t,e,C,n,r))}),o}var nP=4;function Ya(n){return Xa(n,nP)}var iP=1,sP=4;function qe(n){return Xa(n,iP|sP)}var rP="__lodash_hash_undefined__";function oP(n){return this.__data__.set(n,rP),this}function aP(n){return this.__data__.has(n)}function xo(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new ms;++t<e;)this.add(n[t])}xo.prototype.add=xo.prototype.push=oP;xo.prototype.has=aP;function lP(n,t){for(var e=-1,i=n==null?0:n.length;++e<i;)if(t(n[e],e,n))return!0;return!1}function Ld(n,t){return n.has(t)}var cP=1,uP=2;function jm(n,t,e,i,s,r){var o=e&cP,a=n.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(n),u=r.get(t);if(c&&u)return c==t&&u==n;var h=-1,f=!0,g=e&uP?new xo:void 0;for(r.set(n,t),r.set(t,n);++h<a;){var b=n[h],y=t[h];if(i)var w=o?i(y,b,h,t,n,r):i(b,y,h,n,t,r);if(w!==void 0){if(w)continue;f=!1;break}if(g){if(!lP(t,function(C,E){if(!Ld(g,E)&&(b===C||s(b,C,e,i,r)))return g.push(E)})){f=!1;break}}else if(!(b===y||s(b,y,e,i,r))){f=!1;break}}return r.delete(n),r.delete(t),f}function hP(n){var t=-1,e=Array(n.size);return n.forEach(function(i,s){e[++t]=[s,i]}),e}function Fd(n){var t=-1,e=Array(n.size);return n.forEach(function(i){e[++t]=i}),e}var dP=1,fP=2,gP="[object Boolean]",pP="[object Date]",mP="[object Error]",bP="[object Map]",yP="[object Number]",vP="[object RegExp]",CP="[object Set]",wP="[object String]",xP="[object Symbol]",SP="[object ArrayBuffer]",EP="[object DataView]",zm=bi?bi.prototype:void 0,Id=zm?zm.valueOf:void 0;function AP(n,t,e,i,s,r,o){switch(e){case EP:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case SP:return!(n.byteLength!=t.byteLength||!r(new Rc(n),new Rc(t)));case gP:case pP:case yP:return xr(+n,+t);case mP:return n.name==t.name&&n.message==t.message;case vP:case wP:return n==t+"";case bP:var a=hP;case CP:var l=i&dP;if(a||(a=Fd),n.size!=t.size&&!l)return!1;var c=o.get(n);if(c)return c==t;i|=fP,o.set(n,t);var u=jm(a(n),a(t),i,s,r,o);return o.delete(n),u;case xP:if(Id)return Id.call(n)==Id.call(t)}return!1}var MP=1,TP=Object.prototype,OP=TP.hasOwnProperty;function PP(n,t,e,i,s,r){var o=e&MP,a=$d(n),l=a.length,c=$d(t),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in t:OP.call(t,f)))return!1}var g=r.get(n),b=r.get(t);if(g&&b)return g==t&&b==n;var y=!0;r.set(n,t),r.set(t,n);for(var w=o;++h<l;){f=a[h];var C=n[f],E=t[f];if(i)var S=o?i(E,C,f,t,n,r):i(C,E,f,n,t,r);if(!(S===void 0?C===E||s(C,E,e,i,r):S)){y=!1;break}w||(w=f=="constructor")}if(y&&!w){var T=n.constructor,$=t.constructor;T!=$&&"constructor"in n&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof $=="function"&&$ instanceof $)&&(y=!1)}return r.delete(n),r.delete(t),y}var $P=1,Bm="[object Arguments]",Hm="[object Array]",jc="[object Object]",DP=Object.prototype,Vm=DP.hasOwnProperty;function kP(n,t,e,i,s,r){var o=In(n),a=In(t),l=o?Hm:wo(n),c=a?Hm:wo(t);l=l==Bm?jc:l,c=c==Bm?jc:c;var u=l==jc,h=c==jc,f=l==c;if(f&&mo(n)){if(!mo(t))return!1;o=!0,u=!1}if(f&&!u)return r||(r=new Li),o||kc(n)?jm(n,t,e,i,s,r):AP(n,t,l,e,i,s,r);if(!(e&$P)){var g=u&&Vm.call(n,"__wrapped__"),b=h&&Vm.call(t,"__wrapped__");if(g||b){var y=g?n.value():n,w=b?t.value():t;return r||(r=new Li),s(y,w,e,i,r)}}return f?(r||(r=new Li),PP(n,t,e,i,s,r)):!1}function zc(n,t,e,i,s){return n===t?!0:n==null||t==null||!yi(n)&&!yi(t)?n!==n&&t!==t:kP(n,t,e,i,zc,s)}var NP=1,LP=2;function FP(n,t,e,i){var s=e.length,r=s,o=!i;if(n==null)return!r;for(n=Object(n);s--;){var a=e[s];if(o&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++s<r;){a=e[s];var l=a[0],c=n[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in n))return!1}else{var h=new Li;if(i)var f=i(c,u,l,n,t,h);if(!(f===void 0?zc(u,c,NP|LP,i,h):f))return!1}}return!0}function Gm(n){return n===n&&!sn(n)}function IP(n){for(var t=yo(n),e=t.length;e--;){var i=t[e],s=n[i];t[e]=[i,s,Gm(s)]}return t}function Wm(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}function _P(n){var t=IP(n);return t.length==1&&t[0][2]?Wm(t[0][0],t[0][1]):function(e){return e===n||FP(e,n,t)}}function RP(n,t){return n!=null&&t in Object(n)}function Um(n,t,e){t=Fc(t,n);for(var i=-1,s=t.length,r=!1;++i<s;){var o=Ua(t[i]);if(!(r=n!=null&&e(n,o)))break;n=n[o]}return r||++i!=s?r:(s=n==null?0:n.length,!!s&&vd(s)&&Pc(o,s)&&(In(n)||po(n)))}function qm(n,t){return n!=null&&Um(n,t,RP)}var jP=1,zP=2;function BP(n,t){return xd(n)&&Gm(t)?Wm(Ua(n),t):function(e){var i=GA(e,n);return i===void 0&&i===t?qm(e,n):zc(t,i,jP|zP)}}function HP(n){return function(t){return t==null?void 0:t[n]}}function VP(n){return function(t){return Ic(t,n)}}function GP(n){return xd(n)?HP(Ua(n)):VP(n)}function _d(n){return typeof n=="function"?n:n==null?za:typeof n=="object"?In(n)?BP(n[0],n[1]):_P(n):GP(n)}function WP(n,t,e,i){for(var s=-1,r=n==null?0:n.length;++s<r;){var o=n[s];t(i,o,e(o),n)}return i}function UP(n){return function(t,e,i){for(var s=-1,r=Object(t),o=i(t),a=o.length;a--;){var l=o[n?a:++s];if(e(r[l],l,r)===!1)break}return t}}var qP=UP(),Xm=qP;function XP(n,t){return n&&Xm(n,t,yo)}function YP(n,t){return function(e,i){if(e==null)return e;if(!Sr(e))return n(e,i);for(var s=e.length,r=t?s:-1,o=Object(e);(t?r--:++r<s)&&i(o[r],r,o)!==!1;);return e}}var KP=YP(XP),Ym=KP;function JP(n,t,e,i){return Ym(n,function(s,r,o){t(i,s,e(s),o)}),i}function ZP(n,t){return function(e,i){var s=In(e)?WP:JP,r=t?t():{};return s(e,n,_d(i),r)}}var QP=function(){return Ni.Date.now()},Rd=QP,t$="Expected a function",e$=Math.max,n$=Math.min;function Km(n,t,e){var i,s,r,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(t$);t=ja(t)||0,sn(e)&&(u=!!e.leading,h="maxWait"in e,r=h?e$(ja(e.maxWait)||0,t):r,f="trailing"in e?!!e.trailing:f);function g(p){var A=i,k=s;return i=s=void 0,c=p,o=n.apply(k,A),o}function b(p){return c=p,a=setTimeout(C,t),u?g(p):o}function y(p){var A=p-l,k=p-c,F=t-A;return h?n$(F,r-k):F}function w(p){var A=p-l,k=p-c;return l===void 0||A>=t||A<0||h&&k>=r}function C(){var p=Rd();if(w(p))return E(p);a=setTimeout(C,y(p))}function E(p){return a=void 0,f&&i?g(p):(i=s=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function T(){return a===void 0?o:E(Rd())}function $(){var p=Rd(),A=w(p);if(i=arguments,s=this,l=p,A){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(C,t),g(l)}return a===void 0&&(a=setTimeout(C,t)),o}return $.cancel=S,$.flush=T,$}var Jm=Object.prototype,i$=Jm.hasOwnProperty,s$=Fs(function(n,t){n=Object(n);var e=-1,i=t.length,s=i>2?t[2]:void 0;for(s&&Ba(t[0],t[1],s)&&(i=1);++e<i;)for(var r=t[e],o=Er(r),a=-1,l=o.length;++a<l;){var c=o[a],u=n[c];(u===void 0||xr(u,Jm[c])&&!i$.call(n,c))&&(n[c]=r[c])}return n}),r$=s$;function jd(n,t,e){(e!==void 0&&!xr(n[t],e)||e===void 0&&!(t in n))&&$c(n,t,e)}function Bc(n){return yi(n)&&Sr(n)}function zd(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function o$(n){return go(n,Er(n))}function a$(n,t,e,i,s,r,o){var a=zd(n,e),l=zd(t,e),c=o.get(l);if(c){jd(n,e,c);return}var u=r?r(a,l,e+"",n,t,o):void 0,h=u===void 0;if(h){var f=In(l),g=!f&&mo(l),b=!f&&!g&&kc(l);u=l,f||g||b?In(a)?u=a:Bc(a)?u=E0(a):g?(h=!1,u=Cm(l,!0)):b?(h=!1,u=km(l,!0)):u=[]:hi(l)||po(l)?(u=a,po(a)?u=o$(a):(!sn(a)||gd(a))&&(u=Nm(l))):h=!1}h&&(o.set(l,u),s(u,l,i,r,o),o.delete(l)),jd(n,e,u)}function Hc(n,t,e,i,s){n!==t&&Xm(t,function(r,o){if(s||(s=new Li),sn(r))a$(n,t,o,e,Hc,i,s);else{var a=i?i(zd(n,o),r,o+"",n,t,s):void 0;a===void 0&&(a=r),jd(n,o,a)}},Er)}function Zm(n,t,e,i,s,r){return sn(n)&&sn(t)&&(r.set(t,n),Hc(n,t,void 0,Zm,r),r.delete(t)),n}var l$=Cd(function(n,t,e,i){Hc(n,t,e,i)}),c$=l$,u$=Fs(function(n){return n.push(void 0,Zm),bd(c$,void 0,n)}),Qm=u$,h$="Expected a function";function d$(n,t,e){if(typeof n!="function")throw new TypeError(h$);return setTimeout(function(){n.apply(void 0,e)},t)}var f$=Fs(function(n,t){return d$(n,1,t)}),g$=f$;function tb(n,t,e){for(var i=-1,s=n==null?0:n.length;++i<s;)if(e(t,n[i]))return!0;return!1}var p$=200;function m$(n,t,e,i){var s=-1,r=M0,o=!0,a=n.length,l=[],c=t.length;if(!a)return l;e&&(t=fo(t,Ha(e))),i?(r=tb,o=!1):t.length>=p$&&(r=Ld,o=!1,t=new xo(t));t:for(;++s<a;){var u=n[s],h=e==null?u:e(u);if(u=i||u!==0?u:0,o&&h===h){for(var f=c;f--;)if(t[f]===h)continue t;l.push(u)}else r(t,h,i)||l.push(u)}return l}var b$=Fs(function(n,t){return Bc(n)?m$(n,qa(t,1,Bc,!0)):[]}),y$=b$,v$={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C$=J0(v$),w$=C$,eb=/[&<>"']/g,x$=RegExp(eb.source);function S$(n){return n=Is(n),n&&x$.test(n)?n.replace(eb,w$):n}function E$(n,t){var e=-1,i=Sr(n)?Array(n.length):[];return Ym(n,function(s,r,o){i[++e]=t(s,r,o)}),i}var A$=Object.prototype,M$=A$.hasOwnProperty,T$=ZP(function(n,t,e){M$.call(n,e)?n[e].push(t):$c(n,e,[t])}),O$=T$,P$=Object.prototype,$$=P$.hasOwnProperty;function D$(n,t){return n!=null&&$$.call(n,t)}function Ka(n,t){return n!=null&&Um(n,t,D$)}function k$(n,t){return fo(t,function(e){return n[e]})}var N$="[object Map]",L$="[object Set]",F$=Object.prototype,I$=F$.hasOwnProperty;function nb(n){if(n==null)return!0;if(Sr(n)&&(In(n)||typeof n=="string"||typeof n.splice=="function"||mo(n)||kc(n)||po(n)))return!n.length;var t=wo(n);if(t==N$||t==L$)return!n.size;if(Dc(n))return!R0(n).length;for(var e in n)if(I$.call(n,e))return!1;return!0}function qi(n,t){return zc(n,t)}var _$="[object Number]";function ib(n){return typeof n=="number"||yi(n)&&fs(n)==_$}var R$=K0("toLowerCase"),j$=R$,z$=Cd(function(n,t,e){Hc(n,t,e)}),Fe=z$;function B$(n,t,e,i){if(!sn(n))return n;t=Fc(t,n);for(var s=-1,r=t.length,o=r-1,a=n;a!=null&&++s<r;){var l=Ua(t[s]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(s!=o){var u=a[l];c=i?i(u,l,a):void 0,c===void 0&&(c=sn(u)?u:Pc(t[s+1])?[]:{})}yd(a,l,c),a=a[l]}return n}function H$(n,t,e){for(var i=-1,s=t.length,r={};++i<s;){var o=t[i],a=Ic(n,o);e(a,o)&&B$(r,Fc(o,n),a)}return r}function V$(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}function G$(n,t){if(n!==t){var e=n!==void 0,i=n===null,s=n===n,r=gs(n),o=t!==void 0,a=t===null,l=t===t,c=gs(t);if(!a&&!c&&!r&&n>t||r&&o&&l&&!a&&!c||i&&o&&l||!e&&l||!s)return 1;if(!i&&!r&&!c&&n<t||c&&e&&s&&!i&&!r||a&&e&&s||!o&&s||!l)return-1}return 0}function W$(n,t,e){for(var i=-1,s=n.criteria,r=t.criteria,o=s.length,a=e.length;++i<o;){var l=G$(s[i],r[i]);if(l){if(i>=a)return l;var c=e[i];return l*(c=="desc"?-1:1)}}return n.index-t.index}function U$(n,t,e){t.length?t=fo(t,function(r){return In(r)?function(o){return Ic(o,r.length===1?r[0]:r)}:r}):t=[za];var i=-1;t=fo(t,Ha(_d));var s=E$(n,function(r,o,a){var l=fo(t,function(c){return c(r)});return{criteria:l,index:++i,value:r}});return V$(s,function(r,o){return W$(r,o,e)})}function q$(n,t){return H$(n,t,function(e,i){return qm(n,i)})}var X$=qA(function(n,t){return n==null?{}:q$(n,t)}),sb=X$,Y$=Fs(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Ba(n,t[0],t[1])?t=[]:e>2&&Ba(t[0],t[1],t[2])&&(t=[t[0]]),U$(n,qa(t,1),[])}),Bd=Y$,K$=4294967295,J$=K$-1,Z$=Math.floor,Q$=Math.min;function rb(n,t,e,i){var s=0,r=n==null?0:n.length;if(r===0)return 0;t=e(t);for(var o=t!==t,a=t===null,l=gs(t),c=t===void 0;s<r;){var u=Z$((s+r)/2),h=e(n[u]),f=h!==void 0,g=h===null,b=h===h,y=gs(h);if(o)var w=i||b;else c?w=b&&(i||f):a?w=b&&f&&(i||!g):l?w=b&&f&&!g&&(i||!y):g||y?w=!1:w=i?h<=t:h<t;w?s=u+1:r=u}return Q$(r,J$)}var tD=4294967295,eD=tD>>>1;function nD(n,t,e){var i=0,s=n==null?i:n.length;if(typeof t=="number"&&t===t&&s<=eD){for(;i<s;){var r=i+s>>>1,o=n[r];o!==null&&!gs(o)&&(e?o<=t:o<t)?i=r+1:s=r}return s}return rb(n,t,za,e)}function iD(n,t){return nD(n,t)}function sD(n,t,e){return rb(n,t,_d(e))}var rD=pm(function(n,t,e){return n+(e?" ":"")+_c(t)}),oD=rD,ob=Object.prototype,aD=ob.hasOwnProperty;function ab(n,t,e,i){return n===void 0||xr(n,ob[e])&&!aD.call(i,e)?t:n}var lD={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function cD(n){return"\\"+lD[n]}var uD=/<%=([\s\S]+?)%>/g,lb=uD,hD=/<%-([\s\S]+?)%>/g,dD=hD,fD=/<%([\s\S]+?)%>/g,gD=fD,pD={escape:dD,evaluate:gD,interpolate:lb,variable:"",imports:{_:{escape:S$}}},cb=pD,mD="Invalid `variable` option passed into `_.template`",bD=/\b__p \+= '';/g,yD=/\b(__p \+=) '' \+/g,vD=/(__e\(.*?\)|\b__t\)) \+\n'';/g,CD=/[()=,{}\[\]\/\s]/,wD=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Vc=/($^)/,xD=/['\n\r\u2028\u2029\\]/g,SD=Object.prototype,ub=SD.hasOwnProperty;function So(n,t,e){var i=cb.imports._.templateSettings||cb;e&&Ba(n,t,e)&&(t=void 0),n=Is(n),t=j0({},t,i,ab);var s=j0({},t.imports,i.imports,ab),r=yo(s),o=k$(s,r),a,l,c=0,u=t.interpolate||Vc,h="__p += '",f=RegExp((t.escape||Vc).source+"|"+u.source+"|"+(u===lb?wD:Vc).source+"|"+(t.evaluate||Vc).source+"|$","g"),g=ub.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(f,function(w,C,E,S,T,$){return E||(E=S),h+=n.slice(c,$).replace(xD,cD),C&&(a=!0,h+=`' +
__e(`+C+`) +
'`),T&&(l=!0,h+=`';
`+T+`;
__p += '`),E&&(h+=`' +
((__t = (`+E+`)) == null ? '' : __t) +
'`),c=$+w.length,w}),h+=`';
`;var b=ub.call(t,"variable")&&t.variable;if(!b)h=`with (obj) {
`+h+`
}
`;else if(CD.test(b))throw new Error(mD);h=(l?h.replace(bD,""):h).replace(yD,"$1").replace(vD,"$1;"),h="function("+(b||"obj")+`) {
`+(b?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var y=iM(function(){return Function(r,g+"return "+h).apply(void 0,o)});if(y.source=h,H0(y))throw y;return y}var ED=1/0,AD=Co&&1/Fd(new Co([,-0]))[1]==ED?function(n){return new Co(n)}:qS,MD=AD,TD=200;function hb(n,t,e){var i=-1,s=M0,r=n.length,o=!0,a=[],l=a;if(e)o=!1,s=tb;else if(r>=TD){var c=t?null:MD(n);if(c)return Fd(c);o=!1,s=Ld,l=new xo}else l=t?[]:a;t:for(;++i<r;){var u=n[i],h=t?t(u):u;if(u=e||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue t;t&&l.push(h),a.push(u)}else s(l,h,e)||(l!==a&&l.push(h),a.push(u))}return a}var OD=Fs(function(n){return hb(qa(n,1,Bc,!0))}),db=OD;function fb(n){return n&&n.length?hb(n):[]}var PD=0;function $D(n){var t=++PD;return Is(n)+t}function DD(n){return typeof Array.isArray=="undefined"?Object.prototype.toString.call(n)==="[object Array]":Array.isArray(n)}var gb;(function(n){function t(s,r,o=1){if(typeof r=="function")return s.filter(a=>!r(a));if(DD(r)){const a=[...r].sort((l,c)=>l-c);for(;a.length;){const l=a.pop();s.splice(l,1)}return s}return s.splice(r,o),s}n.remove=t;function e(s,r,o){if(r<0||r>=s.length||o<0||o>=s.length)return s;const a=s[r];return s[r]=s[o],s[o]=a,s}function i(s,r,o){if(typeof r=="number"&&typeof o=="number")return e(s,r,o);if(typeof r=="function"&&typeof o=="function"){const a=s.findIndex(c=>r(c)),l=s.findIndex(c=>o(c));return e(s,a,l)}return s}n.swap=i})(gb||(gb={}));var pb;(function(n){function t(i){const s={root:"",querys:{}};if(i.includes("?")){const r=i.match(/(.+?)\?(.+)/);s.root=r[1];const o=r[2];for(const a of o.split("&")){const l=a.split("=");l.length===2&&(s.querys[l[0]]=l[1])}}else s.root=i;return s}n.split=t;function e(i){var s;const r=(s=i.root)!==null&&s!==void 0?s:"",o=i.querys?Object.entries(i.querys).map(([a,l])=>`${a}=${l}`).join(""):"";return`${r}${!i.querys||!i.root?"":"?"}${o}`}n.compose=e})(pb||(pb={}));function Hd(n,t){let e;return typeof n=="function"?e=n:e=i=>i[n]===t,e}function Vd(n,t){var e;if(t(n))return n;if((e=n.children)!==null&&e!==void 0&&e.length)for(const i of n.children){const s=Vd(i,t);if(s)return s}}function _9(n,t,e){const i=Hd(t,e);for(const s of n){const r=Vd(s,i);if(r)return r}}function R9(n,t,e){const i=Hd(t,e);return Vd(n,i)}function mb(n,t,e,i){var s;if(t(n))return e.splice(i,1)[0];if((s=n.children)!==null&&s!==void 0&&s.length)for(let r=0;r<n.children.length;r++){const o=mb(n.children[r],t,n.children,r);if(o)return o}}function j9(n,t,e){const i=Hd(t,e);for(let s=0;s<n.length;s++){const r=mb(n[s],i,n,s);if(r)return r}}function z9(n){const t={},e=Object.getPrototypeOf(n);let i=n;if(e)for(let s of Object.getOwnPropertyNames(e))Reflect.set(i,s,e[s]);for(const[s,r]of Object.entries(i))if(typeof r=="function"&&(n==null?void 0:n.constructor)!==r){const o=kD(n,t,r);Reflect.set(t,s,o)}return t}function kD(n,t,e){return(...i)=>(e.call(n,...i),t)}function B9(n,t){for(const[e,i]of Object.entries(t))Reflect.set(n,e,i);return n}var Ja=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},bb={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(n){(function(t,e){n.exports=t.document?e(t,!0):function(i){if(!i.document)throw new Error("jQuery requires a window with a document");return e(i)}})(typeof window!="undefined"?window:Ja,function(t,e){var i=[],s=Object.getPrototypeOf,r=i.slice,o=i.flat?function(d){return i.flat.call(d)}:function(d){return i.concat.apply([],d)},a=i.push,l=i.indexOf,c={},u=c.toString,h=c.hasOwnProperty,f=h.toString,g=f.call(Object),b={},y=function(m){return typeof m=="function"&&typeof m.nodeType!="number"&&typeof m.item!="function"},w=function(m){return m!=null&&m===m.window},C=t.document,E={type:!0,src:!0,nonce:!0,noModule:!0};function S(d,m,v){v=v||C;var x,M,O=v.createElement("script");if(O.text=d,m)for(x in E)M=m[x]||m.getAttribute&&m.getAttribute(x),M&&O.setAttribute(x,M);v.head.appendChild(O).parentNode.removeChild(O)}function T(d){return d==null?d+"":typeof d=="object"||typeof d=="function"?c[u.call(d)]||"object":typeof d}var $="3.6.0",p=function(d,m){return new p.fn.init(d,m)};p.fn=p.prototype={jquery:$,constructor:p,length:0,toArray:function(){return r.call(this)},get:function(d){return d==null?r.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var m=p.merge(this.constructor(),d);return m.prevObject=this,m},each:function(d){return p.each(this,d)},map:function(d){return this.pushStack(p.map(this,function(m,v){return d.call(m,v,m)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(d,m){return(m+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(d,m){return m%2}))},eq:function(d){var m=this.length,v=+d+(d<0?m:0);return this.pushStack(v>=0&&v<m?[this[v]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},p.extend=p.fn.extend=function(){var d,m,v,x,M,O,P=arguments[0]||{},j=1,z=arguments.length,W=!1;for(typeof P=="boolean"&&(W=P,P=arguments[j]||{},j++),typeof P!="object"&&!y(P)&&(P={}),j===z&&(P=this,j--);j<z;j++)if((d=arguments[j])!=null)for(m in d)x=d[m],!(m==="__proto__"||P===x)&&(W&&x&&(p.isPlainObject(x)||(M=Array.isArray(x)))?(v=P[m],M&&!Array.isArray(v)?O=[]:!M&&!p.isPlainObject(v)?O={}:O=v,M=!1,P[m]=p.extend(W,O,x)):x!==void 0&&(P[m]=x));return P},p.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var m,v;return!d||u.call(d)!=="[object Object]"?!1:(m=s(d),m?(v=h.call(m,"constructor")&&m.constructor,typeof v=="function"&&f.call(v)===g):!0)},isEmptyObject:function(d){var m;for(m in d)return!1;return!0},globalEval:function(d,m,v){S(d,{nonce:m&&m.nonce},v)},each:function(d,m){var v,x=0;if(A(d))for(v=d.length;x<v&&m.call(d[x],x,d[x])!==!1;x++);else for(x in d)if(m.call(d[x],x,d[x])===!1)break;return d},makeArray:function(d,m){var v=m||[];return d!=null&&(A(Object(d))?p.merge(v,typeof d=="string"?[d]:d):a.call(v,d)),v},inArray:function(d,m,v){return m==null?-1:l.call(m,d,v)},merge:function(d,m){for(var v=+m.length,x=0,M=d.length;x<v;x++)d[M++]=m[x];return d.length=M,d},grep:function(d,m,v){for(var x,M=[],O=0,P=d.length,j=!v;O<P;O++)x=!m(d[O],O),x!==j&&M.push(d[O]);return M},map:function(d,m,v){var x,M,O=0,P=[];if(A(d))for(x=d.length;O<x;O++)M=m(d[O],O,v),M!=null&&P.push(M);else for(O in d)M=m(d[O],O,v),M!=null&&P.push(M);return o(P)},guid:1,support:b}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=i[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,m){c["[object "+m+"]"]=m.toLowerCase()});function A(d){var m=!!d&&"length"in d&&d.length,v=T(d);return y(d)||w(d)?!1:v==="array"||m===0||typeof m=="number"&&m>0&&m-1 in d}var k=function(d){var m,v,x,M,O,P,j,z,W,J,at,K,tt,_t,Kt,Rt,bn,an,ii,Te="sizzle"+1*new Date,Yt=d.document,Un=0,me=0,Ue=Gl(),da=Gl(),Bl=Gl(),si=Gl(),er=function(D,R){return D===R&&(at=!0),0},nr={}.hasOwnProperty,qn=[],As=qn.pop,gi=qn.push,Ms=qn.push,hp=qn.slice,ir=function(D,R){for(var V=0,it=D.length;V<it;V++)if(D[V]===R)return V;return-1},dh="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Se="[\\x20\\t\\r\\n\\f]",sr="(?:\\\\[\\da-fA-F]{1,6}"+Se+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",dp="\\["+Se+"*("+sr+")(?:"+Se+"*([*^$|!~]?=)"+Se+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+sr+"))|)"+Se+"*\\]",fh=":("+sr+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+dp+")*)|.*)\\)|)",hw=new RegExp(Se+"+","g"),Hl=new RegExp("^"+Se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Se+"+$","g"),dw=new RegExp("^"+Se+"*,"+Se+"*"),fp=new RegExp("^"+Se+"*([>+~]|"+Se+")"+Se+"*"),fw=new RegExp(Se+"|>"),gw=new RegExp(fh),pw=new RegExp("^"+sr+"$"),Vl={ID:new RegExp("^#("+sr+")"),CLASS:new RegExp("^\\.("+sr+")"),TAG:new RegExp("^("+sr+"|[*])"),ATTR:new RegExp("^"+dp),PSEUDO:new RegExp("^"+fh),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Se+"*(even|odd|(([+-]|)(\\d*)n|)"+Se+"*(?:([+-]|)"+Se+"*(\\d+)|))"+Se+"*\\)|)","i"),bool:new RegExp("^(?:"+dh+")$","i"),needsContext:new RegExp("^"+Se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Se+"*((?:-\\d)?\\d*)"+Se+"*\\)|)(?=[^-]|$)","i")},mw=/HTML$/i,bw=/^(?:input|select|textarea|button)$/i,yw=/^h\d$/i,fa=/^[^{]+\{\s*\[native \w/,vw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gh=/[+~]/,as=new RegExp("\\\\[\\da-fA-F]{1,6}"+Se+"?|\\\\([^\\r\\n\\f])","g"),ls=function(D,R){var V="0x"+D.slice(1)-65536;return R||(V<0?String.fromCharCode(V+65536):String.fromCharCode(V>>10|55296,V&1023|56320))},gp=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,pp=function(D,R){return R?D==="\0"?"\uFFFD":D.slice(0,-1)+"\\"+D.charCodeAt(D.length-1).toString(16)+" ":"\\"+D},mp=function(){K()},Cw=Ul(function(D){return D.disabled===!0&&D.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Ms.apply(qn=hp.call(Yt.childNodes),Yt.childNodes),qn[Yt.childNodes.length].nodeType}catch{Ms={apply:qn.length?function(R,V){gi.apply(R,hp.call(V))}:function(R,V){for(var it=R.length,U=0;R[it++]=V[U++];);R.length=it-1}}}function De(D,R,V,it){var U,rt,lt,bt,St,Ht,Bt,Wt=R&&R.ownerDocument,le=R?R.nodeType:9;if(V=V||[],typeof D!="string"||!D||le!==1&&le!==9&&le!==11)return V;if(!it&&(K(R),R=R||tt,Kt)){if(le!==11&&(St=vw.exec(D)))if(U=St[1]){if(le===9)if(lt=R.getElementById(U)){if(lt.id===U)return V.push(lt),V}else return V;else if(Wt&&(lt=Wt.getElementById(U))&&ii(R,lt)&&lt.id===U)return V.push(lt),V}else{if(St[2])return Ms.apply(V,R.getElementsByTagName(D)),V;if((U=St[3])&&v.getElementsByClassName&&R.getElementsByClassName)return Ms.apply(V,R.getElementsByClassName(U)),V}if(v.qsa&&!si[D+" "]&&(!Rt||!Rt.test(D))&&(le!==1||R.nodeName.toLowerCase()!=="object")){if(Bt=D,Wt=R,le===1&&(fw.test(D)||fp.test(D))){for(Wt=gh.test(D)&&mh(R.parentNode)||R,(Wt!==R||!v.scope)&&((bt=R.getAttribute("id"))?bt=bt.replace(gp,pp):R.setAttribute("id",bt=Te)),Ht=P(D),rt=Ht.length;rt--;)Ht[rt]=(bt?"#"+bt:":scope")+" "+Wl(Ht[rt]);Bt=Ht.join(",")}try{return Ms.apply(V,Wt.querySelectorAll(Bt)),V}catch{si(D,!0)}finally{bt===Te&&R.removeAttribute("id")}}}return z(D.replace(Hl,"$1"),R,V,it)}function Gl(){var D=[];function R(V,it){return D.push(V+" ")>x.cacheLength&&delete R[D.shift()],R[V+" "]=it}return R}function Pi(D){return D[Te]=!0,D}function $i(D){var R=tt.createElement("fieldset");try{return!!D(R)}catch{return!1}finally{R.parentNode&&R.parentNode.removeChild(R),R=null}}function ph(D,R){for(var V=D.split("|"),it=V.length;it--;)x.attrHandle[V[it]]=R}function bp(D,R){var V=R&&D,it=V&&D.nodeType===1&&R.nodeType===1&&D.sourceIndex-R.sourceIndex;if(it)return it;if(V){for(;V=V.nextSibling;)if(V===R)return-1}return D?1:-1}function ww(D){return function(R){var V=R.nodeName.toLowerCase();return V==="input"&&R.type===D}}function xw(D){return function(R){var V=R.nodeName.toLowerCase();return(V==="input"||V==="button")&&R.type===D}}function yp(D){return function(R){return"form"in R?R.parentNode&&R.disabled===!1?"label"in R?"label"in R.parentNode?R.parentNode.disabled===D:R.disabled===D:R.isDisabled===D||R.isDisabled!==!D&&Cw(R)===D:R.disabled===D:"label"in R?R.disabled===D:!1}}function rr(D){return Pi(function(R){return R=+R,Pi(function(V,it){for(var U,rt=D([],V.length,R),lt=rt.length;lt--;)V[U=rt[lt]]&&(V[U]=!(it[U]=V[U]))})})}function mh(D){return D&&typeof D.getElementsByTagName!="undefined"&&D}v=De.support={},O=De.isXML=function(D){var R=D&&D.namespaceURI,V=D&&(D.ownerDocument||D).documentElement;return!mw.test(R||V&&V.nodeName||"HTML")},K=De.setDocument=function(D){var R,V,it=D?D.ownerDocument||D:Yt;return it==tt||it.nodeType!==9||!it.documentElement||(tt=it,_t=tt.documentElement,Kt=!O(tt),Yt!=tt&&(V=tt.defaultView)&&V.top!==V&&(V.addEventListener?V.addEventListener("unload",mp,!1):V.attachEvent&&V.attachEvent("onunload",mp)),v.scope=$i(function(U){return _t.appendChild(U).appendChild(tt.createElement("div")),typeof U.querySelectorAll!="undefined"&&!U.querySelectorAll(":scope fieldset div").length}),v.attributes=$i(function(U){return U.className="i",!U.getAttribute("className")}),v.getElementsByTagName=$i(function(U){return U.appendChild(tt.createComment("")),!U.getElementsByTagName("*").length}),v.getElementsByClassName=fa.test(tt.getElementsByClassName),v.getById=$i(function(U){return _t.appendChild(U).id=Te,!tt.getElementsByName||!tt.getElementsByName(Te).length}),v.getById?(x.filter.ID=function(U){var rt=U.replace(as,ls);return function(lt){return lt.getAttribute("id")===rt}},x.find.ID=function(U,rt){if(typeof rt.getElementById!="undefined"&&Kt){var lt=rt.getElementById(U);return lt?[lt]:[]}}):(x.filter.ID=function(U){var rt=U.replace(as,ls);return function(lt){var bt=typeof lt.getAttributeNode!="undefined"&&lt.getAttributeNode("id");return bt&&bt.value===rt}},x.find.ID=function(U,rt){if(typeof rt.getElementById!="undefined"&&Kt){var lt,bt,St,Ht=rt.getElementById(U);if(Ht){if(lt=Ht.getAttributeNode("id"),lt&&lt.value===U)return[Ht];for(St=rt.getElementsByName(U),bt=0;Ht=St[bt++];)if(lt=Ht.getAttributeNode("id"),lt&&lt.value===U)return[Ht]}return[]}}),x.find.TAG=v.getElementsByTagName?function(U,rt){if(typeof rt.getElementsByTagName!="undefined")return rt.getElementsByTagName(U);if(v.qsa)return rt.querySelectorAll(U)}:function(U,rt){var lt,bt=[],St=0,Ht=rt.getElementsByTagName(U);if(U==="*"){for(;lt=Ht[St++];)lt.nodeType===1&&bt.push(lt);return bt}return Ht},x.find.CLASS=v.getElementsByClassName&&function(U,rt){if(typeof rt.getElementsByClassName!="undefined"&&Kt)return rt.getElementsByClassName(U)},bn=[],Rt=[],(v.qsa=fa.test(tt.querySelectorAll))&&($i(function(U){var rt;_t.appendChild(U).innerHTML="<a id='"+Te+"'></a><select id='"+Te+"-\r\\' msallowcapture=''><option selected=''></option></select>",U.querySelectorAll("[msallowcapture^='']").length&&Rt.push("[*^$]="+Se+`*(?:''|"")`),U.querySelectorAll("[selected]").length||Rt.push("\\["+Se+"*(?:value|"+dh+")"),U.querySelectorAll("[id~="+Te+"-]").length||Rt.push("~="),rt=tt.createElement("input"),rt.setAttribute("name",""),U.appendChild(rt),U.querySelectorAll("[name='']").length||Rt.push("\\["+Se+"*name"+Se+"*="+Se+`*(?:''|"")`),U.querySelectorAll(":checked").length||Rt.push(":checked"),U.querySelectorAll("a#"+Te+"+*").length||Rt.push(".#.+[+~]"),U.querySelectorAll("\\\f"),Rt.push("[\\r\\n\\f]")}),$i(function(U){U.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var rt=tt.createElement("input");rt.setAttribute("type","hidden"),U.appendChild(rt).setAttribute("name","D"),U.querySelectorAll("[name=d]").length&&Rt.push("name"+Se+"*[*^$|!~]?="),U.querySelectorAll(":enabled").length!==2&&Rt.push(":enabled",":disabled"),_t.appendChild(U).disabled=!0,U.querySelectorAll(":disabled").length!==2&&Rt.push(":enabled",":disabled"),U.querySelectorAll("*,:x"),Rt.push(",.*:")})),(v.matchesSelector=fa.test(an=_t.matches||_t.webkitMatchesSelector||_t.mozMatchesSelector||_t.oMatchesSelector||_t.msMatchesSelector))&&$i(function(U){v.disconnectedMatch=an.call(U,"*"),an.call(U,"[s!='']:x"),bn.push("!=",fh)}),Rt=Rt.length&&new RegExp(Rt.join("|")),bn=bn.length&&new RegExp(bn.join("|")),R=fa.test(_t.compareDocumentPosition),ii=R||fa.test(_t.contains)?function(U,rt){var lt=U.nodeType===9?U.documentElement:U,bt=rt&&rt.parentNode;return U===bt||!!(bt&&bt.nodeType===1&&(lt.contains?lt.contains(bt):U.compareDocumentPosition&&U.compareDocumentPosition(bt)&16))}:function(U,rt){if(rt){for(;rt=rt.parentNode;)if(rt===U)return!0}return!1},er=R?function(U,rt){if(U===rt)return at=!0,0;var lt=!U.compareDocumentPosition-!rt.compareDocumentPosition;return lt||(lt=(U.ownerDocument||U)==(rt.ownerDocument||rt)?U.compareDocumentPosition(rt):1,lt&1||!v.sortDetached&&rt.compareDocumentPosition(U)===lt?U==tt||U.ownerDocument==Yt&&ii(Yt,U)?-1:rt==tt||rt.ownerDocument==Yt&&ii(Yt,rt)?1:J?ir(J,U)-ir(J,rt):0:lt&4?-1:1)}:function(U,rt){if(U===rt)return at=!0,0;var lt,bt=0,St=U.parentNode,Ht=rt.parentNode,Bt=[U],Wt=[rt];if(!St||!Ht)return U==tt?-1:rt==tt?1:St?-1:Ht?1:J?ir(J,U)-ir(J,rt):0;if(St===Ht)return bp(U,rt);for(lt=U;lt=lt.parentNode;)Bt.unshift(lt);for(lt=rt;lt=lt.parentNode;)Wt.unshift(lt);for(;Bt[bt]===Wt[bt];)bt++;return bt?bp(Bt[bt],Wt[bt]):Bt[bt]==Yt?-1:Wt[bt]==Yt?1:0}),tt},De.matches=function(D,R){return De(D,null,null,R)},De.matchesSelector=function(D,R){if(K(D),v.matchesSelector&&Kt&&!si[R+" "]&&(!bn||!bn.test(R))&&(!Rt||!Rt.test(R)))try{var V=an.call(D,R);if(V||v.disconnectedMatch||D.document&&D.document.nodeType!==11)return V}catch{si(R,!0)}return De(R,tt,null,[D]).length>0},De.contains=function(D,R){return(D.ownerDocument||D)!=tt&&K(D),ii(D,R)},De.attr=function(D,R){(D.ownerDocument||D)!=tt&&K(D);var V=x.attrHandle[R.toLowerCase()],it=V&&nr.call(x.attrHandle,R.toLowerCase())?V(D,R,!Kt):void 0;return it!==void 0?it:v.attributes||!Kt?D.getAttribute(R):(it=D.getAttributeNode(R))&&it.specified?it.value:null},De.escape=function(D){return(D+"").replace(gp,pp)},De.error=function(D){throw new Error("Syntax error, unrecognized expression: "+D)},De.uniqueSort=function(D){var R,V=[],it=0,U=0;if(at=!v.detectDuplicates,J=!v.sortStable&&D.slice(0),D.sort(er),at){for(;R=D[U++];)R===D[U]&&(it=V.push(U));for(;it--;)D.splice(V[it],1)}return J=null,D},M=De.getText=function(D){var R,V="",it=0,U=D.nodeType;if(U){if(U===1||U===9||U===11){if(typeof D.textContent=="string")return D.textContent;for(D=D.firstChild;D;D=D.nextSibling)V+=M(D)}else if(U===3||U===4)return D.nodeValue}else for(;R=D[it++];)V+=M(R);return V},x=De.selectors={cacheLength:50,createPseudo:Pi,match:Vl,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(D){return D[1]=D[1].replace(as,ls),D[3]=(D[3]||D[4]||D[5]||"").replace(as,ls),D[2]==="~="&&(D[3]=" "+D[3]+" "),D.slice(0,4)},CHILD:function(D){return D[1]=D[1].toLowerCase(),D[1].slice(0,3)==="nth"?(D[3]||De.error(D[0]),D[4]=+(D[4]?D[5]+(D[6]||1):2*(D[3]==="even"||D[3]==="odd")),D[5]=+(D[7]+D[8]||D[3]==="odd")):D[3]&&De.error(D[0]),D},PSEUDO:function(D){var R,V=!D[6]&&D[2];return Vl.CHILD.test(D[0])?null:(D[3]?D[2]=D[4]||D[5]||"":V&&gw.test(V)&&(R=P(V,!0))&&(R=V.indexOf(")",V.length-R)-V.length)&&(D[0]=D[0].slice(0,R),D[2]=V.slice(0,R)),D.slice(0,3))}},filter:{TAG:function(D){var R=D.replace(as,ls).toLowerCase();return D==="*"?function(){return!0}:function(V){return V.nodeName&&V.nodeName.toLowerCase()===R}},CLASS:function(D){var R=Ue[D+" "];return R||(R=new RegExp("(^|"+Se+")"+D+"("+Se+"|$)"))&&Ue(D,function(V){return R.test(typeof V.className=="string"&&V.className||typeof V.getAttribute!="undefined"&&V.getAttribute("class")||"")})},ATTR:function(D,R,V){return function(it){var U=De.attr(it,D);return U==null?R==="!=":R?(U+="",R==="="?U===V:R==="!="?U!==V:R==="^="?V&&U.indexOf(V)===0:R==="*="?V&&U.indexOf(V)>-1:R==="$="?V&&U.slice(-V.length)===V:R==="~="?(" "+U.replace(hw," ")+" ").indexOf(V)>-1:R==="|="?U===V||U.slice(0,V.length+1)===V+"-":!1):!0}},CHILD:function(D,R,V,it,U){var rt=D.slice(0,3)!=="nth",lt=D.slice(-4)!=="last",bt=R==="of-type";return it===1&&U===0?function(St){return!!St.parentNode}:function(St,Ht,Bt){var Wt,le,ke,Vt,yn,Ln,ri=rt!==lt?"nextSibling":"previousSibling",Ge=St.parentNode,ga=bt&&St.nodeName.toLowerCase(),pa=!Bt&&!bt,oi=!1;if(Ge){if(rt){for(;ri;){for(Vt=St;Vt=Vt[ri];)if(bt?Vt.nodeName.toLowerCase()===ga:Vt.nodeType===1)return!1;Ln=ri=D==="only"&&!Ln&&"nextSibling"}return!0}if(Ln=[lt?Ge.firstChild:Ge.lastChild],lt&&pa){for(Vt=Ge,ke=Vt[Te]||(Vt[Te]={}),le=ke[Vt.uniqueID]||(ke[Vt.uniqueID]={}),Wt=le[D]||[],yn=Wt[0]===Un&&Wt[1],oi=yn&&Wt[2],Vt=yn&&Ge.childNodes[yn];Vt=++yn&&Vt&&Vt[ri]||(oi=yn=0)||Ln.pop();)if(Vt.nodeType===1&&++oi&&Vt===St){le[D]=[Un,yn,oi];break}}else if(pa&&(Vt=St,ke=Vt[Te]||(Vt[Te]={}),le=ke[Vt.uniqueID]||(ke[Vt.uniqueID]={}),Wt=le[D]||[],yn=Wt[0]===Un&&Wt[1],oi=yn),oi===!1)for(;(Vt=++yn&&Vt&&Vt[ri]||(oi=yn=0)||Ln.pop())&&!((bt?Vt.nodeName.toLowerCase()===ga:Vt.nodeType===1)&&++oi&&(pa&&(ke=Vt[Te]||(Vt[Te]={}),le=ke[Vt.uniqueID]||(ke[Vt.uniqueID]={}),le[D]=[Un,oi]),Vt===St)););return oi-=U,oi===it||oi%it==0&&oi/it>=0}}},PSEUDO:function(D,R){var V,it=x.pseudos[D]||x.setFilters[D.toLowerCase()]||De.error("unsupported pseudo: "+D);return it[Te]?it(R):it.length>1?(V=[D,D,"",R],x.setFilters.hasOwnProperty(D.toLowerCase())?Pi(function(U,rt){for(var lt,bt=it(U,R),St=bt.length;St--;)lt=ir(U,bt[St]),U[lt]=!(rt[lt]=bt[St])}):function(U){return it(U,0,V)}):it}},pseudos:{not:Pi(function(D){var R=[],V=[],it=j(D.replace(Hl,"$1"));return it[Te]?Pi(function(U,rt,lt,bt){for(var St,Ht=it(U,null,bt,[]),Bt=U.length;Bt--;)(St=Ht[Bt])&&(U[Bt]=!(rt[Bt]=St))}):function(U,rt,lt){return R[0]=U,it(R,null,lt,V),R[0]=null,!V.pop()}}),has:Pi(function(D){return function(R){return De(D,R).length>0}}),contains:Pi(function(D){return D=D.replace(as,ls),function(R){return(R.textContent||M(R)).indexOf(D)>-1}}),lang:Pi(function(D){return pw.test(D||"")||De.error("unsupported lang: "+D),D=D.replace(as,ls).toLowerCase(),function(R){var V;do if(V=Kt?R.lang:R.getAttribute("xml:lang")||R.getAttribute("lang"))return V=V.toLowerCase(),V===D||V.indexOf(D+"-")===0;while((R=R.parentNode)&&R.nodeType===1);return!1}}),target:function(D){var R=d.location&&d.location.hash;return R&&R.slice(1)===D.id},root:function(D){return D===_t},focus:function(D){return D===tt.activeElement&&(!tt.hasFocus||tt.hasFocus())&&!!(D.type||D.href||~D.tabIndex)},enabled:yp(!1),disabled:yp(!0),checked:function(D){var R=D.nodeName.toLowerCase();return R==="input"&&!!D.checked||R==="option"&&!!D.selected},selected:function(D){return D.parentNode&&D.parentNode.selectedIndex,D.selected===!0},empty:function(D){for(D=D.firstChild;D;D=D.nextSibling)if(D.nodeType<6)return!1;return!0},parent:function(D){return!x.pseudos.empty(D)},header:function(D){return yw.test(D.nodeName)},input:function(D){return bw.test(D.nodeName)},button:function(D){var R=D.nodeName.toLowerCase();return R==="input"&&D.type==="button"||R==="button"},text:function(D){var R;return D.nodeName.toLowerCase()==="input"&&D.type==="text"&&((R=D.getAttribute("type"))==null||R.toLowerCase()==="text")},first:rr(function(){return[0]}),last:rr(function(D,R){return[R-1]}),eq:rr(function(D,R,V){return[V<0?V+R:V]}),even:rr(function(D,R){for(var V=0;V<R;V+=2)D.push(V);return D}),odd:rr(function(D,R){for(var V=1;V<R;V+=2)D.push(V);return D}),lt:rr(function(D,R,V){for(var it=V<0?V+R:V>R?R:V;--it>=0;)D.push(it);return D}),gt:rr(function(D,R,V){for(var it=V<0?V+R:V;++it<R;)D.push(it);return D})}},x.pseudos.nth=x.pseudos.eq;for(m in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[m]=ww(m);for(m in{submit:!0,reset:!0})x.pseudos[m]=xw(m);function vp(){}vp.prototype=x.filters=x.pseudos,x.setFilters=new vp,P=De.tokenize=function(D,R){var V,it,U,rt,lt,bt,St,Ht=da[D+" "];if(Ht)return R?0:Ht.slice(0);for(lt=D,bt=[],St=x.preFilter;lt;){(!V||(it=dw.exec(lt)))&&(it&&(lt=lt.slice(it[0].length)||lt),bt.push(U=[])),V=!1,(it=fp.exec(lt))&&(V=it.shift(),U.push({value:V,type:it[0].replace(Hl," ")}),lt=lt.slice(V.length));for(rt in x.filter)(it=Vl[rt].exec(lt))&&(!St[rt]||(it=St[rt](it)))&&(V=it.shift(),U.push({value:V,type:rt,matches:it}),lt=lt.slice(V.length));if(!V)break}return R?lt.length:lt?De.error(D):da(D,bt).slice(0)};function Wl(D){for(var R=0,V=D.length,it="";R<V;R++)it+=D[R].value;return it}function Ul(D,R,V){var it=R.dir,U=R.next,rt=U||it,lt=V&&rt==="parentNode",bt=me++;return R.first?function(St,Ht,Bt){for(;St=St[it];)if(St.nodeType===1||lt)return D(St,Ht,Bt);return!1}:function(St,Ht,Bt){var Wt,le,ke,Vt=[Un,bt];if(Bt){for(;St=St[it];)if((St.nodeType===1||lt)&&D(St,Ht,Bt))return!0}else for(;St=St[it];)if(St.nodeType===1||lt)if(ke=St[Te]||(St[Te]={}),le=ke[St.uniqueID]||(ke[St.uniqueID]={}),U&&U===St.nodeName.toLowerCase())St=St[it]||St;else{if((Wt=le[rt])&&Wt[0]===Un&&Wt[1]===bt)return Vt[2]=Wt[2];if(le[rt]=Vt,Vt[2]=D(St,Ht,Bt))return!0}return!1}}function bh(D){return D.length>1?function(R,V,it){for(var U=D.length;U--;)if(!D[U](R,V,it))return!1;return!0}:D[0]}function Sw(D,R,V){for(var it=0,U=R.length;it<U;it++)De(D,R[it],V);return V}function ql(D,R,V,it,U){for(var rt,lt=[],bt=0,St=D.length,Ht=R!=null;bt<St;bt++)(rt=D[bt])&&(!V||V(rt,it,U))&&(lt.push(rt),Ht&&R.push(bt));return lt}function yh(D,R,V,it,U,rt){return it&&!it[Te]&&(it=yh(it)),U&&!U[Te]&&(U=yh(U,rt)),Pi(function(lt,bt,St,Ht){var Bt,Wt,le,ke=[],Vt=[],yn=bt.length,Ln=lt||Sw(R||"*",St.nodeType?[St]:St,[]),ri=D&&(lt||!R)?ql(Ln,ke,D,St,Ht):Ln,Ge=V?U||(lt?D:yn||it)?[]:bt:ri;if(V&&V(ri,Ge,St,Ht),it)for(Bt=ql(Ge,Vt),it(Bt,[],St,Ht),Wt=Bt.length;Wt--;)(le=Bt[Wt])&&(Ge[Vt[Wt]]=!(ri[Vt[Wt]]=le));if(lt){if(U||D){if(U){for(Bt=[],Wt=Ge.length;Wt--;)(le=Ge[Wt])&&Bt.push(ri[Wt]=le);U(null,Ge=[],Bt,Ht)}for(Wt=Ge.length;Wt--;)(le=Ge[Wt])&&(Bt=U?ir(lt,le):ke[Wt])>-1&&(lt[Bt]=!(bt[Bt]=le))}}else Ge=ql(Ge===bt?Ge.splice(yn,Ge.length):Ge),U?U(null,bt,Ge,Ht):Ms.apply(bt,Ge)})}function vh(D){for(var R,V,it,U=D.length,rt=x.relative[D[0].type],lt=rt||x.relative[" "],bt=rt?1:0,St=Ul(function(Wt){return Wt===R},lt,!0),Ht=Ul(function(Wt){return ir(R,Wt)>-1},lt,!0),Bt=[function(Wt,le,ke){var Vt=!rt&&(ke||le!==W)||((R=le).nodeType?St(Wt,le,ke):Ht(Wt,le,ke));return R=null,Vt}];bt<U;bt++)if(V=x.relative[D[bt].type])Bt=[Ul(bh(Bt),V)];else{if(V=x.filter[D[bt].type].apply(null,D[bt].matches),V[Te]){for(it=++bt;it<U&&!x.relative[D[it].type];it++);return yh(bt>1&&bh(Bt),bt>1&&Wl(D.slice(0,bt-1).concat({value:D[bt-2].type===" "?"*":""})).replace(Hl,"$1"),V,bt<it&&vh(D.slice(bt,it)),it<U&&vh(D=D.slice(it)),it<U&&Wl(D))}Bt.push(V)}return bh(Bt)}function Ew(D,R){var V=R.length>0,it=D.length>0,U=function(rt,lt,bt,St,Ht){var Bt,Wt,le,ke=0,Vt="0",yn=rt&&[],Ln=[],ri=W,Ge=rt||it&&x.find.TAG("*",Ht),ga=Un+=ri==null?1:Math.random()||.1,pa=Ge.length;for(Ht&&(W=lt==tt||lt||Ht);Vt!==pa&&(Bt=Ge[Vt])!=null;Vt++){if(it&&Bt){for(Wt=0,!lt&&Bt.ownerDocument!=tt&&(K(Bt),bt=!Kt);le=D[Wt++];)if(le(Bt,lt||tt,bt)){St.push(Bt);break}Ht&&(Un=ga)}V&&((Bt=!le&&Bt)&&ke--,rt&&yn.push(Bt))}if(ke+=Vt,V&&Vt!==ke){for(Wt=0;le=R[Wt++];)le(yn,Ln,lt,bt);if(rt){if(ke>0)for(;Vt--;)yn[Vt]||Ln[Vt]||(Ln[Vt]=As.call(St));Ln=ql(Ln)}Ms.apply(St,Ln),Ht&&!rt&&Ln.length>0&&ke+R.length>1&&De.uniqueSort(St)}return Ht&&(Un=ga,W=ri),yn};return V?Pi(U):U}return j=De.compile=function(D,R){var V,it=[],U=[],rt=Bl[D+" "];if(!rt){for(R||(R=P(D)),V=R.length;V--;)rt=vh(R[V]),rt[Te]?it.push(rt):U.push(rt);rt=Bl(D,Ew(U,it)),rt.selector=D}return rt},z=De.select=function(D,R,V,it){var U,rt,lt,bt,St,Ht=typeof D=="function"&&D,Bt=!it&&P(D=Ht.selector||D);if(V=V||[],Bt.length===1){if(rt=Bt[0]=Bt[0].slice(0),rt.length>2&&(lt=rt[0]).type==="ID"&&R.nodeType===9&&Kt&&x.relative[rt[1].type]){if(R=(x.find.ID(lt.matches[0].replace(as,ls),R)||[])[0],R)Ht&&(R=R.parentNode);else return V;D=D.slice(rt.shift().value.length)}for(U=Vl.needsContext.test(D)?0:rt.length;U--&&(lt=rt[U],!x.relative[bt=lt.type]);)if((St=x.find[bt])&&(it=St(lt.matches[0].replace(as,ls),gh.test(rt[0].type)&&mh(R.parentNode)||R))){if(rt.splice(U,1),D=it.length&&Wl(rt),!D)return Ms.apply(V,it),V;break}}return(Ht||j(D,Bt))(it,R,!Kt,V,!R||gh.test(D)&&mh(R.parentNode)||R),V},v.sortStable=Te.split("").sort(er).join("")===Te,v.detectDuplicates=!!at,K(),v.sortDetached=$i(function(D){return D.compareDocumentPosition(tt.createElement("fieldset"))&1}),$i(function(D){return D.innerHTML="<a href='#'></a>",D.firstChild.getAttribute("href")==="#"})||ph("type|href|height|width",function(D,R,V){if(!V)return D.getAttribute(R,R.toLowerCase()==="type"?1:2)}),(!v.attributes||!$i(function(D){return D.innerHTML="<input/>",D.firstChild.setAttribute("value",""),D.firstChild.getAttribute("value")===""}))&&ph("value",function(D,R,V){if(!V&&D.nodeName.toLowerCase()==="input")return D.defaultValue}),$i(function(D){return D.getAttribute("disabled")==null})||ph(dh,function(D,R,V){var it;if(!V)return D[R]===!0?R.toLowerCase():(it=D.getAttributeNode(R))&&it.specified?it.value:null}),De}(t);p.find=k,p.expr=k.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=k.uniqueSort,p.text=k.getText,p.isXMLDoc=k.isXML,p.contains=k.contains,p.escapeSelector=k.escape;var F=function(d,m,v){for(var x=[],M=v!==void 0;(d=d[m])&&d.nodeType!==9;)if(d.nodeType===1){if(M&&p(d).is(v))break;x.push(d)}return x},H=function(d,m){for(var v=[];d;d=d.nextSibling)d.nodeType===1&&d!==m&&v.push(d);return v},_=p.expr.match.needsContext;function I(d,m){return d.nodeName&&d.nodeName.toLowerCase()===m.toLowerCase()}var Y=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function nt(d,m,v){return y(m)?p.grep(d,function(x,M){return!!m.call(x,M,x)!==v}):m.nodeType?p.grep(d,function(x){return x===m!==v}):typeof m!="string"?p.grep(d,function(x){return l.call(m,x)>-1!==v}):p.filter(m,d,v)}p.filter=function(d,m,v){var x=m[0];return v&&(d=":not("+d+")"),m.length===1&&x.nodeType===1?p.find.matchesSelector(x,d)?[x]:[]:p.find.matches(d,p.grep(m,function(M){return M.nodeType===1}))},p.fn.extend({find:function(d){var m,v,x=this.length,M=this;if(typeof d!="string")return this.pushStack(p(d).filter(function(){for(m=0;m<x;m++)if(p.contains(M[m],this))return!0}));for(v=this.pushStack([]),m=0;m<x;m++)p.find(d,M[m],v);return x>1?p.uniqueSort(v):v},filter:function(d){return this.pushStack(nt(this,d||[],!1))},not:function(d){return this.pushStack(nt(this,d||[],!0))},is:function(d){return!!nt(this,typeof d=="string"&&_.test(d)?p(d):d||[],!1).length}});var G,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Q=p.fn.init=function(d,m,v){var x,M;if(!d)return this;if(v=v||G,typeof d=="string")if(d[0]==="<"&&d[d.length-1]===">"&&d.length>=3?x=[null,d,null]:x=q.exec(d),x&&(x[1]||!m))if(x[1]){if(m=m instanceof p?m[0]:m,p.merge(this,p.parseHTML(x[1],m&&m.nodeType?m.ownerDocument||m:C,!0)),Y.test(x[1])&&p.isPlainObject(m))for(x in m)y(this[x])?this[x](m[x]):this.attr(x,m[x]);return this}else return M=C.getElementById(x[2]),M&&(this[0]=M,this.length=1),this;else return!m||m.jquery?(m||v).find(d):this.constructor(m).find(d);else{if(d.nodeType)return this[0]=d,this.length=1,this;if(y(d))return v.ready!==void 0?v.ready(d):d(p)}return p.makeArray(d,this)};Q.prototype=p.fn,G=p(C);var st=/^(?:parents|prev(?:Until|All))/,Tt={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(d){var m=p(d,this),v=m.length;return this.filter(function(){for(var x=0;x<v;x++)if(p.contains(this,m[x]))return!0})},closest:function(d,m){var v,x=0,M=this.length,O=[],P=typeof d!="string"&&p(d);if(!_.test(d)){for(;x<M;x++)for(v=this[x];v&&v!==m;v=v.parentNode)if(v.nodeType<11&&(P?P.index(v)>-1:v.nodeType===1&&p.find.matchesSelector(v,d))){O.push(v);break}}return this.pushStack(O.length>1?p.uniqueSort(O):O)},index:function(d){return d?typeof d=="string"?l.call(p(d),this[0]):l.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,m){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(d,m))))},addBack:function(d){return this.add(d==null?this.prevObject:this.prevObject.filter(d))}});function Ut(d,m){for(;(d=d[m])&&d.nodeType!==1;);return d}p.each({parent:function(d){var m=d.parentNode;return m&&m.nodeType!==11?m:null},parents:function(d){return F(d,"parentNode")},parentsUntil:function(d,m,v){return F(d,"parentNode",v)},next:function(d){return Ut(d,"nextSibling")},prev:function(d){return Ut(d,"previousSibling")},nextAll:function(d){return F(d,"nextSibling")},prevAll:function(d){return F(d,"previousSibling")},nextUntil:function(d,m,v){return F(d,"nextSibling",v)},prevUntil:function(d,m,v){return F(d,"previousSibling",v)},siblings:function(d){return H((d.parentNode||{}).firstChild,d)},children:function(d){return H(d.firstChild)},contents:function(d){return d.contentDocument!=null&&s(d.contentDocument)?d.contentDocument:(I(d,"template")&&(d=d.content||d),p.merge([],d.childNodes))}},function(d,m){p.fn[d]=function(v,x){var M=p.map(this,m,v);return d.slice(-5)!=="Until"&&(x=v),x&&typeof x=="string"&&(M=p.filter(x,M)),this.length>1&&(Tt[d]||p.uniqueSort(M),st.test(d)&&M.reverse()),this.pushStack(M)}});var ht=/[^\x20\t\r\n\f]+/g;function Nt(d){var m={};return p.each(d.match(ht)||[],function(v,x){m[x]=!0}),m}p.Callbacks=function(d){d=typeof d=="string"?Nt(d):p.extend({},d);var m,v,x,M,O=[],P=[],j=-1,z=function(){for(M=M||d.once,x=m=!0;P.length;j=-1)for(v=P.shift();++j<O.length;)O[j].apply(v[0],v[1])===!1&&d.stopOnFalse&&(j=O.length,v=!1);d.memory||(v=!1),m=!1,M&&(v?O=[]:O="")},W={add:function(){return O&&(v&&!m&&(j=O.length-1,P.push(v)),function J(at){p.each(at,function(K,tt){y(tt)?(!d.unique||!W.has(tt))&&O.push(tt):tt&&tt.length&&T(tt)!=="string"&&J(tt)})}(arguments),v&&!m&&z()),this},remove:function(){return p.each(arguments,function(J,at){for(var K;(K=p.inArray(at,O,K))>-1;)O.splice(K,1),K<=j&&j--}),this},has:function(J){return J?p.inArray(J,O)>-1:O.length>0},empty:function(){return O&&(O=[]),this},disable:function(){return M=P=[],O=v="",this},disabled:function(){return!O},lock:function(){return M=P=[],!v&&!m&&(O=v=""),this},locked:function(){return!!M},fireWith:function(J,at){return M||(at=at||[],at=[J,at.slice?at.slice():at],P.push(at),m||z()),this},fire:function(){return W.fireWith(this,arguments),this},fired:function(){return!!x}};return W};function Ft(d){return d}function Ot(d){throw d}function jt(d,m,v,x){var M;try{d&&y(M=d.promise)?M.call(d).done(m).fail(v):d&&y(M=d.then)?M.call(d,m,v):m.apply(void 0,[d].slice(x))}catch(O){v.apply(void 0,[O])}}p.extend({Deferred:function(d){var m=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],v="pending",x={state:function(){return v},always:function(){return M.done(arguments).fail(arguments),this},catch:function(O){return x.then(null,O)},pipe:function(){var O=arguments;return p.Deferred(function(P){p.each(m,function(j,z){var W=y(O[z[4]])&&O[z[4]];M[z[1]](function(){var J=W&&W.apply(this,arguments);J&&y(J.promise)?J.promise().progress(P.notify).done(P.resolve).fail(P.reject):P[z[0]+"With"](this,W?[J]:arguments)})}),O=null}).promise()},then:function(O,P,j){var z=0;function W(J,at,K,tt){return function(){var _t=this,Kt=arguments,Rt=function(){var an,ii;if(!(J<z)){if(an=K.apply(_t,Kt),an===at.promise())throw new TypeError("Thenable self-resolution");ii=an&&(typeof an=="object"||typeof an=="function")&&an.then,y(ii)?tt?ii.call(an,W(z,at,Ft,tt),W(z,at,Ot,tt)):(z++,ii.call(an,W(z,at,Ft,tt),W(z,at,Ot,tt),W(z,at,Ft,at.notifyWith))):(K!==Ft&&(_t=void 0,Kt=[an]),(tt||at.resolveWith)(_t,Kt))}},bn=tt?Rt:function(){try{Rt()}catch(an){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(an,bn.stackTrace),J+1>=z&&(K!==Ot&&(_t=void 0,Kt=[an]),at.rejectWith(_t,Kt))}};J?bn():(p.Deferred.getStackHook&&(bn.stackTrace=p.Deferred.getStackHook()),t.setTimeout(bn))}}return p.Deferred(function(J){m[0][3].add(W(0,J,y(j)?j:Ft,J.notifyWith)),m[1][3].add(W(0,J,y(O)?O:Ft)),m[2][3].add(W(0,J,y(P)?P:Ot))}).promise()},promise:function(O){return O!=null?p.extend(O,x):x}},M={};return p.each(m,function(O,P){var j=P[2],z=P[5];x[P[1]]=j.add,z&&j.add(function(){v=z},m[3-O][2].disable,m[3-O][3].disable,m[0][2].lock,m[0][3].lock),j.add(P[3].fire),M[P[0]]=function(){return M[P[0]+"With"](this===M?void 0:this,arguments),this},M[P[0]+"With"]=j.fireWith}),x.promise(M),d&&d.call(M,M),M},when:function(d){var m=arguments.length,v=m,x=Array(v),M=r.call(arguments),O=p.Deferred(),P=function(j){return function(z){x[j]=this,M[j]=arguments.length>1?r.call(arguments):z,--m||O.resolveWith(x,M)}};if(m<=1&&(jt(d,O.done(P(v)).resolve,O.reject,!m),O.state()==="pending"||y(M[v]&&M[v].then)))return O.then();for(;v--;)jt(M[v],P(v),O.reject);return O.promise()}});var ie=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(d,m){t.console&&t.console.warn&&d&&ie.test(d.name)&&t.console.warn("jQuery.Deferred exception: "+d.message,d.stack,m)},p.readyException=function(d){t.setTimeout(function(){throw d})};var Mt=p.Deferred();p.fn.ready=function(d){return Mt.then(d).catch(function(m){p.readyException(m)}),this},p.extend({isReady:!1,readyWait:1,ready:function(d){(d===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(d!==!0&&--p.readyWait>0)&&Mt.resolveWith(C,[p]))}}),p.ready.then=Mt.then;function qt(){C.removeEventListener("DOMContentLoaded",qt),t.removeEventListener("load",qt),p.ready()}C.readyState==="complete"||C.readyState!=="loading"&&!C.documentElement.doScroll?t.setTimeout(p.ready):(C.addEventListener("DOMContentLoaded",qt),t.addEventListener("load",qt));var ye=function(d,m,v,x,M,O,P){var j=0,z=d.length,W=v==null;if(T(v)==="object"){M=!0;for(j in v)ye(d,m,j,v[j],!0,O,P)}else if(x!==void 0&&(M=!0,y(x)||(P=!0),W&&(P?(m.call(d,x),m=null):(W=m,m=function(J,at,K){return W.call(p(J),K)})),m))for(;j<z;j++)m(d[j],v,P?x:x.call(d[j],j,m(d[j],v)));return M?d:W?m.call(d):z?m(d[0],v):O},Ae=/^-ms-/,Gn=/-([a-z])/g;function ni(d,m){return m.toUpperCase()}function N(d){return d.replace(Ae,"ms-").replace(Gn,ni)}var B=function(d){return d.nodeType===1||d.nodeType===9||!+d.nodeType};function Z(){this.expando=p.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(d){var m=d[this.expando];return m||(m={},B(d)&&(d.nodeType?d[this.expando]=m:Object.defineProperty(d,this.expando,{value:m,configurable:!0}))),m},set:function(d,m,v){var x,M=this.cache(d);if(typeof m=="string")M[N(m)]=v;else for(x in m)M[N(x)]=m[x];return M},get:function(d,m){return m===void 0?this.cache(d):d[this.expando]&&d[this.expando][N(m)]},access:function(d,m,v){return m===void 0||m&&typeof m=="string"&&v===void 0?this.get(d,m):(this.set(d,m,v),v!==void 0?v:m)},remove:function(d,m){var v,x=d[this.expando];if(x!==void 0){if(m!==void 0)for(Array.isArray(m)?m=m.map(N):(m=N(m),m=m in x?[m]:m.match(ht)||[]),v=m.length;v--;)delete x[m[v]];(m===void 0||p.isEmptyObject(x))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var m=d[this.expando];return m!==void 0&&!p.isEmptyObject(m)}};var X=new Z,et=new Z,gt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vt=/[A-Z]/g;function dt(d){return d==="true"?!0:d==="false"?!1:d==="null"?null:d===+d+""?+d:gt.test(d)?JSON.parse(d):d}function pt(d,m,v){var x;if(v===void 0&&d.nodeType===1)if(x="data-"+m.replace(vt,"-$&").toLowerCase(),v=d.getAttribute(x),typeof v=="string"){try{v=dt(v)}catch{}et.set(d,m,v)}else v=void 0;return v}p.extend({hasData:function(d){return et.hasData(d)||X.hasData(d)},data:function(d,m,v){return et.access(d,m,v)},removeData:function(d,m){et.remove(d,m)},_data:function(d,m,v){return X.access(d,m,v)},_removeData:function(d,m){X.remove(d,m)}}),p.fn.extend({data:function(d,m){var v,x,M,O=this[0],P=O&&O.attributes;if(d===void 0){if(this.length&&(M=et.get(O),O.nodeType===1&&!X.get(O,"hasDataAttrs"))){for(v=P.length;v--;)P[v]&&(x=P[v].name,x.indexOf("data-")===0&&(x=N(x.slice(5)),pt(O,x,M[x])));X.set(O,"hasDataAttrs",!0)}return M}return typeof d=="object"?this.each(function(){et.set(this,d)}):ye(this,function(j){var z;if(O&&j===void 0)return z=et.get(O,d),z!==void 0||(z=pt(O,d),z!==void 0)?z:void 0;this.each(function(){et.set(this,d,j)})},null,m,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){et.remove(this,d)})}}),p.extend({queue:function(d,m,v){var x;if(d)return m=(m||"fx")+"queue",x=X.get(d,m),v&&(!x||Array.isArray(v)?x=X.access(d,m,p.makeArray(v)):x.push(v)),x||[]},dequeue:function(d,m){m=m||"fx";var v=p.queue(d,m),x=v.length,M=v.shift(),O=p._queueHooks(d,m),P=function(){p.dequeue(d,m)};M==="inprogress"&&(M=v.shift(),x--),M&&(m==="fx"&&v.unshift("inprogress"),delete O.stop,M.call(d,P,O)),!x&&O&&O.empty.fire()},_queueHooks:function(d,m){var v=m+"queueHooks";return X.get(d,v)||X.access(d,v,{empty:p.Callbacks("once memory").add(function(){X.remove(d,[m+"queue",v])})})}}),p.fn.extend({queue:function(d,m){var v=2;return typeof d!="string"&&(m=d,d="fx",v--),arguments.length<v?p.queue(this[0],d):m===void 0?this:this.each(function(){var x=p.queue(this,d,m);p._queueHooks(this,d),d==="fx"&&x[0]!=="inprogress"&&p.dequeue(this,d)})},dequeue:function(d){return this.each(function(){p.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,m){var v,x=1,M=p.Deferred(),O=this,P=this.length,j=function(){--x||M.resolveWith(O,[O])};for(typeof d!="string"&&(m=d,d=void 0),d=d||"fx";P--;)v=X.get(O[P],d+"queueHooks"),v&&v.empty&&(x++,v.empty.add(j));return j(),M.promise(m)}});var ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),Ct=["Top","Right","Bottom","Left"],Pt=C.documentElement,zt=function(d){return p.contains(d.ownerDocument,d)},ft={composed:!0};Pt.getRootNode&&(zt=function(d){return p.contains(d.ownerDocument,d)||d.getRootNode(ft)===d.ownerDocument});var xt=function(d,m){return d=m||d,d.style.display==="none"||d.style.display===""&&zt(d)&&p.css(d,"display")==="none"};function kt(d,m,v,x){var M,O,P=20,j=x?function(){return x.cur()}:function(){return p.css(d,m,"")},z=j(),W=v&&v[3]||(p.cssNumber[m]?"":"px"),J=d.nodeType&&(p.cssNumber[m]||W!=="px"&&+z)&&Dt.exec(p.css(d,m));if(J&&J[3]!==W){for(z=z/2,W=W||J[3],J=+z||1;P--;)p.style(d,m,J+W),(1-O)*(1-(O=j()/z||.5))<=0&&(P=0),J=J/O;J=J*2,p.style(d,m,J+W),v=v||[]}return v&&(J=+J||+z||0,M=v[1]?J+(v[1]+1)*v[2]:+v[2],x&&(x.unit=W,x.start=J,x.end=M)),M}var $t={};function Jt(d){var m,v=d.ownerDocument,x=d.nodeName,M=$t[x];return M||(m=v.body.appendChild(v.createElement(x)),M=p.css(m,"display"),m.parentNode.removeChild(m),M==="none"&&(M="block"),$t[x]=M,M)}function Pe(d,m){for(var v,x,M=[],O=0,P=d.length;O<P;O++)x=d[O],!!x.style&&(v=x.style.display,m?(v==="none"&&(M[O]=X.get(x,"display")||null,M[O]||(x.style.display="")),x.style.display===""&&xt(x)&&(M[O]=Jt(x))):v!=="none"&&(M[O]="none",X.set(x,"display",v)));for(O=0;O<P;O++)M[O]!=null&&(d[O].style.display=M[O]);return d}p.fn.extend({show:function(){return Pe(this,!0)},hide:function(){return Pe(this)},toggle:function(d){return typeof d=="boolean"?d?this.show():this.hide():this.each(function(){xt(this)?p(this).show():p(this).hide()})}});var nn=/^(?:checkbox|radio)$/i,rn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,on=/^$|^module$|\/(?:java|ecma)script/i;(function(){var d=C.createDocumentFragment(),m=d.appendChild(C.createElement("div")),v=C.createElement("input");v.setAttribute("type","radio"),v.setAttribute("checked","checked"),v.setAttribute("name","t"),m.appendChild(v),b.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue,m.innerHTML="<option></option>",b.option=!!m.lastChild})();var xe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};xe.tbody=xe.tfoot=xe.colgroup=xe.caption=xe.thead,xe.th=xe.td,b.option||(xe.optgroup=xe.option=[1,"<select multiple='multiple'>","</select>"]);function $e(d,m){var v;return typeof d.getElementsByTagName!="undefined"?v=d.getElementsByTagName(m||"*"):typeof d.querySelectorAll!="undefined"?v=d.querySelectorAll(m||"*"):v=[],m===void 0||m&&I(d,m)?p.merge([d],v):v}function Es(d,m){for(var v=0,x=d.length;v<x;v++)X.set(d[v],"globalEval",!m||X.get(m[v],"globalEval"))}var aa=/<|&#?\w+;/;function Il(d,m,v,x,M){for(var O,P,j,z,W,J,at=m.createDocumentFragment(),K=[],tt=0,_t=d.length;tt<_t;tt++)if(O=d[tt],O||O===0)if(T(O)==="object")p.merge(K,O.nodeType?[O]:O);else if(!aa.test(O))K.push(m.createTextNode(O));else{for(P=P||at.appendChild(m.createElement("div")),j=(rn.exec(O)||["",""])[1].toLowerCase(),z=xe[j]||xe._default,P.innerHTML=z[1]+p.htmlPrefilter(O)+z[2],J=z[0];J--;)P=P.lastChild;p.merge(K,P.childNodes),P=at.firstChild,P.textContent=""}for(at.textContent="",tt=0;O=K[tt++];){if(x&&p.inArray(O,x)>-1){M&&M.push(O);continue}if(W=zt(O),P=$e(at.appendChild(O),"script"),W&&Es(P),v)for(J=0;O=P[J++];)on.test(O.type||"")&&v.push(O)}return at}var zg=/^([^.]*)(?:\.(.+)|)/;function Kr(){return!0}function Jr(){return!1}function $1(d,m){return d===D1()==(m==="focus")}function D1(){try{return C.activeElement}catch{}}function th(d,m,v,x,M,O){var P,j;if(typeof m=="object"){typeof v!="string"&&(x=x||v,v=void 0);for(j in m)th(d,j,v,x,m[j],O);return d}if(x==null&&M==null?(M=v,x=v=void 0):M==null&&(typeof v=="string"?(M=x,x=void 0):(M=x,x=v,v=void 0)),M===!1)M=Jr;else if(!M)return d;return O===1&&(P=M,M=function(z){return p().off(z),P.apply(this,arguments)},M.guid=P.guid||(P.guid=p.guid++)),d.each(function(){p.event.add(this,m,M,x,v)})}p.event={global:{},add:function(d,m,v,x,M){var O,P,j,z,W,J,at,K,tt,_t,Kt,Rt=X.get(d);if(!!B(d))for(v.handler&&(O=v,v=O.handler,M=O.selector),M&&p.find.matchesSelector(Pt,M),v.guid||(v.guid=p.guid++),(z=Rt.events)||(z=Rt.events=Object.create(null)),(P=Rt.handle)||(P=Rt.handle=function(bn){return typeof p!="undefined"&&p.event.triggered!==bn.type?p.event.dispatch.apply(d,arguments):void 0}),m=(m||"").match(ht)||[""],W=m.length;W--;)j=zg.exec(m[W])||[],tt=Kt=j[1],_t=(j[2]||"").split(".").sort(),!!tt&&(at=p.event.special[tt]||{},tt=(M?at.delegateType:at.bindType)||tt,at=p.event.special[tt]||{},J=p.extend({type:tt,origType:Kt,data:x,handler:v,guid:v.guid,selector:M,needsContext:M&&p.expr.match.needsContext.test(M),namespace:_t.join(".")},O),(K=z[tt])||(K=z[tt]=[],K.delegateCount=0,(!at.setup||at.setup.call(d,x,_t,P)===!1)&&d.addEventListener&&d.addEventListener(tt,P)),at.add&&(at.add.call(d,J),J.handler.guid||(J.handler.guid=v.guid)),M?K.splice(K.delegateCount++,0,J):K.push(J),p.event.global[tt]=!0)},remove:function(d,m,v,x,M){var O,P,j,z,W,J,at,K,tt,_t,Kt,Rt=X.hasData(d)&&X.get(d);if(!(!Rt||!(z=Rt.events))){for(m=(m||"").match(ht)||[""],W=m.length;W--;){if(j=zg.exec(m[W])||[],tt=Kt=j[1],_t=(j[2]||"").split(".").sort(),!tt){for(tt in z)p.event.remove(d,tt+m[W],v,x,!0);continue}for(at=p.event.special[tt]||{},tt=(x?at.delegateType:at.bindType)||tt,K=z[tt]||[],j=j[2]&&new RegExp("(^|\\.)"+_t.join("\\.(?:.*\\.|)")+"(\\.|$)"),P=O=K.length;O--;)J=K[O],(M||Kt===J.origType)&&(!v||v.guid===J.guid)&&(!j||j.test(J.namespace))&&(!x||x===J.selector||x==="**"&&J.selector)&&(K.splice(O,1),J.selector&&K.delegateCount--,at.remove&&at.remove.call(d,J));P&&!K.length&&((!at.teardown||at.teardown.call(d,_t,Rt.handle)===!1)&&p.removeEvent(d,tt,Rt.handle),delete z[tt])}p.isEmptyObject(z)&&X.remove(d,"handle events")}},dispatch:function(d){var m,v,x,M,O,P,j=new Array(arguments.length),z=p.event.fix(d),W=(X.get(this,"events")||Object.create(null))[z.type]||[],J=p.event.special[z.type]||{};for(j[0]=z,m=1;m<arguments.length;m++)j[m]=arguments[m];if(z.delegateTarget=this,!(J.preDispatch&&J.preDispatch.call(this,z)===!1)){for(P=p.event.handlers.call(this,z,W),m=0;(M=P[m++])&&!z.isPropagationStopped();)for(z.currentTarget=M.elem,v=0;(O=M.handlers[v++])&&!z.isImmediatePropagationStopped();)(!z.rnamespace||O.namespace===!1||z.rnamespace.test(O.namespace))&&(z.handleObj=O,z.data=O.data,x=((p.event.special[O.origType]||{}).handle||O.handler).apply(M.elem,j),x!==void 0&&(z.result=x)===!1&&(z.preventDefault(),z.stopPropagation()));return J.postDispatch&&J.postDispatch.call(this,z),z.result}},handlers:function(d,m){var v,x,M,O,P,j=[],z=m.delegateCount,W=d.target;if(z&&W.nodeType&&!(d.type==="click"&&d.button>=1)){for(;W!==this;W=W.parentNode||this)if(W.nodeType===1&&!(d.type==="click"&&W.disabled===!0)){for(O=[],P={},v=0;v<z;v++)x=m[v],M=x.selector+" ",P[M]===void 0&&(P[M]=x.needsContext?p(M,this).index(W)>-1:p.find(M,this,null,[W]).length),P[M]&&O.push(x);O.length&&j.push({elem:W,handlers:O})}}return W=this,z<m.length&&j.push({elem:W,handlers:m.slice(z)}),j},addProp:function(d,m){Object.defineProperty(p.Event.prototype,d,{enumerable:!0,configurable:!0,get:y(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(v){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:v})}})},fix:function(d){return d[p.expando]?d:new p.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var m=this||d;return nn.test(m.type)&&m.click&&I(m,"input")&&_l(m,"click",Kr),!1},trigger:function(d){var m=this||d;return nn.test(m.type)&&m.click&&I(m,"input")&&_l(m,"click"),!0},_default:function(d){var m=d.target;return nn.test(m.type)&&m.click&&I(m,"input")&&X.get(m,"click")||I(m,"a")}},beforeunload:{postDispatch:function(d){d.result!==void 0&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}};function _l(d,m,v){if(!v){X.get(d,m)===void 0&&p.event.add(d,m,Kr);return}X.set(d,m,!1),p.event.add(d,m,{namespace:!1,handler:function(x){var M,O,P=X.get(this,m);if(x.isTrigger&1&&this[m]){if(P.length)(p.event.special[m]||{}).delegateType&&x.stopPropagation();else if(P=r.call(arguments),X.set(this,m,P),M=v(this,m),this[m](),O=X.get(this,m),P!==O||M?X.set(this,m,!1):O={},P!==O)return x.stopImmediatePropagation(),x.preventDefault(),O&&O.value}else P.length&&(X.set(this,m,{value:p.event.trigger(p.extend(P[0],p.Event.prototype),P.slice(1),this)}),x.stopImmediatePropagation())}})}p.removeEvent=function(d,m,v){d.removeEventListener&&d.removeEventListener(m,v)},p.Event=function(d,m){if(!(this instanceof p.Event))return new p.Event(d,m);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||d.defaultPrevented===void 0&&d.returnValue===!1?Kr:Jr,this.target=d.target&&d.target.nodeType===3?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,m&&p.extend(this,m),this.timeStamp=d&&d.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Jr,isPropagationStopped:Jr,isImmediatePropagationStopped:Jr,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=Kr,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=Kr,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=Kr,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(d,m){p.event.special[d]={setup:function(){return _l(this,d,$1),!1},trigger:function(){return _l(this,d),!0},_default:function(){return!0},delegateType:m}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,m){p.event.special[d]={delegateType:m,bindType:m,handle:function(v){var x,M=this,O=v.relatedTarget,P=v.handleObj;return(!O||O!==M&&!p.contains(M,O))&&(v.type=P.origType,x=P.handler.apply(this,arguments),v.type=m),x}}}),p.fn.extend({on:function(d,m,v,x){return th(this,d,m,v,x)},one:function(d,m,v,x){return th(this,d,m,v,x,1)},off:function(d,m,v){var x,M;if(d&&d.preventDefault&&d.handleObj)return x=d.handleObj,p(d.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof d=="object"){for(M in d)this.off(M,m,d[M]);return this}return(m===!1||typeof m=="function")&&(v=m,m=void 0),v===!1&&(v=Jr),this.each(function(){p.event.remove(this,d,v,m)})}});var k1=/<script|<style|<link/i,N1=/checked\s*(?:[^=]|=\s*.checked.)/i,L1=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Bg(d,m){return I(d,"table")&&I(m.nodeType!==11?m:m.firstChild,"tr")&&p(d).children("tbody")[0]||d}function F1(d){return d.type=(d.getAttribute("type")!==null)+"/"+d.type,d}function I1(d){return(d.type||"").slice(0,5)==="true/"?d.type=d.type.slice(5):d.removeAttribute("type"),d}function Hg(d,m){var v,x,M,O,P,j,z;if(m.nodeType===1){if(X.hasData(d)&&(O=X.get(d),z=O.events,z)){X.remove(m,"handle events");for(M in z)for(v=0,x=z[M].length;v<x;v++)p.event.add(m,M,z[M][v])}et.hasData(d)&&(P=et.access(d),j=p.extend({},P),et.set(m,j))}}function _1(d,m){var v=m.nodeName.toLowerCase();v==="input"&&nn.test(d.type)?m.checked=d.checked:(v==="input"||v==="textarea")&&(m.defaultValue=d.defaultValue)}function Zr(d,m,v,x){m=o(m);var M,O,P,j,z,W,J=0,at=d.length,K=at-1,tt=m[0],_t=y(tt);if(_t||at>1&&typeof tt=="string"&&!b.checkClone&&N1.test(tt))return d.each(function(Kt){var Rt=d.eq(Kt);_t&&(m[0]=tt.call(this,Kt,Rt.html())),Zr(Rt,m,v,x)});if(at&&(M=Il(m,d[0].ownerDocument,!1,d,x),O=M.firstChild,M.childNodes.length===1&&(M=O),O||x)){for(P=p.map($e(M,"script"),F1),j=P.length;J<at;J++)z=M,J!==K&&(z=p.clone(z,!0,!0),j&&p.merge(P,$e(z,"script"))),v.call(d[J],z,J);if(j)for(W=P[P.length-1].ownerDocument,p.map(P,I1),J=0;J<j;J++)z=P[J],on.test(z.type||"")&&!X.access(z,"globalEval")&&p.contains(W,z)&&(z.src&&(z.type||"").toLowerCase()!=="module"?p._evalUrl&&!z.noModule&&p._evalUrl(z.src,{nonce:z.nonce||z.getAttribute("nonce")},W):S(z.textContent.replace(L1,""),z,W))}return d}function Vg(d,m,v){for(var x,M=m?p.filter(m,d):d,O=0;(x=M[O])!=null;O++)!v&&x.nodeType===1&&p.cleanData($e(x)),x.parentNode&&(v&&zt(x)&&Es($e(x,"script")),x.parentNode.removeChild(x));return d}p.extend({htmlPrefilter:function(d){return d},clone:function(d,m,v){var x,M,O,P,j=d.cloneNode(!0),z=zt(d);if(!b.noCloneChecked&&(d.nodeType===1||d.nodeType===11)&&!p.isXMLDoc(d))for(P=$e(j),O=$e(d),x=0,M=O.length;x<M;x++)_1(O[x],P[x]);if(m)if(v)for(O=O||$e(d),P=P||$e(j),x=0,M=O.length;x<M;x++)Hg(O[x],P[x]);else Hg(d,j);return P=$e(j,"script"),P.length>0&&Es(P,!z&&$e(d,"script")),j},cleanData:function(d){for(var m,v,x,M=p.event.special,O=0;(v=d[O])!==void 0;O++)if(B(v)){if(m=v[X.expando]){if(m.events)for(x in m.events)M[x]?p.event.remove(v,x):p.removeEvent(v,x,m.handle);v[X.expando]=void 0}v[et.expando]&&(v[et.expando]=void 0)}}}),p.fn.extend({detach:function(d){return Vg(this,d,!0)},remove:function(d){return Vg(this,d)},text:function(d){return ye(this,function(m){return m===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=m)})},null,d,arguments.length)},append:function(){return Zr(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=Bg(this,d);m.appendChild(d)}})},prepend:function(){return Zr(this,arguments,function(d){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var m=Bg(this,d);m.insertBefore(d,m.firstChild)}})},before:function(){return Zr(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return Zr(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,m=0;(d=this[m])!=null;m++)d.nodeType===1&&(p.cleanData($e(d,!1)),d.textContent="");return this},clone:function(d,m){return d=d==null?!1:d,m=m==null?d:m,this.map(function(){return p.clone(this,d,m)})},html:function(d){return ye(this,function(m){var v=this[0]||{},x=0,M=this.length;if(m===void 0&&v.nodeType===1)return v.innerHTML;if(typeof m=="string"&&!k1.test(m)&&!xe[(rn.exec(m)||["",""])[1].toLowerCase()]){m=p.htmlPrefilter(m);try{for(;x<M;x++)v=this[x]||{},v.nodeType===1&&(p.cleanData($e(v,!1)),v.innerHTML=m);v=0}catch{}}v&&this.empty().append(m)},null,d,arguments.length)},replaceWith:function(){var d=[];return Zr(this,arguments,function(m){var v=this.parentNode;p.inArray(this,d)<0&&(p.cleanData($e(this)),v&&v.replaceChild(m,this))},d)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,m){p.fn[d]=function(v){for(var x,M=[],O=p(v),P=O.length-1,j=0;j<=P;j++)x=j===P?this:this.clone(!0),p(O[j])[m](x),a.apply(M,x.get());return this.pushStack(M)}});var eh=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),Rl=function(d){var m=d.ownerDocument.defaultView;return(!m||!m.opener)&&(m=t),m.getComputedStyle(d)},Gg=function(d,m,v){var x,M,O={};for(M in m)O[M]=d.style[M],d.style[M]=m[M];x=v.call(d);for(M in m)d.style[M]=O[M];return x},R1=new RegExp(Ct.join("|"),"i");(function(){function d(){if(!!W){z.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",W.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Pt.appendChild(z).appendChild(W);var J=t.getComputedStyle(W);v=J.top!=="1%",j=m(J.marginLeft)===12,W.style.right="60%",O=m(J.right)===36,x=m(J.width)===36,W.style.position="absolute",M=m(W.offsetWidth/3)===12,Pt.removeChild(z),W=null}}function m(J){return Math.round(parseFloat(J))}var v,x,M,O,P,j,z=C.createElement("div"),W=C.createElement("div");!W.style||(W.style.backgroundClip="content-box",W.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle=W.style.backgroundClip==="content-box",p.extend(b,{boxSizingReliable:function(){return d(),x},pixelBoxStyles:function(){return d(),O},pixelPosition:function(){return d(),v},reliableMarginLeft:function(){return d(),j},scrollboxSize:function(){return d(),M},reliableTrDimensions:function(){var J,at,K,tt;return P==null&&(J=C.createElement("table"),at=C.createElement("tr"),K=C.createElement("div"),J.style.cssText="position:absolute;left:-11111px;border-collapse:separate",at.style.cssText="border:1px solid",at.style.height="1px",K.style.height="9px",K.style.display="block",Pt.appendChild(J).appendChild(at).appendChild(K),tt=t.getComputedStyle(at),P=parseInt(tt.height,10)+parseInt(tt.borderTopWidth,10)+parseInt(tt.borderBottomWidth,10)===at.offsetHeight,Pt.removeChild(J)),P}}))})();function la(d,m,v){var x,M,O,P,j=d.style;return v=v||Rl(d),v&&(P=v.getPropertyValue(m)||v[m],P===""&&!zt(d)&&(P=p.style(d,m)),!b.pixelBoxStyles()&&eh.test(P)&&R1.test(m)&&(x=j.width,M=j.minWidth,O=j.maxWidth,j.minWidth=j.maxWidth=j.width=P,P=v.width,j.width=x,j.minWidth=M,j.maxWidth=O)),P!==void 0?P+"":P}function Wg(d,m){return{get:function(){if(d()){delete this.get;return}return(this.get=m).apply(this,arguments)}}}var Ug=["Webkit","Moz","ms"],qg=C.createElement("div").style,Xg={};function j1(d){for(var m=d[0].toUpperCase()+d.slice(1),v=Ug.length;v--;)if(d=Ug[v]+m,d in qg)return d}function nh(d){var m=p.cssProps[d]||Xg[d];return m||(d in qg?d:Xg[d]=j1(d)||d)}var z1=/^(none|table(?!-c[ea]).+)/,Yg=/^--/,B1={position:"absolute",visibility:"hidden",display:"block"},Kg={letterSpacing:"0",fontWeight:"400"};function Jg(d,m,v){var x=Dt.exec(m);return x?Math.max(0,x[2]-(v||0))+(x[3]||"px"):m}function ih(d,m,v,x,M,O){var P=m==="width"?1:0,j=0,z=0;if(v===(x?"border":"content"))return 0;for(;P<4;P+=2)v==="margin"&&(z+=p.css(d,v+Ct[P],!0,M)),x?(v==="content"&&(z-=p.css(d,"padding"+Ct[P],!0,M)),v!=="margin"&&(z-=p.css(d,"border"+Ct[P]+"Width",!0,M))):(z+=p.css(d,"padding"+Ct[P],!0,M),v!=="padding"?z+=p.css(d,"border"+Ct[P]+"Width",!0,M):j+=p.css(d,"border"+Ct[P]+"Width",!0,M));return!x&&O>=0&&(z+=Math.max(0,Math.ceil(d["offset"+m[0].toUpperCase()+m.slice(1)]-O-z-j-.5))||0),z}function Zg(d,m,v){var x=Rl(d),M=!b.boxSizingReliable()||v,O=M&&p.css(d,"boxSizing",!1,x)==="border-box",P=O,j=la(d,m,x),z="offset"+m[0].toUpperCase()+m.slice(1);if(eh.test(j)){if(!v)return j;j="auto"}return(!b.boxSizingReliable()&&O||!b.reliableTrDimensions()&&I(d,"tr")||j==="auto"||!parseFloat(j)&&p.css(d,"display",!1,x)==="inline")&&d.getClientRects().length&&(O=p.css(d,"boxSizing",!1,x)==="border-box",P=z in d,P&&(j=d[z])),j=parseFloat(j)||0,j+ih(d,m,v||(O?"border":"content"),P,x,j)+"px"}p.extend({cssHooks:{opacity:{get:function(d,m){if(m){var v=la(d,"opacity");return v===""?"1":v}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(d,m,v,x){if(!(!d||d.nodeType===3||d.nodeType===8||!d.style)){var M,O,P,j=N(m),z=Yg.test(m),W=d.style;if(z||(m=nh(j)),P=p.cssHooks[m]||p.cssHooks[j],v!==void 0){if(O=typeof v,O==="string"&&(M=Dt.exec(v))&&M[1]&&(v=kt(d,m,M),O="number"),v==null||v!==v)return;O==="number"&&!z&&(v+=M&&M[3]||(p.cssNumber[j]?"":"px")),!b.clearCloneStyle&&v===""&&m.indexOf("background")===0&&(W[m]="inherit"),(!P||!("set"in P)||(v=P.set(d,v,x))!==void 0)&&(z?W.setProperty(m,v):W[m]=v)}else return P&&"get"in P&&(M=P.get(d,!1,x))!==void 0?M:W[m]}},css:function(d,m,v,x){var M,O,P,j=N(m),z=Yg.test(m);return z||(m=nh(j)),P=p.cssHooks[m]||p.cssHooks[j],P&&"get"in P&&(M=P.get(d,!0,v)),M===void 0&&(M=la(d,m,x)),M==="normal"&&m in Kg&&(M=Kg[m]),v===""||v?(O=parseFloat(M),v===!0||isFinite(O)?O||0:M):M}}),p.each(["height","width"],function(d,m){p.cssHooks[m]={get:function(v,x,M){if(x)return z1.test(p.css(v,"display"))&&(!v.getClientRects().length||!v.getBoundingClientRect().width)?Gg(v,B1,function(){return Zg(v,m,M)}):Zg(v,m,M)},set:function(v,x,M){var O,P=Rl(v),j=!b.scrollboxSize()&&P.position==="absolute",z=j||M,W=z&&p.css(v,"boxSizing",!1,P)==="border-box",J=M?ih(v,m,M,W,P):0;return W&&j&&(J-=Math.ceil(v["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(P[m])-ih(v,m,"border",!1,P)-.5)),J&&(O=Dt.exec(x))&&(O[3]||"px")!=="px"&&(v.style[m]=x,x=p.css(v,m)),Jg(v,x,J)}}}),p.cssHooks.marginLeft=Wg(b.reliableMarginLeft,function(d,m){if(m)return(parseFloat(la(d,"marginLeft"))||d.getBoundingClientRect().left-Gg(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(d,m){p.cssHooks[d+m]={expand:function(v){for(var x=0,M={},O=typeof v=="string"?v.split(" "):[v];x<4;x++)M[d+Ct[x]+m]=O[x]||O[x-2]||O[0];return M}},d!=="margin"&&(p.cssHooks[d+m].set=Jg)}),p.fn.extend({css:function(d,m){return ye(this,function(v,x,M){var O,P,j={},z=0;if(Array.isArray(x)){for(O=Rl(v),P=x.length;z<P;z++)j[x[z]]=p.css(v,x[z],!1,O);return j}return M!==void 0?p.style(v,x,M):p.css(v,x)},d,m,arguments.length>1)}});function Wn(d,m,v,x,M){return new Wn.prototype.init(d,m,v,x,M)}p.Tween=Wn,Wn.prototype={constructor:Wn,init:function(d,m,v,x,M,O){this.elem=d,this.prop=v,this.easing=M||p.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=x,this.unit=O||(p.cssNumber[v]?"":"px")},cur:function(){var d=Wn.propHooks[this.prop];return d&&d.get?d.get(this):Wn.propHooks._default.get(this)},run:function(d){var m,v=Wn.propHooks[this.prop];return this.options.duration?this.pos=m=p.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):this.pos=m=d,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),v&&v.set?v.set(this):Wn.propHooks._default.set(this),this}},Wn.prototype.init.prototype=Wn.prototype,Wn.propHooks={_default:{get:function(d){var m;return d.elem.nodeType!==1||d.elem[d.prop]!=null&&d.elem.style[d.prop]==null?d.elem[d.prop]:(m=p.css(d.elem,d.prop,""),!m||m==="auto"?0:m)},set:function(d){p.fx.step[d.prop]?p.fx.step[d.prop](d):d.elem.nodeType===1&&(p.cssHooks[d.prop]||d.elem.style[nh(d.prop)]!=null)?p.style(d.elem,d.prop,d.now+d.unit):d.elem[d.prop]=d.now}}},Wn.propHooks.scrollTop=Wn.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},p.easing={linear:function(d){return d},swing:function(d){return .5-Math.cos(d*Math.PI)/2},_default:"swing"},p.fx=Wn.prototype.init,p.fx.step={};var Qr,jl,H1=/^(?:toggle|show|hide)$/,V1=/queueHooks$/;function sh(){jl&&(C.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(sh):t.setTimeout(sh,p.fx.interval),p.fx.tick())}function Qg(){return t.setTimeout(function(){Qr=void 0}),Qr=Date.now()}function zl(d,m){var v,x=0,M={height:d};for(m=m?1:0;x<4;x+=2-m)v=Ct[x],M["margin"+v]=M["padding"+v]=d;return m&&(M.opacity=M.width=d),M}function tp(d,m,v){for(var x,M=(Oi.tweeners[m]||[]).concat(Oi.tweeners["*"]),O=0,P=M.length;O<P;O++)if(x=M[O].call(v,m,d))return x}function G1(d,m,v){var x,M,O,P,j,z,W,J,at="width"in m||"height"in m,K=this,tt={},_t=d.style,Kt=d.nodeType&&xt(d),Rt=X.get(d,"fxshow");v.queue||(P=p._queueHooks(d,"fx"),P.unqueued==null&&(P.unqueued=0,j=P.empty.fire,P.empty.fire=function(){P.unqueued||j()}),P.unqueued++,K.always(function(){K.always(function(){P.unqueued--,p.queue(d,"fx").length||P.empty.fire()})}));for(x in m)if(M=m[x],H1.test(M)){if(delete m[x],O=O||M==="toggle",M===(Kt?"hide":"show"))if(M==="show"&&Rt&&Rt[x]!==void 0)Kt=!0;else continue;tt[x]=Rt&&Rt[x]||p.style(d,x)}if(z=!p.isEmptyObject(m),!(!z&&p.isEmptyObject(tt))){at&&d.nodeType===1&&(v.overflow=[_t.overflow,_t.overflowX,_t.overflowY],W=Rt&&Rt.display,W==null&&(W=X.get(d,"display")),J=p.css(d,"display"),J==="none"&&(W?J=W:(Pe([d],!0),W=d.style.display||W,J=p.css(d,"display"),Pe([d]))),(J==="inline"||J==="inline-block"&&W!=null)&&p.css(d,"float")==="none"&&(z||(K.done(function(){_t.display=W}),W==null&&(J=_t.display,W=J==="none"?"":J)),_t.display="inline-block")),v.overflow&&(_t.overflow="hidden",K.always(function(){_t.overflow=v.overflow[0],_t.overflowX=v.overflow[1],_t.overflowY=v.overflow[2]})),z=!1;for(x in tt)z||(Rt?"hidden"in Rt&&(Kt=Rt.hidden):Rt=X.access(d,"fxshow",{display:W}),O&&(Rt.hidden=!Kt),Kt&&Pe([d],!0),K.done(function(){Kt||Pe([d]),X.remove(d,"fxshow");for(x in tt)p.style(d,x,tt[x])})),z=tp(Kt?Rt[x]:0,x,K),x in Rt||(Rt[x]=z.start,Kt&&(z.end=z.start,z.start=0))}}function W1(d,m){var v,x,M,O,P;for(v in d)if(x=N(v),M=m[x],O=d[v],Array.isArray(O)&&(M=O[1],O=d[v]=O[0]),v!==x&&(d[x]=O,delete d[v]),P=p.cssHooks[x],P&&"expand"in P){O=P.expand(O),delete d[x];for(v in O)v in d||(d[v]=O[v],m[v]=M)}else m[x]=M}function Oi(d,m,v){var x,M,O=0,P=Oi.prefilters.length,j=p.Deferred().always(function(){delete z.elem}),z=function(){if(M)return!1;for(var at=Qr||Qg(),K=Math.max(0,W.startTime+W.duration-at),tt=K/W.duration||0,_t=1-tt,Kt=0,Rt=W.tweens.length;Kt<Rt;Kt++)W.tweens[Kt].run(_t);return j.notifyWith(d,[W,_t,K]),_t<1&&Rt?K:(Rt||j.notifyWith(d,[W,1,0]),j.resolveWith(d,[W]),!1)},W=j.promise({elem:d,props:p.extend({},m),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},v),originalProperties:m,originalOptions:v,startTime:Qr||Qg(),duration:v.duration,tweens:[],createTween:function(at,K){var tt=p.Tween(d,W.opts,at,K,W.opts.specialEasing[at]||W.opts.easing);return W.tweens.push(tt),tt},stop:function(at){var K=0,tt=at?W.tweens.length:0;if(M)return this;for(M=!0;K<tt;K++)W.tweens[K].run(1);return at?(j.notifyWith(d,[W,1,0]),j.resolveWith(d,[W,at])):j.rejectWith(d,[W,at]),this}}),J=W.props;for(W1(J,W.opts.specialEasing);O<P;O++)if(x=Oi.prefilters[O].call(W,d,J,W.opts),x)return y(x.stop)&&(p._queueHooks(W.elem,W.opts.queue).stop=x.stop.bind(x)),x;return p.map(J,tp,W),y(W.opts.start)&&W.opts.start.call(d,W),W.progress(W.opts.progress).done(W.opts.done,W.opts.complete).fail(W.opts.fail).always(W.opts.always),p.fx.timer(p.extend(z,{elem:d,anim:W,queue:W.opts.queue})),W}p.Animation=p.extend(Oi,{tweeners:{"*":[function(d,m){var v=this.createTween(d,m);return kt(v.elem,d,Dt.exec(m),v),v}]},tweener:function(d,m){y(d)?(m=d,d=["*"]):d=d.match(ht);for(var v,x=0,M=d.length;x<M;x++)v=d[x],Oi.tweeners[v]=Oi.tweeners[v]||[],Oi.tweeners[v].unshift(m)},prefilters:[G1],prefilter:function(d,m){m?Oi.prefilters.unshift(d):Oi.prefilters.push(d)}}),p.speed=function(d,m,v){var x=d&&typeof d=="object"?p.extend({},d):{complete:v||!v&&m||y(d)&&d,duration:d,easing:v&&m||m&&!y(m)&&m};return p.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in p.fx.speeds?x.duration=p.fx.speeds[x.duration]:x.duration=p.fx.speeds._default),(x.queue==null||x.queue===!0)&&(x.queue="fx"),x.old=x.complete,x.complete=function(){y(x.old)&&x.old.call(this),x.queue&&p.dequeue(this,x.queue)},x},p.fn.extend({fadeTo:function(d,m,v,x){return this.filter(xt).css("opacity",0).show().end().animate({opacity:m},d,v,x)},animate:function(d,m,v,x){var M=p.isEmptyObject(d),O=p.speed(m,v,x),P=function(){var j=Oi(this,p.extend({},d),O);(M||X.get(this,"finish"))&&j.stop(!0)};return P.finish=P,M||O.queue===!1?this.each(P):this.queue(O.queue,P)},stop:function(d,m,v){var x=function(M){var O=M.stop;delete M.stop,O(v)};return typeof d!="string"&&(v=m,m=d,d=void 0),m&&this.queue(d||"fx",[]),this.each(function(){var M=!0,O=d!=null&&d+"queueHooks",P=p.timers,j=X.get(this);if(O)j[O]&&j[O].stop&&x(j[O]);else for(O in j)j[O]&&j[O].stop&&V1.test(O)&&x(j[O]);for(O=P.length;O--;)P[O].elem===this&&(d==null||P[O].queue===d)&&(P[O].anim.stop(v),M=!1,P.splice(O,1));(M||!v)&&p.dequeue(this,d)})},finish:function(d){return d!==!1&&(d=d||"fx"),this.each(function(){var m,v=X.get(this),x=v[d+"queue"],M=v[d+"queueHooks"],O=p.timers,P=x?x.length:0;for(v.finish=!0,p.queue(this,d,[]),M&&M.stop&&M.stop.call(this,!0),m=O.length;m--;)O[m].elem===this&&O[m].queue===d&&(O[m].anim.stop(!0),O.splice(m,1));for(m=0;m<P;m++)x[m]&&x[m].finish&&x[m].finish.call(this);delete v.finish})}}),p.each(["toggle","show","hide"],function(d,m){var v=p.fn[m];p.fn[m]=function(x,M,O){return x==null||typeof x=="boolean"?v.apply(this,arguments):this.animate(zl(m,!0),x,M,O)}}),p.each({slideDown:zl("show"),slideUp:zl("hide"),slideToggle:zl("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,m){p.fn[d]=function(v,x,M){return this.animate(m,v,x,M)}}),p.timers=[],p.fx.tick=function(){var d,m=0,v=p.timers;for(Qr=Date.now();m<v.length;m++)d=v[m],!d()&&v[m]===d&&v.splice(m--,1);v.length||p.fx.stop(),Qr=void 0},p.fx.timer=function(d){p.timers.push(d),p.fx.start()},p.fx.interval=13,p.fx.start=function(){jl||(jl=!0,sh())},p.fx.stop=function(){jl=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(d,m){return d=p.fx&&p.fx.speeds[d]||d,m=m||"fx",this.queue(m,function(v,x){var M=t.setTimeout(v,d);x.stop=function(){t.clearTimeout(M)}})},function(){var d=C.createElement("input"),m=C.createElement("select"),v=m.appendChild(C.createElement("option"));d.type="checkbox",b.checkOn=d.value!=="",b.optSelected=v.selected,d=C.createElement("input"),d.value="t",d.type="radio",b.radioValue=d.value==="t"}();var ep,ca=p.expr.attrHandle;p.fn.extend({attr:function(d,m){return ye(this,p.attr,d,m,arguments.length>1)},removeAttr:function(d){return this.each(function(){p.removeAttr(this,d)})}}),p.extend({attr:function(d,m,v){var x,M,O=d.nodeType;if(!(O===3||O===8||O===2)){if(typeof d.getAttribute=="undefined")return p.prop(d,m,v);if((O!==1||!p.isXMLDoc(d))&&(M=p.attrHooks[m.toLowerCase()]||(p.expr.match.bool.test(m)?ep:void 0)),v!==void 0){if(v===null){p.removeAttr(d,m);return}return M&&"set"in M&&(x=M.set(d,v,m))!==void 0?x:(d.setAttribute(m,v+""),v)}return M&&"get"in M&&(x=M.get(d,m))!==null?x:(x=p.find.attr(d,m),x==null?void 0:x)}},attrHooks:{type:{set:function(d,m){if(!b.radioValue&&m==="radio"&&I(d,"input")){var v=d.value;return d.setAttribute("type",m),v&&(d.value=v),m}}}},removeAttr:function(d,m){var v,x=0,M=m&&m.match(ht);if(M&&d.nodeType===1)for(;v=M[x++];)d.removeAttribute(v)}}),ep={set:function(d,m,v){return m===!1?p.removeAttr(d,v):d.setAttribute(v,v),v}},p.each(p.expr.match.bool.source.match(/\w+/g),function(d,m){var v=ca[m]||p.find.attr;ca[m]=function(x,M,O){var P,j,z=M.toLowerCase();return O||(j=ca[z],ca[z]=P,P=v(x,M,O)!=null?z:null,ca[z]=j),P}});var U1=/^(?:input|select|textarea|button)$/i,q1=/^(?:a|area)$/i;p.fn.extend({prop:function(d,m){return ye(this,p.prop,d,m,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[p.propFix[d]||d]})}}),p.extend({prop:function(d,m,v){var x,M,O=d.nodeType;if(!(O===3||O===8||O===2))return(O!==1||!p.isXMLDoc(d))&&(m=p.propFix[m]||m,M=p.propHooks[m]),v!==void 0?M&&"set"in M&&(x=M.set(d,v,m))!==void 0?x:d[m]=v:M&&"get"in M&&(x=M.get(d,m))!==null?x:d[m]},propHooks:{tabIndex:{get:function(d){var m=p.find.attr(d,"tabindex");return m?parseInt(m,10):U1.test(d.nodeName)||q1.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(p.propHooks.selected={get:function(d){var m=d.parentNode;return m&&m.parentNode&&m.parentNode.selectedIndex,null},set:function(d){var m=d.parentNode;m&&(m.selectedIndex,m.parentNode&&m.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function Qs(d){var m=d.match(ht)||[];return m.join(" ")}function tr(d){return d.getAttribute&&d.getAttribute("class")||""}function rh(d){return Array.isArray(d)?d:typeof d=="string"?d.match(ht)||[]:[]}p.fn.extend({addClass:function(d){var m,v,x,M,O,P,j,z=0;if(y(d))return this.each(function(W){p(this).addClass(d.call(this,W,tr(this)))});if(m=rh(d),m.length){for(;v=this[z++];)if(M=tr(v),x=v.nodeType===1&&" "+Qs(M)+" ",x){for(P=0;O=m[P++];)x.indexOf(" "+O+" ")<0&&(x+=O+" ");j=Qs(x),M!==j&&v.setAttribute("class",j)}}return this},removeClass:function(d){var m,v,x,M,O,P,j,z=0;if(y(d))return this.each(function(W){p(this).removeClass(d.call(this,W,tr(this)))});if(!arguments.length)return this.attr("class","");if(m=rh(d),m.length){for(;v=this[z++];)if(M=tr(v),x=v.nodeType===1&&" "+Qs(M)+" ",x){for(P=0;O=m[P++];)for(;x.indexOf(" "+O+" ")>-1;)x=x.replace(" "+O+" "," ");j=Qs(x),M!==j&&v.setAttribute("class",j)}}return this},toggleClass:function(d,m){var v=typeof d,x=v==="string"||Array.isArray(d);return typeof m=="boolean"&&x?m?this.addClass(d):this.removeClass(d):y(d)?this.each(function(M){p(this).toggleClass(d.call(this,M,tr(this),m),m)}):this.each(function(){var M,O,P,j;if(x)for(O=0,P=p(this),j=rh(d);M=j[O++];)P.hasClass(M)?P.removeClass(M):P.addClass(M);else(d===void 0||v==="boolean")&&(M=tr(this),M&&X.set(this,"__className__",M),this.setAttribute&&this.setAttribute("class",M||d===!1?"":X.get(this,"__className__")||""))})},hasClass:function(d){var m,v,x=0;for(m=" "+d+" ";v=this[x++];)if(v.nodeType===1&&(" "+Qs(tr(v))+" ").indexOf(m)>-1)return!0;return!1}});var X1=/\r/g;p.fn.extend({val:function(d){var m,v,x,M=this[0];return arguments.length?(x=y(d),this.each(function(O){var P;this.nodeType===1&&(x?P=d.call(this,O,p(this).val()):P=d,P==null?P="":typeof P=="number"?P+="":Array.isArray(P)&&(P=p.map(P,function(j){return j==null?"":j+""})),m=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!m||!("set"in m)||m.set(this,P,"value")===void 0)&&(this.value=P))})):M?(m=p.valHooks[M.type]||p.valHooks[M.nodeName.toLowerCase()],m&&"get"in m&&(v=m.get(M,"value"))!==void 0?v:(v=M.value,typeof v=="string"?v.replace(X1,""):v==null?"":v)):void 0}}),p.extend({valHooks:{option:{get:function(d){var m=p.find.attr(d,"value");return m!=null?m:Qs(p.text(d))}},select:{get:function(d){var m,v,x,M=d.options,O=d.selectedIndex,P=d.type==="select-one",j=P?null:[],z=P?O+1:M.length;for(O<0?x=z:x=P?O:0;x<z;x++)if(v=M[x],(v.selected||x===O)&&!v.disabled&&(!v.parentNode.disabled||!I(v.parentNode,"optgroup"))){if(m=p(v).val(),P)return m;j.push(m)}return j},set:function(d,m){for(var v,x,M=d.options,O=p.makeArray(m),P=M.length;P--;)x=M[P],(x.selected=p.inArray(p.valHooks.option.get(x),O)>-1)&&(v=!0);return v||(d.selectedIndex=-1),O}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(d,m){if(Array.isArray(m))return d.checked=p.inArray(p(d).val(),m)>-1}},b.checkOn||(p.valHooks[this].get=function(d){return d.getAttribute("value")===null?"on":d.value})}),b.focusin="onfocusin"in t;var np=/^(?:focusinfocus|focusoutblur)$/,ip=function(d){d.stopPropagation()};p.extend(p.event,{trigger:function(d,m,v,x){var M,O,P,j,z,W,J,at,K=[v||C],tt=h.call(d,"type")?d.type:d,_t=h.call(d,"namespace")?d.namespace.split("."):[];if(O=at=P=v=v||C,!(v.nodeType===3||v.nodeType===8)&&!np.test(tt+p.event.triggered)&&(tt.indexOf(".")>-1&&(_t=tt.split("."),tt=_t.shift(),_t.sort()),z=tt.indexOf(":")<0&&"on"+tt,d=d[p.expando]?d:new p.Event(tt,typeof d=="object"&&d),d.isTrigger=x?2:3,d.namespace=_t.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+_t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=v),m=m==null?[d]:p.makeArray(m,[d]),J=p.event.special[tt]||{},!(!x&&J.trigger&&J.trigger.apply(v,m)===!1))){if(!x&&!J.noBubble&&!w(v)){for(j=J.delegateType||tt,np.test(j+tt)||(O=O.parentNode);O;O=O.parentNode)K.push(O),P=O;P===(v.ownerDocument||C)&&K.push(P.defaultView||P.parentWindow||t)}for(M=0;(O=K[M++])&&!d.isPropagationStopped();)at=O,d.type=M>1?j:J.bindType||tt,W=(X.get(O,"events")||Object.create(null))[d.type]&&X.get(O,"handle"),W&&W.apply(O,m),W=z&&O[z],W&&W.apply&&B(O)&&(d.result=W.apply(O,m),d.result===!1&&d.preventDefault());return d.type=tt,!x&&!d.isDefaultPrevented()&&(!J._default||J._default.apply(K.pop(),m)===!1)&&B(v)&&z&&y(v[tt])&&!w(v)&&(P=v[z],P&&(v[z]=null),p.event.triggered=tt,d.isPropagationStopped()&&at.addEventListener(tt,ip),v[tt](),d.isPropagationStopped()&&at.removeEventListener(tt,ip),p.event.triggered=void 0,P&&(v[z]=P)),d.result}},simulate:function(d,m,v){var x=p.extend(new p.Event,v,{type:d,isSimulated:!0});p.event.trigger(x,null,m)}}),p.fn.extend({trigger:function(d,m){return this.each(function(){p.event.trigger(d,m,this)})},triggerHandler:function(d,m){var v=this[0];if(v)return p.event.trigger(d,m,v,!0)}}),b.focusin||p.each({focus:"focusin",blur:"focusout"},function(d,m){var v=function(x){p.event.simulate(m,x.target,p.event.fix(x))};p.event.special[m]={setup:function(){var x=this.ownerDocument||this.document||this,M=X.access(x,m);M||x.addEventListener(d,v,!0),X.access(x,m,(M||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,M=X.access(x,m)-1;M?X.access(x,m,M):(x.removeEventListener(d,v,!0),X.remove(x,m))}}});var ua=t.location,sp={guid:Date.now()},oh=/\?/;p.parseXML=function(d){var m,v;if(!d||typeof d!="string")return null;try{m=new t.DOMParser().parseFromString(d,"text/xml")}catch{}return v=m&&m.getElementsByTagName("parsererror")[0],(!m||v)&&p.error("Invalid XML: "+(v?p.map(v.childNodes,function(x){return x.textContent}).join(`
`):d)),m};var Y1=/\[\]$/,rp=/\r?\n/g,K1=/^(?:submit|button|image|reset|file)$/i,J1=/^(?:input|select|textarea|keygen)/i;function ah(d,m,v,x){var M;if(Array.isArray(m))p.each(m,function(O,P){v||Y1.test(d)?x(d,P):ah(d+"["+(typeof P=="object"&&P!=null?O:"")+"]",P,v,x)});else if(!v&&T(m)==="object")for(M in m)ah(d+"["+M+"]",m[M],v,x);else x(d,m)}p.param=function(d,m){var v,x=[],M=function(O,P){var j=y(P)?P():P;x[x.length]=encodeURIComponent(O)+"="+encodeURIComponent(j==null?"":j)};if(d==null)return"";if(Array.isArray(d)||d.jquery&&!p.isPlainObject(d))p.each(d,function(){M(this.name,this.value)});else for(v in d)ah(v,d[v],m,M);return x.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=p.prop(this,"elements");return d?p.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!p(this).is(":disabled")&&J1.test(this.nodeName)&&!K1.test(d)&&(this.checked||!nn.test(d))}).map(function(d,m){var v=p(this).val();return v==null?null:Array.isArray(v)?p.map(v,function(x){return{name:m.name,value:x.replace(rp,`\r
`)}}):{name:m.name,value:v.replace(rp,`\r
`)}}).get()}});var Z1=/%20/g,Q1=/#.*$/,tw=/([?&])_=[^&]*/,ew=/^(.*?):[ \t]*([^\r\n]*)$/mg,nw=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,iw=/^(?:GET|HEAD)$/,sw=/^\/\//,op={},lh={},ap="*/".concat("*"),ch=C.createElement("a");ch.href=ua.href;function lp(d){return function(m,v){typeof m!="string"&&(v=m,m="*");var x,M=0,O=m.toLowerCase().match(ht)||[];if(y(v))for(;x=O[M++];)x[0]==="+"?(x=x.slice(1)||"*",(d[x]=d[x]||[]).unshift(v)):(d[x]=d[x]||[]).push(v)}}function cp(d,m,v,x){var M={},O=d===lh;function P(j){var z;return M[j]=!0,p.each(d[j]||[],function(W,J){var at=J(m,v,x);if(typeof at=="string"&&!O&&!M[at])return m.dataTypes.unshift(at),P(at),!1;if(O)return!(z=at)}),z}return P(m.dataTypes[0])||!M["*"]&&P("*")}function uh(d,m){var v,x,M=p.ajaxSettings.flatOptions||{};for(v in m)m[v]!==void 0&&((M[v]?d:x||(x={}))[v]=m[v]);return x&&p.extend(!0,d,x),d}function rw(d,m,v){for(var x,M,O,P,j=d.contents,z=d.dataTypes;z[0]==="*";)z.shift(),x===void 0&&(x=d.mimeType||m.getResponseHeader("Content-Type"));if(x){for(M in j)if(j[M]&&j[M].test(x)){z.unshift(M);break}}if(z[0]in v)O=z[0];else{for(M in v){if(!z[0]||d.converters[M+" "+z[0]]){O=M;break}P||(P=M)}O=O||P}if(O)return O!==z[0]&&z.unshift(O),v[O]}function ow(d,m,v,x){var M,O,P,j,z,W={},J=d.dataTypes.slice();if(J[1])for(P in d.converters)W[P.toLowerCase()]=d.converters[P];for(O=J.shift();O;)if(d.responseFields[O]&&(v[d.responseFields[O]]=m),!z&&x&&d.dataFilter&&(m=d.dataFilter(m,d.dataType)),z=O,O=J.shift(),O){if(O==="*")O=z;else if(z!=="*"&&z!==O){if(P=W[z+" "+O]||W["* "+O],!P){for(M in W)if(j=M.split(" "),j[1]===O&&(P=W[z+" "+j[0]]||W["* "+j[0]],P)){P===!0?P=W[M]:W[M]!==!0&&(O=j[0],J.unshift(j[1]));break}}if(P!==!0)if(P&&d.throws)m=P(m);else try{m=P(m)}catch(at){return{state:"parsererror",error:P?at:"No conversion from "+z+" to "+O}}}}return{state:"success",data:m}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ua.href,type:"GET",isLocal:nw.test(ua.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ap,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,m){return m?uh(uh(d,p.ajaxSettings),m):uh(p.ajaxSettings,d)},ajaxPrefilter:lp(op),ajaxTransport:lp(lh),ajax:function(d,m){typeof d=="object"&&(m=d,d=void 0),m=m||{};var v,x,M,O,P,j,z,W,J,at,K=p.ajaxSetup({},m),tt=K.context||K,_t=K.context&&(tt.nodeType||tt.jquery)?p(tt):p.event,Kt=p.Deferred(),Rt=p.Callbacks("once memory"),bn=K.statusCode||{},an={},ii={},Te="canceled",Yt={readyState:0,getResponseHeader:function(me){var Ue;if(z){if(!O)for(O={};Ue=ew.exec(M);)O[Ue[1].toLowerCase()+" "]=(O[Ue[1].toLowerCase()+" "]||[]).concat(Ue[2]);Ue=O[me.toLowerCase()+" "]}return Ue==null?null:Ue.join(", ")},getAllResponseHeaders:function(){return z?M:null},setRequestHeader:function(me,Ue){return z==null&&(me=ii[me.toLowerCase()]=ii[me.toLowerCase()]||me,an[me]=Ue),this},overrideMimeType:function(me){return z==null&&(K.mimeType=me),this},statusCode:function(me){var Ue;if(me)if(z)Yt.always(me[Yt.status]);else for(Ue in me)bn[Ue]=[bn[Ue],me[Ue]];return this},abort:function(me){var Ue=me||Te;return v&&v.abort(Ue),Un(0,Ue),this}};if(Kt.promise(Yt),K.url=((d||K.url||ua.href)+"").replace(sw,ua.protocol+"//"),K.type=m.method||m.type||K.method||K.type,K.dataTypes=(K.dataType||"*").toLowerCase().match(ht)||[""],K.crossDomain==null){j=C.createElement("a");try{j.href=K.url,j.href=j.href,K.crossDomain=ch.protocol+"//"+ch.host!=j.protocol+"//"+j.host}catch{K.crossDomain=!0}}if(K.data&&K.processData&&typeof K.data!="string"&&(K.data=p.param(K.data,K.traditional)),cp(op,K,m,Yt),z)return Yt;W=p.event&&K.global,W&&p.active++==0&&p.event.trigger("ajaxStart"),K.type=K.type.toUpperCase(),K.hasContent=!iw.test(K.type),x=K.url.replace(Q1,""),K.hasContent?K.data&&K.processData&&(K.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(K.data=K.data.replace(Z1,"+")):(at=K.url.slice(x.length),K.data&&(K.processData||typeof K.data=="string")&&(x+=(oh.test(x)?"&":"?")+K.data,delete K.data),K.cache===!1&&(x=x.replace(tw,"$1"),at=(oh.test(x)?"&":"?")+"_="+sp.guid+++at),K.url=x+at),K.ifModified&&(p.lastModified[x]&&Yt.setRequestHeader("If-Modified-Since",p.lastModified[x]),p.etag[x]&&Yt.setRequestHeader("If-None-Match",p.etag[x])),(K.data&&K.hasContent&&K.contentType!==!1||m.contentType)&&Yt.setRequestHeader("Content-Type",K.contentType),Yt.setRequestHeader("Accept",K.dataTypes[0]&&K.accepts[K.dataTypes[0]]?K.accepts[K.dataTypes[0]]+(K.dataTypes[0]!=="*"?", "+ap+"; q=0.01":""):K.accepts["*"]);for(J in K.headers)Yt.setRequestHeader(J,K.headers[J]);if(K.beforeSend&&(K.beforeSend.call(tt,Yt,K)===!1||z))return Yt.abort();if(Te="abort",Rt.add(K.complete),Yt.done(K.success),Yt.fail(K.error),v=cp(lh,K,m,Yt),!v)Un(-1,"No Transport");else{if(Yt.readyState=1,W&&_t.trigger("ajaxSend",[Yt,K]),z)return Yt;K.async&&K.timeout>0&&(P=t.setTimeout(function(){Yt.abort("timeout")},K.timeout));try{z=!1,v.send(an,Un)}catch(me){if(z)throw me;Un(-1,me)}}function Un(me,Ue,da,Bl){var si,er,nr,qn,As,gi=Ue;z||(z=!0,P&&t.clearTimeout(P),v=void 0,M=Bl||"",Yt.readyState=me>0?4:0,si=me>=200&&me<300||me===304,da&&(qn=rw(K,Yt,da)),!si&&p.inArray("script",K.dataTypes)>-1&&p.inArray("json",K.dataTypes)<0&&(K.converters["text script"]=function(){}),qn=ow(K,qn,Yt,si),si?(K.ifModified&&(As=Yt.getResponseHeader("Last-Modified"),As&&(p.lastModified[x]=As),As=Yt.getResponseHeader("etag"),As&&(p.etag[x]=As)),me===204||K.type==="HEAD"?gi="nocontent":me===304?gi="notmodified":(gi=qn.state,er=qn.data,nr=qn.error,si=!nr)):(nr=gi,(me||!gi)&&(gi="error",me<0&&(me=0))),Yt.status=me,Yt.statusText=(Ue||gi)+"",si?Kt.resolveWith(tt,[er,gi,Yt]):Kt.rejectWith(tt,[Yt,gi,nr]),Yt.statusCode(bn),bn=void 0,W&&_t.trigger(si?"ajaxSuccess":"ajaxError",[Yt,K,si?er:nr]),Rt.fireWith(tt,[Yt,gi]),W&&(_t.trigger("ajaxComplete",[Yt,K]),--p.active||p.event.trigger("ajaxStop")))}return Yt},getJSON:function(d,m,v){return p.get(d,m,v,"json")},getScript:function(d,m){return p.get(d,void 0,m,"script")}}),p.each(["get","post"],function(d,m){p[m]=function(v,x,M,O){return y(x)&&(O=O||M,M=x,x=void 0),p.ajax(p.extend({url:v,type:m,dataType:O,data:x,success:M},p.isPlainObject(v)&&v))}}),p.ajaxPrefilter(function(d){var m;for(m in d.headers)m.toLowerCase()==="content-type"&&(d.contentType=d.headers[m]||"")}),p._evalUrl=function(d,m,v){return p.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){p.globalEval(x,m,v)}})},p.fn.extend({wrapAll:function(d){var m;return this[0]&&(y(d)&&(d=d.call(this[0])),m=p(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var v=this;v.firstElementChild;)v=v.firstElementChild;return v}).append(this)),this},wrapInner:function(d){return y(d)?this.each(function(m){p(this).wrapInner(d.call(this,m))}):this.each(function(){var m=p(this),v=m.contents();v.length?v.wrapAll(d):m.append(d)})},wrap:function(d){var m=y(d);return this.each(function(v){p(this).wrapAll(m?d.call(this,v):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(d){return!p.expr.pseudos.visible(d)},p.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var aw={0:200,1223:204},ha=p.ajaxSettings.xhr();b.cors=!!ha&&"withCredentials"in ha,b.ajax=ha=!!ha,p.ajaxTransport(function(d){var m,v;if(b.cors||ha&&!d.crossDomain)return{send:function(x,M){var O,P=d.xhr();if(P.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(O in d.xhrFields)P[O]=d.xhrFields[O];d.mimeType&&P.overrideMimeType&&P.overrideMimeType(d.mimeType),!d.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");for(O in x)P.setRequestHeader(O,x[O]);m=function(j){return function(){m&&(m=v=P.onload=P.onerror=P.onabort=P.ontimeout=P.onreadystatechange=null,j==="abort"?P.abort():j==="error"?typeof P.status!="number"?M(0,"error"):M(P.status,P.statusText):M(aw[P.status]||P.status,P.statusText,(P.responseType||"text")!=="text"||typeof P.responseText!="string"?{binary:P.response}:{text:P.responseText},P.getAllResponseHeaders()))}},P.onload=m(),v=P.onerror=P.ontimeout=m("error"),P.onabort!==void 0?P.onabort=v:P.onreadystatechange=function(){P.readyState===4&&t.setTimeout(function(){m&&v()})},m=m("abort");try{P.send(d.hasContent&&d.data||null)}catch(j){if(m)throw j}},abort:function(){m&&m()}}}),p.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return p.globalEval(d),d}}}),p.ajaxPrefilter("script",function(d){d.cache===void 0&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),p.ajaxTransport("script",function(d){if(d.crossDomain||d.scriptAttrs){var m,v;return{send:function(x,M){m=p("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",v=function(O){m.remove(),v=null,O&&M(O.type==="error"?404:200,O.type)}),C.head.appendChild(m[0])},abort:function(){v&&v()}}}});var up=[],hh=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=up.pop()||p.expando+"_"+sp.guid++;return this[d]=!0,d}}),p.ajaxPrefilter("json jsonp",function(d,m,v){var x,M,O,P=d.jsonp!==!1&&(hh.test(d.url)?"url":typeof d.data=="string"&&(d.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&hh.test(d.data)&&"data");if(P||d.dataTypes[0]==="jsonp")return x=d.jsonpCallback=y(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,P?d[P]=d[P].replace(hh,"$1"+x):d.jsonp!==!1&&(d.url+=(oh.test(d.url)?"&":"?")+d.jsonp+"="+x),d.converters["script json"]=function(){return O||p.error(x+" was not called"),O[0]},d.dataTypes[0]="json",M=t[x],t[x]=function(){O=arguments},v.always(function(){M===void 0?p(t).removeProp(x):t[x]=M,d[x]&&(d.jsonpCallback=m.jsonpCallback,up.push(x)),O&&y(M)&&M(O[0]),O=M=void 0}),"script"}),b.createHTMLDocument=function(){var d=C.implementation.createHTMLDocument("").body;return d.innerHTML="<form></form><form></form>",d.childNodes.length===2}(),p.parseHTML=function(d,m,v){if(typeof d!="string")return[];typeof m=="boolean"&&(v=m,m=!1);var x,M,O;return m||(b.createHTMLDocument?(m=C.implementation.createHTMLDocument(""),x=m.createElement("base"),x.href=C.location.href,m.head.appendChild(x)):m=C),M=Y.exec(d),O=!v&&[],M?[m.createElement(M[1])]:(M=Il([d],m,O),O&&O.length&&p(O).remove(),p.merge([],M.childNodes))},p.fn.load=function(d,m,v){var x,M,O,P=this,j=d.indexOf(" ");return j>-1&&(x=Qs(d.slice(j)),d=d.slice(0,j)),y(m)?(v=m,m=void 0):m&&typeof m=="object"&&(M="POST"),P.length>0&&p.ajax({url:d,type:M||"GET",dataType:"html",data:m}).done(function(z){O=arguments,P.html(x?p("<div>").append(p.parseHTML(z)).find(x):z)}).always(v&&function(z,W){P.each(function(){v.apply(this,O||[z.responseText,W,z])})}),this},p.expr.pseudos.animated=function(d){return p.grep(p.timers,function(m){return d===m.elem}).length},p.offset={setOffset:function(d,m,v){var x,M,O,P,j,z,W,J=p.css(d,"position"),at=p(d),K={};J==="static"&&(d.style.position="relative"),j=at.offset(),O=p.css(d,"top"),z=p.css(d,"left"),W=(J==="absolute"||J==="fixed")&&(O+z).indexOf("auto")>-1,W?(x=at.position(),P=x.top,M=x.left):(P=parseFloat(O)||0,M=parseFloat(z)||0),y(m)&&(m=m.call(d,v,p.extend({},j))),m.top!=null&&(K.top=m.top-j.top+P),m.left!=null&&(K.left=m.left-j.left+M),"using"in m?m.using.call(d,K):at.css(K)}},p.fn.extend({offset:function(d){if(arguments.length)return d===void 0?this:this.each(function(M){p.offset.setOffset(this,d,M)});var m,v,x=this[0];if(!!x)return x.getClientRects().length?(m=x.getBoundingClientRect(),v=x.ownerDocument.defaultView,{top:m.top+v.pageYOffset,left:m.left+v.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var d,m,v,x=this[0],M={top:0,left:0};if(p.css(x,"position")==="fixed")m=x.getBoundingClientRect();else{for(m=this.offset(),v=x.ownerDocument,d=x.offsetParent||v.documentElement;d&&(d===v.body||d===v.documentElement)&&p.css(d,"position")==="static";)d=d.parentNode;d&&d!==x&&d.nodeType===1&&(M=p(d).offset(),M.top+=p.css(d,"borderTopWidth",!0),M.left+=p.css(d,"borderLeftWidth",!0))}return{top:m.top-M.top-p.css(x,"marginTop",!0),left:m.left-M.left-p.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&p.css(d,"position")==="static";)d=d.offsetParent;return d||Pt})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,m){var v=m==="pageYOffset";p.fn[d]=function(x){return ye(this,function(M,O,P){var j;if(w(M)?j=M:M.nodeType===9&&(j=M.defaultView),P===void 0)return j?j[m]:M[O];j?j.scrollTo(v?j.pageXOffset:P,v?P:j.pageYOffset):M[O]=P},d,x,arguments.length)}}),p.each(["top","left"],function(d,m){p.cssHooks[m]=Wg(b.pixelPosition,function(v,x){if(x)return x=la(v,m),eh.test(x)?p(v).position()[m]+"px":x})}),p.each({Height:"height",Width:"width"},function(d,m){p.each({padding:"inner"+d,content:m,"":"outer"+d},function(v,x){p.fn[x]=function(M,O){var P=arguments.length&&(v||typeof M!="boolean"),j=v||(M===!0||O===!0?"margin":"border");return ye(this,function(z,W,J){var at;return w(z)?x.indexOf("outer")===0?z["inner"+d]:z.document.documentElement["client"+d]:z.nodeType===9?(at=z.documentElement,Math.max(z.body["scroll"+d],at["scroll"+d],z.body["offset"+d],at["offset"+d],at["client"+d])):J===void 0?p.css(z,W,j):p.style(z,W,J,j)},m,P?M:void 0,P)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,m){p.fn[m]=function(v){return this.on(m,v)}}),p.fn.extend({bind:function(d,m,v){return this.on(d,null,m,v)},unbind:function(d,m){return this.off(d,null,m)},delegate:function(d,m,v,x){return this.on(m,d,v,x)},undelegate:function(d,m,v){return arguments.length===1?this.off(d,"**"):this.off(m,d||"**",v)},hover:function(d,m){return this.mouseenter(d).mouseleave(m||d)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,m){p.fn[m]=function(v,x){return arguments.length>0?this.on(m,null,v,x):this.trigger(m)}});var lw=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;p.proxy=function(d,m){var v,x,M;if(typeof m=="string"&&(v=d[m],m=d,d=v),!!y(d))return x=r.call(arguments,2),M=function(){return d.apply(m||this,x.concat(r.call(arguments)))},M.guid=d.guid=d.guid||p.guid++,M},p.holdReady=function(d){d?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=I,p.isFunction=y,p.isWindow=w,p.camelCase=N,p.type=T,p.now=Date.now,p.isNumeric=function(d){var m=p.type(d);return(m==="number"||m==="string")&&!isNaN(d-parseFloat(d))},p.trim=function(d){return d==null?"":(d+"").replace(lw,"")};var cw=t.jQuery,uw=t.$;return p.noConflict=function(d){return t.$===p&&(t.$=uw),d&&t.jQuery===p&&(t.jQuery=cw),p},typeof e=="undefined"&&(t.jQuery=t.$=p),p})})(bb);var Qe=bb.exports,ND={exports:{}};/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */(function(n,t){(function(e){n.exports=e})(function(e){var i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,o,a;if(e.event.fixHooks)for(var l=i.length;l;)e.event.fixHooks[i[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var g=s.length;g;)this.addEventListener(s[--g],u,!1);else this.onmousewheel=u;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var g=s.length;g;)this.removeEventListener(s[--g],u,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(g){var b=e(g),y=b["offsetParent"in e.fn?"offsetParent":"parent"]();return y.length||(y=e("body")),parseInt(y.css("fontSize"),10)||parseInt(b.css("fontSize"),10)||16},getPageHeight:function(g){return e(g).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(g){return g?this.bind("mousewheel",g):this.trigger("mousewheel")},unmousewheel:function(g){return this.unbind("mousewheel",g)}});function u(g){var b=g||window.event,y=r.call(arguments,1),w=0,C=0,E=0,S=0,T=0,$=0;if(g=e.event.fix(b),g.type="mousewheel","detail"in b&&(E=b.detail*-1),"wheelDelta"in b&&(E=b.wheelDelta),"wheelDeltaY"in b&&(E=b.wheelDeltaY),"wheelDeltaX"in b&&(C=b.wheelDeltaX*-1),"axis"in b&&b.axis===b.HORIZONTAL_AXIS&&(C=E*-1,E=0),w=E===0?C:E,"deltaY"in b&&(E=b.deltaY*-1,w=E),"deltaX"in b&&(C=b.deltaX,E===0&&(w=C*-1)),!(E===0&&C===0)){if(b.deltaMode===1){var p=e.data(this,"mousewheel-line-height");w*=p,E*=p,C*=p}else if(b.deltaMode===2){var A=e.data(this,"mousewheel-page-height");w*=A,E*=A,C*=A}if(S=Math.max(Math.abs(E),Math.abs(C)),(!a||S<a)&&(a=S,f(b,S)&&(a/=40)),f(b,S)&&(w/=40,C/=40,E/=40),w=Math[w>=1?"floor":"ceil"](w/a),C=Math[C>=1?"floor":"ceil"](C/a),E=Math[E>=1?"floor":"ceil"](E/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var k=this.getBoundingClientRect();T=g.clientX-k.left,$=g.clientY-k.top}return g.deltaX=C,g.deltaY=E,g.deltaFactor=a,g.offsetX=T,g.offsetY=$,g.deltaMode=0,y.unshift(g,w,C,E),o&&clearTimeout(o),o=setTimeout(h,200),(e.event.dispatch||e.event.handle).apply(this,y)}}function h(){a=null}function f(g,b){return c.settings.adjustOldDeltas&&g.type==="mousewheel"&&b%120==0}})})(ND);const _n=navigator.userAgent;var tn;(function(n){n.IS_MAC=navigator.appVersion.indexOf("Mac")>0,n.IS_IOS=!!_n.match(/(iPad|iPhone|iPod)/g),n.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,n.IS_IE=_n.indexOf("MSIE")>=0,n.IS_IE11=!!_n.match(/Trident\/7\./),n.IS_EDGE=!!_n.match(/Edge\//),n.IS_NETSCAPE=_n.indexOf("Mozilla/")>=0&&_n.indexOf("MSIE")<0&&_n.indexOf("Edge/")<0,n.IS_CHROME_APP=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,n.IS_CHROME=_n.indexOf("Chrome/")>=0&&_n.indexOf("Edge/")<0,n.IS_OPERA=_n.indexOf("Opera/")>=0||_n.indexOf("OPR/")>=0,n.IS_FIREFOX=_n.indexOf("Firefox/")>=0,n.IS_SAFARI=_n.indexOf("AppleWebKit/")>=0&&_n.indexOf("Chrome/")<0&&_n.indexOf("Edge/")<0,n.SUPPORT_TOUCH="ontouchstart"in document.documentElement,n.SUPPORT_POINTER=window.PointerEvent!=null&&!n.IS_MAC,n.SUPPORT_PASSIVE=!1;try{const t=Object.defineProperty({},"passive",{get(){n.SUPPORT_PASSIVE=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},t)}catch{}n.NO_FOREIGNOBJECT=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||_n.indexOf("Opera/")>=0,n.SUPPORT_FOREIGNOBJECT=!n.NO_FOREIGNOBJECT})(tn||(tn={}));(function(n){function t(){const r=window.module;return r!=null&&r.hot!=null&&r.hot.status!=null?r.hot.status():"unkonwn"}n.getHMRStatus=t;function e(){return t()==="apply"}n.isApplyingHMR=e;const i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function s(r){const o=document.createElement(i[r]||"div"),a=`on${r}`;let l=a in o;return l||(o.setAttribute(a,"return;"),l=typeof o[a]=="function"),l}n.isEventSupported=s})(tn||(tn={}));if(tn.SUPPORT_PASSIVE){Qe.event.special.touchstart={setup(t,e,i){if(!this.addEventListener)return!1;this.addEventListener("touchstart",i,{passive:!0})}};const n=Qe.event.special.mousewheel;if(n){const t=n.setup;n.setup=function(){const e=this.addEventListener;if(!e)return!1;this.addEventListener=(i,s)=>{e.call(this,i,s,{passive:!0})},t.call(this),this.addEventListener=e}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);(function(n){n.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value(...e){const i=document.createDocumentFragment();e.forEach(s=>{const r=s instanceof Node;i.appendChild(r?s:document.createTextNode(String(s)))}),this.appendChild(i)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);function yb(n,...t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e.prototype,i))})})}const LD=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])};function FD(n,t){LD(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}class ID{}const _D=/^\s*class\s+/.test(`${ID}`)||/^\s*class\s*\{/.test(`${class{}}`);function Gd(n,t){let e;return _D?e=new Function("base",`return class ${n} extends base { }`)(t):(e=new Function("base",`return function ${n}() { return base.apply(this, arguments) }`)(t),FD(e,t)),e}function Wd(n,t,e="/"){let i;const s=Array.isArray(t)?t:t.split(e);if(s.length)for(i=n;s.length;){const r=s.shift();if(Object(i)===i&&r&&r in i)i=i[r];else return}return i}function Eo(n,t,e,i="/"){const s=Array.isArray(t)?t:t.split(i),r=s.pop();if(r){let o=n;s.forEach(a=>{o[a]==null&&(o[a]={}),o=o[a]}),o[r]=e}return n}function vb(n,t,e="/"){const i=Array.isArray(t)?t.slice():t.split(e),s=i.pop();if(s)if(i.length>0){const r=Wd(n,i);r&&delete r[s]}else delete n[s];return n}const Cb=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},wb=Cb(n=>n.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Ud=Cb(n=>oD(Od(n)).replace(/ /g,""));function qd(n){let t=2166136261,e=!1,i=n;for(let s=0,r=i.length;s<r;s+=1){let o=i.charCodeAt(s);o>127&&!e&&(i=unescape(encodeURIComponent(i)),o=i.charCodeAt(s),e=!0),t^=o,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function Xd(){let n="";const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let e=0,i=t.length;e<i;e+=1){const s=t[e],r=Math.random()*16|0;n+=(s==="x"?r:s==="y"?r&3|8:s).toString(16)}return n}function xb(n,t={}){const e=Qe.parseHTML(n,null,!1);return e.forEach(i=>{const s=i;if(s){const r=s.attributes;if(r)for(let o=0,a=r.length;o<a;o+=1){const l=r.item(o);if(l){const c=l.value.toLowerCase(),u=l.name.toLowerCase();(u.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&s.removeAttribute(u)}}}}),t.raw?e:Qe("<div/>").append(e).html()}function RD(n,t,e){const i=Math.min(2,Math.floor(n.length*.34));let s=Math.floor(n.length*.4)+1,r,o=!1;const a=n.toLowerCase();for(const l of t){const c=e(l);if(c!==void 0&&Math.abs(c.length-a.length)<=i){const u=c.toLowerCase();if(u===a){if(c===n)continue;return l}if(o||c.length<3)continue;const h=jD(a,u,s-1);if(h===void 0)continue;h<3?(o=!0,r=l):(s=h,r=l)}}return r}function jD(n,t,e){let i=new Array(t.length+1),s=new Array(t.length+1);const r=e+1;for(let a=0;a<=t.length;a+=1)i[a]=a;for(let a=1;a<=n.length;a+=1){const l=n.charCodeAt(a-1),c=a>e?a-e:1,u=t.length>e+a?e+a:t.length;s[0]=a;let h=a;for(let g=1;g<c;g+=1)s[g]=r;for(let g=c;g<=u;g+=1){const b=l===t.charCodeAt(g-1)?i[g-1]:Math.min(i[g]+1,s[g-1]+1,i[g-1]+2);s[g]=b,h=Math.min(h,b)}for(let g=u+1;g<=t.length;g+=1)s[g]=r;if(h>e)return;const f=i;i=s,s=f}const o=i[t.length];return o>e?void 0:o}function Fi(n){return typeof n=="string"&&n.slice(-1)==="%"}function Xi(n,t){if(n==null)return 0;let e;if(typeof n=="string"){if(e=parseFloat(n),Fi(n)&&(e/=100,Number.isFinite(e)))return e*t}else e=n;return Number.isFinite(e)?e>0&&e<1?e*t:e:0}function zD(n,t){function e(o){const a=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${o})$`).exec(n);return a?a[1]:null}const i=parseFloat(n);if(Number.isNaN(i))return null;let s;if(t==null)s="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;s=t.join("|")}else typeof t=="string"&&(s=t);const r=e(s);return r===null?null:{unit:r,value:i}}function Kn(n){if(typeof n=="object"){let e=0,i=0,s=0,r=0;return n.vertical!=null&&Number.isFinite(n.vertical)&&(i=r=n.vertical),n.horizontal!=null&&Number.isFinite(n.horizontal)&&(s=e=n.horizontal),n.left!=null&&Number.isFinite(n.left)&&(e=n.left),n.top!=null&&Number.isFinite(n.top)&&(i=n.top),n.right!=null&&Number.isFinite(n.right)&&(s=n.right),n.bottom!=null&&Number.isFinite(n.bottom)&&(r=n.bottom),{top:i,right:s,bottom:r,left:e}}let t=0;return n!=null&&Number.isFinite(n)&&(t=n),{top:t,right:t,bottom:t,left:t}}function Sb(n,t,e){if(e)switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2]);case 4:return n.call(t,e[0],e[1],e[2],e[3]);case 5:return n.call(t,e[0],e[1],e[2],e[3],e[4]);case 6:return n.call(t,e[0],e[1],e[2],e[3],e[4],e[5]);default:return n.apply(t,e)}return n.call(t)}function yt(n,t,...e){return Sb(n,t,e)}function BD(n){return typeof n=="object"&&n.then&&typeof n.then=="function"}function Yd(n){return n!=null&&(n instanceof Promise||BD(n))}function Kd(...n){const t=[];if(n.forEach(i=>{Array.isArray(i)?t.push(...i):t.push(i)}),t.some(i=>Yd(i))){const i=t.map(s=>Yd(s)?s:Promise.resolve(s!==!1));return Promise.all(i).then(s=>s.reduce((r,o)=>o!==!1&&r,!0))}return t.every(i=>i!==!1)}function HD(...n){const t=Kd(n);return typeof t=="boolean"?Promise.resolve(t):t}const Jd=/[\t\r\n\f]/g,Zd=/\S+/g,Ao=n=>` ${n} `;function Mo(n){return n&&n.getAttribute&&n.getAttribute("class")||""}function Gc(n,t){if(n==null||t==null)return!1;const e=Ao(Mo(n)),i=Ao(t);return n.nodeType===1?e.replace(Jd," ").includes(i):!1}function fe(n,t){if(!(n==null||t==null)){if(typeof t=="function")return fe(n,t(Mo(n)));if(typeof t=="string"&&n.nodeType===1){const e=t.match(Zd)||[],i=Ao(Mo(n)).replace(Jd," ");let s=e.reduce((r,o)=>r.indexOf(Ao(o))<0?`${r}${o} `:r,i);s=s.trim(),i!==s&&n.setAttribute("class",s)}}}function vi(n,t){if(n!=null){if(typeof t=="function")return vi(n,t(Mo(n)));if((!t||typeof t=="string")&&n.nodeType===1){const e=(t||"").match(Zd)||[],i=Ao(Mo(n)).replace(Jd," ");let s=e.reduce((r,o)=>{const a=Ao(o);return r.indexOf(a)>-1?r.replace(a," "):r},i);s=t?s.trim():"",i!==s&&n.setAttribute("class",s)}}}function Eb(n,t,e){if(!(n==null||t==null)){if(e!=null&&typeof t=="string"){e?fe(n,t):vi(n,t);return}if(typeof t=="function")return Eb(n,t(Mo(n),e),e);typeof t=="string"&&(t.match(Zd)||[]).forEach(s=>{Gc(n,s)?vi(n,s):fe(n,s)})}}let Ab=0;function VD(){return Ab+=1,`v${Ab}`}function Wc(n){return(n.id==null||n.id==="")&&(n.id=VD()),n.id}function Za(n){return n==null?!1:typeof n.getScreenCTM=="function"&&n instanceof SVGElement}const dn={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},Mb="1.1";function Tb(n,t=document){return t.createElement(n)}function Qd(n,t=dn.xhtml,e=document){return e.createElementNS(t,n)}function Jn(n,t=document){return Qd(n,dn.svg,t)}function Uc(n){if(n){const e=`<svg xmlns="${dn.svg}" xmlns:xlink="${dn.xlink}" version="${Mb}">${n}</svg>`,{documentElement:i}=Ob(e,{async:!1});return i}const t=document.createElementNS(dn.svg,"svg");return t.setAttributeNS(dn.xmlns,"xmlns:xlink",dn.xlink),t.setAttribute("version",Mb),t}function Ob(n,t={}){let e;try{const i=new DOMParser;if(t.async!=null){const s=i;s.async=t.async}e=i.parseFromString(n,t.mimeType||"text/xml")}catch{e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${n}`);return e}function GD(n,t=!0){const e=n.nodeName;return t?e.toLowerCase():e.toUpperCase()}function tf(n){let t=0,e=n.previousSibling;for(;e;)e.nodeType===1&&(t+=1),e=e.previousSibling;return t}function WD(n,t){return n.querySelectorAll(t)}function ef(n,t){return n.querySelector(t)}function Pb(n,t,e){const i=n.ownerSVGElement;let s=n.parentNode;for(;s&&s!==e&&s!==i;){if(Gc(s,t))return s;s=s.parentNode}return null}function nf(n,t){const e=t&&t.parentNode;return n===e||!!(e&&e.nodeType===1&&n.compareDocumentPosition(e)&16)}function Yi(n){n.parentNode&&n.parentNode.removeChild(n)}function sf(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Qa(n,t){(Array.isArray(t)?t:[t]).forEach(i=>{i!=null&&n.appendChild(i)})}function UD(n,t){const e=n.firstChild;return e?rf(e,t):Qa(n,t)}function rf(n,t){const e=n.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(s=>{s!=null&&e.insertBefore(s,n)})}function qD(n,t){t!=null&&t.appendChild(n)}function of(n){try{return n instanceof HTMLElement}catch{return typeof n=="object"&&n.nodeType===1&&typeof n.style=="object"&&typeof n.ownerDocument=="object"}}function XD(n,t){return n.getAttribute(t)}function $b(n,t){const e=kb(t);e.ns?n.hasAttributeNS(e.ns,e.local)&&n.removeAttributeNS(e.ns,e.local):n.hasAttribute(t)&&n.removeAttribute(t)}function af(n,t,e){if(e==null)return $b(n,t);const i=kb(t);i.ns&&typeof e=="string"?n.setAttributeNS(i.ns,t,e):t==="id"?n.id=`${e}`:n.setAttribute(t,`${e}`)}function Db(n,t){Object.keys(t).forEach(e=>{af(n,e,t[e])})}function ge(n,t,e){if(t==null){const i=n.attributes,s={};for(let r=0;r<i.length;r+=1)s[i[r].name]=i[r].value;return s}if(typeof t=="string"&&e===void 0)return n.getAttribute(t);typeof t=="object"?Db(n,t):af(n,t,e)}function kb(n){if(n.indexOf(":")!==-1){const t=n.split(":");return{ns:dn[t[0]],local:t[1]}}return{ns:null,local:n}}function tl(n){const t={};return Object.keys(n).forEach(e=>{const i=wb(e);t[i]=n[e]}),t}function qc(n){const t={};return n.split(";").forEach(i=>{const s=i.trim();if(s){const r=s.split("=");r.length&&(t[r[0].trim()]=r[1]?r[1].trim():"")}}),t}function lf(n,t){return Object.keys(t).forEach(e=>{if(e==="class")n[e]=n[e]?`${n[e]} ${t[e]}`:t[e];else if(e==="style"){const i=typeof n[e]=="object",s=typeof t[e]=="object";let r,o;i&&s?(r=n[e],o=t[e]):i?(r=n[e],o=qc(t[e])):s?(r=qc(n[e]),o=t[e]):(r=qc(n[e]),o=qc(t[e])),n[e]=lf(r,o)}else n[e]=t[e]}),n}function YD(n,t,e={}){const i=e.offset||0,s=[],r=[];let o,a,l=null;for(let c=0;c<n.length;c+=1){o=r[c]=n[c];for(let u=0,h=t.length;u<h;u+=1){const f=t[u],g=f.start+i,b=f.end+i;c>=g&&c<b&&(typeof o=="string"?o=r[c]={t:n[c],attrs:f.attrs}:o.attrs=lf(lf({},o.attrs),f.attrs),e.includeAnnotationIndices&&(o.annotations==null&&(o.annotations=[]),o.annotations.push(u)))}a=r[c-1],a?sn(o)&&sn(a)?(l=l,JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?l.t+=o.t:(s.push(l),l=o)):sn(o)||sn(a)?(l=l,s.push(l),l=o):l=(l||"")+o:l=o}return l!=null&&s.push(l),s}function KD(n){return n.replace(/ /g,"\xA0")}var Nb;(function(n){n.emptyObject=Object.freeze({}),n.emptyArray=Object.freeze([]);function t(u){return u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"}n.isPrimitive=t;function e(u){return Array.isArray(u)}n.isArray=e;function i(u){return!t(u)&&!e(u)}n.isObject=i;function s(u,h){if(u===h)return!0;if(t(u)||t(h))return!1;const f=e(u),g=e(h);return f!==g?!1:f&&g?o(u,h):a(u,h)}n.deepEqual=s;function r(u){return t(u)?u:e(u)?l(u):c(u)}n.deepCopy=r;function o(u,h){if(u===h)return!0;if(u.length!==h.length)return!1;for(let f=0,g=u.length;f<g;f+=1)if(!s(u[f],h[f]))return!1;return!0}function a(u,h){if(u===h)return!0;for(const f in u)if(!(f in h))return!1;for(const f in h)if(!(f in u))return!1;for(const f in u)if(!s(u[f],h[f]))return!1;return!0}function l(u){const h=new Array(u.length);for(let f=0,g=u.length;f<g;f+=1)h[f]=r(u[f]);return h}function c(u){const h={};return Object.keys(u).forEach(f=>{h[f]=r(u[f])}),h}})(Nb||(Nb={}));var cf;(function(n){function t(c){const u="data:";return c.substr(0,u.length)===u}n.isDataUrl=t;function e(c,u){if(!c||t(c)){setTimeout(()=>u(null,c));return}const h=()=>{u(new Error(`Failed to load image: ${c}`))},f=window.FileReader?b=>{if(b.status===200){const y=new FileReader;y.onload=w=>{const C=w.target.result;u(null,C)},y.onerror=h,y.readAsDataURL(b.response)}else h()}:b=>{const y=w=>{const C=32768,E=[];for(let S=0;S<w.length;S+=C)E.push(String.fromCharCode.apply(null,w.subarray(S,S+C)));return E.join("")};if(b.status===200){let w=c.split(".").pop()||"png";w==="svg"&&(w="svg+xml");const C=`data:image/${w};base64,`,E=new Uint8Array(b.response),S=C+btoa(y(E));u(null,S)}else h()},g=new XMLHttpRequest;g.responseType=window.FileReader?"blob":"arraybuffer",g.open("GET",c,!0),g.addEventListener("error",h),g.addEventListener("load",()=>f(g)),g.send()}n.imageToDataUri=e;function i(c){let u=c.replace(/\s/g,"");u=decodeURIComponent(u);const h=u.indexOf(","),f=u.slice(0,h),g=f.split(":")[1].split(";")[0],b=u.slice(h+1);let y;f.indexOf("base64")>=0?y=atob(b):y=unescape(encodeURIComponent(b));const w=new Uint8Array(y.length);for(let C=0;C<y.length;C+=1)w[C]=y.charCodeAt(C);return new Blob([w],{type:g})}n.dataUriToBlob=i;function s(c,u){const h=window.navigator.msSaveBlob;if(h)h(c,u);else{const f=window.URL.createObjectURL(c),g=document.createElement("a");g.href=f,g.download=u,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(f)}}n.downloadBlob=s;function r(c,u){const h=i(c);s(h,u)}n.downloadDataUri=r;function o(c){const u=c.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return u&&u[2]?u[2].replace(/\s+/," ").split(" "):null}function a(c){const u=parseFloat(c);return Number.isNaN(u)?null:u}function l(c,u={}){let h=null;const f=S=>(h==null&&(h=o(c)),h!=null?a(h[S]):null),g=S=>{const T=c.match(S);return T&&T[2]?a(T[2]):null};let b=u.width;if(b==null&&(b=g(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),b==null&&(b=f(2)),b==null)throw new Error("Can not parse width from svg string");let y=u.height;if(y==null&&(y=g(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),y==null&&(y=f(3)),y==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(c).replace(/'/g,"%27").replace(/"/g,"%22")}`}n.svgToDataUrl=l})(cf||(cf={}));let Tr;const JD={px(n){return n},mm(n){return Tr*n},cm(n){return Tr*n*10},in(n){return Tr*n*25.4},pt(n){return Tr*(25.4*n/72)},pc(n){return Tr*(25.4*n/6)}};var uf;(function(n){function t(i,s,r){const o=Qe("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:i+(r||""),height:s+(r||"")}).appendTo(document.body),a={width:o.width()||0,height:o.height()||0};return o.remove(),a}n.measure=t;function e(i,s){Tr==null&&(Tr=t("1","1","mm").width);const r=s?JD[s]:null;return r?r(i):i}n.toPx=e})(uf||(uf={}));const hf=function(){let n;const t=window;if(t!=null&&(n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,n!=null&&(n=n.bind(t))),n==null){let e=0;n=i=>{const s=new Date().getTime(),r=Math.max(0,16-(s-e)),o=setTimeout(()=>{i(s+r)},r);return e=s+r,o}}return n}(),df=function(){let n;const t=window;return t!=null&&(n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.msCancelAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelAnimationFrame||t.oCancelRequestAnimationFrame||t.mozCancelAnimationFrame||t.mozCancelRequestAnimationFrame,n&&(n=n.bind(t))),n==null&&(n=clearTimeout),n}();document&&document.createElement("div").style;function Lb(n,t){const e=n.ownerDocument&&n.ownerDocument.defaultView&&n.ownerDocument.defaultView.opener?n.ownerDocument.defaultView.getComputedStyle(n,null):window.getComputedStyle(n,null);return e&&t?e.getPropertyValue(t)||e[t]:e}var se;(function(n){function t(i){return 180*i/Math.PI%360}n.toDeg=t,n.toRad=function(i,s=!1){return(s?i:i%360)*Math.PI/180};function e(i){return i%360+(i<0?360:0)}n.normalize=e})(se||(se={}));function Or(n,t=0){return Number.isInteger(n)?n:+n.toFixed(t)}function Fb(n,t){let e,i;if(t==null?(i=n==null?1:n,e=0):(i=t,e=n==null?0:n),i<e){const s=e;e=i,i=s}return Math.floor(Math.random()*(i-e+1)+e)}function To(n,t,e){return Number.isNaN(n)?NaN:Number.isNaN(t)||Number.isNaN(e)?0:t<e?n<t?t:n>e?e:n:n<e?e:n>t?t:n}function ff(n,t){return t*Math.round(n/t)}function Ib(n,t){return t!=null&&n!=null&&t.x>=n.x&&t.x<=n.x+n.width&&t.y>=n.y&&t.y<=n.y+n.height}function _b(n,t){const e=n.x-t.x,i=n.y-t.y;return e*e+i*i}class _s{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class L extends _s{constructor(t,e){super();this.x=t==null?0:t,this.y=e==null?0:e}get[Symbol.toStringTag](){return L.toStringTag}round(t=0){return this.x=Or(this.x,t),this.y=Or(this.y,t),this}add(t,e){const i=L.create(t,e);return this.x+=i.x,this.y+=i.y,this}update(t,e){const i=L.create(t,e);return this.x=i.x,this.y=i.y,this}translate(t,e){const i=L.create(t,e);return this.x+=i.x,this.y+=i.y,this}rotate(t,e){const i=L.rotate(this,t,e);return this.x=i.x,this.y=i.y,this}scale(t,e,i=new L){const s=L.create(i);return this.x=s.x+t*(this.x-s.x),this.y=s.y+e*(this.y-s.y),this}closest(t){if(t.length===1)return L.create(t[0]);let e=null,i=1/0;return t.forEach(s=>{const r=this.squaredDistance(s);r<i&&(e=s,i=r)}),e?L.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=L.create(t),i=this.x-e.x,s=this.y-e.y;return i*i+s*s}manhattanDistance(t){const e=L.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new L){const e=L.create(t),i=-(e.y-this.y),s=e.x-this.x;let r=Math.atan2(i,s);return r<0&&(r=2*Math.PI+r),180*r/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let i=this.theta(e)-this.theta(t);return i<0&&(i+=360),i}vectorAngle(t){return new L(0,0).angleBetween(this,t)}toPolar(t){return this.update(L.toPolar(this,t)),this}changeInAngle(t,e,i=new L){return this.clone().translate(-t,-e).theta(i)-this.theta(i)}adhereToRect(t){return Ib(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=L.create(t),i=se.toRad(this.y),s=se.toRad(e.y),r=this.x,o=e.x,a=se.toRad(o-r),l=Math.sin(a)*Math.cos(s),c=Math.cos(i)*Math.sin(s)-Math.sin(i)*Math.cos(s)*Math.cos(a),u=se.toDeg(Math.atan2(l,c)),h=["NE","E","SE","S","SW","W","NW","N"];let f=u-22.5;return f<0&&(f+=360),f=parseInt(f/45,10),h[f]}cross(t,e){if(t!=null&&e!=null){const i=L.create(t),s=L.create(e);return(s.x-this.x)*(i.y-this.y)-(s.y-this.y)*(i.x-this.x)}return NaN}dot(t){const e=L.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new L(this.x-t,this.y-e);const i=L.create(t);return new L(this.x-i.x,this.y-i.y)}lerp(t,e){const i=L.create(t);return new L((1-e)*this.x+e*i.x,(1-e)*this.y+e*i.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const i=L.create(t),s=se.toRad(i.theta(this));return this.translate(Math.cos(s)*e,-Math.sin(s)*e)}reflection(t){return L.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=ff(this.x,t),this.y=ff(this.y,e==null?t:e),this}equals(t){const e=L.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return L.clone(this)}toJSON(){return L.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.toPolar=="function"}n.isPoint=t})(L||(L={}));(function(n){function t(i){return i!=null&&typeof i=="object"&&typeof i.x=="number"&&typeof i.y=="number"}n.isPointLike=t;function e(i){return i!=null&&Array.isArray(i)&&i.length===2&&typeof i[0]=="number"&&typeof i[1]=="number"}n.isPointData=e})(L||(L={}));(function(n){function t(h,f){return h==null||typeof h=="number"?new n(h,f):e(h)}n.create=t;function e(h){return n.isPoint(h)?new n(h.x,h.y):Array.isArray(h)?new n(h[0],h[1]):new n(h.x,h.y)}n.clone=e;function i(h){return n.isPoint(h)?{x:h.x,y:h.y}:Array.isArray(h)?{x:h[0],y:h[1]}:{x:h.x,y:h.y}}n.toJSON=i;function s(h,f,g=new n){let b=Math.abs(h*Math.cos(f)),y=Math.abs(h*Math.sin(f));const w=e(g),C=se.normalize(se.toDeg(f));return C<90?y=-y:C<180?(b=-b,y=-y):C<270&&(b=-b),new n(w.x+b,w.y+y)}n.fromPolar=s;function r(h,f=new n){const g=e(h),b=e(f),y=g.x-b.x,w=g.y-b.y;return new n(Math.sqrt(y*y+w*w),se.toRad(b.theta(g)))}n.toPolar=r;function o(h,f){return h===f?!0:h!=null&&f!=null?h.x===f.x&&h.y===f.y:!1}n.equals=o;function a(h,f){if(h==null&&f!=null||h!=null&&f==null||h!=null&&f!=null&&h.length!==f.length)return!1;if(h!=null&&f!=null){for(let g=0,b=h.length;g<b;g+=1)if(!o(h[g],f[g]))return!1}return!0}n.equalPoints=a;function l(h,f,g,b){return new n(Fb(h,f),Fb(g,b))}n.random=l;function c(h,f,g){const b=se.toRad(se.normalize(-f)),y=Math.sin(b),w=Math.cos(b);return u(h,w,y,g)}n.rotate=c;function u(h,f,g,b=new n){const y=e(h),w=e(b),C=y.x-w.x,E=y.y-w.y,S=C*f-E*g,T=E*f+C*g;return new n(S+w.x,T+w.y)}n.rotateEx=u})(L||(L={}));class ut extends _s{constructor(t,e,i,s){super();this.x=t==null?0:t,this.y=e==null?0:e,this.width=i==null?0:i,this.height=s==null?0:s}get[Symbol.toStringTag](){return ut.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new L(this.x,this.y)}get topLeft(){return new L(this.x,this.y)}get topCenter(){return new L(this.x+this.width/2,this.y)}get topRight(){return new L(this.x+this.width,this.y)}get center(){return new L(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new L(this.x,this.y+this.height)}get bottomCenter(){return new L(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new L(this.x+this.width,this.y+this.height)}get corner(){return new L(this.x+this.width,this.y+this.height)}get rightMiddle(){return new L(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new L(this.x,this.y+this.height/2)}get topLine(){return new At(this.topLeft,this.topRight)}get rightLine(){return new At(this.topRight,this.bottomRight)}get bottomLine(){return new At(this.bottomLeft,this.bottomRight)}get leftLine(){return new At(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=se.toRad(t),i=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),r=this.width*s+this.height*i,o=this.width*i+this.height*s;return new ut(this.x+(this.width-r)/2,this.y+(this.height-o)/2,r,o)}round(t=0){return this.x=Or(this.x,t),this.y=Or(this.y,t),this.width=Or(this.width,t),this.height=Or(this.height,t),this}add(t,e,i,s){const r=ut.create(t,e,i,s),o=Math.min(this.x,r.x),a=Math.min(this.y,r.y),l=Math.max(this.x+this.width,r.x+r.width),c=Math.max(this.y+this.height,r.y+r.height);return this.x=o,this.y=a,this.width=l-o,this.height=c-a,this}update(t,e,i,s){const r=ut.create(t,e,i,s);return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}inflate(t,e){const i=t,s=e!=null?e:t;return this.x-=i,this.y-=s,this.width+=2*i,this.height+=2*s,this}snapToGrid(t,e){const i=this.origin.snapToGrid(t,e),s=this.corner.snapToGrid(t,e);return this.x=i.x,this.y=i.y,this.width=s.x-i.x,this.height=s.y-i.y,this}translate(t,e){const i=L.create(t,e);return this.x+=i.x,this.y+=i.y,this}scale(t,e,i=new L){const s=this.origin.scale(t,e,i);return this.x=s.x,this.y=s.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const i=se.toRad(t),s=Math.cos(i),r=Math.sin(i);let o=this.getOrigin(),a=this.getTopRight(),l=this.getBottomRight(),c=this.getBottomLeft();o=L.rotateEx(o,s,r,e),a=L.rotateEx(a,s,r,e),l=L.rotateEx(l,s,r,e),c=L.rotateEx(c,s,r,e);const u=new ut(o.x,o.y,0,0);u.add(a.x,a.y,0,0),u.add(l.x,l.y,0,0),u.add(c.x,c.y,0,0),this.update(u)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=ut.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const i=ut.clone(t),s=e.x,r=e.y;let o=1/0,a=1/0,l=1/0,c=1/0,u=1/0,h=1/0,f=1/0,g=1/0;const b=i.topLeft;b.x<s&&(o=(this.x-s)/(b.x-s)),b.y<r&&(u=(this.y-r)/(b.y-r));const y=i.bottomRight;y.x>s&&(a=(this.x+this.width-s)/(y.x-s)),y.y>r&&(h=(this.y+this.height-r)/(y.y-r));const w=i.topRight;w.x>s&&(l=(this.x+this.width-s)/(w.x-s)),w.y<r&&(f=(this.y-r)/(w.y-r));const C=i.bottomLeft;return C.x<s&&(c=(this.x-s)/(C.x-s)),C.y>r&&(g=(this.y+this.height-r)/(C.y-r)),{sx:Math.min(o,a,l,c),sy:Math.min(u,h,f,g)}}getMaxUniformScaleToFit(t,e=this.center){const i=this.getMaxScaleToFit(t,e);return Math.min(i.sx,i.sy)}containsPoint(t,e){return Ib(this,L.create(t,e))}containsRect(t,e,i,s){const r=ut.create(t,e,i,s),o=this.x,a=this.y,l=this.width,c=this.height,u=r.x,h=r.y,f=r.width,g=r.height;return l===0||c===0||f===0||g===0?!1:u>=o&&h>=a&&u+f<=o+l&&h+g<=a+c}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],i=[],s=[];return e.forEach(r=>{const o=t.intersectsWithLine(r);o!==null&&s.indexOf(o.toString())<0&&(i.push(o),s.push(o.toString()))}),i.length>0?i:null}intersectsWithLineFromCenterToPoint(t,e){const i=L.clone(t),s=this.center;let r=null;e!=null&&e!==0&&i.rotate(e,s);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new At(s,i);for(let l=o.length-1;l>=0;l-=1){const c=o[l].intersectsWithLine(a);if(c!==null){r=c;break}}return r&&e!=null&&e!==0&&r.rotate(-e,s),r}intersectsWithRect(t,e,i,s){const r=ut.create(t,e,i,s);if(!this.isIntersectWithRect(r))return null;const o=this.origin,a=this.corner,l=r.origin,c=r.corner,u=Math.max(o.x,l.x),h=Math.max(o.y,l.y);return new ut(u,h,Math.min(a.x,c.x)-u,Math.min(a.y,c.y)-h)}isIntersectWithRect(t,e,i,s){const r=ut.create(t,e,i,s),o=this.origin,a=this.corner,l=r.origin,c=r.corner;return!(c.x<=o.x||c.y<=o.y||l.x>=a.x||l.y>=a.y)}normalize(){let t=this.x,e=this.y,i=this.width,s=this.height;return this.width<0&&(t=this.x+this.width,i=-this.width),this.height<0&&(e=this.y+this.height,s=-this.height),this.x=t,this.y=e,this.width=i,this.height=s,this}union(t){const e=ut.clone(t),i=this.origin,s=this.corner,r=e.origin,o=e.corner,a=Math.min(i.x,r.x),l=Math.min(i.y,r.y),c=Math.max(s.x,o.x),u=Math.max(s.y,o.y);return new ut(a,l,c-a,u-l)}getNearestSideToPoint(t){const e=L.clone(t),i=e.x-this.x,s=this.x+this.width-e.x,r=e.y-this.y,o=this.y+this.height-e.y;let a=i,l="left";return s<a&&(a=s,l="right"),r<a&&(a=r,l="top"),o<a&&(l="bottom"),l}getNearestPointToPoint(t){const e=L.clone(t);if(this.containsPoint(e))switch(this.getNearestSideToPoint(e)){case"right":return new L(this.x+this.width,e.y);case"left":return new L(this.x,e.y);case"bottom":return new L(e.x,this.y+this.height);case"top":return new L(e.x,this.y)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new ut(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.width=="number"&&typeof s.height=="number"&&typeof s.inflate=="function"&&typeof s.moveAndExpand=="function"}n.isRectangle=t})(ut||(ut={}));(function(n){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}n.isRectangleLike=t})(ut||(ut={}));(function(n){function t(o,a,l,c){return o==null||typeof o=="number"?new n(o,a,l,c):e(o)}n.create=t;function e(o){return n.isRectangle(o)?o.clone():Array.isArray(o)?new n(o[0],o[1],o[2],o[3]):new n(o.x,o.y,o.width,o.height)}n.clone=e;function i(o){return new n(0,0,o.width,o.height)}n.fromSize=i;function s(o,a){return new n(o.x,o.y,a.width,a.height)}n.fromPositionAndSize=s;function r(o){return new n(o.x-o.a,o.y-o.b,2*o.a,2*o.b)}n.fromEllipse=r})(ut||(ut={}));class At extends _s{constructor(t,e,i,s){super();typeof t=="number"&&typeof e=="number"?(this.start=new L(t,e),this.end=new L(i,s)):(this.start=L.create(t),this.end=L.create(e))}get[Symbol.toStringTag](){return At.toStringTag}get center(){return new L((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,i){return this.start.scale(t,e,i),this.end.scale(t,e,i),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const i=t/e;return this.scale(i,i,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:i,end:s}=e,r=i.clone().rotate(270,s),o=s.clone().rotate(90,i);return i.move(o,t),s.move(r,t),e}vector(){return new L(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new L(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),i=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new ut(t,e,i-t,s-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new At(this.start,t).vector()),i=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(i)?0:i}pointAt(t){const e=this.start,i=this.end;return t<=0?e.clone():t>=1?i.clone():e.lerp(i,t)}pointAtLength(t){const e=this.start,i=this.end;let s=!0;t<0&&(s=!1,t=-t);const r=this.length();if(t>=r)return s?i.clone():e.clone();const o=(s?t:r-t)/r;return this.pointAt(o)}divideAt(t){const e=this.pointAt(t);return[new At(this.start,e),new At(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new At(this.start,e),new At(e,this.end)]}containsPoint(t){const e=this.start,i=this.end;if(e.cross(t,i)!==0)return!1;const s=this.length();return!(new At(e,t).length()>s||new At(t,i).length()>s)}intersect(t,e){const i=t.intersectsWithLine(this,e);return i?Array.isArray(i)?i:[i]:null}intersectsWithLine(t){const e=new L(this.end.x-this.start.x,this.end.y-this.start.y),i=new L(t.end.x-t.start.x,t.end.y-t.start.y),s=e.x*i.y-e.y*i.x,r=new L(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*i.y-r.y*i.x,a=r.x*e.y-r.y*e.x;if(s===0||o*s<0||a*s<0)return null;if(s>0){if(o>s||a>s)return null}else if(o<s||a<s)return null;return new L(this.start.x+o*e.x/s,this.start.y+o*e.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=L.clone(t),i=this.start,s=this.end;return((s.x-i.x)*(e.y-i.y)-(s.y-i.y)*(e.x-i.x))/this.length()}pointSquaredDistance(t,e){const i=L.create(t,e);return this.closestPoint(i).squaredDistance(i)}pointDistance(t,e){const i=L.create(t,e);return this.closestPoint(i).distance(i)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,i=this.end,s=this.pointAt(t),r=new At(e,i);return r.translate(s.x-e.x,s.y-e.y),r}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,i=this.end,s=this.pointAtLength(t),r=new At(e,i);return r.translate(s.x-e.x,s.y-e.y),r}relativeCcw(t,e){const i=L.create(t,e);let s=i.x-this.start.x,r=i.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let l=s*a-r*o;return l===0&&(l=s*o+r*a,l>0&&(s-=o,r-=a,l=s*o+r*a,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new At(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;try{if((i==null||i===n.toStringTag)&&L.isPoint(s.start)&&L.isPoint(s.end)&&typeof s.vector=="function"&&typeof s.bearing=="function"&&typeof s.parallel=="function"&&typeof s.intersect=="function")return!0}catch{return!1}return!1}n.isLine=t})(At||(At={}));class Ci extends _s{constructor(t,e,i,s){super();this.x=t==null?0:t,this.y=e==null?0:e,this.a=i==null?0:i,this.b=s==null?0:s}get[Symbol.toStringTag](){return Ci.toStringTag}get center(){return new L(this.x,this.y)}bbox(){return ut.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const i=t,s=e!=null?e:t;return this.a+=2*i,this.b+=2*s,this}normalizedDistance(t,e){const i=L.create(t,e),s=i.x-this.x,r=i.y-this.y,o=this.a,a=this.b;return s*s/(o*o)+r*r/(a*a)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],i=this.a,s=this.b,r=t.start,o=t.end,a=t.vector(),l=r.diff(new L(this.x,this.y)),c=new L(a.x/(i*i),a.y/(s*s)),u=new L(l.x/(i*i),l.y/(s*s)),h=a.dot(c),f=a.dot(u),g=l.dot(u)-1,b=f*f-h*g;if(b<0)return null;if(b>0){const y=Math.sqrt(b),w=(-f-y)/h,C=(-f+y)/h;if((w<0||w>1)&&(C<0||C>1))return null;w>=0&&w<=1&&e.push(r.lerp(o,w)),C>=0&&C<=1&&e.push(r.lerp(o,C))}else{const y=-f/h;if(y>=0&&y<=1)e.push(r.lerp(o,y));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const i=L.clone(t);e&&i.rotate(e,this.getCenter());const s=i.x-this.x,r=i.y-this.y;let o;if(s===0)return o=this.bbox().getNearestPointToPoint(i),e?o.rotate(-e,this.getCenter()):o;const a=r/s,l=a*a,c=this.a*this.a,u=this.b*this.b;let h=Math.sqrt(1/(1/c+l/u));h=s<0?-h:h;const f=a*h;return o=new L(this.x+h,this.y+f),e?o.rotate(-e,this.getCenter()):o}tangentTheta(t){const e=L.clone(t),i=e.x,s=e.y,r=this.a,o=this.b,a=this.bbox().center,l=a.x,c=a.y,u=30,h=i>a.x+r/2,f=i<a.x-r/2;let g,b;return h||f?(b=i>a.x?s-u:s+u,g=r*r/(i-l)-r*r*(s-c)*(b-c)/(o*o*(i-l))+l):(g=s>a.y?i+u:i-u,b=o*o/(s-c)-o*o*(i-l)*(g-l)/(r*r*(s-c))+c),new L(g,b).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const i=ut.fromEllipse(this);i.rotate(t,e);const s=Ci.fromRect(i);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(t,e){const i=L.create(t,e);return this.x+=i.x,this.y+=i.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new Ci(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.a=="number"&&typeof s.b=="number"&&typeof s.inflate=="function"&&typeof s.normalizedDistance=="function"}n.isEllipse=t})(Ci||(Ci={}));(function(n){function t(s,r,o,a){return s==null||typeof s=="number"?new n(s,r,o,a):e(s)}n.create=t;function e(s){return n.isEllipse(s)?s.clone():Array.isArray(s)?new n(s[0],s[1],s[2],s[3]):new n(s.x,s.y,s.a,s.b)}n.parse=e;function i(s){const r=s.center;return new n(r.x,r.y,s.width/2,s.height/2)}n.fromRect=i})(Ci||(Ci={}));class fn extends _s{constructor(t){super();if(t!=null){if(typeof t=="string")return fn.parse(t);this.points=t.map(e=>L.create(e))}else this.points=[]}get[Symbol.toStringTag](){return fn.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(t,e,i=new L){return this.points.forEach(s=>s.scale(t,e,i)),this}rotate(t,e){return this.points.forEach(i=>i.rotate(t,e)),this}translate(t,e){const i=L.create(t,e);return this.points.forEach(s=>s.translate(i.x,i.y)),this}bbox(){if(this.points.length===0)return new ut;let t=1/0,e=-1/0,i=1/0,s=-1/0;const r=this.points;for(let o=0,a=r.length;o<a;o+=1){const l=r[o],c=l.x,u=l.y;c<t&&(t=c),c>e&&(e=c),u<i&&(i=u),u>s&&(s=u)}return new ut(t,i,e-t,s-i)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,i=e.length;if(i===0||i===1)return 0;let s=0,r=0,o=1/0;for(let a=0,l=i-1;a<l;a+=1){const c=new At(e[a],e[a+1]),u=c.length(),h=c.closestPointNormalizedLength(t),g=c.pointAt(h).squaredDistance(t);g<o&&(o=g,r=s+h*u),s+=u}return r}closestPointNormalizedLength(t){const e=this.closestPointLength(t);if(e===0)return 0;const i=this.length();return i===0?0:e/i}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=L.clone(t),i=e.x,s=e.y,r=this.points,o=r.length;let a=o-1,l=0;for(let c=0;c<o;c+=1){const u=r[a],h=r[c];if(e.equals(u))return!0;const f=new At(u,h);if(f.containsPoint(t))return!0;if(s<=u.y&&s>h.y||s>u.y&&s<=h.y){const g=u.x-i>h.x-i?u.x-i:h.x-i;if(g>=0){const b=new L(i+g,s),y=new At(t,b);f.intersectsWithLine(y)&&(l+=1)}}a=c}return l%2==1}intersectsWithLine(t){const e=[];for(let i=0,s=this.points.length-1;i<s;i+=1){const r=this.points[i],o=this.points[i+1],a=t.intersectsWithLine(new At(r,o));a&&e.push(a)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const i=this.points[t],s=this.points[t+1];if(new At(i,s).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,i=this.points.length-1;e<i;e+=1){const s=this.points[e],r=this.points[e+1];t+=s.distance(r)}return t}pointAt(t){const e=this.points,i=e.length;if(i===0)return null;if(i===1||t<=0)return e[0].clone();if(t>=1)return e[i-1].clone();const r=this.length()*t;return this.pointAtLength(r)}pointAtLength(t){const e=this.points,i=e.length;if(i===0)return null;if(i===1)return e[0].clone();let s=!0;t<0&&(s=!1,t=-t);let r=0;for(let a=0,l=i-1;a<l;a+=1){const c=s?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),g=u.distance(h);if(t<=r+g)return f.pointAtLength((s?1:-1)*(t-r));r+=g}return(s?e[i-1]:e[0]).clone()}tangentAt(t){const i=this.points.length;if(i===0||i===1)return null;t<0&&(t=0),t>1&&(t=1);const r=this.length()*t;return this.tangentAtLength(r)}tangentAtLength(t){const e=this.points,i=e.length;if(i===0||i===1)return null;let s=!0;t<0&&(s=!1,t=-t);let r,o=0;for(let a=0,l=i-1;a<l;a+=1){const c=s?a:l-1-a,u=e[c],h=e[c+1],f=new At(u,h),g=u.distance(h);if(f.isDifferentiable()){if(t<=o+g)return f.tangentAtLength((s?1:-1)*(t-o));r=f}o+=g}if(r){const a=s?1:0;return r.tangentAt(a)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const i=t.threshold||0;let s=0;for(;e[s+2];){const r=s,o=s+1,a=s+2,l=e[r],c=e[o],u=e[a];new At(l,u).closestPoint(c).distance(c)<=i?e.splice(o,1):s+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new fn;let i=t[0];for(let f=1;f<e;f+=1)(t[f].y<i.y||t[f].y===i.y&&t[f].x>i.x)&&(i=t[f]);const s=[];for(let f=0;f<e;f+=1){let g=i.theta(t[f]);g===0&&(g=360),s.push([t[f],f,g])}if(s.sort((f,g)=>{let b=f[2]-g[2];return b===0&&(b=g[1]-f[1]),b}),s.length>2){const f=s[s.length-1];s.unshift(f)}const r={},o=[],a=f=>`${f[0].toString()}@${f[1]}`;for(;s.length!==0;){const f=s.pop(),g=f[0];if(r[a(f)])continue;let b=!1;for(;!b;)if(o.length<2)o.push(f),b=!0;else{const y=o.pop(),w=y[0],C=o.pop(),E=C[0],S=E.cross(w,g);if(S<0)o.push(C),o.push(y),o.push(f),b=!0;else if(S===0){const T=1e-10,$=w.angleBetween(E,g);Math.abs($-180)<T||w.equals(g)||E.equals(w)?(r[a(y)]=w,o.push(C)):Math.abs(($+1)%360-1)<T&&(o.push(C),s.push(y))}else r[a(y)]=w,o.push(C)}}o.length>2&&o.pop();let l,c=-1;for(let f=0,g=o.length;f<g;f+=1){const b=o[f][1];(l===void 0||b<l)&&(l=b,c=f)}let u=[];if(c>0){const f=o.slice(c),g=o.slice(0,c);u=f.concat(g)}else u=o;const h=[];for(let f=0,g=u.length;f<g;f+=1)h.push(u[f][0]);return new fn(h)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,i)=>e.equals(this.points[i]))}clone(){return new fn(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.x}, ${t.y}`).join(" ")}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.toHull=="function"&&typeof s.simplify=="function"}n.isPolyline=t})(fn||(fn={}));(function(n){function t(e){const i=e.trim();if(i==="")return new n;const s=[],r=i.split(/\s*,\s*|\s+/);for(let o=0,a=r.length;o<a;o+=2)s.push({x:+r[o],y:+r[o+1]});return new n(s)}n.parse=t})(fn||(fn={}));class Xe extends _s{constructor(t,e,i,s){super();this.PRECISION=3,this.start=L.create(t),this.controlPoint1=L.create(e),this.controlPoint2=L.create(i),this.end=L.create(s)}get[Symbol.toStringTag](){return Xe.toStringTag}bbox(){const t=this.start,e=this.controlPoint1,i=this.controlPoint2,s=this.end,r=t.x,o=t.y,a=e.x,l=e.y,c=i.x,u=i.y,h=s.x,f=s.y,g=[],b=[],y=[[],[]];let w,C,E,S,T,$,p,A;for(let Q=0;Q<2;Q+=1){if(Q===0?(C=6*r-12*a+6*c,w=-3*r+9*a-9*c+3*h,E=3*a-3*r):(C=6*o-12*l+6*u,w=-3*o+9*l-9*u+3*f,E=3*l-3*o),Math.abs(w)<1e-12){if(Math.abs(C)<1e-12)continue;S=-E/C,S>0&&S<1&&b.push(S);continue}p=C*C-4*E*w,A=Math.sqrt(p),!(p<0)&&(T=(-C+A)/(2*w),T>0&&T<1&&b.push(T),$=(-C-A)/(2*w),$>0&&$<1&&b.push($))}let k,F,H,_=b.length;const I=_;for(;_;)_-=1,S=b[_],H=1-S,k=H*H*H*r+3*H*H*S*a+3*H*S*S*c+S*S*S*h,y[0][_]=k,F=H*H*H*o+3*H*H*S*l+3*H*S*S*u+S*S*S*f,y[1][_]=F,g[_]={X:k,Y:F};b[I]=0,b[I+1]=1,g[I]={X:r,Y:o},g[I+1]={X:h,Y:f},y[0][I]=r,y[1][I]=o,y[0][I+1]=h,y[1][I+1]=f,b.length=I+2,y[0].length=I+2,y[1].length=I+2,g.length=I+2;const Y=Math.min.apply(null,y[0]),nt=Math.min.apply(null,y[1]),G=Math.max.apply(null,y[0]),q=Math.max.apply(null,y[1]);return new ut(Y,nt,G-Y,q-nt)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const i=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,i),i)}closestPointNormalizedLength(t,e={}){const i=this.getOptions(e),s=this.closestPointLength(t,i);if(!s)return 0;const r=this.length(i);return r===0?0:s/r}closestPointT(t,e={}){const i=this.getPrecision(e),s=this.getDivisions(e),r=Math.pow(10,-i);let o=null,a=0,l=0,c=0,u=0,h=0,f=null;const g=s.length;let b=g>0?1/g:0;for(s.forEach((y,w)=>{const C=y.start.distance(t),E=y.end.distance(t),S=C+E;(f==null||S<f)&&(o=y,a=w*b,l=(w+1)*b,c=C,u=E,f=S,h=y.endpointDistance())});;){const y=c?Math.abs(c-u)/c:0,w=u!=null?Math.abs(c-u)/u:0,C=y<r||w<r,E=c?c<h*r:!0,S=u?u<h*r:!0;if(C||(E||S))return c<=u?a:l;const $=o.divide(.5);b/=2;const p=$[0].start.distance(t),A=$[0].end.distance(t),k=p+A,F=$[1].start.distance(t),H=$[1].end.distance(t),_=F+H;k<=_?(o=$[0],l-=b,c=p,u=A):(o=$[1],a+=b,c=F,u=H)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const i=this.tAt(t,e);return this.divideAtT(i)}divideAtLength(t,e={}){const i=this.tAtLength(t,e);return this.divideAtT(i)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,i=this.controlPoint1,s=this.controlPoint2,r=this.end;if(t<=0)return[new Xe(e,e,e,e),new Xe(e,i,s,r)];if(t>=1)return[new Xe(e,i,s,r),new Xe(r,r,r,r)];const o=this.getSkeletonPoints(t),a=o.startControlPoint1,l=o.startControlPoint2,c=o.divider,u=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new Xe(e,a,l,c),new Xe(c,u,h,r)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,i=this.controlPoint1,s=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:s.clone()};if(t>=1)return{startControlPoint1:i.clone(),startControlPoint2:s.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};const o=new At(e,i).pointAt(t),a=new At(i,s).pointAt(t),l=new At(s,r).pointAt(t),c=new At(o,a).pointAt(t),u=new At(a,l).pointAt(t),h=new At(c,u).pointAt(t);return{startControlPoint1:o,startControlPoint2:c,divider:h,dividerControlPoint1:u,dividerControlPoint2:l}}getSubdivisions(t={}){const e=this.getPrecision(t);let i=[new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return i;let s=this.endpointDistance();const r=Math.pow(10,-e);let o=0;for(;;){o+=1;const a=[];i.forEach(u=>{const h=u.divide(.5);a.push(h[0],h[1])});const l=a.reduce((u,h)=>u+h.endpointDistance(),0),c=l!==0?(l-s)/l:0;if(o>1&&c<r)return a;i=a,s=l}}length(t={}){return this.getDivisions(t).reduce((i,s)=>i+s.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const i=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:i})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const i=this.tAt(t,e);return this.pointAtT(i)}pointAtLength(t,e={}){const i=this.tAtLength(t,e);return this.pointAtT(i)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(s))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const i=this.tAt(t,e);return this.tangentAtT(i)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const i=this.tAtLength(t,e);return this.tangentAtT(i)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),i=e.startControlPoint2,s=e.dividerControlPoint1,r=e.divider,o=new At(i,s);return o.translate(r.x-i.x,r.y-i.y),o}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),i=this.getDivisions(t);return{precision:e,subdivisions:i}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const i=this.getOptions(e),r=this.length(i)*t;return this.tAtLength(r,i)}tAtLength(t,e={}){let i=!0;t<0&&(i=!1,t=-t);const s=this.getPrecision(e),r=this.getDivisions(e),o={precision:s,subdivisions:r};let a=null,l,c,u=0,h=0,f=0;const g=r.length;let b=g>0?1/g:0;for(let C=0;C<g;C+=1){const E=i?C:g-1-C,S=r[C],T=S.endpointDistance();if(t<=f+T){a=S,l=E*b,c=(E+1)*b,u=i?t-f:T+f-t,h=i?T+f-t:t-f;break}f+=T}if(a==null)return i?1:0;const y=this.length(o),w=Math.pow(10,-s);for(;;){let C;if(C=y!==0?u/y:0,C<w)return l;if(C=y!==0?h/y:0,C<w)return c;let E,S;const T=a.divide(.5);b/=2;const $=T[0].endpointDistance(),p=T[1].endpointDistance();u<=$?(a=T[0],c-=b,E=u,S=$-E):(a=T[1],l+=b,E=u-$,S=p-E),u=E,h=S}}toPoints(t={}){const e=this.getDivisions(t),i=[e[0].start.clone()];return e.forEach(s=>i.push(s.end.clone())),i}toPolyline(t={}){return new fn(this.toPoints(t))}scale(t,e,i){return this.start.scale(t,e,i),this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;try{if((i==null||i===n.toStringTag)&&L.isPoint(s.start)&&L.isPoint(s.controlPoint1)&&L.isPoint(s.controlPoint2)&&L.isPoint(s.end)&&typeof s.toPoints=="function"&&typeof s.toPolyline=="function")return!0}catch{return!1}return!1}n.isCurve=t})(Xe||(Xe={}));(function(n){function t(s){const r=s.length,o=[],a=[];let l=2;o[0]=s[0]/l;for(let c=1;c<r;c+=1)a[c]=1/l,l=(c<r-1?4:3.5)-a[c],o[c]=(s[c]-o[c-1])/l;for(let c=1;c<r;c+=1)o[r-c-1]-=a[r-c]*o[r-c];return o}function e(s){const r=s.map(f=>L.clone(f)),o=[],a=[],l=r.length-1;if(l===1)return o[0]=new L((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),a[0]=new L(2*o[0].x-r[0].x,2*o[0].y-r[0].y),[o,a];const c=[];for(let f=1;f<l-1;f+=1)c[f]=4*r[f].x+2*r[f+1].x;c[0]=r[0].x+2*r[1].x,c[l-1]=(8*r[l-1].x+r[l].x)/2;const u=t(c);for(let f=1;f<l-1;f+=1)c[f]=4*r[f].y+2*r[f+1].y;c[0]=r[0].y+2*r[1].y,c[l-1]=(8*r[l-1].y+r[l].y)/2;const h=t(c);for(let f=0;f<l;f+=1)o.push(new L(u[f],h[f])),f<l-1?a.push(new L(2*r[f+1].x-u[f+1],2*r[f+1].y-h[f+1])):a.push(new L((r[l].x+u[l-1])/2,(r[l].y+h[l-1])/2));return[o,a]}function i(s){if(s==null||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const r=e(s),o=[];for(let a=0,l=r[0].length;a<l;a+=1){const c=new L(r[0][a].x,r[0][a].y),u=new L(r[1][a].x,r[1][a].y);o.push(new n(s[a],c,u,s[a+1]))}return o}n.throughPoints=i})(Xe||(Xe={}));class Xc extends _s{constructor(){super(...arguments);this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const i=this.length();return t>=1?i:i*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class Rn extends Xc{constructor(t,e){super();At.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=L.create(t,e).round(2)}get type(){return"L"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new Rn(e[0]),new Rn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new Rn(e[0]),new Rn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new Rn(this.end)}scale(t,e,i){return this.end.scale(t,e,i),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(n){function t(...e){const i=e.length,s=e[0];if(At.isLine(s))return new n(s);if(L.isPointLike(s))return i===1?new n(s):e.map(o=>new n(o));if(i===2)return new n(+e[0],+e[1]);const r=[];for(let o=0;o<i;o+=2){const a=+e[o],l=+e[o+1];r.push(new n(a,l))}return r}n.create=t})(Rn||(Rn={}));class Oo extends Xc{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new At(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new Rn(e[0]):this.clone(),new Rn(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new Rn(e[0]):this.clone(),new Rn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Oo}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(n){function t(){return new n}n.create=t})(Oo||(Oo={}));class Po extends Xc{constructor(t,e){super();this.isVisible=!1,this.isSubpathStart=!0,At.isLine(t)||Xe.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=L.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,i){return this.end.scale(t,e,i),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new Po(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(n){function t(...e){const i=e.length,s=e[0];if(At.isLine(s))return new n(s);if(Xe.isCurve(s))return new n(s);if(L.isPointLike(s)){if(i===1)return new n(s);const o=[];for(let a=0;a<i;a+=1)a===0?o.push(new n(e[a])):o.push(new Rn(e[a]));return o}if(i===2)return new n(+e[0],+e[1]);const r=[];for(let o=0;o<i;o+=2){const a=+e[o],l=+e[o+1];o===0?r.push(new n(a,l)):r.push(new Rn(a,l))}return r}n.create=t})(Po||(Po={}));class wi extends Xc{constructor(t,e,i,s,r,o){super();Xe.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new L(t,e).round(2),this.controlPoint2=new L(i,s).round(2),this.endPoint=new L(r,o).round(2)):(this.controlPoint1=L.create(t).round(2),this.controlPoint2=L.create(e).round(2),this.endPoint=L.create(i).round(2))}get type(){return"C"}get curve(){return new Xe(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const i=this.curve.divideAt(t,e);return[new wi(i[0]),new wi(i[1])]}divideAtLength(t,e={}){const i=this.curve.divideAtLength(t,e);return[new wi(i[0]),new wi(i[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new wi(e[0]),new wi(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,i=this.controlPoint2,s=this.end;return!(t.equals(e)&&e.equals(i)&&i.equals(s))}scale(t,e,i){return this.controlPoint1.scale(t,e,i),this.controlPoint2.scale(t,e,i),this.end.scale(t,e,i),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new wi(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,i=this.end;return[this.type,t.x,t.y,e.x,e.y,i.x,i.y].join(" ")}}(function(n){function t(...e){const i=e.length,s=e[0];if(Xe.isCurve(s))return new n(s);if(L.isPointLike(s)){if(i===3)return new n(e[0],e[1],e[2]);const o=[];for(let a=0;a<i;a+=3)o.push(new n(e[a],e[a+1],e[a+2]));return o}if(i===6)return new n(e[0],e[1],e[2],e[3],e[4],e[5]);const r=[];for(let o=0;o<i;o+=6)r.push(new n(e[o],e[o+1],e[o+2],e[o+3],e[o+4],e[o+5]));return r}n.create=t})(wi||(wi={}));function Yc(n,t,e){return{x:n*Math.cos(e)-t*Math.sin(e),y:n*Math.sin(e)+t*Math.cos(e)}}function Rb(n,t,e,i,s,r){const o=1/3,a=2/3;return[o*n+a*e,o*t+a*i,o*s+a*e,o*r+a*i,s,r]}function jb(n,t,e,i,s,r,o,a,l,c){const u=Math.PI*120/180,h=Math.PI/180*(+s||0);let f=[],g,b,y,w,C;if(c)b=c[0],y=c[1],w=c[2],C=c[3];else{g=Yc(n,t,-h),n=g.x,t=g.y,g=Yc(a,l,-h),a=g.x,l=g.y;const nt=(n-a)/2,G=(t-l)/2;let q=nt*nt/(e*e)+G*G/(i*i);q>1&&(q=Math.sqrt(q),e=q*e,i=q*i);const Q=e*e,st=i*i,Tt=(r===o?-1:1)*Math.sqrt(Math.abs((Q*st-Q*G*G-st*nt*nt)/(Q*G*G+st*nt*nt)));w=Tt*e*G/i+(n+a)/2,C=Tt*-i*nt/e+(t+l)/2,b=Math.asin((t-C)/i),y=Math.asin((l-C)/i),b=n<w?Math.PI-b:b,y=a<w?Math.PI-y:y,b<0&&(b=Math.PI*2+b),y<0&&(y=Math.PI*2+y),o&&b>y&&(b-=Math.PI*2),!o&&y>b&&(y-=Math.PI*2)}let E=y-b;if(Math.abs(E)>u){const nt=y,G=a,q=l;y=b+u*(o&&y>b?1:-1),a=w+e*Math.cos(y),l=C+i*Math.sin(y),f=jb(a,l,e,i,s,0,o,G,q,[y,nt,w,C])}E=y-b;const S=Math.cos(b),T=Math.sin(b),$=Math.cos(y),p=Math.sin(y),A=Math.tan(E/4),k=4/3*(e*A),F=4/3*(i*A),H=[n,t],_=[n+k*T,t-F*S],I=[a+k*p,l-F*$],Y=[a,l];if(_[0]=2*H[0]-_[0],_[1]=2*H[1]-_[1],c)return[_,I,Y].concat(f);{f=[_,I,Y].concat(f).join().split(",");const nt=[],G=f.length;for(let q=0;q<G;q+=1)nt[q]=q%2?Yc(+f[q-1],+f[q],h).y:Yc(+f[q],+f[q+1],h).x;return nt}}function ZD(n){if(!n)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),i=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return n.replace(e,(o,a,l)=>{const c=[];let u=a.toLowerCase();l.replace(i,(f,g)=>(g&&c.push(+g),f)),u==="m"&&c.length>2&&(r.push([a,...c.splice(0,2)]),u="l",a=a==="m"?"l":"L");const h=s[u];for(;c.length>=h&&(r.push([a,...c.splice(0,h)]),!!h););return o}),r}function QD(n){const t=ZD(n);if(!t||!t.length)return[["M",0,0]];let e=0,i=0,s=0,r=0;const o=[];for(let a=0,l=t.length;a<l;a+=1){const c=[];o.push(c);const u=t[a],h=u[0];if(h!==h.toUpperCase())switch(c[0]=h.toUpperCase(),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+u[6]+e,c[7]=+u[7]+i;break;case"V":c[1]=+u[1]+i;break;case"H":c[1]=+u[1]+e;break;case"M":s=+u[1]+e,r=+u[2]+i;for(let f=1,g=u.length;f<g;f+=1)c[f]=+u[f]+(f%2?e:i);break;default:for(let f=1,g=u.length;f<g;f+=1)c[f]=+u[f]+(f%2?e:i);break}else for(let f=0,g=u.length;f<g;f+=1)c[f]=u[f];switch(c[0]){case"Z":e=+s,i=+r;break;case"H":e=c[1];break;case"V":i=c[1];break;case"M":s=c[c.length-2],r=c[c.length-1],e=c[c.length-2],i=c[c.length-1];break;default:e=c[c.length-2],i=c[c.length-1];break}}return o}function t6(n){const t=QD(n),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function i(l,c,u){let h,f;if(!l)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(l[0]in{T:1,Q:1}||(c.qx=null,c.qy=null),l[0]){case"M":c.X=l[1],c.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(jb.apply(0,[c.x,c.y].concat(l.slice(1))));case"S":return u==="C"||u==="S"?(h=c.x*2-c.bx,f=c.y*2-c.by):(h=c.x,f=c.y),["C",h,f].concat(l.slice(1));case"T":return u==="Q"||u==="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),["C"].concat(Rb(c.x,c.y,c.qx,c.qy,l[1],l[2]));case"Q":return c.qx=l[1],c.qy=l[2],["C"].concat(Rb(c.x,c.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],c.y);case"V":return["L"].concat(c.x,l[1])}return l}function s(l,c){if(l[c].length>7){l[c].shift();const u=l[c];for(;u.length;)r[c]="A",c+=1,l.splice(c,0,["C"].concat(u.splice(0,6)));l.splice(c,1),a=t.length}}const r=[];let o="",a=t.length;for(let l=0;l<a;l+=1){let c="";t[l]&&(c=t[l][0]),c!=="C"&&(r[l]=c,l>0&&(o=r[l-1])),t[l]=i(t[l],e,o),r[l]!=="A"&&c==="C"&&(r[l]="C"),s(t,l);const u=t[l],h=u.length;e.x=u[h-2],e.y=u[h-1],e.bx=parseFloat(u[h-4])||e.x,e.by=parseFloat(u[h-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function e6(n){return t6(n).map(t=>t.map(e=>typeof e=="string"?e:Or(e,2))).join(",").split(",").join(" ")}const n6=new RegExp("^[\\s\\dLMCZz,.]*$");function i6(n){return typeof n!="string"?!1:n6.test(n)}function gf(n,t){return(n%t+t)%t}function s6(n,t,e,i,s){const r=[],o=n[n.length-1],a=t!=null&&t>0,l=t||0;if(i&&a){n=n.slice();const h=n[0],f=new L(o.x+(h.x-o.x)/2,o.y+(h.y-o.y)/2);n.splice(0,0,f)}let c=n[0],u=1;for(e?r.push("M",c.x,c.y):r.push("L",c.x,c.y);u<(i?n.length:n.length-1);){let h=n[gf(u,n.length)],f=c.x-h.x,g=c.y-h.y;if(a&&(f!==0||g!==0)&&(s==null||s.indexOf(u-1)<0)){let b=Math.sqrt(f*f+g*g);const y=f*Math.min(l,b/2)/b,w=g*Math.min(l,b/2)/b,C=h.x+y,E=h.y+w;r.push("L",C,E);let S=n[gf(u+1,n.length)];for(;u<n.length-2&&Math.round(S.x-h.x)===0&&Math.round(S.y-h.y)===0;)S=n[gf(u+2,n.length)],u+=1;f=S.x-h.x,g=S.y-h.y,b=Math.max(1,Math.sqrt(f*f+g*g));const T=f*Math.min(l,b/2)/b,$=g*Math.min(l,b/2)/b,p=h.x+T,A=h.y+$;r.push("Q",h.x,h.y,p,A),h=new L(p,A)}else r.push("L",h.x,h.y);c=h,u+=1}return i?r.push("Z"):r.push("L",o.x,o.y),r.map(h=>typeof h=="string"?h:+h.toFixed(3)).join(" ")}function zb(n,t={}){const e=[];return n&&n.length&&n.forEach(i=>{Array.isArray(i)?e.push({x:i[0],y:i[1]}):e.push({x:i.x,y:i.y})}),s6(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function Kc(n,t,e,i,s=0,r=0,o=0,a,l){if(e===0||i===0)return[];a-=n,l-=t,e=Math.abs(e),i=Math.abs(i);const c=-a/2,u=-l/2,h=Math.cos(s*Math.PI/180),f=Math.sin(s*Math.PI/180),g=h*c+f*u,b=-1*f*c+h*u,y=g*g,w=b*b,C=e*e,E=i*i,S=y/C+w/E;let T;if(S>1)e=Math.sqrt(S)*e,i=Math.sqrt(S)*i,T=0;else{let Mt=1;r===o&&(Mt=-1),T=Mt*Math.sqrt((C*E-C*w-E*y)/(C*w+E*y))}const $=T*e*b/i,p=-1*T*i*g/e,A=h*$-f*p+a/2,k=f*$+h*p+l/2;let F=Math.atan2((b-p)/i,(g-$)/e)-Math.atan2(0,1),H=F>=0?F:2*Math.PI+F;F=Math.atan2((-b-p)/i,(-g-$)/e)-Math.atan2((b-p)/i,(g-$)/e);let _=F>=0?F:2*Math.PI+F;o===0&&_>0?_-=2*Math.PI:o!==0&&_<0&&(_+=2*Math.PI);const I=_*2/Math.PI,Y=Math.ceil(I<0?-1*I:I),nt=_/Y,G=8/3*Math.sin(nt/4)*Math.sin(nt/4)/Math.sin(nt/2),q=h*e,Q=h*i,st=f*e,Tt=f*i;let Ut=Math.cos(H),ht=Math.sin(H),Nt=-G*(q*ht+Tt*Ut),Ft=-G*(st*ht-Q*Ut),Ot=0,jt=0;const ie=[];for(let Mt=0;Mt<Y;Mt+=1){H+=nt,Ut=Math.cos(H),ht=Math.sin(H),Ot=q*Ut-Tt*ht+A,jt=st*Ut+Q*ht+k;const qt=-G*(q*ht+Tt*Ut),ye=-G*(st*ht-Q*Ut),Ae=Mt*6;ie[Ae]=Number(Nt+n),ie[Ae+1]=Number(Ft+t),ie[Ae+2]=Number(Ot-qt+n),ie[Ae+3]=Number(jt-ye+t),ie[Ae+4]=Number(Ot+n),ie[Ae+5]=Number(jt+t),Nt=Ot+qt,Ft=jt+ye}return ie.map(Mt=>+Mt.toFixed(2))}function r6(n,t,e,i,s=0,r=0,o=0,a,l){const c=[],u=Kc(n,t,e,i,s,r,o,a,l);if(u!=null)for(let h=0,f=u.length;h<f;h+=6)c.push("C",u[h],u[h+1],u[h+2],u[h+3],u[h+4],u[h+5]);return c.join(" ")}class It extends _s{constructor(t){super();if(this.PRECISION=3,this.segments=[],Array.isArray(t))if(At.isLine(t[0])||Xe.isCurve(t[0])){let e=null;t.forEach((s,r)=>{r===0&&this.appendSegment(It.createSegment("M",s.start)),e!=null&&!e.end.equals(s.start)&&this.appendSegment(It.createSegment("M",s.start)),At.isLine(s)?this.appendSegment(It.createSegment("L",s.end)):Xe.isCurve(s)&&this.appendSegment(It.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),e=s})}else t.forEach(i=>{i.isSegment&&this.appendSegment(i)});else t!=null&&(At.isLine(t)?(this.appendSegment(It.createSegment("M",t.start)),this.appendSegment(It.createSegment("L",t.end))):Xe.isCurve(t)?(this.appendSegment(It.createSegment("M",t.start)),this.appendSegment(It.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):fn.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,i)=>{const s=i===0?It.createSegment("M",e):It.createSegment("L",e);this.appendSegment(s)}):t.isSegment&&this.appendSegment(t))}get[Symbol.toStringTag](){return It.toStringTag}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let i=0;i<e;i+=1){const s=t[i];if(s.isVisible)return s.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let i=e-1;i>=0;i-=1){const s=t[i];if(s.isVisible)return s.end}return t[e-1].end}moveTo(...t){return this.appendSegment(Po.create.call(null,...t))}lineTo(...t){return this.appendSegment(Rn.create.call(null,...t))}curveTo(...t){return this.appendSegment(wi.create.call(null,...t))}arcTo(t,e,i,s,r,o,a){const l=this.end||new L,c=typeof o=="number"?Kc(l.x,l.y,t,e,i,s,r,o,a):Kc(l.x,l.y,t,e,i,s,r,o.x,o.y);if(c!=null)for(let u=0,h=c.length;u<h;u+=6)this.curveTo(c[u],c[u+1],c[u+2],c[u+3],c[u+4],c[u+5]);return this}quadTo(t,e,i,s){const r=this.end||new L,o=["M",r.x,r.y];if(typeof t=="number")o.push("Q",t,e,i,s);else{const l=e;o.push("Q",t.x,t.y,l.x,l.y)}const a=It.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(Oo.create())}drawPoints(t,e={}){const i=zb(t,e),s=It.parse(i);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let i;for(let r=0;r<e;r+=1){const o=t[r];if(o.isVisible){const a=o.bbox();a!=null&&(i=i?i.union(a):a)}}if(i!=null)return i;const s=t[e-1];return new ut(s.end.x,s.end.y,0,0)}appendSegment(t){const e=this.segments.length;let i=e!==0?this.segments[e-1]:null,s;const r=null;if(Array.isArray(t))for(let o=0,a=t.length;o<a;o+=1){const l=t[o];s=this.prepareSegment(l,i,r),this.segments.push(s),i=s}else t!=null&&t.isSegment&&(s=this.prepareSegment(t,i,r),this.segments.push(s));return this}insertSegment(t,e){const i=this.segments.length;if(t<0&&(t=i+t+1),t>i||t<0)throw new Error("Index out of range.");let s,r=null,o=null;if(i!==0&&(t>=1?(r=this.segments[t-1],o=r.nextSegment):(r=null,o=this.segments[0])),!Array.isArray(e))s=this.prepareSegment(e,r,o),this.segments.splice(t,0,s);else for(let a=0,l=e.length;a<l;a+=1){const c=e[a];s=this.prepareSegment(c,r,o),this.segments.splice(t+a,0,s),r=s}return this}removeSegment(t){const e=this.fixIndex(t),i=this.segments.splice(e,1)[0],s=i.previousSegment,r=i.nextSegment;return s&&(s.nextSegment=r),r&&(r.previousSegment=s),i.isSubpathStart&&r&&this.updateSubpathStartSegment(r),i}replaceSegment(t,e){const i=this.fixIndex(t);let s;const r=this.segments[i];let o=r.previousSegment;const a=r.nextSegment;let l=r.isSubpathStart;if(!Array.isArray(e))s=this.prepareSegment(e,o,a),this.segments.splice(i,1,s),l&&s.isSubpathStart&&(l=!1);else{this.segments.splice(t,1);for(let c=0,u=e.length;c<u;c+=1){const h=e[c];s=this.prepareSegment(h,o,a),this.segments.splice(t+c,0,s),o=s,l&&s.isSubpathStart&&(l=!1)}}l&&a&&this.updateSubpathStartSegment(a)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let i=t;for(;i<0;)i=e+i;if(i>=e||i<0)throw new Error("Index out of range.");return i}segmentAt(t,e={}){const i=this.segmentIndexAt(t,e);return i?this.getSegment(i):null}segmentAtLength(t,e={}){const i=this.segmentIndexAtLength(t,e);return i?this.getSegment(i):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const i=To(t,0,1),s=this.getOptions(e),o=this.length(s)*i;return this.segmentIndexAtLength(o,s)}segmentIndexAtLength(t,e={}){const i=this.segments.length;if(i===0)return null;let s=!0;t<0&&(s=!1,t=-t);const r=this.getPrecision(e),o=this.getSubdivisions(e);let a=0,l=null;for(let c=0;c<i;c+=1){const u=s?c:i-1-c,h=this.segments[u],f=o[u],g=h.length({precision:r,subdivisions:f});if(h.isVisible){if(t<=a+g)return u;l=u}a+=g}return l}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),i=[];for(let s=0,r=this.segments.length;s<r;s+=1){const a=this.segments[s].getSubdivisions({precision:e});i.push(a)}return i}updateSubpathStartSegment(t){let e=t.previousSegment,i=t;for(;i&&!i.isSubpathStart;)e!=null?i.subpathStartSegment=e.subpathStartSegment:i.subpathStartSegment=null,e=i,i=i.nextSegment}prepareSegment(t,e,i){t.previousSegment=e,t.nextSegment=i,e!=null&&(e.nextSegment=t),i!=null&&(i.previousSegment=t);let s=t;return t.isSubpathStart&&(t.subpathStartSegment=t,s=i),s!=null&&this.updateSubpathStartSegment(s),t}closestPoint(t,e={}){const i=this.closestPointT(t,e);return i?this.pointAtT(i):null}closestPointLength(t,e={}){const i=this.getOptions(e),s=this.closestPointT(t,i);return s?this.lengthAtT(s,i):0}closestPointNormalizedLength(t,e={}){const i=this.getOptions(e),s=this.closestPointLength(t,i);if(s===0)return 0;const r=this.length(i);return r===0?0:s/r}closestPointT(t,e={}){if(this.segments.length===0)return null;const i=this.getPrecision(e),s=this.getSubdivisions(e);let r,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=s[a];if(c.isVisible){const h=c.closestPointT(t,{precision:i,subdivisions:u}),f=c.pointAtT(h),g=_b(f,t);g<o&&(r={segmentIndex:a,value:h},o=g)}}return r||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const i=this.getPrecision(e),s=this.getSubdivisions(e);let r,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],u=s[a];if(c.isDifferentiable()){const h=c.closestPointT(t,{precision:i,subdivisions:u}),f=c.pointAtT(h),g=_b(f,t);g<o&&(r=c.tangentAtT(h),o=g)}}return r||null}containsPoint(t,e={}){const i=this.toPolylines(e);if(!i)return!1;let s=0;for(let r=0,o=i.length;r<o;r+=1)i[r].containsPoint(t)&&(s+=1);return s%2==1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const i=this.getOptions(e),r=this.length(i)*t;return this.pointAtLength(r,i)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let i=!0;t<0&&(i=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let c=0,u=this.segments.length;c<u;c+=1){const h=i?c:u-1-c,f=this.segments[h],g=r[h],b=f.length({precision:s,subdivisions:g});if(f.isVisible){if(t<=a+b)return f.pointAtLength((i?1:-1)*(t-a),{precision:s,subdivisions:g});o=f}a+=b}return o?i?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,i=e.length;if(i===0)return null;const s=t.segmentIndex;if(s<0)return e[0].pointAtT(0);if(s>=i)return e[i-1].pointAtT(1);const r=To(t.value,0,1);return e[s].pointAtT(r)}divideAt(t,e={}){if(this.segments.length===0)return null;const i=To(t,0,1),s=this.getOptions(e),o=this.length(s)*i;return this.divideAtLength(o,s)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let i=!0;t<0&&(i=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o=0,a,l,c,u,h;for(let $=0,p=this.segments.length;$<p;$+=1){const A=i?$:p-1-$,k=this.getSegment(A),F=r[A],H={precision:s,subdivisions:F},_=k.length(H);if(k.isDifferentiable()&&(c=k,u=A,t<=o+_)){l=A,a=k.divideAtLength((i?1:-1)*(t-o),H);break}o+=_}if(!c)return null;a||(l=u,h=i?1:0,a=c.divideAtT(h));const f=this.clone(),g=l;f.replaceSegment(g,a);const b=g;let y=g+1,w=g+2;a[0].isDifferentiable()||(f.removeSegment(b),y-=1,w-=1);const C=f.getSegment(y).start;f.insertSegment(y,It.createSegment("M",C)),w+=1,a[1].isDifferentiable()||(f.removeSegment(w-1),w-=1);const E=w-b-1;for(let $=w,p=f.segments.length;$<p;$+=1){const A=this.getSegment($-E),k=f.getSegment($);if(k.type==="Z"&&!A.subpathStartSegment.end.equals(k.subpathStartSegment.end)){const F=It.createSegment("L",A.end);f.replaceSegment($,F)}}const S=new It(f.segments.slice(0,y)),T=new It(f.segments.slice(y));return[S,T]}intersectsWithLine(t,e={}){const i=this.toPolylines(e);if(i==null)return null;let s=null;for(let r=0,o=i.length;r<o;r+=1){const a=i[r],l=t.intersect(a);l&&(s==null&&(s=[]),Array.isArray(l)?s.push(...l):s.push(l))}return s}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let i=0;for(let s=0,r=this.segments.length;s<r;s+=1){const o=this.segments[s],a=e[s];i+=o.length({subdivisions:a})}return i}lengthAtT(t,e={}){const i=this.segments.length;if(i===0)return 0;let s=t.segmentIndex;if(s<0)return 0;let r=To(t.value,0,1);s>=i&&(s=i-1,r=1);const o=this.getPrecision(e),a=this.getSubdivisions(e);let l=0;for(let h=0;h<s;h+=1){const f=this.segments[h],g=a[h];l+=f.length({precision:o,subdivisions:g})}const c=this.segments[s],u=a[s];return l+=c.lengthAtT(r,{precision:o,subdivisions:u}),l}tangentAt(t,e={}){if(this.segments.length===0)return null;const i=To(t,0,1),s=this.getOptions(e),o=this.length(s)*i;return this.tangentAtLength(o,s)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let i=!0;t<0&&(i=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let l=0,c=this.segments.length;l<c;l+=1){const u=i?l:c-1-l,h=this.segments[u],f=r[u],g=h.length({precision:s,subdivisions:f});if(h.isDifferentiable()){if(t<=a+g)return h.tangentAtLength((i?1:-1)*(t-a),{precision:s,subdivisions:f});o=h}a+=g}if(o){const l=i?1:0;return o.tangentAtT(l)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const i=t.segmentIndex;if(i<0)return this.segments[0].tangentAtT(0);if(i>=e)return this.segments[e-1].tangentAtT(1);const s=To(t.value,0,1);return this.segments[i].tangentAtT(s)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),i=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:i}}toPoints(t={}){const e=this.segments,i=e.length;if(i===0)return null;const s=this.getSubdivisions(t),r=[];let o=[];for(let a=0;a<i;a+=1){const l=e[a];if(l.isVisible){const c=s[a];c.length>0?c.forEach(u=>o.push(u.start)):o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),r.push(o),o=[])}return o.length>0&&(o.push(this.end),r.push(o)),r}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(i=>new fn(i)):null}scale(t,e,i){return this.segments.forEach(s=>s.scale(t,e,i)),this}rotate(t,e){return this.segments.forEach(i=>i.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(i=>i.translate(t,e)):this.segments.forEach(i=>i.translate(t)),this}clone(){const t=new It;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,i=t.segments,s=e.length;if(i.length!==s)return!1;for(let r=0;r<s;r+=1){const o=e[r],a=i[r];if(o.type!==a.type||!o.equals(a))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(n){n.toStringTag=`X6.Geometry.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return!!((i==null||i===n.toStringTag)&&Array.isArray(s.segments)&&typeof s.moveTo=="function"&&typeof s.lineTo=="function"&&typeof s.curveTo=="function")}n.isPath=t})(It||(It={}));(function(n){function t(i){if(!i)return new n;const s=new n,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,o=n.normalize(i).match(r);if(o!=null)for(let a=0,l=o.length;a<l;a+=1){const c=o[a],u=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,h=c.match(u);if(h!=null){const f=h[0],g=h.slice(1).map(y=>+y),b=e.call(null,f,...g);s.appendSegment(b)}}return s}n.parse=t;function e(i,...s){if(i==="M")return Po.create.call(null,...s);if(i==="L")return Rn.create.call(null,...s);if(i==="C")return wi.create.call(null,...s);if(i==="z"||i==="Z")return Oo.create();throw new Error(`Invalid path segment type "${i}"`)}n.createSegment=e})(It||(It={}));(function(n){n.normalize=e6,n.isValid=i6,n.drawArc=r6,n.drawPoints=zb,n.arcToCurves=Kc})(It||(It={}));class Et{constructor(t,e,i){if(!t)throw new TypeError("Invalid element to create vector");let s;if(Et.isVector(t))s=t.node;else if(typeof t=="string")if(t.toLowerCase()==="svg")s=Uc();else if(t[0]==="<"){const r=Uc(t);s=document.importNode(r.firstChild,!0)}else s=document.createElementNS(dn.svg,t);else s=t;this.node=s,e&&this.setAttributes(e),i&&this.append(i)}get[Symbol.toStringTag](){return Et.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}transform(t,e){return t==null?Do(this.node):(Do(this.node,t,e),this)}translate(t,e=0,i={}){return t==null?Jb(this.node):(Jb(this.node,t,e,i),this)}rotate(t,e,i,s={}){return t==null?bf(this.node):(bf(this.node,t,e,i,s),this)}scale(t,e){return t==null?Rs(this.node):(Rs(this.node,t,e),this)}getTransformToElement(t){const e=Et.toNode(t);return $o(this.node,e)}removeAttribute(t){return $b(this.node,t),this}getAttribute(t){return XD(this.node,t)}setAttribute(t,e){return af(this.node,t,e),this}setAttributes(t){return Db(this.node,t),this}attr(t,e){return t==null?ge(this.node):typeof t=="string"&&e===void 0?ge(this.node,t):(typeof t=="object"?ge(this.node,t):ge(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:Et.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?Et.create(e):Et.create("defs").appendTo(t)}text(t,e={}){return Hb(this.node,t,e),this}tagName(){return GD(this.node)}clone(){return Et.create(this.node.cloneNode(!0))}remove(){return Yi(this.node),this}empty(){return sf(this.node),this}append(t){return Qa(this.node,Et.toNodes(t)),this}appendTo(t){return qD(this.node,Et.isVector(t)?t.node:t),this}prepend(t){return UD(this.node,Et.toNodes(t)),this}before(t){return rf(this.node,Et.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(Et.toNode(t),this.node),Et.create(t)}first(){return this.node.firstChild?Et.create(this.node.firstChild):null}last(){return this.node.lastChild?Et.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?Et.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(Et.toNode(t))}find(t){const e=[],i=WD(this.node,t);if(i)for(let s=0,r=i.length;s<r;s+=1)e.push(Et.create(i[s]));return e}findOne(t){const e=ef(this.node,t);return e?Et.create(e):null}findParentByClass(t,e){const i=Pb(this.node,t,e);return i?Et.create(i):null}matches(t){const e=this.node;this.node.matches;const i=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return i&&i.call(e,t)}contains(t){return nf(this.node,Et.isVector(t)?t.node:t)}wrap(t){const e=Et.create(t),i=this.node.parentNode;return i!=null&&i.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(e.node.parentNode==null)return null;if(e=Et.create(e.node.parentNode),t==null)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=Et.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let i=0;i<t.length;i+=1)t[i].nodeType===1&&e.push(Et.create(t[i]));return e}eachChild(t,e){const i=this.children();for(let s=0,r=i.length;s<r;s+=1)t.call(i[s],i[s],s,i),e&&i[s].eachChild(t,e);return this}index(){return tf(this.node)}hasClass(t){return Gc(this.node,t)}addClass(t){return fe(this.node,t),this}removeClass(t){return vi(this.node,t),this}toggleClass(t,e){return Eb(this.node,t,e),this}toLocalPoint(t,e){return P6(this.node,t,e)}toGeometryShape(){return Xb(this.node)}translateCenterToPoint(t){const i=this.getBBox({target:this.svg()}).getCenter();return this.translate(t.x-i.x,t.y-i.y),this}translateAndAutoOrient(t,e,i){return yf(this.node,t,e,i),this}animate(t){return $6(this.node,t)}animateTransform(t){return D6(this.node,t)}animateAlongPath(t,e){return k6(this.node,t,e)}normalizePath(){return this.tagName()==="path"&&this.attr("d",It.normalize(this.attr("d"))),this}bbox(t,e){return O6(this.node,t,e)}getBBox(t={}){return En(this.node,{recursive:t.recursive,target:t.target?Et.toNode(t.target):null})}sample(t=1){return this.node instanceof SVGPathElement?u6(this.node,t):[]}toPath(){return Et.create(b6(this.node))}toPathData(){return Ub(this.node)}}(function(n){n.toStringTag=`X6.${n.name}`;function t(o){if(o==null)return!1;if(o instanceof n)return!0;const a=o[Symbol.toStringTag],l=o;return(a==null||a===n.toStringTag)&&l.node instanceof SVGElement&&typeof l.animate=="function"&&typeof l.sample=="function"&&typeof l.normalizePath=="function"&&typeof l.toPath=="function"}n.isVector=t;function e(o,a,l){return new n(o,a,l)}n.create=e;function i(o){if(o[0]==="<"){const a=Uc(o),l=[];for(let c=0,u=a.childNodes.length;c<u;c+=1){const h=a.childNodes[c];l.push(e(document.importNode(h,!0)))}return l}return[e(o)]}n.createVectors=i;function s(o){return t(o)?o.node:o}n.toNode=s;function r(o){return Array.isArray(o)?o.map(a=>s(a)):[s(o)]}n.toNodes=r})(Et||(Et={}));function o6(n,t){const e=Et.create(t),i=Et.create("textPath"),s=n.d;if(s&&n["xlink:href"]===void 0){const r=Et.create("path").attr("d",s).appendTo(e.defs());i.attr("xlink:href",`#${r.id}`)}return typeof n=="object"&&i.attr(n),i.node}function a6(n,t,e){const i=e.eol,s=e.baseSize,r=e.lineHeight;let o=0,a;const l={},c=t.length-1;for(let u=0;u<=c;u+=1){let h=t[u],f=null;if(typeof h=="object"){const g=h.attrs,b=Et.create("tspan",g);a=b.node;let y=h.t;i&&u===c&&(y+=i),a.textContent=y;const w=g.class;w&&b.addClass(w),e.includeAnnotationIndices&&b.attr("annotations",h.annotations.join(",")),f=parseFloat(g["font-size"]),f===void 0&&(f=s),f&&f>o&&(o=f)}else i&&u===c&&(h+=i),a=document.createTextNode(h||" "),s&&s>o&&(o=s);n.appendChild(a)}return o&&(l.maxFontSize=o),r?l.lineHeight=r:o&&(l.lineHeight=o*1.2),l}const Bb=/em$/;function Jc(n,t){const e=parseFloat(n);return Bb.test(n)?e*t:e}function l6(n,t,e,i){if(!Array.isArray(t))return 0;const s=t.length;if(!s)return 0;let r=t[0];const o=Jc(r.maxFontSize,e)||e;let a=0;const l=Jc(i,e);for(let h=1;h<s;h+=1)r=t[h],a+=Jc(r.lineHeight,e)||l;const c=Jc(r.maxFontSize,e)||e;let u;switch(n){case"middle":u=o/2-.15*c-a/2;break;case"bottom":u=-(.25*c)-a;break;default:case"top":u=.8*o;break}return u}function Hb(n,t,e={}){t=KD(t);const i=e.eol;let s=e.textPath;const r=e.textVerticalAnchor,o=r==="middle"||r==="bottom"||r==="top";let a=e.x;a===void 0&&(a=n.getAttribute("x")||0);const l=e.includeAnnotationIndices;let c=e.annotations;c&&!Array.isArray(c)&&(c=[c]);const u=e.lineHeight,h=u==="auto",f=h?"1.5em":u||"1em";sf(n),ge(n,{"xml:space":"preserve",display:t||e.displayEmpty?null:"none"});const g=ge(n,"font-size");let b=parseFloat(g);b||(b=16,(o||c)&&!g&&ge(n,"font-size",`${b}`));let y;s?(typeof s=="string"&&(s={d:s}),y=o6(s,n)):y=document.createDocumentFragment();let w,C=0,E;const S=t.split(`
`),T=[],$=S.length-1;for(let A=0;A<=$;A+=1){w=f;let k="v-line";const F=Jn("tspan");let H,_=S[A];if(_)if(c){const I=YD(_,c,{offset:-C,includeAnnotationIndices:l});H=a6(F,I,{eol:A!==$&&i,baseSize:b,lineHeight:h?null:f,includeAnnotationIndices:l});const Y=H.lineHeight;Y&&h&&A!==0&&(w=Y),A===0&&(E=H.maxFontSize*.8)}else i&&A!==$&&(_+=i),F.textContent=_;else{F.textContent="-",k+=" v-empty-line";const I=F.style;I.fillOpacity=0,I.strokeOpacity=0,c&&(H={})}H&&T.push(H),A>0&&F.setAttribute("dy",w),(A>0||s)&&F.setAttribute("x",a),F.className.baseVal=k,y.appendChild(F),C+=_.length+1}if(o)if(c)w=l6(r,T,b,f);else if(r==="top")w="0.8em";else{let A;switch($>0?(A=parseFloat(f)||1,A*=$,Bb.test(f)||(A/=b)):A=0,r){case"middle":w=`${.3-A/2}em`;break;case"bottom":w=`${-A-.3}em`;break}}else r===0?w="0em":r?w=r:(w=0,n.getAttribute("y")==null&&n.setAttribute("y",`${E||"0.8em"}`));y.firstChild.setAttribute("dy",w),n.appendChild(y)}function c6(n,t,e,i){const s=[],r=[];if(t!=null){const o=n.split(t);if(s.push(...o),typeof t=="string")for(let a=0,l=o.length-1;a<l;a+=1)r.push(t);else{const a=n.match(new RegExp(t,"g"));for(let l=0,c=o.length-1;l<c;l+=1)r.push(a?a[l]:"")}}else{let o="";for(let a=0,l=n.length;a<l;a+=1){const c=n[a];c===" "?(s.push(o),r.push(" "),o=""):c.match(/[^\x00-\xff]/)?(o.length&&(s.push(o),r.push("")),s.push(c),r.push(""),o=""):o+=c}o.length&&s.push(o)}for(let o=0;o<s.length;o+=1){const a=s[o];if(a.indexOf(e)>=0&&a.length>1){const l=a.split(e);for(let h=0,f=l.length-1;h<f;h+=1)l.splice(2*h+1,0,e);const c=l.filter(h=>h!=="");s.splice(o,1,...c);const u=c.map(()=>"");u.pop(),r.splice(o,0,...u)}}for(let o=0;o<s.length;o+=1){const a=s[o],l=a.search(i);l>0&&l<a.length-1&&(s.splice(o,1,a.substring(0,l+1),a.substring(l+1)),r.splice(o,0,""))}return{words:s,separators:r}}function Vb(n,t,e={},i={}){const s=t.width,r=t.height,o=i.svgDocument||Jn("svg"),a=Jn("text"),l=Jn("tspan"),c=document.createTextNode("");ge(a,e),a.appendChild(l),a.style.opacity="0",a.style.display="block",l.style.display="block",l.appendChild(c),o.appendChild(a);const u=o.parentNode==null;u&&document.body.appendChild(o);const h=i.eol||`
`,f=i.separator||" ",g=i.hyphen?new RegExp(i.hyphen):/[^\w\d]/,b=i.breakWord!==!1,y=[],w={};let C=[],E,S,T;const{words:$,separators:p}=c6(n,i.separator,h,g);for(let A=0,k=0,F=$.length;A<F;A+=1){const H=$[A];if(!!H){if(H===h){y[k]=!0,k+=1,C[k]="";continue}if(C[k]!=null?(T=p[A-1]||"",c.data=`${C[k]}${T}${H}`):c.data=H,l.getComputedTextLength()<=s)C[k]=c.data,w[k]=p[A],E&&(y[k]=!0,k+=1,E=0);else{if(b){if(!C[k]||E){const _=!!E,I=H.length===1;if(E=H.length-1,_||I){if(I){if(!C[k]){C=[];break}$.splice(A,2,H+$[A+1]),p.splice(A+1,1),y[k]=!0,k+=1,F-=1,A-=1;continue}$[A]=H.substring(0,E),$[A+1]=H.substring(E)+$[A+1]}else $.splice(A,1,H.substring(0,E),H.substring(E)),p.splice(A,0,""),F+=1,k&&!y[k-1]&&(k-=1);A-=1;continue}}else if(!C[k]){C[k]=H,y[k]=!0,k+=1;continue}k+=1,A-=1}if(r!=null){if(S==null){let _;e.lineHeight==="auto"?_={value:1.5,unit:"em"}:_=zD(e.lineHeight,["em"])||{value:1,unit:"em"},S=_.value,_.unit==="em"&&(tn.IS_FIREFOX?S*=l.getBBox().height:S*=a.getBBox().height)}if(S*C.length>r){const _=Math.floor(r/S)-1,I=C[_],Y=C[_+1];if(C.splice(_+1),I==null)break;let nt=i.ellipsis;if(!nt)break;typeof nt!="string"&&(nt="\u2026");let G=I;Y&&b&&(G+=T+Y);let q=G.length,Q,st;do{if(st=G[q],Q=G.substring(0,q),st?st.match(f)&&(Q+=st):Q+=w[_],Q+=nt,c.data=Q,l.getComputedTextLength()<=s){C[_]=Q;break}q-=1}while(q>=0);break}}}}return Yi(u?o:a),C.join(h)}const pf=.551784;function Pn(n,t,e=NaN){const i=n.getAttribute(t);if(i==null)return e;const s=parseFloat(i);return Number.isNaN(s)?e:s}function u6(n,t=1){const e=n.getTotalLength(),i=[];let s=0,r;for(;s<e;)r=n.getPointAtLength(s),i.push({distance:s,x:r.x,y:r.y}),s+=t;return i}function h6(n){return["M",Pn(n,"x1"),Pn(n,"y1"),"L",Pn(n,"x2"),Pn(n,"y2")].join(" ")}function d6(n){const t=Zc(n);return t.length===0?null:`${Gb(t)} Z`}function f6(n){const t=Zc(n);return t.length===0?null:Gb(t)}function Gb(n){return`M ${n.map(e=>`${e.x} ${e.y}`).join(" L")}`}function Zc(n){const t=[],e=n.points;if(e)for(let i=0,s=e.numberOfItems;i<s;i+=1)t.push(e.getItem(i));return t}function g6(n){const t=Pn(n,"cx",0),e=Pn(n,"cy",0),i=Pn(n,"r"),s=i*pf;return["M",t,e-i,"C",t+s,e-i,t+i,e-s,t+i,e,"C",t+i,e+s,t+s,e+i,t,e+i,"C",t-s,e+i,t-i,e+s,t-i,e,"C",t-i,e-s,t-s,e-i,t,e-i,"Z"].join(" ")}function p6(n){const t=Pn(n,"cx",0),e=Pn(n,"cy",0),i=Pn(n,"rx"),s=Pn(n,"ry")||i,r=i*pf,o=s*pf;return["M",t,e-s,"C",t+r,e-s,t+i,e-o,t+i,e,"C",t+i,e+o,t+r,e+s,t,e+s,"C",t-r,e+s,t-i,e+o,t-i,e,"C",t-i,e-o,t-r,e-s,t,e-s,"Z"].join(" ")}function m6(n){return Wb({x:Pn(n,"x",0),y:Pn(n,"y",0),width:Pn(n,"width",0),height:Pn(n,"height",0),rx:Pn(n,"rx",0),ry:Pn(n,"ry",0)})}function Wb(n){let t;const e=n.x,i=n.y,s=n.width,r=n.height,o=Math.min(n.rx||n["top-rx"]||0,s/2),a=Math.min(n.rx||n["bottom-rx"]||0,s/2),l=Math.min(n.ry||n["top-ry"]||0,r/2),c=Math.min(n.ry||n["bottom-ry"]||0,r/2);return o||a||l||c?t=["M",e,i+l,"v",r-l-c,"a",a,c,0,0,0,a,c,"h",s-2*a,"a",a,c,0,0,0,a,-c,"v",-(r-c-l),"a",o,l,0,0,0,-o,-l,"h",-(s-2*o),"a",o,l,0,0,0,-o,l,"Z"]:t=["M",e,i,"H",e+s,"V",i+r,"H",e,"V",i,"Z"],t.join(" ")}function b6(n){const t=Jn("path");ge(t,ge(n));const e=Ub(n);return e&&t.setAttribute("d",e),t}function Ub(n){const t=n.tagName.toLowerCase();switch(t){case"path":return n.getAttribute("d");case"line":return h6(n);case"polygon":return d6(n);case"polyline":return f6(n);case"ellipse":return p6(n);case"circle":return g6(n);case"rect":return m6(n)}throw new Error(`"${t}" cannot be converted to svg path element.`)}function y6(n,t,e,i){const s=2*Math.PI-1e-6,r=n,o=t;let a=e,l=i;if(l<a){const y=a;a=l,l=y}const c=l-a,u=c<Math.PI?"0":"1",h=Math.cos(a),f=Math.sin(a),g=Math.cos(l),b=Math.sin(l);return c>=s?r?`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}M0,${r}A${r},${r} 0 1,0 0,${-r}A${r},${r} 0 1,0 0,${r}Z`:`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}Z`:r?`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*g},${o*b}L${r*g},${r*b}A${r},${r} 0 ${u},0 ${r*h},${r*f}Z`:`M${o*h},${o*f}A${o},${o} 0 ${u},1 ${o*g},${o*b}L0,0Z`}const el=Jn("svg"),v6=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,qb=/[ ,]+/,C6=/^(\w+)\((.*)\)/;function w6(n,t){const e=el.createSVGPoint();return e.x=n,e.y=t,e}function Sn(n){const t=el.createSVGMatrix();if(n!=null){const e=n,i=t;for(const s in e)i[s]=e[s]}return t}function nl(n){return n!=null?(n instanceof DOMMatrix||(n=Sn(n)),el.createSVGTransformFromMatrix(n)):el.createSVGTransform()}function Qc(n){let t=Sn();const e=n!=null&&n.match(v6);if(!e)return t;for(let i=0,s=e.length;i<s;i+=1){const o=e[i].match(C6);if(o){let a,l,c,u,h,f=Sn();const g=o[2].split(qb);switch(o[1].toLowerCase()){case"scale":a=parseFloat(g[0]),l=g[1]===void 0?a:parseFloat(g[1]),f=f.scaleNonUniform(a,l);break;case"translate":c=parseFloat(g[0]),u=parseFloat(g[1]),f=f.translate(c,u);break;case"rotate":h=parseFloat(g[0]),c=parseFloat(g[1])||0,u=parseFloat(g[2])||0,c!==0||u!==0?f=f.translate(c,u).rotate(h).translate(-c,-u):f=f.rotate(h);break;case"skewx":h=parseFloat(g[0]),f=f.skewX(h);break;case"skewy":h=parseFloat(g[0]),f=f.skewY(h);break;case"matrix":f.a=parseFloat(g[0]),f.b=parseFloat(g[1]),f.c=parseFloat(g[2]),f.d=parseFloat(g[3]),f.e=parseFloat(g[4]),f.f=parseFloat(g[5]);break;default:continue}t=t.multiply(f)}}return t}function Pr(n){const t=n||{},e=t.a!=null?t.a:1,i=t.b!=null?t.b:0,s=t.c!=null?t.c:0,r=t.d!=null?t.d:1,o=t.e!=null?t.e:0,a=t.f!=null?t.f:0;return`matrix(${e},${i},${s},${r},${o},${a})`}function tu(n){let t,e,i;if(n){const r=qb;if(n.trim().indexOf("matrix")>=0){const o=Qc(n),a=x6(o);t=[a.translateX,a.translateY],e=[a.rotation],i=[a.scaleX,a.scaleY];const l=[];(t[0]!==0||t[1]!==0)&&l.push(`translate(${t.join(",")})`),(i[0]!==1||i[1]!==1)&&l.push(`scale(${i.join(",")})`),e[0]!==0&&l.push(`rotate(${e[0]})`),n=l.join(" ")}else{const o=n.match(/translate\((.*?)\)/);o&&(t=o[1].split(r));const a=n.match(/rotate\((.*?)\)/);a&&(e=a[1].split(r));const l=n.match(/scale\((.*?)\)/);l&&(i=l[1].split(r))}}const s=i&&i[0]?parseFloat(i[0]):1;return{raw:n||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:e&&e[0]?parseInt(e[0],10):0,cx:e&&e[1]?parseInt(e[1],10):void 0,cy:e&&e[2]?parseInt(e[2],10):void 0},scale:{sx:s,sy:i&&i[1]?parseFloat(i[1]):s}}}function mf(n,t){const e=t.x*n.a+t.y*n.c+0,i=t.x*n.b+t.y*n.d+0;return{x:e,y:i}}function x6(n){const t=mf(n,{x:0,y:1}),e=mf(n,{x:1,y:0}),i=180/Math.PI*Math.atan2(t.y,t.x)-90,s=180/Math.PI*Math.atan2(e.y,e.x);return{skewX:i,skewY:s,translateX:n.e,translateY:n.f,scaleX:Math.sqrt(n.a*n.a+n.b*n.b),scaleY:Math.sqrt(n.c*n.c+n.d*n.d),rotation:i}}function S6(n){let t,e,i,s;return n?(t=n.a==null?1:n.a,s=n.d==null?1:n.d,e=n.b,i=n.c):t=s=1,{sx:e?Math.sqrt(t*t+e*e):t,sy:i?Math.sqrt(i*i+s*s):s}}function E6(n){let t={x:0,y:1};return n&&(t=mf(n,t)),{angle:se.normalize(se.toDeg(Math.atan2(t.y,t.x))-90)}}function A6(n){return{tx:n&&n.e||0,ty:n&&n.f||0}}function bs(n,t){const e=w6(n.x,n.y).matrixTransform(t);return new L(e.x,e.y)}function M6(n,t){return new At(bs(n.start,t),bs(n.end,t))}function di(n,t){const e=el.createSVGPoint();e.x=n.x,e.y=n.y;const i=e.matrixTransform(t);e.x=n.x+n.width,e.y=n.y;const s=e.matrixTransform(t);e.x=n.x+n.width,e.y=n.y+n.height;const r=e.matrixTransform(t);e.x=n.x,e.y=n.y+n.height;const o=e.matrixTransform(t),a=Math.min(i.x,s.x,r.x,o.x),l=Math.max(i.x,s.x,r.x,o.x),c=Math.min(i.y,s.y,r.y,o.y),u=Math.max(i.y,s.y,r.y,o.y);return new ut(a,c,l-a,u-c)}var T6=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};function O6(n,t,e){let i;const s=n.ownerSVGElement;if(!s)return new ut(0,0,0,0);try{i=n.getBBox()}catch{i={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(t)return ut.create(i);const r=$o(n,e||s);return di(i,r)}function En(n,t={}){let e;if(!n.ownerSVGElement||!Za(n)){if(of(n)){const{left:o,top:a,width:l,height:c}=N6(n);return new ut(o,a,l,c)}return new ut(0,0,0,0)}let s=t.target;if(!t.recursive){try{e=n.getBBox()}catch{e={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(!s)return ut.create(e);const o=$o(n,s);return di(e,o)}{const o=n.childNodes,a=o.length;if(a===0)return En(n,{target:s});s||(s=n);for(let l=0;l<a;l+=1){const c=o[l];let u;c.childNodes.length===0?u=En(c,{target:s}):u=En(c,{target:s,recursive:!0}),e?e=e.union(u):e=u}return e}}function $o(n,t){if(Za(t)&&Za(n)){const e=t.getScreenCTM(),i=n.getScreenCTM();if(e&&i)return e.inverse().multiply(i)}return Sn()}function P6(n,t,e){const i=n instanceof SVGSVGElement?n:n.ownerSVGElement,s=i.createSVGPoint();s.x=t,s.y=e;try{const r=i.getScreenCTM(),o=s.matrixTransform(r.inverse()),a=$o(n,i).inverse();return o.matrixTransform(a)}catch{return s}}function Xb(n){const t=e=>{const i=n.getAttribute(e),s=i?parseFloat(i):0;return Number.isNaN(s)?0:s};switch(n instanceof SVGElement&&n.nodeName.toLowerCase()){case"rect":return new ut(t("x"),t("y"),t("width"),t("height"));case"circle":return new Ci(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new Ci(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":{const e=Zc(n);return new fn(e)}case"polygon":{const e=Zc(n);return e.length>1&&e.push(e[0]),new fn(e)}case"path":{let e=n.getAttribute("d");return It.isValid(e)||(e=It.normalize(e)),It.parse(e)}case"line":return new At(t("x1"),t("y1"),t("x2"),t("y2"))}return En(n)}function $6(n,t){return Yb(n,t,"animate")}function D6(n,t){return Yb(n,t,"animateTransform")}function Yb(n,t,e){const i=Jn(e);n.appendChild(i);try{return Kb(i,t)}catch{}return()=>{}}function Kb(n,t){const{start:e,complete:i,repeat:s}=t,r=T6(t,["start","complete","repeat"]);ge(n,r),e&&n.addEventListener("beginEvent",e),i&&n.addEventListener("endEvent",i),s&&n.addEventListener("repeatEvent",s);const o=n;return o.beginElement(),()=>o.endElement()}function k6(n,t,e){const i=Wc(e),s=Jn("animateMotion"),r=Jn("mpath");ge(r,{"xlink:href":`#${i}`}),s.appendChild(r),n.appendChild(s);try{return Kb(s,t)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){const a=s;a.animators=[];const l=window,c=a.getAttribute("id");c&&(l.id2anim[c]=a);const u=l.getTargets(a);for(let h=0,f=u.length;h<f;h+=1){const g=u[h],b=new l.Animator(a,g,h);l.animators.push(b),a.animators[h]=b,b.register()}}}return()=>{}}function N6(n){let t=0,e=0,i=0,s=0;if(n){let r=n;for(;r;)t+=r.offsetLeft,e+=r.offsetTop,r=r.offsetParent,r&&(t+=parseInt(Lb(r,"borderLeft"),10),e+=parseInt(Lb(r,"borderTop"),10));i=n.offsetWidth,s=n.offsetHeight}return{left:t,top:e,width:i,height:s}}function Do(n,t,e={}){if(t==null)return Qc(ge(n,"transform"));if(e.absolute){n.setAttribute("transform",Pr(t));return}const i=n.transform,s=nl(t);i.baseVal.appendItem(s)}function Jb(n,t,e=0,i={}){let s=ge(n,"transform");const r=tu(s);if(t==null)return r.translation;s=r.raw,s=s.replace(/translate\([^)]*\)/g,"").trim();const o=i.absolute?t:r.translation.tx+t,a=i.absolute?e:r.translation.ty+e,l=`translate(${o},${a})`;n.setAttribute("transform",`${l} ${s}`.trim())}function bf(n,t,e,i,s={}){let r=ge(n,"transform");const o=tu(r);if(t==null)return o.rotation;r=o.raw,r=r.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;const a=s.absolute?t:o.rotation.angle+t,l=e!=null&&i!=null?`,${e},${i}`:"",c=`rotate(${a}${l})`;n.setAttribute("transform",`${r} ${c}`.trim())}function Rs(n,t,e){let i=ge(n,"transform");const s=tu(i);if(t==null)return s.scale;e=e==null?t:e,i=s.raw,i=i.replace(/scale\([^)]*\)/g,"").trim();const r=`scale(${t},${e})`;n.setAttribute("transform",`${i} ${r}`.trim())}function yf(n,t,e,i){const s=L.create(t),r=L.create(e);i||(i=n instanceof SVGSVGElement?n:n.ownerSVGElement);const o=Rs(n);n.setAttribute("transform","");const a=En(n,{target:i}).scale(o.sx,o.sy),l=nl();l.setTranslate(-a.x-a.width/2,-a.y-a.height/2);const c=nl(),u=s.angleBetween(r,s.clone().translate(1,0));u&&c.setRotate(u,0,0);const h=nl(),f=s.clone().move(r,a.width/2);h.setTranslate(2*s.x-f.x,2*s.y-f.y);const g=$o(n,i),b=nl();b.setMatrix(h.matrix.multiply(c.matrix.multiply(l.matrix.multiply(g.scale(o.sx,o.sy))))),n.setAttribute("transform",Pr(b.matrix))}class Zb{constructor(t,e,i){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=tn.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=i,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){tn.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):Qe(this.target).on("mousewheel",this.onWheel)}disable(){tn.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):Qe(this.target).off("mousewheel")}onWheel(t){if(this.onWheelGuard!=null&&!this.onWheelGuard(t))return;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault();let e;(this.deltaX!==0||this.deltaY!==0)&&(t.stopPropagation(),e=!0),e===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}Et.isVector;Et.create;Et.createVectors;function Qb(n,t=60){let e=null;return(...i)=>{e&&clearTimeout(e),e=window.setTimeout(()=>{n.apply(this,i)},t)}}function L6(n){let t=null,e=[];const i=()=>{if(getComputedStyle(n).position==="static"){const c=n.style;c.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",s),s()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",n.appendChild(l),l.data="about:blank",l},s=Qb(()=>{e.forEach(l=>l(n))}),r=l=>{t||(t=i()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",s),t.parentNode.removeChild(t),t=null,e=[])};return{element:n,bind:r,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}function F6(n){let t=null,e=[];const i=Qb(()=>{e.forEach(l=>{l(n)})}),s=()=>{const l=new ResizeObserver(i);return l.observe(n),i(),l},r=l=>{t||(t=s()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&(t.disconnect(),e=[],t=null)};return{element:n,bind:r,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}const I6=typeof ResizeObserver!="undefined"?F6:L6;var eu;(function(n){const t=new WeakMap;function e(s){let r=t.get(s);return r||(r=I6(s),t.set(s,r),r)}function i(s){s.destroy(),t.delete(s.element)}n.bind=(s,r)=>{const o=e(s);return o.bind(r),()=>o.unbind(r)},n.clear=s=>{const r=e(s);i(r)}})(eu||(eu={}));var vf;(function(n){const t=[],e=1e3/60,i=[];let s=0;const r=()=>performance.now(),o=u=>u[0],a=u=>i.push(u)===1&&l(),l=(()=>{const u=()=>i.splice(0,i.length).forEach(h=>h());if(typeof MessageChannel!="undefined"){const{port1:h,port2:f}=new MessageChannel;return h.onmessage=u,()=>f.postMessage(null)}return()=>setTimeout(u)})(),c=()=>{s=r()+e;let u=o(t);for(;u&&!n.shouldYield();){const{callback:h,data:f}=u;u.callback=null;const g=h&&h(f);g?u.callback=g:t.shift(),u=o(t)}u&&a(c)};n.scheduleTask=(u,h)=>{const f={callback:u,data:h};t.push(f),a(c)},n.shouldYield=()=>{var u,h;return((h=(u=navigator)===null||u===void 0?void 0:u.scheduling)===null||h===void 0?void 0:h.isInputPending())||r()>=s}})(vf||(vf={}));class Ye{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,i=!1){if(typeof t=="object"){Object.keys(t).forEach(o=>{this.register(o,t[o],e)});return}this.exist(t)&&!i&&!tn.isApplyingHMR()&&this.onDuplicated(t);const s=this.options.process,r=s?yt(s,this,t,e):e;return this.data[t]=r,r}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&yt(this.options.onConflict,this,t),new Error(`${_c(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const i=this.getSpellingSuggestionForName(t),s=e?`${e} ${j$(this.options.type)}`:this.options.type;return`${_c(s)} with name '${t}' does not exist.${i?` Did you mean '${i}'?`:""}`}getSpellingSuggestionForName(t){return RD(t,Object.keys(this.data),e=>e)}}(function(n){function t(e){return new n(e)}n.create=t})(Ye||(Ye={}));const _6={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},R6={},ty={position:nu("x","width","origin")},ey={position:nu("y","height","origin")},j6={position:nu("x","width","corner")},z6={position:nu("y","height","corner")},ny={set:js("width","width")},iy={set:js("height","height")},B6={set:js("rx","width")},H6={set:js("ry","height")},sy={set:(n=>{const t=js(n,"width"),e=js(n,"height");return function(i,s){const r=s.refBBox,o=r.height>r.width?t:e;return yt(o,this,i,s)}})("r")},V6={set(n,{refBBox:t}){let e=parseFloat(n);const i=Fi(n);i&&(e/=100);const s=Math.sqrt(t.height*t.height+t.width*t.width);let r;return Number.isFinite(e)&&(i||e>=0&&e<=1?r=e*s:r=Math.max(e+s,0)),{r}}},G6={set:js("cx","width")},W6={set:js("cy","height")},ry={set:ly({resetOffset:!0})},U6={set:ly({resetOffset:!1})},oy={set:cy({resetOffset:!0})},q6={set:cy({resetOffset:!1})},X6=sy,Y6=ry,K6=oy,J6=ty,Z6=ey,Q6=ny,tk=iy;function nu(n,t,e){return(i,{refBBox:s})=>{if(i==null)return null;let r=parseFloat(i);const o=Fi(i);o&&(r/=100);let a;if(Number.isFinite(r)){const c=s[e];o||r>0&&r<1?a=c[n]+s[t]*r:a=c[n]+r}const l=new L;return l[n]=a||0,l}}function js(n,t){return function(e,{refBBox:i}){let s=parseFloat(e);const r=Fi(e);r&&(s/=100);const o={};if(Number.isFinite(s)){const a=r||s>=0&&s<=1?s*i[t]:Math.max(s+i[t],0);o[n]=a}return o}}function ay(n,t){const e="x6-shape",i=t&&t.resetOffset;return function(s,{view:r,elem:o,refBBox:a}){const l=r.$(o);let c=l.data(e);if(!c||c.value!==s){const C=n(s);c={value:s,shape:C,shapeBBox:C.bbox()},l.data(e,c)}const u=c.shape.clone(),h=c.shapeBBox.clone(),f=h.getOrigin(),g=a.getOrigin();h.x=g.x,h.y=g.y;const b=a.getMaxScaleToFit(h,g),y=h.width===0||a.width===0?1:b.sx,w=h.height===0||a.height===0?1:b.sy;return u.scale(y,w,f),i&&u.translate(-f.x,-f.y),u}}function ly(n){function t(i){return It.parse(i)}const e=ay(t,n);return(i,s)=>({d:e(i,s).serialize()})}function cy(n){const t=ay(e=>new fn(e),n);return(e,i)=>({points:t(e,i).serialize()})}const ek={qualify:hi,set(n,{view:t}){return`url(#${t.graph.defineGradient(n)})`}},nk={qualify:hi,set(n,{view:t}){const e=t.cell,i=Object.assign({},n);if(e.isEdge()&&i.type==="linearGradient"){const s=t,r=s.sourcePoint,o=s.targetPoint;i.id=`gradient-${i.type}-${e.id}`,i.attrs=Object.assign(Object.assign({},i.attrs),{x1:r.x,y1:r.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(i.id)}return`url(#${t.graph.defineGradient(i)})`}},uy={qualify(n,{attrs:t}){return t.textWrap==null||!hi(t.textWrap)},set(n,{view:t,elem:e,attrs:i}){const s="x6-text",r=t.$(e),o=r.data(s),a=h=>{try{return JSON.parse(h)}catch{return h}},l={x:i.x,eol:i.eol,annotations:a(i.annotations),textPath:a(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:(i["display-empty"]||i.displayEmpty)==="true",lineHeight:i["line-height"]||i.lineHeight},c=i["font-size"]||i.fontSize,u=JSON.stringify([n,l]);if(c&&e.setAttribute("font-size",c),o==null||o!==u){const h=l.textPath;if(h!=null&&typeof h=="object"){const f=h.selector;if(typeof f=="string"){const g=t.find(f)[0];g instanceof SVGPathElement&&(Wc(g),l.textPath=Object.assign({"xlink:href":`#${g.id}`},h))}}Hb(e,`${n}`,l),r.data(s,u)}}},ik={qualify:hi,set(n,{view:t,elem:e,attrs:i,refBBox:s}){const r=n,o=r.width||0;Fi(o)?s.width*=parseFloat(o)/100:o<=0?s.width+=o:s.width=o;const a=r.height||0;Fi(a)?s.height*=parseFloat(a)/100:a<=0?s.height+=a:s.height=a;let l,c=r.text;c==null&&(c=i.text),c!=null?l=Vb(`${c}`,s,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{svgDocument:t.graph.view.svg,ellipsis:r.ellipsis,hyphen:r.hyphen,breakWord:r.breakWord}):l="",yt(uy.set,this,l,{view:t,elem:e,attrs:i,refBBox:s,cell:t.cell})}},ko=(n,{attrs:t})=>t.text!==void 0,sk={qualify:ko},rk={qualify:ko},ok={qualify:ko},ak={qualify:ko},lk={qualify:ko},ck={qualify:ko},uk={qualify(n,{elem:t}){return t instanceof SVGElement},set(n,{view:t,elem:e}){const i="x6-title",s=`${n}`,r=t.$(e),o=r.data(i);if(o==null||o!==s){r.data(i,s);const a=e.firstChild;if(a&&a.tagName.toUpperCase()==="TITLE"){const l=a;l.textContent=s}else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=s,e.insertBefore(l,a)}}}},hk={offset:hy("x","width","right")},dk={offset:hy("y","height","bottom")},fk={offset(n,{refBBox:t}){return n?{x:-t.x,y:-t.y}:{x:0,y:0}}};function hy(n,t,e){return(i,{refBBox:s})=>{const r=new L;let o;return i==="middle"?o=s[t]/2:i===e?o=s[t]:typeof i=="number"&&Number.isFinite(i)?o=i>-1&&i<1?-s[t]*i:-i:Fi(i)?o=s[t]*parseFloat(i)/100:o=0,r[n]=-(s[n]+o),r}}const gk={qualify:hi,set(n,{view:t,elem:e}){t.$(e).css(n)}},pk={set(n,{view:t,elem:e}){t.$(e).html(`${n}`)}},mk={qualify:hi,set(n,{view:t}){return`url(#${t.graph.defineFilter(n)})`}},bk={set(n){return n!=null&&typeof n=="object"&&n.id?n.id:n}};function zs(n,t,e){let i,s;typeof t=="object"?(i=t.x,s=t.y):(i=t,s=e);const r=It.parse(n),o=r.bbox();if(o){let a=-o.height/2-o.y,l=-o.width/2-o.x;typeof i=="number"&&(l-=i),typeof s=="number"&&(a-=s),r.translate(l,a)}return r.serialize()}var dy=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const yk=n=>{var{size:t,width:e,height:i,offset:s,open:r}=n,o=dy(n,["size","width","height","offset","open"]);return fy({size:t,width:e,height:i,offset:s},r===!0,!0,void 0,o)},vk=n=>{var{size:t,width:e,height:i,offset:s,factor:r}=n,o=dy(n,["size","width","height","offset","factor"]);return fy({size:t,width:e,height:i,offset:s},!1,!1,r,o)};function fy(n,t,e,i=3/4,s={}){const r=n.size||10,o=n.width||r,a=n.height||r,l=new It,c={};if(t)l.moveTo(o,0).lineTo(0,a/2).lineTo(o,a),c.fill="none";else{if(l.moveTo(0,a/2),l.lineTo(o,0),!e){const u=Bn(i,0,1);l.lineTo(o*u,a/2)}l.lineTo(o,a),l.close()}return Object.assign(Object.assign(Object.assign({},c),s),{tagName:"path",d:zs(l.serialize(),{x:n.offset!=null?n.offset:-o/2})})}var Ck=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const wk=n=>{var{size:t,width:e,height:i,offset:s}=n,r=Ck(n,["size","width","height","offset"]);const o=t||10,a=e||o,l=i||o,c=new It;return c.moveTo(0,l/2).lineTo(a/2,0).lineTo(a,l/2).lineTo(a/2,l).close(),Object.assign(Object.assign({},r),{tagName:"path",d:zs(c.serialize(),s==null?-a/2:s)})};var xk=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Sk=n=>{var{d:t,offsetX:e,offsetY:i}=n,s=xk(n,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:zs(t,e,i)})};var Ek=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Ak=n=>{var{size:t,width:e,height:i,offset:s}=n,r=Ek(n,["size","width","height","offset"]);const o=t||10,a=e||o,l=i||o,c=new It;return c.moveTo(0,0).lineTo(a,l).moveTo(0,l).lineTo(a,0),Object.assign(Object.assign({},r),{tagName:"path",fill:"none",d:zs(c.serialize(),s||-a/2)})};var Mk=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const Tk=n=>{var{width:t,height:e,offset:i,open:s,flip:r}=n,o=Mk(n,["width","height","offset","open","flip"]);let a=e||6;const l=t||10,c=s===!0,u=r===!0,h=Object.assign(Object.assign({},o),{tagName:"path"});u&&(a=-a);const f=new It;return f.moveTo(0,a).lineTo(l,0),c?h.fill="none":(f.lineTo(l,a),f.close()),h.d=zs(f.serialize(),{x:i||-l/2,y:a/2}),h};var gy=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const py=n=>{var{r:t}=n,e=gy(n,["r"]);const i=t||5;return Object.assign(Object.assign({cx:i},e),{tagName:"circle",r:i})},Ok=n=>{var{r:t}=n,e=gy(n,["r"]);const i=t||5,s=new It;return s.moveTo(i,0).lineTo(i,i*2),s.moveTo(0,i).lineTo(i*2,i),{children:[Object.assign(Object.assign({},py({r:i})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:zs(s.serialize(),-i)})]}};var Pk=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const $k=n=>{var{rx:t,ry:e}=n,i=Pk(n,["rx","ry"]);const s=t||5,r=e||5;return Object.assign(Object.assign({cx:s},i),{tagName:"ellipse",rx:s,ry:r})};var Dk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",block:yk,classic:vk,diamond:wk,path:Sk,cross:Ak,async:Tk,circle:py,circlePlus:Ok,ellipse:$k}),Bs;(function(n){n.presets=Dk,n.registry=Ye.create({type:"marker"}),n.registry.register(n.presets,!0)})(Bs||(Bs={}));(function(n){n.normalize=zs})(Bs||(Bs={}));var kk=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};function Cf(n){return typeof n=="string"||hi(n)}const Nk={qualify:Cf,set(n,{view:t,attrs:e}){return wf("marker-start",n,t,e)}},Lk={qualify:Cf,set(n,{view:t,attrs:e}){return wf("marker-end",n,t,e,{transform:"rotate(180)"})}},Fk={qualify:Cf,set(n,{view:t,attrs:e}){return wf("marker-mid",n,t,e)}};function wf(n,t,e,i,s={}){const r=typeof t=="string"?{name:t}:t,{name:o,args:a}=r,l=kk(r,["name","args"]);let c=l;if(o&&typeof o=="string"){const h=Bs.registry.get(o);if(h)c=h(Object.assign(Object.assign({},l),a));else return Bs.registry.onNotFound(o)}const u=Object.assign(Object.assign(Object.assign({},Ik(i,n)),s),c);return{[n]:`url(#${e.graph.defineMarker(u)})`}}function Ik(n,t){const e={},i=n.stroke;typeof i=="string"&&(e.stroke=i,e.fill=i);let s=n.strokeOpacity;if(s==null&&(s=n["stroke-opacity"]),s==null&&(s=n.opacity),s!=null&&(e["stroke-opacity"]=s,e["fill-opacity"]=s),t!=="marker-mid"){const r=parseFloat(n.strokeWidth||n["stroke-width"]);if(Number.isFinite(r)&&r>1){const o=Math.ceil(r/2);e.refX=t==="marker-start"?o:-o}}return e}const il=(n,{view:t})=>t.cell.isEdge(),_k={qualify:il,set(n,t){const e=t.view,i=n.stubs||0;let s;if(Number.isFinite(i)&&i!==0){let r;i<0?r=((e.getConnectionLength()||0)+i)/2:r=i;const o=e.getConnection();if(o){const a=o.divideAtLength(r),l=o.divideAtLength(-r);a&&l&&(s=`${a[0].serialize()} ${l[1].serialize()}`)}}return{d:s||e.getConnectionPathData()}}},my={qualify:il,set:iu("getTangentAtLength",{rotate:!0})},Rk={qualify:il,set:iu("getTangentAtLength",{rotate:!1})},by={qualify:il,set:iu("getTangentAtRatio",{rotate:!0})},jk={qualify:il,set:iu("getTangentAtRatio",{rotate:!1})},zk=my,Bk=by;function iu(n,t){const e={x:1,y:0};return(i,s)=>{let r,o;const a=s.view,l=a[n](Number(i));return l?(o=t.rotate?l.vector().vectorAngle(e):0,r=l.start):(r=a.path.start,o=0),o===0?{transform:`translate(${r.x},${r.y}')`}:{transform:`translate(${r.x},${r.y}') rotate(${o})`}}}var Hk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ref:R6,refX:ty,refY:ey,refDx:j6,refDy:z6,refWidth:ny,refHeight:iy,refRx:B6,refRy:H6,refRInscribed:sy,refRCircumscribed:V6,refCx:G6,refCy:W6,refDResetOffset:ry,refDKeepOffset:U6,refPointsResetOffset:oy,refPointsKeepOffset:q6,refR:X6,refD:Y6,refPoints:K6,refX2:J6,refY2:Z6,refWidth2:Q6,refHeight2:tk,fill:ek,stroke:nk,text:uy,textWrap:ik,lineHeight:sk,textVerticalAnchor:rk,textPath:ok,annotations:ak,eol:lk,displayEmpty:ck,title:uk,xAlign:hk,yAlign:dk,resetOffset:fk,style:gk,html:pk,filter:mk,port:bk,sourceMarker:Nk,targetMarker:Lk,vertexMarker:Fk,connection:_k,atConnectionLengthKeepGradient:my,atConnectionLengthIgnoreGradient:Rk,atConnectionRatioKeepGradient:by,atConnectionRatioIgnoreGradient:jk,atConnectionLength:zk,atConnectionRatio:Bk}),Ki;(function(n){function t(e,i,s){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||yt(e.qualify,this,i,s)))}n.isValidDefinition=t})(Ki||(Ki={}));(function(n){n.presets=Object.assign(Object.assign({},_6),Hk),n.registry=Ye.create({type:"attribute definition"}),n.registry.register(n.presets,!0)})(Ki||(Ki={}));const Vk={color:"#aaaaaa",thickness:1,markup:"rect",update(n,t){const e=t.thickness*t.sx,i=t.thickness*t.sy;ge(n,{width:e,height:i,rx:e,ry:i,fill:t.color})}},Gk={color:"#aaaaaa",thickness:1,markup:"rect",update(n,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;ge(n,{width:e,height:e,rx:e,ry:e,fill:t.color})}},Wk={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,t){let e;const i=t.width,s=t.height,r=t.thickness;i-r>=0&&s-r>=0?e=["M",i,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",ge(n,{d:e,stroke:t.color,"stroke-width":t.thickness})}},Uk=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(n,t){let e;const i=t.width,s=t.height,r=t.thickness;i-r>=0&&s-r>=0?e=["M",i,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",ge(n,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(n,t){let e;const i=t.factor||1,s=t.width*i,r=t.height*i,o=t.thickness;s-o>=0&&r-o>=0?e=["M",s,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",t.width=s,t.height=r,ge(n,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];var qk=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dot:Vk,fixedDot:Gk,mesh:Wk,doubleMesh:Uk});class Hs{constructor(){this.patterns={},this.root=Et.create(Uc(),{width:"100%",height:"100%"},[Jn("defs")]).node}add(t,e){const i=this.root.childNodes[0];i&&i.appendChild(e),this.patterns[t]=e,Et.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(n){n.presets=qk,n.registry=Ye.create({type:"grid"}),n.registry.register(n.presets,!0)})(Hs||(Hs={}));function xf(n,t){return n!=null?n:t}function An(n,t){return n!=null&&Number.isFinite(n)?n:t}function Xk(n={}){const t=xf(n.color,"blue"),e=An(n.width,1),i=An(n.margin,2),s=An(n.opacity,1),r=i,o=i+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${s}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${o}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${r}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function Yk(n={}){const t=xf(n.color,"red"),e=An(n.blur,0),i=An(n.width,1),s=An(n.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${s}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${i}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function Kk(n={}){const t=An(n.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${n.y!=null&&Number.isFinite(n.y)?[t,n.y]:t}"/>
    </filter>
  `.trim()}function Jk(n={}){const t=An(n.dx,0),e=An(n.dy,0),i=xf(n.color,"black"),s=An(n.blur,4),r=An(n.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${s}" dx="${t}" dy="${e}" flood-color="${i}" flood-opacity="${r}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${i}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${r}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function Zk(n={}){const t=An(n.amount,1),e=.2126+.7874*(1-t),i=.7152-.7152*(1-t),s=.0722-.0722*(1-t),r=.2126-.2126*(1-t),o=.7152+.2848*(1-t),a=.0722-.0722*(1-t),l=.2126-.2126*(1-t),c=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${i} ${s} 0 0 ${r} ${o} ${a} 0 0 ${l} ${i} ${c} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function Qk(n={}){const t=An(n.amount,1),e=.393+.607*(1-t),i=.769-.769*(1-t),s=.189-.189*(1-t),r=.349-.349*(1-t),o=.686+.314*(1-t),a=.168-.168*(1-t),l=.272-.272*(1-t),c=.534-.534*(1-t),u=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${i} ${s} 0 0 ${r} ${o} ${a} 0 0 ${l} ${c} ${u} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function t4(n={}){const t=An(n.amount,1);return`
      <filter>
        <feColorMatrix type="saturate" values="${1-t}"/>
      </filter>
    `.trim()}function e4(n={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${An(n.angle,0)}"/>
      </filter>
    `.trim()}function n4(n={}){const t=An(n.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function i4(n={}){const t=An(n.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function s4(n={}){const t=An(n.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var r4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",outline:Xk,highlight:Yk,blur:Kk,dropShadow:Jk,grayScale:Zk,sepia:Qk,saturate:t4,hueRotate:e4,invert:n4,brightness:i4,contrast:s4}),No;(function(n){n.presets=r4,n.registry=Ye.create({type:"filter"}),n.registry.register(n.presets,!0)})(No||(No={}));const yy=function(n){const t=document.createElement("canvas"),e=n.width,i=n.height;t.width=e*2,t.height=i;const s=t.getContext("2d");return s.drawImage(n,0,0,e,i),s.translate(2*e,0),s.scale(-1,1),s.drawImage(n,0,0,e,i),t},vy=function(n){const t=document.createElement("canvas"),e=n.width,i=n.height;t.width=e,t.height=i*2;const s=t.getContext("2d");return s.drawImage(n,0,0,e,i),s.translate(0,2*i),s.scale(1,-1),s.drawImage(n,0,0,e,i),t},Cy=function(n){const t=document.createElement("canvas"),e=n.width,i=n.height;t.width=2*e,t.height=2*i;const s=t.getContext("2d");return s.drawImage(n,0,0,e,i),s.setTransform(-1,0,0,-1,t.width,t.height),s.drawImage(n,0,0,e,i),s.setTransform(-1,0,0,1,t.width,0),s.drawImage(n,0,0,e,i),s.setTransform(1,0,0,-1,0,t.height),s.drawImage(n,0,0,e,i),t},o4=function(n,t){const e=n.width,i=n.height,s=document.createElement("canvas");s.width=e*3,s.height=i*3;const r=s.getContext("2d"),o=t.angle!=null?-t.angle:-20,a=se.toRad(o),l=s.width/4,c=s.height/4;for(let u=0;u<4;u+=1)for(let h=0;h<4;h+=1)(u+h)%2>0&&(r.setTransform(1,0,0,1,(2*u-1)*l,(2*h-1)*c),r.rotate(a),r.drawImage(n,-e/2,-i/2,e,i));return s};var a4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",flipX:yy,flipY:vy,flipXY:Cy,watermark:o4}),sl;(function(n){n.presets=Object.assign({},a4),n.presets["flip-x"]=yy,n.presets["flip-y"]=vy,n.presets["flip-xy"]=Cy,n.registry=Ye.create({type:"background pattern"}),n.registry.register(n.presets,!0)})(sl||(sl={}));const Ji={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(n){Ji.trackable=n}};var en;(function(n){n.snapToGrid=ff,n.normalizeMarker=zs;function t(e){return`${Ji.prefixCls}-${e}`}n.prefix=t})(en||(en={}));(function(n){function t(e,i,s,r=[]){const o=typeof i.children=="function"?i.children(e):e[i.children||"children"];return s||(s=i.createNode(e),r.push(s)),Array.isArray(o)&&o.forEach(a=>{const l=i.createNode(a),c=i.createEdge(s,l);r.push(l,c),this.makeTree(a,i,l,r)}),r}n.makeTree=t})(en||(en={}));const l4="1.29.1",wy=en.prefix("highlighted"),c4={highlight(n,t,e){const i=e&&e.className||wy;fe(t,i)},unhighlight(n,t,e){const i=e&&e.className||wy;vi(t,i)}},xy=en.prefix("highlight-opacity"),u4={highlight(n,t){fe(t,xy)},unhighlight(n,t){vi(t,xy)}},h4={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},d4={highlight(n,t,e){const i=Vs.getHighlighterId(t,e);if(Vs.hasCache(i))return;e=Qm({},e,h4);const s=Et.create(t);let r,o;try{r=s.toPathData()}catch{o=s.bbox(!0),r=Wb(Object.assign(Object.assign({},e),o))}const a=Jn("path");if(ge(a,Object.assign({d:r,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?tl(e.attrs):null)),n.isEdgeElement(t))ge(a,"d",n.getConnectionPathData());else{let u=s.getTransformToElement(n.container);const h=e.padding;if(h){o==null&&(o=s.bbox(!0));const f=o.x+o.width/2,g=o.y+o.height/2;o=di(o,u);const b=Math.max(o.width,1),y=Math.max(o.height,1),w=(b+h)/b,C=(y+h)/y,E=Sn({a:w,b:0,c:0,d:C,e:f-w*f,f:g-C*g});u=u.multiply(E)}Do(a,u)}fe(a,en.prefix("highlight-stroke"));const l=n.cell,c=()=>Vs.removeHighlighter(i);l.on("removed",c),l.model&&l.model.on("reseted",c),n.container.appendChild(a),Vs.setCache(i,a)},unhighlight(n,t,e){Vs.removeHighlighter(Vs.getHighlighterId(t,e))}};var Vs;(function(n){function t(o,a){return Wc(o),o.id+JSON.stringify(a)}n.getHighlighterId=t;const e={};function i(o,a){e[o]=a}n.setCache=i;function s(o){return e[o]!=null}n.hasCache=s;function r(o){const a=e[o];a&&(Yi(a),delete e[o])}n.removeHighlighter=r})(Vs||(Vs={}));var f4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",className:c4,opacity:u4,stroke:d4}),ys;(function(n){function t(e,i){if(typeof i.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof i.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}n.check=t})(ys||(ys={}));(function(n){n.presets=f4,n.registry=Ye.create({type:"highlighter"}),n.registry.register(n.presets,!0)})(ys||(ys={}));function Sf(n,t={}){return new L(Xi(t.x,n.width),Xi(t.y,n.height))}function Ef(n,t,e){return Object.assign({angle:t,position:n.toJSON()},e)}const g4=(n,t)=>n.map(({x:e,y:i,angle:s})=>Ef(Sf(t,{x:e,y:i}),s||0)),p4=(n,t,e)=>{const i=e.start||0,s=e.step||20;return Sy(n,t,i,(r,o)=>(r+.5-o/2)*s)},m4=(n,t,e)=>{const i=e.start||0,s=e.step||360/n.length;return Sy(n,t,i,r=>r*s)};function Sy(n,t,e,i){const s=t.getCenter(),r=t.getTopCenter(),o=t.width/t.height,a=Ci.fromRect(t),l=n.length;return n.map((c,u)=>{const h=e+i(u,l),f=r.clone().rotate(-h,s).scale(o,1,s),g=c.compensateRotate?-a.tangentTheta(f):0;return(c.dx||c.dy)&&f.translate(c.dx||0,c.dy||0),c.dr&&f.move(s,c.dr),Ef(f.round(),g,c)})}var b4=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const y4=(n,t,e)=>{const i=Sf(t,e.start||t.getOrigin()),s=Sf(t,e.end||t.getCorner());return rl(n,i,s,e)},v4=(n,t,e)=>rl(n,t.getTopLeft(),t.getBottomLeft(),e),C4=(n,t,e)=>rl(n,t.getTopRight(),t.getBottomRight(),e),w4=(n,t,e)=>rl(n,t.getTopLeft(),t.getTopRight(),e),x4=(n,t,e)=>rl(n,t.getBottomLeft(),t.getBottomRight(),e);function rl(n,t,e,i){const s=new At(t,e),r=n.length;return n.map((o,a)=>{var{strict:l}=o,c=b4(o,["strict"]);const u=l||i.strict?(a+1)/(r+1):(a+.5)/r,h=s.pointAt(u);return(c.dx||c.dy)&&h.translate(c.dx||0,c.dy||0),Ef(h.round(),0,c)})}var S4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",absolute:g4,ellipse:p4,ellipseSpread:m4,line:y4,left:v4,right:C4,top:w4,bottom:x4}),$r;(function(n){n.presets=S4,n.registry=Ye.create({type:"port layout"}),n.registry.register(n.presets,!0)})($r||($r={}));const E4={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Gs(n,t){const{x:e,y:i,angle:s,attrs:r}=t||{};return Qm({},{angle:s,attrs:r,position:{x:e,y:i}},n,E4)}const A4=(n,t,e)=>Gs({position:t.getTopLeft()},e),M4=(n,t,e)=>Gs({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),T4=(n,t,e)=>Gs({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),O4=(n,t,e)=>Gs({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),P4=(n,t,e)=>Gs({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),$4=(n,t,e)=>Ey(n,t,!1,e),D4=(n,t,e)=>Ey(n,t,!0,e),k4=(n,t,e)=>Ay(n,t,!1,e),N4=(n,t,e)=>Ay(n,t,!0,e);function Ey(n,t,e,i){const s=i.offset!=null?i.offset:15,r=t.getCenter().theta(n),o=My(t);let a,l,c,u,h=0;return r<o[1]||r>o[2]?(a=".3em",l=s,c=0,u="start"):r<o[0]?(a="0",l=0,c=-s,e?(h=-90,u="start"):u="middle"):r<o[3]?(a=".3em",l=-s,c=0,u="end"):(a=".6em",l=0,c=s,e?(h=90,u="start"):u="middle"),Gs({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},i)}function Ay(n,t,e,i){const s=i.offset!=null?i.offset:15,r=t.getCenter().theta(n),o=My(t);let a,l,c,u,h=0;return r<o[1]||r>o[2]?(a=".3em",l=-s,c=0,u="end"):r<o[0]?(a=".6em",l=0,c=s,e?(h=90,u="start"):u="middle"):r<o[3]?(a=".3em",l=s,c=0,u="start"):(a="0em",l=0,c=-s,e?(h=-90,u="start"):u="middle"),Gs({position:{x:Math.round(l),y:Math.round(c)},angle:h,attrs:{".":{y:a,"text-anchor":u}}},i)}function My(n){const t=n.getCenter(),e=t.theta(n.getTopLeft()),i=t.theta(n.getBottomLeft()),s=t.theta(n.getBottomRight()),r=t.theta(n.getTopRight());return[e,r,s,i]}const L4=(n,t,e)=>Ty(n.diff(t.getCenter()),!1,e),F4=(n,t,e)=>Ty(n.diff(t.getCenter()),!0,e);function Ty(n,t,e){const i=e.offset!=null?e.offset:20,s=new L(0,0),r=-n.theta(s),o=n.clone().move(s,i).diff(n).round();let a=".3em",l,c=r;return(r+90)%180==0?(l=t?"end":"middle",!t&&r===-270&&(a="0em")):r>-270&&r<-90?(l="start",c=r-180):l="end",Gs({position:o.round().toJSON(),angle:t?c:0,attrs:{".":{y:a,"text-anchor":l}}},e)}var I4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",manual:A4,left:M4,right:T4,top:O4,bottom:P4,outside:$4,outsideOriented:D4,inside:k4,insideOriented:N4,radial:L4,radialOriented:F4}),Lo;(function(n){n.presets=I4,n.registry=Ye.create({type:"port label layout"}),n.registry.register(n.presets,!0)})(Lo||(Lo={}));class vs{constructor(t,e,i,s){if(t==null)return this.set(255,255,255,1);if(typeof t=="number")return this.set(t,e,i,s);if(typeof t=="string")return vs.fromString(t)||this;if(Array.isArray(t))return this.set(t);this.set(t.r,t.g,t.b,t.a==null?1:t.a)}blend(t,e,i){this.set(t.r+(e.r-t.r)*i,t.g+(e.g-t.g)*i,t.b+(e.b-t.b)*i,t.a+(e.a-t.a)*i)}lighten(t){const e=vs.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,i,s){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,a=Array.isArray(t)?t[2]:i,l=Array.isArray(t)?t[3]:s;return this.r=Math.round(Bn(r,0,255)),this.g=Math.round(Bn(o,0,255)),this.b=Math.round(Bn(a,0,255)),this.a=l==null?1:Bn(l,0,1),this}toHex(){return`#${["r","g","b"].map(e=>{const i=this[e].toString(16);return i.length<2?`0${i}`:i}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return vs.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return vs.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(n){function t(S){return new n(S)}n.fromArray=t;function e(S){return new n([...b(S),1])}n.fromHex=e;function i(S){const T=S.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(T){const $=T[1].split(/\s*,\s*/).map(p=>parseInt(p,10));return new n($)}return null}n.fromRGBA=i;function s(S,T,$){$<0&&++$,$>1&&--$;const p=6*$;return p<1?S+(T-S)*p:2*$<1?T:3*$<2?S+(T-S)*(2/3-$)*6:S}function r(S){const T=S.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(T){const $=T[2].split(/\s*,\s*/),p=(parseFloat($[0])%360+360)%360/360,A=parseFloat($[1])/100,k=parseFloat($[2])/100,F=$[3]==null?1:parseInt($[3],10);return new n(c(p,A,k,F))}return null}n.fromHSLA=r;function o(S){if(S.startsWith("#"))return e(S);if(S.startsWith("rgb"))return i(S);const T=n.named[S];return T?e(T):r(S)}n.fromString=o;function a(S,T){return n.fromArray([S,S,S,T])}n.makeGrey=a;function l(S,T,$,p){const A=Array.isArray(S)?S[0]:S,k=Array.isArray(S)?S[1]:T,F=Array.isArray(S)?S[2]:$,H=Array.isArray(S)?S[3]:p,_=Math.max(A,k,F),I=Math.min(A,k,F),Y=(_+I)/2;let nt=0,G=0;if(I!==_){const q=_-I;switch(G=Y>.5?q/(2-_-I):q/(_+I),_){case A:nt=(k-F)/q+(k<F?6:0);break;case k:nt=(F-A)/q+2;break;case F:nt=(A-k)/q+4;break}nt/=6}return[nt,G,Y,H==null?1:H]}n.rgba2hsla=l;function c(S,T,$,p){const A=Array.isArray(S)?S[0]:S,k=Array.isArray(S)?S[1]:T,F=Array.isArray(S)?S[2]:$,H=Array.isArray(S)?S[3]:p,_=F<=.5?F*(k+1):F+k-F*k,I=2*F-_;return[s(I,_,A+1/3)*256,s(I,_,A)*256,s(I,_,A-1/3)*256,H==null?1:H]}n.hsla2rgba=c;function u(S){return new n(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),S?void 0:parseFloat(Math.random().toFixed(2)))}n.random=u;function h(){const S="0123456789ABCDEF";let T="#";for(let $=0;$<6;$+=1)T+=S[Math.floor(Math.random()*16)];return T}n.randomHex=h;function f(S){return u(S).toString()}n.randomRGBA=f;function g(S,T){if(typeof S=="string"){const F=S[0]==="#",[H,_,I]=b(S);return T?H*.299+_*.587+I*.114>186?"#000000":"#ffffff":`${F?"#":""}${y(255-H,255-_,255-I)}`}const $=S[0],p=S[1],A=S[2],k=S[3];return T?$*.299+p*.587+A*.114>186?[0,0,0,k]:[255,255,255,k]:[255-$,255-p,255-A,k]}n.invert=g;function b(S){const T=S.indexOf("#")===0?S:`#${S}`;let $=Number(`0x${T.substr(1)}`);if(!(T.length===4||T.length===7)||Number.isNaN($))throw new Error("Invalid hex color.");const p=T.length===4?4:8,A=(1<<p)-1,k=["b","g","r"].map(()=>{const F=$&A;return $>>=p,p===4?17*F:F});return[k[2],k[1],k[0]]}function y(S,T,$){const p=A=>A.length<2?`0${A}`:A;return`${p(S.toString(16))}${p(T.toString(16))}${p($.toString(16))}`}function w(S,T){return E(S,T)}n.lighten=w;function C(S,T){return E(S,-T)}n.darken=C;function E(S,T){if(typeof S=="string"){const A=S[0]==="#",k=parseInt(A?S.substr(1):S,16),F=Bn((k>>16)+T,0,255),H=Bn((k>>8&255)+T,0,255),_=Bn((k&255)+T,0,255);return`${A?"#":""}${(_|H<<8|F<<16).toString(16)}`}const $=y(S[0],S[1],S[2]),p=b(E($,T));return[p[0],p[1],p[2],S[3]]}})(vs||(vs={}));(function(n){n.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(vs||(vs={}));class _4{constructor(){this.listeners={}}on(t,e,i){return e==null?this:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e,i),this)}once(t,e,i){const s=(...r)=>(this.off(t,s),ol.call([e,i],r));return this.on(t,s,this)}off(t,e,i){if(!(t||e||i))return this.listeners={},this;const s=this.listeners;return(t?[t]:Object.keys(s)).forEach(o=>{const a=s[o];if(!!a){if(!(e||i)){delete s[o];return}for(let l=a.length-2;l>=0;l-=2)e&&a[l]!==e||i&&a[l+1]!==i||a.splice(l,2)}}),this}trigger(t,...e){let i=!0;if(t!=="*"){const r=this.listeners[t];r!=null&&(i=ol.call([...r],e))}const s=this.listeners["*"];return s!=null?Kd([i,ol.call([...s],[t,...e])]):i}emit(t,...e){return this.trigger(t,...e)}}var ol;(function(n){function t(e,i){const s=[];for(let r=0;r<e.length;r+=2){const o=e[r],a=e[r+1],l=Array.isArray(i)?i:[i],c=Sb(o,a,l);s.push(c)}return Kd(s)}n.call=t})(ol||(ol={}));class Ii{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(n){function t(){return(e,i,s)=>{const r=s.value,o=e.__proto__;s.value=function(){this.disposed||(r.call(this),o.dispose.call(this))}}}n.dispose=t})(Ii||(Ii={}));class Oy{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}(function(n){function t(e){const i=new n;return e.forEach(s=>{i.add(s)}),i}n.from=t})(Oy||(Oy={}));class $n extends _4{}(function(n){n.dispose=Ii.dispose})($n||($n={}));yb($n,Ii);class Py extends $n{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var R4=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class su extends Ii{constructor(){super();this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const i=this.map.get(t);return this.map.delete(t),i}each(t){this.arr.forEach(e=>{const i=this.map.get(e);t(i,e)})}dispose(){this.clear()}}R4([Ii.dispose()],su.prototype,"dispose",null);class al{constructor(t={}){this.comparator=t.comparator||al.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(t,e,i){const s={priority:t,value:e},r=this.data.length-1;return i&&(s.id=i,this.index[i]=r),this.data.push(s),this.bubbleUp(r),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const i=this.index[t];if(typeof i=="undefined")throw new Error(`Node with id '${t}' was not found in the heap.`);const s=this.data,r=s[i].priority,o=this.comparator(e,r);o<0?(s[i].priority=e,this.bubbleUp(i)):o>0&&(s[i].priority=e,this.bubbleDown(i))}remove(){const t=this.data,e=t[0],i=t.pop();return delete this.index[t.length],t.length>0&&(t[0]=i,i.id&&(this.index[i.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let i,s,r=t;for(;r>0&&(s=r-1>>>1,this.comparator(e[r].priority,e[s].priority)<0);){i=e[s],e[s]=e[r];let o=e[r].id;o!=null&&(this.index[o]=s),e[r]=i,o=e[r].id,o!=null&&(this.index[o]=r),r=s}}bubbleDown(t){const e=this.data,i=e.length-1;let s=t;for(;;){const r=(s<<1)+1,o=r+1;let a=s;if(r<=i&&this.comparator(e[r].priority,e[a].priority)<0&&(a=r),o<=i&&this.comparator(e[o].priority,e[a].priority)<0&&(a=o),a!==s){const l=e[a];e[a]=e[s];let c=e[s].id;c!=null&&(this.index[c]=a),e[s]=l,c=e[s].id,c!=null&&(this.index[c]=s),s=a}else break}}}(function(n){n.defaultComparator=(t,e)=>t-e})(al||(al={}));var Af;(function(n){function t(e,i,s=(r,o)=>1){const r={},o={},a={},l=new al;for(r[i]=0,Object.keys(e).forEach(c=>{c!==i&&(r[c]=1/0),l.insert(r[c],c,c)});!l.isEmpty();){const c=l.remove();a[c]=!0;const u=e[c]||[];for(let h=0;h<u.length;h+=1){const f=u[h];if(!a[f]){const g=r[c]+s(c,f);g<r[f]&&(r[f]=g,o[f]=c,l.updatePriority(f,g))}}}return o}n.run=t})(Af||(Af={}));var Dr;(function(n){n.linear=t=>t,n.quad=t=>t*t,n.cubic=t=>t*t*t,n.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)},n.exponential=t=>Math.pow(2,10*(t-1)),n.bounce=t=>{for(let e=0,i=1;;e+=i,i/=2)if(t>=(7-4*e)/11){const s=(11-6*e-11*t)/4;return-s*s+i*i}}})(Dr||(Dr={}));(function(n){n.decorators={reverse(t){return e=>1-t(1-e)},reflect(t){return e=>.5*(e<.5?t(2*e):2-t(2-2*e))},clamp(t,e=0,i=1){return s=>{const r=t(s);return r<e?e:r>i?i:r}},back(t=1.70158){return e=>e*e*((t+1)*e-t)},elastic(t=1.5){return e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}})(Dr||(Dr={}));(function(n){function t(G){return-1*Math.cos(G*(Math.PI/2))+1}n.easeInSine=t;function e(G){return Math.sin(G*(Math.PI/2))}n.easeOutSine=e;function i(G){return-.5*(Math.cos(Math.PI*G)-1)}n.easeInOutSine=i;function s(G){return G*G}n.easeInQuad=s;function r(G){return G*(2-G)}n.easeOutQuad=r;function o(G){return G<.5?2*G*G:-1+(4-2*G)*G}n.easeInOutQuad=o;function a(G){return G*G*G}n.easeInCubic=a;function l(G){const q=G-1;return q*q*q+1}n.easeOutCubic=l;function c(G){return G<.5?4*G*G*G:(G-1)*(2*G-2)*(2*G-2)+1}n.easeInOutCubic=c;function u(G){return G*G*G*G}n.easeInQuart=u;function h(G){const q=G-1;return 1-q*q*q*q}n.easeOutQuart=h;function f(G){const q=G-1;return G<.5?8*G*G*G*G:1-8*q*q*q*q}n.easeInOutQuart=f;function g(G){return G*G*G*G*G}n.easeInQuint=g;function b(G){const q=G-1;return 1+q*q*q*q*q}n.easeOutQuint=b;function y(G){const q=G-1;return G<.5?16*G*G*G*G*G:1+16*q*q*q*q*q}n.easeInOutQuint=y;function w(G){return G===0?0:Math.pow(2,10*(G-1))}n.easeInExpo=w;function C(G){return G===1?1:-Math.pow(2,-10*G)+1}n.easeOutExpo=C;function E(G){if(G===0||G===1)return G;const q=G*2,Q=q-1;return q<1?.5*Math.pow(2,10*Q):.5*(-Math.pow(2,-10*Q)+2)}n.easeInOutExpo=E;function S(G){const q=G/1;return-1*(Math.sqrt(1-q*G)-1)}n.easeInCirc=S;function T(G){const q=G-1;return Math.sqrt(1-q*q)}n.easeOutCirc=T;function $(G){const q=G*2,Q=q-2;return q<1?-.5*(Math.sqrt(1-q*q)-1):.5*(Math.sqrt(1-Q*Q)+1)}n.easeInOutCirc=$;function p(G,q=1.70158){return G*G*((q+1)*G-q)}n.easeInBack=p;function A(G,q=1.70158){const Q=G/1-1;return Q*Q*((q+1)*Q+q)+1}n.easeOutBack=A;function k(G,q=1.70158){const Q=G*2,st=Q-2,Tt=q*1.525;return Q<1?.5*Q*Q*((Tt+1)*Q-Tt):.5*(st*st*((Tt+1)*st+Tt)+2)}n.easeInOutBack=k;function F(G,q=.7){if(G===0||G===1)return G;const st=G/1-1,Tt=1-q,Ut=Tt/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*st)*Math.sin((st-Ut)*(2*Math.PI)/Tt))}n.easeInElastic=F;function H(G,q=.7){const Q=1-q,st=G*2;if(G===0||G===1)return G;const Tt=Q/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*st)*Math.sin((st-Tt)*(2*Math.PI)/Q)+1}n.easeOutElastic=H;function _(G,q=.65){const Q=1-q;if(G===0||G===1)return G;const st=G*2,Tt=st-1,Ut=Q/(2*Math.PI)*Math.asin(1);return st<1?-.5*(Math.pow(2,10*Tt)*Math.sin((Tt-Ut)*(2*Math.PI)/Q)):Math.pow(2,-10*Tt)*Math.sin((Tt-Ut)*(2*Math.PI)/Q)*.5+1}n.easeInOutElastic=_;function I(G){const q=G/1;if(q<1/2.75)return 7.5625*q*q;if(q<2/2.75){const Q=q-1.5/2.75;return 7.5625*Q*Q+.75}if(q<2.5/2.75){const Q=q-2.25/2.75;return 7.5625*Q*Q+.9375}{const Q=q-2.625/2.75;return 7.5625*Q*Q+.984375}}n.easeOutBounce=I;function Y(G){return 1-I(1-G)}n.easeInBounce=Y;function nt(G){return G<.5?Y(G*2)*.5:I(G*2-1)*.5+.5}n.easeInOutBounce=nt})(Dr||(Dr={}));var kr;(function(n){n.number=(t,e)=>{const i=e-t;return s=>t+i*s},n.object=(t,e)=>{const i=Object.keys(t);return s=>{const r={};for(let o=i.length-1;o!==-1;o-=1){const a=i[o];r[a]=t[a]+(e[a]-t[a])*s}return r}},n.unit=(t,e)=>{const i=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=i.exec(t),r=i.exec(e),o=r?r[1]:"",a=s?+s[1]:0,l=r?+r[1]:0,c=o.indexOf("."),u=c>0?o[1].length-c-1:0,h=l-a,f=s?s[2]:"";return g=>(a+h*g).toFixed(u)+f},n.color=(t,e)=>{const i=parseInt(t.slice(1),16),s=parseInt(e.slice(1),16),r=i&255,o=(s&255)-r,a=i&65280,l=(s&65280)-a,c=i&16711680,u=(s&16711680)-c;return h=>{const f=r+o*h&255,g=a+l*h&65280,b=c+u*h&16711680;return`#${(1<<24|f|g|b).toString(16).slice(1)}`}}})(kr||(kr={}));var $y;(function(n){const t=`${Ji.prefixCls}.storage`;function e(h,f,g){const b=f.id||$D("doc-"),y=l(h);y.keys.push(b),o(c(h,b),f),o(u(h),y),r(g,null,Object.assign(Object.assign({},f),{id:b}))}n.insert=e;function i(h,f,g){const b=l(h),y=[];if(f==null)b.keys.forEach(w=>{const C=a(c(h,w));C?y.push(C):r(g,new Error(`No document found for an ID '${w}' from index.`))}),r(g,null,y);else if(f.id){const w=a(c(h,f.id));r(g,null,w?[w]:[])}else r(g,null,[])}n.find=i;function s(h,f,g){const b=l(h);if(f==null)b.keys.forEach(y=>{localStorage.removeItem(c(h,y))}),localStorage.removeItem(u(h)),r(g,null);else if(f.id){const y=b.keys.indexOf(f.id);y>=0&&b.keys.splice(y,1),localStorage.removeItem(c(h,f.id)),o(u(h),b),r(g,null)}}n.remove=s;function r(h,f,g){h&&g$(()=>{h(f,g)})}function o(h,f){localStorage.setItem(h,JSON.stringify(f))}function a(h){const f=localStorage.getItem(h);return f?JSON.parse(f):null}function l(h){const f=a(u(h));return f?(f.keys==null&&(f.keys=[]),f):{keys:[]}}function c(h,f){return`${t}.${h}.docs.${f}`}function u(h){return`${t}.${h}.index`}})($y||($y={}));class re extends $n{constructor(){super();this.cid=Mf.uniqueId(),re.views[this.cid]=this}get priority(){return 2}confirmUpdate(t,e){return 0}$(t){return re.$(t)}empty(t=this.container){return this.$(t).empty(),this}unmount(t=this.container){return this.$(t).remove(),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete re.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return this.$(e).css(t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&(e instanceof SVGElement?ge(e,t):this.$(e).attr(t)),this}findAttr(t,e=this.container){let i=e;for(;i&&i.nodeType===1;){const s=i.getAttribute(t);if(s!=null)return s;if(i===this.container)return null;i=i.parentNode}return null}find(t,e=this.container,i=this.selectors){return re.find(t,e,i).elems}findOne(t,e=this.container,i=this.selectors){const s=this.find(t,e,i);return s.length>0?s[0]:null}findByAttr(t,e=this.container){let i=e;for(;i&&i.getAttribute;){const s=i.getAttribute(t);if((s!=null||i===this.container)&&s!=="false")return i;i=i.parentNode}return null}getSelector(t,e){let i;if(t===this.container)return typeof e=="string"&&(i=`> ${e}`),i;if(t){const s=tf(t)+1;i=`${t.tagName.toLowerCase()}:nth-child(${s})`,e&&(i+=` > ${e}`),i=this.getSelector(t.parentNode,i)}return i}prefixClassName(t){return en.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const i=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(s=>{const r=s.match(i);if(r==null)return;const o=this.getEventHandler(t[s]);typeof o=="function"&&this.delegateEvent(r[1],r[2],o)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,i){return this.$(this.container).on(t+this.getEventNamespace(),e,i),this}undelegateEvent(t,e,i){const s=t+this.getEventNamespace();return e==null?this.$(this.container).off(s):typeof e=="string"?this.$(this.container).off(s,e,i):this.$(this.container).off(s,e),this}addEventListeners(t,e,i){if(e==null)return this;const s=this.getEventNamespace(),r=this.$(t);return Object.keys(e).forEach(o=>{const a=this.getEventHandler(e[o]);typeof a=="function"&&r.on(o+s,i,a)}),this}removeEventListeners(t){return t!=null&&this.$(t).off(this.getEventNamespace()),this}getEventNamespace(){return`.${Ji.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const i=this[t];typeof i=="function"&&(e=(...s)=>i.call(this,...s))}else e=(...i)=>t.call(this,...i);return e}getEventTarget(t,e={}){const{target:i,type:s,clientX:r=0,clientY:o=0}=t;return e.fromPoint||s==="touchmove"||s==="touchend"?document.elementFromPoint(r,o):i}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let i=t.data;const s=`__${this.cid}__`;return e==null?i==null?{}:i[s]||{}:(i==null&&(i=t.data={}),i[s]==null?i[s]=Object.assign({},e):i[s]=Object.assign(Object.assign({},i[s]),e),i[s])}normalizeEvent(t){return re.normalizeEvent(t)}}(function(n){function t(r){return Qe(r)}n.$=t;function e(r,o){return o?Jn(r||"g"):Qd(r||"div")}n.createElement=e;function i(r,o,a){if(!r||r===".")return{elems:[o]};if(a){const l=a[r];if(l)return{elems:Array.isArray(l)?l:[l]}}return{isCSSSelector:!0,elems:t(o).find(r).toArray()}}n.find=i;function s(r){let o=r;const a=r.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const u in r)l[u]===void 0&&(l[u]=r[u]);o=l}const c=o.target;if(c){const u=c.correspondingUseElement;u&&(o.target=u)}return o}n.normalizeEvent=s})(re||(re={}));(function(n){n.views={};function t(e){return n.views[e]||null}n.getView=t})(re||(re={}));var Mf;(function(n){let t=0;function e(){const i=`v${t}`;return t+=1,i}n.uniqueId=e})(Mf||(Mf={}));const j4=n=>n;function Dy(n,t){return t===0?"0%":`${Math.round(n/t*100)}%`}function ky(n){return(e,i,s,r)=>i.isEdgeElement(s)?B4(n,e,i,s,r):z4(n,e,i,s,r)}function z4(n,t,e,i,s){const r=e.cell,o=r.getAngle(),a=e.getUnrotatedBBoxOfElement(i),l=r.getBBox().getCenter(),c=L.create(s).rotate(o,l);let u=c.x-a.x,h=c.y-a.y;return n&&(u=Dy(u,a.width),h=Dy(h,a.height)),t.anchor={name:"topLeft",args:{dx:u,dy:h,rotate:!0}},t}function B4(n,t,e,i,s){const r=e.getConnection();if(!r)return t;const o=r.closestPointLength(s);if(n){const a=r.length();t.anchor={name:"ratio",args:{ratio:o/a}}}else t.anchor={name:"length",args:{length:o}};return t}const H4=ky(!0),V4=ky(!1);var G4=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",noop:j4,pinRelative:H4,pinAbsolute:V4}),Fo;(function(n){n.presets=G4,n.registry=Ye.create({type:"connection strategy"}),n.registry.register(n.presets,!0)})(Fo||(Fo={}));class W4{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new su,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const i=this.view.rotatableNode||this.view.container;e.matrix=$o(t,i)}return Sn(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=Xb(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=En(t)),e.boundingRect.clone()}}var he;(function(n){function t(u){return u!=null&&!e(u)}n.isJSONMarkup=t;function e(u){return u!=null&&typeof u=="string"}n.isStringMarkup=e;function i(u){return u==null||e(u)?u:qe(u)}n.clone=i;function s(u){return`${u}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}n.sanitize=s;function r(u){const h=document.createDocumentFragment(),f={},g={},b=s(u);return xb(b,{raw:!0}).forEach(w=>{h.appendChild(w)}),{fragment:h,selectors:g,groups:f}}n.parseStringMarkup=r;function o(u,h={ns:dn.svg}){const f=document.createDocumentFragment(),g={},b={},y=[{markup:Array.isArray(u)?u:[u],parent:f,ns:h.ns}];for(;y.length>0;){const w=y.pop();let C=w.ns||dn.svg;const E=w.markup,S=w.parent;E.forEach(T=>{const $=T.tagName;if(!$)throw new TypeError("Invalid tagName");T.ns&&(C=T.ns);const p=C===dn.svg,A=C?Qd($,C):Tb($),k=T.attrs;k&&(p?ge(A,tl(k)):Qe(A).attr(k));const F=T.style;F&&Qe(A).css(F);const H=T.className;H!=null&&A.setAttribute("class",Array.isArray(H)?H.join(" "):H),T.textContent&&(A.textContent=T.textContent);const _=T.selector;if(_!=null){if(b[_])throw new TypeError("Selector must be unique");b[_]=A}if(T.groupSelector){let Y=T.groupSelector;Array.isArray(Y)||(Y=[Y]),Y.forEach(nt=>{g[nt]||(g[nt]=[]),g[nt].push(A)})}S.appendChild(A);const I=T.children;Array.isArray(I)&&y.push({ns:C,markup:I,parent:A})})}return Object.keys(g).forEach(w=>{if(b[w])throw new Error("Ambiguous group selector");b[w]=g[w]}),{fragment:f,selectors:b,groups:g}}n.parseJSONMarkup=o;function a(u){return u instanceof SVGElement?Jn("g"):Tb("div")}function l(u){if(e(u)){const b=Et.createVectors(u),y=b.length;if(y===1)return{elem:b[0].node};if(y>1){const w=a(b[0].node);return b.forEach(C=>{w.appendChild(C.node)}),{elem:w}}return{}}const h=o(u),f=h.fragment;let g=null;return f.childNodes.length>1?(g=a(f.firstChild),g.appendChild(f)):g=f.firstChild,{elem:g,selectors:h.selectors}}n.renderMarkup=l;function c(u){const h=Et.createVectors(u),f=document.createDocumentFragment();for(let g=0,b=h.length;g<b;g+=1){const y=h[g].node;f.appendChild(y)}return{fragment:f,selectors:{}}}n.parseLabelStringMarkup=c})(he||(he={}));(function(n){function t(s,r,o){if(s!=null){let a;const l=s.tagName.toLowerCase();if(s===r)return typeof o=="string"?a=`> ${l} > ${o}`:a=`> ${l}`,a;const c=s.parentNode;if(c&&c.childNodes.length>1){const u=tf(s)+1;a=`${l}:nth-child(${u})`}else a=l;return o&&(a+=` > ${o}`),t(s.parentNode,r,a)}return o}n.getSelector=t;function e(s,r,o){if(s.nodeName==="#text")return null;let a=null,l=null,c=null,u=!1;const h={tagName:s.tagName};if(s.attributes){c={};for(let f=0,g=s.attributes.length;f<g;f+=1){const b=s.attributes[f],y=b.nodeName,w=b.nodeValue;y==="selector"?a=w:y==="groupSelector"?l=w:y==="class"?h.attrs={class:w}:c[y]=w}}return a==null&&(u=!0,a=t(s,r)),s.namespaceURI&&(h.ns=s.namespaceURI),h.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(s.tagName)?h.ns=dn.xhtml:o&&(h.ns=o)),a&&(h.selector=a),l!=null&&(h.groupSelector=l),{markup:h,attrs:c,isCSSSelector:u}}function i(s){const r=n.sanitize(s),o=Ob(r,{mimeType:"image/svg+xml"}),a=Array.prototype.slice.call(o.childNodes),l={},c=new WeakMap,u=(f,g,b)=>{const y=e(f,g,b);if(y==null){const w=c.get(f.parentNode);w&&f.textContent&&(w.textContent=f.textContent)}else{const{markup:w,attrs:C,isCSSSelector:E}=y;if(c.set(f,w),w.selector&&C!=null&&(Object.keys(C).length&&(l[w.selector]=C),E&&delete w.selector),f.childNodes&&f.childNodes.length>0)for(let S=0,T=f.childNodes.length;S<T;S+=1){const $=f.childNodes[S],p=u($,g,w.ns);p&&(w.children==null&&(w.children=[]),w.children.push(p))}return w}};return{markup:a.map(f=>u(f,f)).filter(f=>f!=null),attrs:l}}n.xml2json=i})(he||(he={}));(function(n){function t(){return"g"}n.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}n.getPortMarkup=e;function i(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}n.getPortLabelMarkup=i})(he||(he={}));(function(n){function t(){return n.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}n.getEdgeMarkup=t;function e(){return n.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}n.getEdgeToolMarkup=e;function i(){return n.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}n.getEdgeVertexMarkup=i;function s(){return n.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}n.getEdgeArrowheadMarkup=s})(he||(he={}));(function(n){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:dn.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:dn.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}n.getForeignObjectMarkup=t})(he||(he={}));class Nr{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let i,s,r,o,a;const l=[];return Object.keys(e).forEach(c=>{const u=e[c],h=this.getDefinition(c),f=yt(Ki.isValidDefinition,this.view,h,u,{elem:t,attrs:e,cell:this.cell,view:this.view});if(h&&f)typeof h=="string"?(i==null&&(i={}),i[h]=u):u!==null&&l.push({name:c,definition:h});else{i==null&&(i={});const g=Nr.CASE_SENSITIVE_ATTR.includes(c)?c:wb(c);i[g]=u}}),l.forEach(({name:c,definition:u})=>{const h=e[c];typeof u.set=="function"&&(!of(t)&&Nr.DELAY_ATTRS.includes(c)?(a==null&&(a={}),a[c]=h):(s==null&&(s={}),s[c]=h)),typeof u.offset=="function"&&(r==null&&(r={}),r[c]=h),typeof u.position=="function"&&(o==null&&(o={}),o[c]=h)}),{raw:e,normal:i,set:s,offset:r,position:o,delay:a}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const i=t.normal&&t.normal.transform;i!=null&&e.normal&&(e.normal.transform=i),t.normal=e.normal}findAttrs(t,e,i,s){const r=[],o=new su;return Object.keys(t).forEach(a=>{const l=t[a];if(!hi(l))return;const{isCSSSelector:c,elems:u}=re.find(a,e,s);i[a]=u;for(let h=0,f=u.length;h<f;h+=1){const g=u[h],b=s&&s[a]===g,y=o.get(g);if(y){y.array||(r.push(g),y.array=!0,y.attrs=[y.attrs],y.priority=[y.priority]);const w=y.attrs,C=y.priority;if(b)w.unshift(l),C.unshift(-1);else{const E=iD(C,c?-1:f);w.splice(E,0,l),C.splice(E,0,f)}}else o.set(g,{elem:g,attrs:l,priority:b?-1:f,array:!1})}}),r.forEach(a=>{const l=o.get(a),c=l.attrs;l.attrs=c.reduceRight((u,h)=>Fe(u,h),{})}),o}updateRelativeAttrs(t,e,i,s){const r=e.raw||{};let o=e.normal||{};const a=e.set,l=e.position,c=e.offset,u=e.delay,h=()=>({elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:i.clone()});if(a!=null&&Object.keys(a).forEach($=>{const p=a[$],A=this.getDefinition($);if(A!=null){const k=yt(A.set,this.view,p,h());typeof k=="object"?o=Object.assign(Object.assign({},o),k):k!=null&&(o[$]=k)}}),of(t)){this.view.setAttrs(o,t);return}const f=o.transform,g=f?`${f}`:null,b=Qc(g),y=new L(b.e,b.f);f&&(delete o.transform,b.e=0,b.f=0);let w=1,C=1;if(l||c){const $=this.view.getScaleOfElement(t,s.scalableNode);w=$.sx,C=$.sy}let E=!1;l!=null&&Object.keys(l).forEach($=>{const p=l[$],A=this.getDefinition($);if(A!=null){const k=yt(A.position,this.view,p,h());k!=null&&(E=!0,y.translate(L.create(k).scale(w,C)))}}),this.view.setAttrs(o,t);let S=!1;if(c!=null){const $=this.view.getBoundingRectOfElement(t);if($.width>0&&$.height>0){const p=di($,b).scale(1/w,1/C);Object.keys(c).forEach(A=>{const k=c[A],F=this.getDefinition(A);if(F!=null){const H=yt(F.offset,this.view,k,{elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:p});H!=null&&(S=!0,y.translate(L.create(H).scale(w,C)))}})}}(f!=null||E||S)&&(y.round(1),b.e=y.x,b.f=y.y,t.setAttribute("transform",Pr(b)));const T=()=>{u!=null&&Object.keys(u).forEach($=>{const p=u[$],A=this.getDefinition($);if(A!=null){const k=yt(A.set,this.view,p,h());typeof k=="object"?this.view.setAttrs(k,t):k!=null&&this.view.setAttrs({[$]:k},t)}})};s.forceSync?T():vf.scheduleTask(T)}update(t,e,i){const s={},r=this.findAttrs(i.attrs||e,t,s,i.selectors),o=i.attrs?this.findAttrs(e,t,s,i.selectors):r,a=[];r.each(u=>{const h=u.elem,f=u.attrs,g=this.processAttrs(h,f);if(g.set==null&&g.position==null&&g.offset==null&&g.delay==null)this.view.setAttrs(g.normal,h);else{const b=o.get(h),y=b?b.attrs:null,w=y&&f.ref==null?y.ref:f.ref;let C;if(w){if(C=(s[w]||this.view.find(w,t,i.selectors))[0],!C)throw new Error(`"${w}" reference does not exist.`)}else C=null;const E={node:h,refNode:C,attributes:y,processedAttributes:g},S=a.findIndex(T=>T.refNode===h);S>-1?a.splice(S,0,E):a.push(E)}});const l=new su;let c;a.forEach(u=>{const h=u.node,f=u.refNode;let g;const b=f!=null&&i.rotatableNode!=null&&nf(i.rotatableNode,f);if(f&&(g=l.get(f)),!g){const E=b?i.rotatableNode:t;g=f?En(f,{target:E}):i.rootBBox,f&&l.set(f,g)}let y;i.attrs&&u.attributes?(y=this.processAttrs(h,u.attributes),this.mergeProcessedAttrs(y,u.processedAttributes)):y=u.processedAttributes;let w=g;b&&i.rotatableNode!=null&&!i.rotatableNode.contains(h)&&(c||(c=Qc(ge(i.rotatableNode,"transform"))),w=di(g,c)),a.find(E=>E.refNode===h)&&(i.forceSync=!0),this.updateRelativeAttrs(h,y,w,i)})}}(function(n){n.CASE_SENSITIVE_ATTR=["viewBox"],n.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(Nr||(Nr={}));class Ny{constructor(t,e,i=[]){this.view=t;const s={},r={};let o=0;Object.keys(e).forEach(l=>{let c=e[l];Array.isArray(c)||(c=[c]),c.forEach(u=>{let h=s[u];h||(o+=1,h=s[u]=1<<o),r[l]|=h})});let a=i;if(Array.isArray(a)||(a=[a]),a.forEach(l=>{s[l]||(o+=1,s[l]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=r,this.bootstrap=i}get cell(){return this.view.cell}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((i,s)=>i|e[s],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var U4=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class He extends re{constructor(t,e={}){super();this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new Nr(this),this.flag=new Ny(this,this.options.actions,this.options.bootstrap),this.cache=new W4(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(c,u)=>u!=null?fb([...Array.isArray(c)?c:[c],...Array.isArray(u)?u:[u]]):Array.isArray(c)?[...c]:[c],i=qe(this.getDefaults()),{bootstrap:s,actions:r,events:o,documentEvents:a}=t,l=U4(t,["bootstrap","actions","events","documentEvents"]);return s&&(i.bootstrap=e(i.bootstrap,s)),r&&Object.keys(r).forEach(c=>{const u=r[c],h=i.actions[c];u&&h?i.actions[c]=e(h,u):u&&(i.actions[c]=e(u))}),o&&(i.events=Object.assign(Object.assign({},i.events),o)),t.documentEvents&&(i.documentEvents=Object.assign(Object.assign({},i.documentEvents),a)),Fe(i,l)}get[Symbol.toStringTag](){return He.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return re.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const i=this.getContainerStyle();i!=null&&this.setStyle(i,t);const s=this.getContainerClassName();s!=null&&this.addClass(s,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,i,s){if(this.hasAction(t,e)){i();const r=[e];return s&&(typeof s=="string"?r.push(s):r.push(...s)),this.removeAction(t,r)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))}parseJSONMarkup(t,e){const i=he.parseJSONMarkup(t),s=i.selectors,r=this.rootSelector;if(e&&r){if(s[r])throw new Error("Invalid root selector");s[r]=e}return i}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=yt(e,this.graph,this)),typeof e=="object"){let i=e[t];return typeof i=="function"&&(i=yt(i,this.graph,this)),i!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getScaleOfElement(t,e){let i,s;if(e&&e.contains(t)){const r=Rs(e);i=1/r.sx,s=1/r.sy}else i=1,s=1;return{sx:i,sy:s}}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),i=this.getMatrixOfElement(t),s=this.getRootRotatedMatrix(),r=this.getRootTranslatedMatrix();return di(e,r.multiply(s).multiply(i))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),i=this.getMatrixOfElement(t),s=this.getRootTranslatedMatrix();return di(e,s.multiply(i))}getBBox(t={}){let e;if(t.useCellGeometry){const i=this.cell,s=i.isNode()?i.getAngle():0;e=i.getBBox().bbox(s)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return Sn().translate(e.x,e.y)}getRootRotatedMatrix(){let t=Sn();const e=this.cell,i=e.isNode()?e.getAngle():0;if(i){const s=e.getBBox(),r=s.width/2,o=s.height/2;t=t.translate(r,o).rotate(i).translate(-r,-o)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,i={}){i.rootBBox==null&&(i.rootBBox=new ut),i.selectors==null&&(i.selectors=this.selectors),this.attr.update(t,e,i)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const i=t&&this.$(t)[0]||this.container;return e.partial=i===this.container,i}highlight(t,e={}){const i=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:i,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:i,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:i,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const i=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:i,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:i,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:i,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,i,s,r){const o=this.cell,a=this.findAttr("port",t),l=t.getAttribute("data-selector"),c={cell:o.id};return l!=null&&(c.magnet=l),a!=null?(c.port=a,o.isNode()&&!o.hasPort(a)&&l==null&&(c.selector=this.getSelector(t))):l==null&&this.container!==t&&(c.selector=this.getSelector(t)),this.customizeEdgeTerminal(c,t,e,i,s,r)}customizeEdgeTerminal(t,e,i,s,r,o){const a=r.getStrategy()||this.graph.options.connecting.strategy;if(a){const l=typeof a=="string"?a:a.name,c=typeof a=="string"?{}:a.args||{},u=Fo.registry;if(l){const h=u.get(l);if(h==null)return u.onNotFound(l);const f=yt(h,this.graph,t,this,e,new L(i,s),r,o,c);if(f)return f}}return t}getMagnetFromEdgeTerminal(t){const e=this.cell,i=this.container,s=t.port;let r=t.magnet,o;return s!=null&&e.isNode()&&e.hasPort(s)?o=this.findPortElem(s,r)||i:(r||(r=t.selector),!r&&s!=null&&(r=`[port="${s}"]`),o=this.findOne(r,i,this.selectors)),o}animate(t,e){const i=typeof t=="string"?this.findOne(t):t;if(i==null)throw new Error("Invalid animation element.");const s=i.parentNode,r=()=>{s||Yi(i)},o=Et.create(i);s||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{r(),a&&a(l)},o.animate(e)}animateTransform(t,e){const i=typeof t=="string"?this.findOne(t):t;if(i==null)throw new Error("Invalid animation element.");const s=i.parentNode,r=()=>{s||Yi(i)},o=Et.create(i);s||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{r(),a&&a(l)},o.animateTransform(e)}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){const e=gn.isToolsView(t)?t:new gn(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,i){const s=this,r=s.cell;return e==null||i==null?{e:t,view:s,cell:r}:{e:t,x:e,y:i,view:s,cell:r}}onClick(t,e,i){this.notify("cell:click",this.getEventArgs(t,e,i))}onDblClick(t,e,i){this.notify("cell:dblclick",this.getEventArgs(t,e,i))}onContextMenu(t,e,i){this.notify("cell:contextmenu",this.getEventArgs(t,e,i))}onMouseDown(t,e,i){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,i))}onMouseUp(t,e,i){this.notify("cell:mouseup",this.getEventArgs(t,e,i)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,i){this.notify("cell:mousemove",this.getEventArgs(t,e,i))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,i,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,i)))}onCustomEvent(t,e,i,s){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,i,s))),this.notify(e,Object.assign({},this.getEventArgs(t,i,s)))}onMagnetMouseDown(t,e,i,s){}onMagnetDblClick(t,e,i,s){}onMagnetContextMenu(t,e,i,s){}onLabelMouseDown(t,e,i){}checkMouseleave(t){const e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);const i=this.getEventTarget(t,{fromPoint:!0}),s=e.renderer.findViewByElem(i);s!==this&&(this.onMouseLeave(t),!!s&&s.onMouseEnter(t))}}He.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};(function(n){n.Flag=Ny,n.Attr=Nr})(He||(He={}));(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"}n.isCellView=t})(He||(He={}));(function(n){function t(i){return function(s){s.config({priority:i})}}n.priority=t;function e(i){return function(s){s.config({bootstrap:i})}}n.bootstrap=e})(He||(He={}));(function(n){n.registry=Ye.create({type:"view"})})(He||(He={}));class gn extends re{constructor(t={}){super();this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return gn.toStringTag}createContainer(t,e){const i=t?re.createElement("g",!0):re.createElement("div",!1);return fe(i,this.prefixClassName("cell-tools")),e.className&&fe(i,e.className),i}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!He.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(fe(this.svgContainer,this.prefixClassName("edge-tools")),fe(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(fe(this.svgContainer,this.prefixClassName("node-tools")),fe(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const i=[];e.forEach(s=>{gn.ToolItem.isToolItem(s)?s.name==="vertices"?i.unshift(s):i.push(s):(typeof s=="object"?s.name:s)==="vertices"?i.unshift(s):i.push(s)});for(let s=0;s<i.length;s+=1){const r=i[s];let o;if(gn.ToolItem.isToolItem(r))o=r;else{const a=typeof r=="object"?r.name:r,l=typeof r=="object"?r.args||{}:{};if(a){if(this.cell.isNode()){const c=_o.registry.get(a);if(c)o=new c(l);else return _o.registry.onNotFound(a)}else if(this.cell.isEdge()){const c=Ro.registry.get(a);if(c)o=new c(l);else return Ro.registry.onNotFound(a)}}}o&&(o.config(this.cellView,this),o.render(),(o.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(t={}){const e=this.tools;return e&&e.forEach(i=>{t.toolId!==i.cid&&i.isVisible()&&i.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(i=>{t===i?i.show():i.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(i=>{i!==t&&!i.isVisible()&&(i.show(),i.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),Yi(this.svgContainer),Yi(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const i=t.some(r=>r.options.isSVGElement!==!1),s=t.some(r=>r.options.isSVGElement===!1);i&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&s.graph!=null&&s.cell!=null&&typeof s.config=="function"&&typeof s.update=="function"&&typeof s.focus=="function"&&typeof s.blur=="function"&&typeof s.show=="function"&&typeof s.hide=="function"}n.isToolsView=t})(gn||(gn={}));(function(n){class t extends re{constructor(i={}){super();this.options=this.getOptions(i),this.container=re.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),fe(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&fe(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(i){this.defaults=this.getOptions(i)}static getOptions(i){return Fe(qe(this.getDefaults()),i)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}init(){}getOptions(i){return this.constructor.getOptions(i)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(i,s){return this.cellView=i,this.parent=s,this.stamp(this.container),this.cell.isEdge()?fe(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&fe(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const i=this.options.markup;if(i){const s=he.isStringMarkup(i)?he.parseStringMarkup(i):he.parseJSONMarkup(i);this.container.appendChild(s.fragment),this.childNodes=s.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(i=this.container){i&&i.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const i=this.options.focusOpacity;return i!=null&&Number.isFinite(i)&&(this.container.style.opacity=`${i}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(i){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(i,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},n.ToolItem=t,function(e){let i=0;function s(o){return o?Ud(o):(i+=1,`CustomTool${i}`)}function r(o){const a=Gd(s(o.name),this);return a.config(o),a}e.define=r}(t=n.ToolItem||(n.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function i(s){if(s==null)return!1;if(s instanceof e)return!0;const r=s[Symbol.toStringTag],o=s;return(r==null||r===e.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"&&typeof o.isVisible=="function"}e.isToolItem=i}(t=n.ToolItem||(n.ToolItem={}))})(gn||(gn={}));function Ly(n,t,e,i){return yt(Fo.presets.pinRelative,this.graph,{},t,e,n,this.cell,i,{}).anchor}function Fy(n,t){return t?n.cell.getBBox():n.cell.isEdge()?n.getConnection().bbox():n.getUnrotatedBBoxOfElement(n.container)}class Ws extends gn.ToolItem{onRender(){fe(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Do(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:i=0,y:s=0}=e;const{offset:r,useCellGeometry:o,rotate:a}=e;let l=Fy(t,o);const c=t.cell.getAngle();a||(l=l.bbox(c));let u=0,h=0;typeof r=="number"?(u=r,h=r):typeof r=="object"&&(u=r.x,h=r.y),i=Xi(i,l.width),s=Xi(s,l.height);let f=Sn().translate(l.x+l.width/2,l.y+l.height/2);return a&&(f=f.rotate(c)),f=f.translate(i+u-l.width/2,s+h-l.height/2),f}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:i=0,distance:s=0,rotate:r}=e;let o,a,l;Fi(s)?o=t.getTangentAtRatio(parseFloat(s)/100):o=t.getTangentAtLength(s),o?(a=o.start,l=o.vector().vectorAngle(new L(1,0))||0):(a=t.getConnection().start,l=0);let c=Sn().translate(a.x,a.y).rotate(l);return typeof i=="object"?c=c.translate(i.x||0,i.y||0):c=c.translate(0,i),r||(c=c.rotate(-l)),c}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&yt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(n){n.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Ws||(Ws={}));(function(n){n.Remove=n.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})})(Ws||(Ws={}));var q4=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class ru extends gn.ToolItem{onRender(){if(fe(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,i=q4(t,["class"]);ge(this.container,tl(i)),e&&fe(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:i,rotate:s}=e,r=Kn(e.padding);let o=Fy(t,i).moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom});const a=t.cell;if(a.isNode()){const l=a.getAngle();if(l)if(s){const c=a.getBBox().getCenter();bf(this.container,l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return ge(this.container,o.toJSON()),this}}(function(n){n.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(ru||(ru={}));class ll extends gn.ToolItem{constructor(){super(...arguments);this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,i=t.length;e<i;e+=1){const s=t[e],r=this.options.createHandle,o=this.options.processHandle,a=r({index:e,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});o&&o(a),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:a}),a.updatePosition(s.x,s.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const t=this.vertices;for(let e=0,i=t.length;e<i;e+=1){const s=t[e],r=this.handles[e];r&&r.updatePosition(s.x,s.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,i=this.vertices,s=t>0?i[t-1]:e.sourceAnchor,r=t<i.length-1?i[t+1]:e.targetAnchor;return{prev:L.create(s),next:L.create(r)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:i,y:s}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:i,y:s}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:i,x:s,y:r}=this.getMouseEventArgs(t);e.notifyMouseDown(i,s,r)}}onHandleChanging({handle:t,e}){const i=this.cellView,s=t.options.index,{e:r,x:o,y:a}=this.getMouseEventArgs(e),l={x:o,y:a};this.snapVertex(l,s),i.cell.setVertexAt(s,l,{ui:!0,toolId:this.cid}),t.updatePosition(l.x,l.y),this.options.stopPropagation||i.notifyMouseMove(r,o,a)}onHandleChanged({e:t}){const e=this.options,i=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;i.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),i.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&i.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:r,x:o,y:a}=this.getMouseEventArgs(t);this.options.stopPropagation||i.notifyMouseUp(r,o,a),i.checkMouseleave(r),e.onChanged&&e.onChanged({edge:i.cell,edgeView:i})}snapVertex(t,e){const i=this.options.snapRadius||0;if(i>0){const s=this.getNeighborPoints(e),r=s.prev,o=s.next;Math.abs(t.x-r.x)<i?t.x=r.x:Math.abs(t.x-o.x)<i&&(t.x=o.x),Math.abs(t.y-r.y)<i?t.y=s.prev.y:Math.abs(t.y-o.y)<i&&(t.y=o.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const i=t.options.index,s=this.cellView;s.cell.removeVertexAt(i,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const i=this.normalizeEvent(t),s=this.graph.snapToGrid(i.clientX,i.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const r=e.getVertexIndex(s.x,s.y);this.snapVertex(s,r),e.cell.insertVertex(s,r,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[r];this.eventData(i,{vertexAdded:!0}),o.onMouseDown(i)}onRemove(){this.resetHandles()}}(function(n){class t extends re{constructor(i){super();this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=re.createElement("circle",!0);const i=this.options.attrs;if(typeof i=="function"){const s=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(i,s){this.setAttrs({cx:i,cy:s})}onMouseDown(i){this.options.guard(i)||(i.stopPropagation(),i.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data),this.emit("change",{e:i,handle:this}))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(i){this.emit("remove",{e:i,handle:this})}}n.Handle=t})(ll||(ll={}));(function(n){const t=en.prefix("edge-tool-vertex-path");n.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new n.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})})(ll||(ll={}));class cl extends gn.ToolItem{constructor(){super(...arguments);this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){fe(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let i=0,s=e.length;i<s-1;i+=1){const r=e[i],o=e[i+1],a=this.renderHandle(r,o,i);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(t,e,i){const s=this.options.createHandle({index:i,graph:this.graph,guard:r=>this.guard(r),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:s}),this.updateHandle(s,t,e),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let i=0,s=e.length;i<s;i+=1)e[i].options.index+=t}resetAnchor(t,e){const i=this.cellView.cell,s={ui:!0,toolId:this.cid};e?i.prop([t,"anchor"],e,s):i.removeProp([t,"anchor"],s)}snapHandle(t,e,i){const s=t.options.axis,r=t.options.index,l=this.cellView.cell.getVertices(),c=l[r-2]||i.sourceAnchor,u=l[r+1]||i.targetAnchor,h=this.options.snapRadius;return Math.abs(e[s]-c[s])<h?e[s]=c[s]:Math.abs(e[s]-u[s])<h&&(e[s]=u[s]),e}onHandleChanging({handle:t,e}){const i=this.graph,s=this.options,r=this.cellView,o=s.anchor,a=t.options.axis,l=t.options.index-1,c=this.getEventData(e),u=this.normalizeEvent(e),h=i.snapToGrid(u.clientX,u.clientY),f=this.snapHandle(t,h.clone(),c),g=qe(this.vertices);let b=g[l],y=g[l+1];const w=r.sourceView,C=r.sourceBBox;let E=!1,S=!1;if(b?l===0?C.containsPoint(b)?(g.shift(),this.shiftHandleIndexes(-1),E=!0):(b[a]=f[a],S=!0):b[a]=f[a]:(b=r.sourceAnchor.toJSON(),b[a]=f[a],C.containsPoint(b)?E=!0:(g.unshift(b),this.shiftHandleIndexes(1),S=!0)),typeof o=="function"&&w){if(E){const k=c.sourceAnchor.clone();k[a]=f[a];const F=yt(o,r,k,w,r.sourceMagnet||w.container,"source",r,this);this.resetAnchor("source",F)}S&&this.resetAnchor("source",c.sourceAnchorDef)}const T=r.targetView,$=r.targetBBox;let p=!1,A=!1;if(y?l===g.length-2?$.containsPoint(y)?(g.pop(),p=!0):(y[a]=f[a],A=!0):y[a]=f[a]:(y=r.targetAnchor.toJSON(),y[a]=f[a],$.containsPoint(y)?p=!0:(g.push(y),A=!0)),typeof o=="function"&&T){if(p){const k=c.targetAnchor.clone();k[a]=f[a];const F=yt(o,r,k,T,r.targetMagnet||T.container,"target",r,this);this.resetAnchor("target",F)}A&&this.resetAnchor("target",c.targetAnchorDef)}L.equalPoints(g,this.vertices)||this.cellView.cell.setVertices(g,{ui:!0,toolId:this.cid}),this.updateHandle(t,b,y,0),s.stopPropagation||r.notifyMouseMove(u,h.x,h.y)}onHandleChange({handle:t,e}){const i=this.options,s=this.handles,r=this.cellView,o=t.options.index;if(!!Array.isArray(s)){for(let a=0,l=s.length;a<l;a+=1)a!==o&&s[a].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:qe(this.cell.prop(["source","anchor"])),targetAnchorDef:qe(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!i.stopPropagation){const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY);r.notifyMouseDown(a,l.x,l.y)}}}onHandleChanged({e:t}){const e=this.options,i=this.cellView;e.removeRedundancies&&i.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(t),r=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||i.notifyMouseUp(s,r.x,r.y),i.checkMouseleave(s),e.onChanged&&e.onChanged({edge:i.cell,edgeView:i})}updateHandle(t,e,i,s=0){const r=this.options.precision||0,o=Math.abs(e.x-i.x)<r,a=Math.abs(e.y-i.y)<r;if(o||a){const l=new At(e,i);if(l.length()<this.options.threshold)t.hide();else{const u=l.getCenter(),h=o?"x":"y";u[h]+=s||0;const f=l.vector().vectorAngle(new L(1,0));t.updatePosition(u.x,u.y,f,this.cellView),t.show(),t.options.axis=h}}else t.hide()}onRemove(){this.resetHandles()}}(function(n){class t extends re{constructor(i){super();this.options=i,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=re.createElement("rect",!0);const i=this.options.attrs;if(typeof i=="function"){const s=n.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),i(this)))}else this.setAttrs(i);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(i,s,r,o){const a=o.getClosestPoint(new L(i,s))||new L(i,s);let l=Sn().translate(a.x,a.y);if(a.equals({x:i,y:s}))l=l.rotate(r);else{let u=new At(i,s,a.x,a.y).vector().vectorAngle(new L(1,0));u!==0&&(u+=90),l=l.rotate(u)}this.setAttrs({transform:Pr(l),cursor:r%180==0?"row-resize":"col-resize"})}onMouseDown(i){this.options.guard(i)||(this.trigger("change",{e:i,handle:this}),i.stopPropagation(),i.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.data))}onMouseMove(i){this.emit("changing",{e:i,handle:this})}onMouseUp(i){this.emit("changed",{e:i,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}n.Handle=t})(cl||(cl={}));(function(n){n.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new n.Handle(t),anchor:Ly})})(cl||(cl={}));class ou extends gn.ToolItem{get type(){return this.options.type}onRender(){fe(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const i=this.type,s=this.cellView,r=this.options,o=s.getTerminalAnchor(i),a=s.cell.prop([i,"anchor"]);e.setAttribute("transform",`translate(${o.x}, ${o.y})`);const l=a?r.customAnchorAttrs:r.defaultAnchorAttrs;l&&Object.keys(l).forEach(c=>{e.setAttribute(c,l[c])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const i=this.type,s=this.cellView,r=s.getTerminalView(i);if(r){const o=r.cell,a=s.getTerminalMagnet(i);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let c,u,h;r.isEdgeElement(a)?(c=r.getBBox(),u=0,h=c.getCenter()):(c=r.getUnrotatedBBoxOfElement(a),u=o.getAngle(),h=c.getCenter(),u&&h.rotate(-u,o.getBBox().getCenter())),c.inflate(l),ge(e,{x:-c.width/2,y:-c.height/2,width:c.width,height:c.height,transform:`translate(${h.x}, ${h.y}) rotate(${u})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,i=this.cell;t?i.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):i.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,i=this.cellView,s=i.getTerminalView(e);if(s==null)return;const r=this.normalizeEvent(t),o=s.cell,a=i.getTerminalMagnet(e);let l=this.graph.clientToLocal(r.clientX,r.clientY);const c=this.options.snap;if(typeof c=="function"){const f=yt(c,i,l,s,a,e,i,this);l=L.create(f)}if(this.options.restrictArea)if(s.isEdgeElement(a)){const f=s.getClosestPoint(l);f&&(l=f)}else{const f=s.getUnrotatedBBoxOfElement(a),g=o.getAngle(),b=o.getBBox().getCenter(),y=l.clone().rotate(g,b);f.containsPoint(y)||(l=f.getNearestPointToPoint(y).rotate(-g,b))}let u;const h=this.options.anchor;typeof h=="function"&&(u=yt(h,i,l,s,a,e,i,this)),this.resetAnchor(u),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(n){n.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:Ly,snap(t,e,i,s,r,o){const a=o.options.snapRadius||0,l=s==="source",c=l?0:-1,u=this.cell.getVertexAt(c)||this.getTerminalAnchor(l?"target":"source");return u&&(Math.abs(u.x-t.x)<a&&(t.x=u.x),Math.abs(u.y-t.y)<a&&(t.y=u.y)),t}})})(ou||(ou={}));const X4=ou.define({name:"source-anchor",type:"source"}),Y4=ou.define({name:"target-anchor",type:"target"});var K4=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class au extends gn.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,i=K4(t,["class"]);this.setAttrs(i,this.container),e&&fe(this.container,e)}}onRender(){fe(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,i=e.getTangentAtRatio(t),s=i?i.start:e.getPointAtRatio(t),r=i&&i.vector().vectorAngle(new L(1,0))||0;if(!s)return this;const o=Sn().translate(s.x,s.y).rotate(r);return Do(this.container,o,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const i=this.graph.snapToGrid(t.clientX,t.clientY),s=e.prepareArrowheadDragging(this.type,{x:i.x,y:i.y,options:{toolId:this.cid}});this.cellView.setEventData(t,s),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),i=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,i.x,i.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),i=this.cellView,s=this.graph.snapToGrid(e.clientX,e.clientY);i.onMouseUp(e,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",i.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(n){n.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(au||(au={}));const J4=au.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),Z4=au.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class Io extends gn.ToolItem{constructor(){super(...arguments);this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.update(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:t}=this,e=[this.prefixClassName(`${t.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=gn.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}update(){const{graph:t,cell:e,editor:i}=this,s=i.style;let r=new L,o=20;if(e.isNode())r=e.getBBox().center,o=e.size().width-4;else if(e.isEdge()){const h=this.options.event,f=h.target,g=f.parentElement;if(g&&Gc(g,this.prefixClassName("edge-label"))){const y=g.getAttribute("data-index")||"0";this.labelIndex=parseInt(y,10);const w=g.getAttribute("transform"),{translation:C}=tu(w);r=new L(C.tx,C.ty),o=En(f).width}else{r=t.clientToLocal(L.create(h.clientX,h.clientY));const w=this.cellView.path.closestPointLength(r);this.distance=w}}r=t.localToGraph(r),s.left=`${r.x}px`,s.top=`${r.y}px`,s.minWidth=`${o}px`;const a=t.scale();s.transform=`scale(${a.sx}, ${a.sy}) translate(-50%, -50%)`;const l=this.options.attrs;s.fontSize=`${l.fontSize}px`,s.fontFamily=l.fontFamily,s.color=l.color,s.backgroundColor=l.backgroundColor;const c=this.options.getText;let u;return typeof c=="function"&&(u=yt(c,this.cellView,{cell:this.cell,index:this.labelIndex})),i.innerText=u||"",this}onDocumentMouseDown(t){if(t.target!==this.editor){const e=this.cell,i=this.editor.innerText.replace(/\n$/,"")||"",s=this.options.setText;typeof s=="function"&&yt(s,this.cellView,{cell:this.cell,value:i,index:this.labelIndex,distance:this.distance}),e.removeTool(e.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(t){t.stopPropagation()}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}}(function(n){n.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(Io||(Io={}));(function(n){n.NodeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t}){return t.attr("text/text")},setText({cell:t,value:e}){t.attr("text/text",e)}}),n.EdgeEditor=n.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t,index:e}){return e===-1?"":t.prop(`labels/${e}/attrs/label/text`)},setText({cell:t,value:e,index:i,distance:s}){const r=t;i===-1?r.appendLabel({position:{distance:s},attrs:{label:{text:e}}}):r.prop(`labels/${i}/attrs/label/text`,e)}})})(Io||(Io={}));var Iy=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e},_o;(function(n){n.presets={boundary:ru,button:Ws,"button-remove":Ws.Remove,"node-editor":Io.NodeEditor},n.registry=Ye.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let i=gn.ToolItem;const{inherit:s}=e,r=Iy(e,["inherit"]);if(s){const o=this.get(s);o==null?this.onNotFound(s,"inherited"):i=o}return r.name==null&&(r.name=t),i.define.call(i,r)}}),n.registry.register(n.presets,!0)})(_o||(_o={}));var Ro;(function(n){n.presets={boundary:ru,vertices:ll,segments:cl,button:Ws,"button-remove":Ws.Remove,"source-anchor":X4,"target-anchor":Y4,"source-arrowhead":J4,"target-arrowhead":Z4,"edge-editor":Io.EdgeEditor},n.registry=Ye.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let i=gn.ToolItem;const{inherit:s}=e,r=Iy(e,["inherit"]);if(s){const o=this.get(s);o==null?this.onNotFound(s,"inherited"):i=o}return r.name==null&&(r.name=t),i.define.call(i,r)}}),n.registry.register(n.presets,!0)})(Ro||(Ro={}));const Q4=Cs("center"),tN=Cs("topCenter"),eN=Cs("bottomCenter"),nN=Cs("leftMiddle"),iN=Cs("rightMiddle"),sN=Cs("topLeft"),rN=Cs("topRight"),oN=Cs("bottomLeft"),aN=Cs("bottomRight");function Cs(n){return function(t,e,i,s={}){const r=s.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),o=r[n];o.x+=Xi(s.dx,r.width),o.y+=Xi(s.dy,r.height);const a=t.cell;return s.rotate?o.rotate(-a.getAngle(),a.getBBox().getCenter()):o}}function lu(n){return function(t,e,i,s){if(i instanceof Element){const r=this.graph.renderer.findViewByElem(i);let o;if(r)if(r.isEdgeElement(i)){const a=s.fixedAt!=null?s.fixedAt:"50%";o=_y(r,a)}else o=r.getBBoxOfElement(i).getCenter();else o=new L;return n.call(this,t,e,o,s)}return n.apply(this,arguments)}}function _y(n,t){const e=Fi(t),i=typeof t=="string"?parseFloat(t):t;return e?n.getPointAtRatio(i/100):n.getPointAtLength(i)}const lN=function(n,t,e,i){const s=n.cell.getAngle(),r=n.getBBoxOfElement(t),o=r.getCenter(),a=r.getTopLeft(),l=r.getBottomRight();let c=i.padding;if(Number.isFinite(c)||(c=0),a.y+c<=e.y&&e.y<=l.y-c){const u=e.y-o.y;o.x+=s===0||s===180?0:u*1/Math.tan(se.toRad(s)),o.y+=u}else if(a.x+c<=e.x&&e.x<=l.x-c){const u=e.x-o.x;o.y+=s===90||s===270?0:u*Math.tan(se.toRad(s)),o.x+=u}return o},cN=lu(lN),uN=function(n,t,e,i,s){const r=n.cell.getConnectionPoint(this.cell,s);return(i.dx||i.dy)&&r.translate(i.dx||0,i.dy||0),r},hN=function(n,t,e,i){let s,r=0,o;const a=n.cell;i.rotate?(s=n.getUnrotatedBBoxOfElement(t),o=a.getBBox().getCenter(),r=a.getAngle()):s=n.getBBoxOfElement(t);const l=i.padding;l!=null&&Number.isFinite(l)&&s.inflate(l),i.rotate&&e.rotate(r,o);const c=s.getNearestSideToPoint(e);let u;switch(c){case"left":u=s.getLeftMiddle();break;case"right":u=s.getRightMiddle();break;case"top":u=s.getTopCenter();break;case"bottom":u=s.getBottomCenter();break}const h=i.direction;return h==="H"?(c==="top"||c==="bottom")&&(e.x<=s.x+s.width?u=s.getLeftMiddle():u=s.getRightMiddle()):h==="V"&&(e.y<=s.y+s.height?u=s.getTopCenter():u=s.getBottomCenter()),i.rotate?u.rotate(-r,o):u},dN=lu(hN);var fN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",center:Q4,top:tN,bottom:eN,left:nN,right:iN,topLeft:sN,topRight:rN,bottomLeft:oN,bottomRight:aN,orth:cN,nodeCenter:uN,midSide:dN}),jo;(function(n){n.presets=fN,n.registry=Ye.create({type:"node endpoint"}),n.registry.register(n.presets,!0)})(jo||(jo={}));const gN=function(n,t,e,i){let s=i.ratio!=null?i.ratio:.5;return s>1&&(s/=100),n.getPointAtRatio(s)},pN=function(n,t,e,i){const s=i.length!=null?i.length:20;return n.getPointAtLength(s)},Ry=function(n,t,e,i){const s=n.getClosestPoint(e);return s!=null?s:new L},mN=lu(Ry),bN=function(n,t,e,i){const s=1e6,r=n.getConnection(),o=n.getConnectionSubdivisions(),a=new At(e.clone().translate(0,s),e.clone().translate(0,-s)),l=new At(e.clone().translate(s,0),e.clone().translate(-s,0)),c=a.intersect(r,{segmentSubdivisions:o}),u=l.intersect(r,{segmentSubdivisions:o}),h=[];return c&&h.push(...c),u&&h.push(...u),h.length>0?e.closest(h):i.fallbackAt!=null?_y(n,i.fallbackAt):yt(Ry,this,n,t,e,i)},yN=lu(bN);var vN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",closest:mN,ratio:gN,length:pN,orth:yN}),zo;(function(n){n.presets=vN,n.registry=Ye.create({type:"edge endpoint"}),n.registry.register(n.presets,!0)})(zo||(zo={}));function cu(n,t,e){let i;if(typeof e=="object"){if(Number.isFinite(e.y)){const r=new At(t,n),{start:o,end:a}=r.parallel(e.y);t=o,n=a}i=e.x}else i=e;if(i==null||!Number.isFinite(i))return n;const s=n.distance(t);return i===0&&s>0?n:n.move(t,-Math.min(i,s-1))}function uu(n){const t=n.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function CN(n){if(n==null)return null;let t=n;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const jy=function(n,t,e,i){const s=t.getBBoxOfElement(e);i.stroked&&s.inflate(uu(e)/2);const r=n.intersect(s),o=r&&r.length?n.start.closest(r):n.end;return cu(o,n.start,i.offset)},wN=function(n,t,e,i,s){const r=t.cell,o=r.isNode()?r.getAngle():0;if(o===0)return yt(jy,this,n,t,e,i,s);const a=t.getUnrotatedBBoxOfElement(e);i.stroked&&a.inflate(uu(e)/2);const l=a.getCenter(),c=n.clone().rotate(o,l),u=c.setLength(1e6).intersect(a),h=u&&u.length?c.start.closest(u).rotate(-o,l):n.end;return cu(h,n.start,i.offset)},xN=function(n,t,e,i){let s,r;const o=n.end,a=i.selector;if(typeof a=="string"?s=t.findOne(a):Array.isArray(a)?s=Wd(e,a):s=CN(e),!Za(s)){if(s===e||!Za(e))return o;s=e}const l=t.getShapeOfElement(s),c=t.getMatrixOfElement(s),u=t.getRootTranslatedMatrix(),h=t.getRootRotatedMatrix(),f=u.multiply(h).multiply(c),g=f.inverse(),b=M6(n,g),y=b.start.clone(),w=t.getDataOfElement(s);if(i.insideout===!1){w.shapeBBox==null&&(w.shapeBBox=l.bbox());const T=w.shapeBBox;if(T!=null&&T.containsPoint(y))return o}i.extrapolate===!0&&b.setLength(1e6);let C;if(It.isPath(l)){const T=i.precision||2;w.segmentSubdivisions==null&&(w.segmentSubdivisions=l.getSegmentSubdivisions({precision:T})),C={precision:T,segmentSubdivisions:w.segmentSubdivisions},r=b.intersect(l,C)}else r=b.intersect(l);r?Array.isArray(r)&&(r=y.closest(r)):i.sticky===!0&&(ut.isRectangle(l)?r=l.getNearestPointToPoint(y):Ci.isEllipse(l)?r=l.intersectsWithLineFromCenterToPoint(y):r=l.closestPoint(y,C));const E=r?bs(r,f):o;let S=i.offset||0;return i.stroked!==!1&&(typeof S=="object"?(S=Object.assign({},S),S.x==null&&(S.x=0),S.x+=uu(s)/2):S+=uu(s)/2),cu(E,n.start,S)};function SN(n,t,e=0){const{start:i,end:s}=n;let r,o,a,l;switch(t){case"left":l="x",r=s,o=i,a=-1;break;case"right":l="x",r=i,o=s,a=1;break;case"top":l="y",r=s,o=i,a=-1;break;case"bottom":l="y",r=i,o=s,a=1;break;default:return}i[l]<s[l]?r[l]=o[l]:o[l]=r[l],Number.isFinite(e)&&(r[l]+=a*e,o[l]+=a*e)}const EN=function(n,t,e,i){const{alignOffset:s,align:r}=i;return r&&SN(n,r,s),cu(n.end,n.start,i.offset)};var AN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:jy,rect:wN,boundary:xN,anchor:EN}),Bo;(function(n){n.presets=AN,n.registry=Ye.create({type:"connection point"}),n.registry.register(n.presets,!0)})(Bo||(Bo={}));const MN=function(n){return[...n]},TN=function(n,t,e){const i=t.side||"bottom",s=Kn(t.padding||40),r=e.sourceBBox,o=e.targetBBox,a=r.getCenter(),l=o.getCenter();let c,u,h;switch(i){case"top":h=-1,c="y",u="height";break;case"left":h=-1,c="x",u="width";break;case"right":h=1,c="x",u="width";break;case"bottom":default:h=1,c="y",u="height";break}return a[c]+=h*(r[u]/2+s[i]),l[c]+=h*(o[u]/2+s[i]),h*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a.toJSON(),...n,l.toJSON()]};function hu(n){return new ut(n.x,n.y,0,0)}function du(n={}){const t=Kn(n.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function zy(n,t={}){return n.sourceBBox.clone().moveAndExpand(du(t))}function By(n,t={}){return n.targetBBox.clone().moveAndExpand(du(t))}function ON(n,t={}){return n.sourceAnchor?n.sourceAnchor:zy(n,t).getCenter()}function PN(n,t={}){return n.targetAnchor?n.targetAnchor:By(n,t).getCenter()}const Hy=function(n,t,e){let i=zy(e,t),s=By(e,t);const r=ON(e,t),o=PN(e,t);i=i.union(hu(r)),s=s.union(hu(o));const a=n.map(u=>L.create(u));a.unshift(r),a.push(o);let l=null;const c=[];for(let u=0,h=a.length-1;u<h;u+=1){let f=null;const g=a[u],b=a[u+1],y=xi.getBearing(g,b)!=null;if(u===0)u+1===h?i.intersectsWithRect(s.clone().inflate(1))?f=xi.insideNode(g,b,i,s):y||(f=xi.nodeToNode(g,b,i,s)):i.containsPoint(b)?f=xi.insideNode(g,b,i,hu(b).moveAndExpand(du(t))):y||(f=xi.nodeToVertex(g,b,i));else if(u+1===h){const w=y&&xi.getBearing(b,g)===l;s.containsPoint(g)||w?f=xi.insideNode(g,b,hu(g).moveAndExpand(du(t)),s,l):y||(f=xi.vertexToNode(g,b,s,l))}else y||(f=xi.vertexToVertex(g,b,l));f?(c.push(...f.points),l=f.direction):l=xi.getBearing(g,b),u+1<h&&c.push(b)}return c};var xi;(function(n){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function i(h,f,g){let b=new L(h.x,f.y);return g.containsPoint(b)&&(b=new L(f.x,h.y)),b}function s(h,f){return h[f==="W"||f==="E"?"width":"height"]}n.getBBoxSize=s;function r(h,f){return h.x===f.x?h.y>f.y?"N":"S":h.y===f.y?h.x>f.x?"W":"E":null}n.getBearing=r;function o(h,f,g){const b=new L(h.x,f.y),y=new L(f.x,h.y),w=r(h,b),C=r(h,y),E=g?t[g]:null,S=w===g||w!==E&&(C===E||C!==g)?b:y;return{points:[S],direction:r(S,f)}}n.vertexToVertex=o;function a(h,f,g){const b=i(h,f,g);return{points:[b],direction:r(b,f)}}n.nodeToVertex=a;function l(h,f,g,b){const y=[new L(h.x,f.y),new L(f.x,h.y)],w=y.filter(S=>!g.containsPoint(S)),C=w.filter(S=>r(S,h)!==b);let E;if(C.length>0)return E=C.filter(S=>r(h,S)===b).pop(),E=E||C[0],{points:[E],direction:r(E,f)};{E=y$(y,w)[0];const S=L.create(f).move(E,-s(g,b)/2);return{points:[i(S,h,g),S],direction:r(S,f)}}}n.vertexToNode=l;function c(h,f,g,b){let y=a(f,h,b);const w=y.points[0];if(g.containsPoint(w)){y=a(h,f,g);const C=y.points[0];if(b.containsPoint(C)){const E=L.create(h).move(C,-s(g,r(h,C))/2),S=L.create(f).move(w,-s(b,r(f,w))/2),T=new At(E,S).getCenter(),$=a(h,T,g),p=o(T,f,$.direction);y.points=[$.points[0],p.points[0]],y.direction=p.direction}}return y}n.nodeToNode=c;function u(h,f,g,b,y){const w=g.union(b).inflate(1),C=w.getCenter(),E=C.distance(f)>C.distance(h),S=E?f:h,T=E?h:f;let $,p,A;y?($=L.fromPolar(w.width+w.height,e[y],S),$=w.getNearestPointToPoint($).move($,-1)):$=w.getNearestPointToPoint(S).move(S,1),p=i($,T,w);let k;$.round().equals(p.round())?(p=L.fromPolar(w.width+w.height,se.toRad($.theta(S))+Math.PI/2,T),p=w.getNearestPointToPoint(p).move(T,1).round(),A=i($,p,w),k=E?[p,A,$]:[$,A,p]):k=E?[p,$]:[$,p];const F=r(E?$:p,f);return{points:k,direction:F}}n.insideNode=u})(xi||(xi={}));const $N={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Us(this.step,this)},directions(){const n=Us(this.step,this),t=Us(this.cost,this);return[{cost:t,offsetX:n,offsetY:0},{cost:t,offsetX:0,offsetY:n},{cost:t,offsetX:-n,offsetY:0},{cost:t,offsetX:0,offsetY:-n}]},penalties(){const n=Us(this.step,this);return{0:0,45:n/2,90:n/2}},paddingBox(){const n=Us(this.step,this);return{x:-n,y:-n,width:2*n,height:2*n}},fallbackRouter:Hy,draggingRouter:null};function Us(n,t){return typeof n=="function"?n.call(t):n}function DN(n){const t=Object.keys(n).reduce((e,i)=>{const s=e;return i==="fallbackRouter"||i==="draggingRouter"||i==="fallbackRoute"?s[i]=n[i]:s[i]=Us(n[i],n),e},{});if(t.padding){const e=Kn(t.padding);n.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const i=new L(0,0),s=new L(e.offsetX,e.offsetY);e.angle=se.normalize(i.theta(s))}),t}const Vy=1,Gy=2;class kN{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=Vy,this.values[t]=e;const i=sD(this.items,t,s=>this.values[s]);this.items.splice(i,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=Gy),t}isOpen(t){return this.hash[t]===Vy}isClose(t){return this.hash[t]===Gy}isEmpty(){return this.items.length===0}}class NN{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const i=this.options,s=i.excludeTerminals.reduce((c,u)=>{const h=e[u];if(h){const f=t.getCell(h.cell);f&&c.push(f)}return c},[]);let r=[];const o=t.getCell(e.getSourceCellId());o&&(r=db(r,o.getAncestors().map(c=>c.id)));const a=t.getCell(e.getTargetCellId());a&&(r=db(r,a.getAncestors().map(c=>c.id)));const l=this.mapGridSize;return t.getNodes().reduce((c,u)=>{const h=u.shape,f=i.excludeShapes,g=h?f.includes(h):!1,b=s.some(E=>E.id===u.id),y=r.includes(u.id),w=i.excludeHiddenNodes&&!u.isVisible();if(!(g||b||y||w)){const E=u.getBBox().moveAndExpand(i.paddingBox),S=E.getOrigin().snapToGrid(l),T=E.getCorner().snapToGrid(l);for(let $=S.x;$<=T.x;$+=l)for(let p=S.y;p<=T.y;p+=l){const A=new L($,p).toString();c[A]==null&&(c[A]=[]),c[A].push(E)}}return c},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),i=this.map[e];return i?i.every(s=>!s.containsPoint(t)):!0}}function Wy(n,t){const e=n.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function Uy(n,t){const e=n.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function qy(n,t){return n.sourceAnchor?n.sourceAnchor:Wy(n,t).getCenter()}function LN(n,t){return n.targetAnchor?n.targetAnchor:Uy(n,t).getCenter()}function Tf(n,t,e,i,s){const r=360/e,o=n.theta(FN(n,t,i,s)),a=se.normalize(o+r/2);return r*Math.floor(a/r)}function FN(n,t,e,i){const s=i.step,r=t.x-n.x,o=t.y-n.y,a=r/e.x,l=o/e.y,c=a*s,u=l*s;return new L(n.x+c,n.y+u)}function Xy(n,t){const e=Math.abs(n-t);return e>180?360-e:e}function IN(n,t){const e=t.step;return t.directions.forEach(i=>{i.gridOffsetX=i.offsetX/e*n.x,i.gridOffsetY=i.offsetY/e*n.y}),t.directions}function _N(n,t,e){return{source:t.clone(),x:Yy(e.x-t.x,n),y:Yy(e.y-t.y,n)}}function Yy(n,t){if(!n)return t;const e=Math.abs(n),i=Math.round(e/t);if(!i)return e;const s=i*t,o=(e-s)/i;return t+o}function RN(n,t){const e=t.source,i=en.snapToGrid(n.x-e.x,t.x)+e.x,s=en.snapToGrid(n.y-e.y,t.y)+e.y;return new L(i,s)}function ul(n,t){return n.round(t)}function fu(n,t,e){return ul(RN(n.clone(),t),e)}function hl(n){return n.toString()}function Of(n){return new L(n.x===0?0:Math.abs(n.x)/n.x,n.y===0?0:Math.abs(n.y)/n.y)}function Ky(n,t){let e=1/0;for(let i=0,s=t.length;i<s;i+=1){const r=n.manhattanDistance(t[i]);r<e&&(e=r)}return e}function Jy(n,t,e,i,s){const r=s.precision,o=s.directionMap,a=n.diff(t.getCenter()),l=Object.keys(o).reduce((c,u)=>{if(e.includes(u)){const h=o[u],f=new L(n.x+h.x*(Math.abs(a.x)+t.width),n.y+h.y*(Math.abs(a.y)+t.height)),b=new At(n,f).intersect(t)||[];let y,w=null;for(let C=0;C<b.length;C+=1){const E=b[C],S=n.squaredDistance(E);(y==null||S>y)&&(y=S,w=E)}if(w){let C=fu(w,i,r);t.containsPoint(C)&&(C=fu(C.translate(h.x*i.x,h.y*i.y),i,r)),c.push(C)}}return c},[]);return t.containsPoint(n)||l.push(fu(n,i,r)),l}function jN(n,t,e,i,s){const r=[];let o=Of(s.diff(e)),a=hl(e),l=n[a],c;for(;l;){c=t[a];const f=Of(c.diff(l));f.equals(o)||(r.unshift(c),o=f),a=hl(l),l=n[a]}const u=t[a];return Of(u.diff(i)).equals(o)||r.unshift(u),r}function zN(n,t,e,i,s){const r=s.precision;let o,a;ut.isRectangle(t)?o=ul(qy(n,s).clone(),r):o=ul(t.clone(),r),ut.isRectangle(e)?a=ul(LN(n,s).clone(),r):a=ul(e.clone(),r);const l=_N(s.step,o,a),c=o,u=a;let h,f;if(ut.isRectangle(t)?h=Jy(c,t,s.startDirections,l,s):h=[c],ut.isRectangle(e)?f=Jy(a,e,s.endDirections,l,s):f=[u],h=h.filter(g=>i.isAccessible(g)),f=f.filter(g=>i.isAccessible(g)),h.length>0&&f.length>0){const g=new kN,b={},y={},w={};for(let H=0,_=h.length;H<_;H+=1){const I=h[H],Y=hl(I);g.add(Y,Ky(I,f)),b[Y]=I,w[Y]=0}const C=s.previousDirectionAngle,E=C===void 0;let S,T;const $=IN(l,s),p=$.length,A=f.reduce((H,_)=>{const I=hl(_);return H.push(I),H},[]),k=L.equalPoints(h,f);let F=s.maxLoopCount;for(;!g.isEmpty()&&F>0;){const H=g.pop(),_=b[H],I=y[H],Y=w[H],nt=_.equals(c),G=I==null;let q;if(G?E?nt?q=null:q=Tf(c,_,p,l,s):q=C:q=Tf(I,_,p,l,s),!(G&&k)&&A.indexOf(H)>=0)return s.previousDirectionAngle=q,jN(y,b,_,c,u);for(let st=0;st<p;st+=1){S=$[st];const Tt=S.angle;if(T=Xy(q,Tt),!(E&&nt)&&T>s.maxDirectionChange)continue;const Ut=fu(_.clone().translate(S.gridOffsetX||0,S.gridOffsetY||0),l,r),ht=hl(Ut);if(g.isClose(ht)||!i.isAccessible(Ut))continue;if(A.indexOf(ht)>=0&&!Ut.equals(u)){const ie=Tf(Ut,u,p,l,s);if(Xy(Tt,ie)>s.maxDirectionChange)continue}const Nt=S.cost,Ft=nt?0:s.penalties[T],Ot=Y+Nt+Ft;(!g.isOpen(ht)||Ot<w[ht])&&(b[ht]=Ut,y[ht]=_,w[ht]=Ot,g.add(ht,Ot+Ky(Ut,f)))}F-=1}}return s.fallbackRoute?yt(s.fallbackRoute,this,c,u,s):null}const BN=function(n,t,e){const i=DN(t),s=Wy(e,i),r=Uy(e,i),o=qy(e,i),a=new NN(i).build(e.graph.model,e.cell),l=n.map(g=>L.create(g)),c=[];let u=o,h,f;for(let g=0,b=l.length;g<=b;g+=1){let y=null;if(h=f||s,f=l[g],f==null){f=r;const C=e.cell;if((C.getSourceCellId()==null||C.getTargetCellId()==null)&&typeof i.draggingRouter=="function"){const S=h===s?o:h,T=f.getOrigin();y=yt(i.draggingRouter,e,S,T,i)}}if(y==null&&(y=zN(e,h,f,a,i)),y===null)return yt(i.fallbackRouter,this,n,i,e);const w=y[0];w&&w.equals(u)&&y.shift(),u=y[y.length-1]||u,c.push(...y)}return c},Zy=function(n,t,e){return yt(BN,this,n,Object.assign(Object.assign({},$N),t),e)},HN={maxDirectionChange:45,directions(){const n=Us(this.step,this),t=Us(this.cost,this),e=Math.ceil(Math.sqrt(n*n<<1));return[{cost:t,offsetX:n,offsetY:0},{cost:e,offsetX:n,offsetY:n},{cost:t,offsetX:0,offsetY:n},{cost:e,offsetX:-n,offsetY:n},{cost:t,offsetX:-n,offsetY:0},{cost:e,offsetX:-n,offsetY:-n},{cost:t,offsetX:0,offsetY:-n},{cost:e,offsetX:n,offsetY:-n}]},fallbackRoute(n,t,e){const i=n.theta(t),s=[];let r={x:t.x,y:n.y},o={x:n.x,y:t.y};if(i%180>90){const S=r;r=o,o=S}const a=i%90<45?r:o,l=new At(n,a),c=90*Math.ceil(i/90),u=L.fromPolar(l.squaredLength(),se.toRad(c+135),a),h=new At(t,u),f=l.intersectsWithLine(h),g=f||t,b=f?g:n,y=360/e.directions.length,w=b.theta(t),C=se.normalize(w+y/2),E=y*Math.floor(C/y);return e.previousDirectionAngle=E,g&&s.push(g.round()),s.push(t),s}},VN=function(n,t,e){return yt(Zy,this,n,Object.assign(Object.assign({},HN),t),e)},GN=function(n,t,e){const i=t.offset||32,s=t.min==null?16:t.min;let r=0,o=t.direction;const a=e.sourceBBox,l=e.targetBBox,c=a.getCenter(),u=l.getCenter();if(typeof i=="number"&&(r=i),o==null){let C=l.left-a.right,E=l.top-a.bottom;C>=0&&E>=0?o=C>=E?"L":"T":C<=0&&E>=0?(C=a.left-l.right,C>=0?o=C>=E?"R":"T":o="T"):C>=0&&E<=0?(E=a.top-l.bottom,E>=0?o=C>=E?"L":"B":o="L"):(C=a.left-l.right,E=a.top-l.bottom,C>=0&&E>=0?o=C>=E?"R":"B":C<=0&&E>=0?o="B":C>=0&&E<=0?o="R":o=Math.abs(C)>Math.abs(E)?"R":"B")}o==="H"?o=u.x-c.x>=0?"L":"R":o==="V"&&(o=u.y-c.y>=0?"T":"B"),i==="center"&&(o==="L"?r=(l.left-a.right)/2:o==="R"?r=(a.left-l.right)/2:o==="T"?r=(l.top-a.bottom)/2:o==="B"&&(r=(a.top-l.bottom)/2));let h,f,g;const b=o==="L"||o==="R";if(b){if(u.y===c.y)return[...n];g=o==="L"?1:-1,h="x",f="width"}else{if(u.x===c.x)return[...n];g=o==="T"?1:-1,h="y",f="height"}const y=c.clone(),w=u.clone();if(y[h]+=g*(a[f]/2+r),w[h]-=g*(l[f]/2+r),b){const C=y.x,E=w.x,S=a.width/2+s,T=l.width/2+s;u.x>c.x?E<=C&&(y.x=Math.max(E,c.x+S),w.x=Math.min(C,u.x-T)):E>=C&&(y.x=Math.min(E,c.x-S),w.x=Math.max(C,u.x+T))}else{const C=y.y,E=w.y,S=a.height/2+s,T=l.height/2+s;u.y>c.y?E<=C&&(y.y=Math.max(E,c.y+S),w.y=Math.min(C,u.y-T)):E>=C&&(y.y=Math.min(E,c.y-S),w.y=Math.max(C,u.y+T))}return[y.toJSON(),...n,w.toJSON()]};function Ho(n,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const i=L.create(n[1]).move(n[2],e),s=L.create(n[1]).move(n[0],e);return[i.toJSON(),...n,s.toJSON()]}{const i=n[1];return[Object.assign({},i),...n,Object.assign({},i)]}}return n}const WN=function(n,t,e){const i=t.width||50,r=(t.height||80)/2,o=t.angle||"auto",a=e.sourceAnchor,l=e.targetAnchor,c=e.sourceBBox,u=e.targetBBox;if(a.equals(l)){const h=C=>{const E=se.toRad(C),S=Math.sin(E),T=Math.cos(E),$=new L(a.x+T*i,a.y+S*i),p=new L($.x-T*r,$.y-S*r),A=p.clone().rotate(-90,$),k=p.clone().rotate(90,$);return[A.toJSON(),$.toJSON(),k.toJSON()]},f=C=>{const E=a.clone().move(C,-1),S=new At(E,C);return!c.containsPoint(C)&&!c.intersectsWithLine(S)},g=[0,90,180,270,45,135,225,315];if(typeof o=="number")return Ho(h(o),t.merge);const b=c.getCenter();if(b.equals(a))return Ho(h(0),t.merge);const y=b.angleBetween(a,b.clone().translate(1,0));let w=h(y);if(f(w[1]))return Ho(w,t.merge);for(let C=1,E=g.length;C<E;C+=1)if(w=h(y+g[C]),f(w[1]))return Ho(w,t.merge);return Ho(w,t.merge)}{const h=new At(a,l);let f=h.parallel(-i),g=f.getCenter(),b=f.start.clone().move(f.end,r),y=f.end.clone().move(f.start,r);const w=h.parallel(-1),C=new At(w.start,g),E=new At(w.end,g);if((c.containsPoint(g)||u.containsPoint(g)||c.intersectsWithLine(C)||c.intersectsWithLine(E)||u.intersectsWithLine(C)||u.intersectsWithLine(E))&&(f=h.parallel(i),g=f.getCenter(),b=f.start.clone().move(f.end,r),y=f.end.clone().move(f.start,r)),t.merge){const S=new At(a,l),T=new At(g,S.center).setLength(Number.MAX_SAFE_INTEGER),$=c.intersectsWithLine(T),p=u.intersectsWithLine(T),A=$?Array.isArray($)?$:[$]:[];p&&(Array.isArray(p)?A.push(...p):A.push(p));const k=S.center.closest(A);k?(e.sourceAnchor=k.clone(),e.targetAnchor=k.clone()):(e.sourceAnchor=S.center.clone(),e.targetAnchor=S.center.clone())}return Ho([b.toJSON(),g.toJSON(),y.toJSON()],t.merge)}};var UN=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",normal:MN,oneSide:TN,orth:Hy,metro:VN,manhattan:Zy,er:GN,loop:WN}),qs;(function(n){n.presets=UN,n.registry=Ye.create({type:"router"}),n.registry.register(n.presets,!0)})(qs||(qs={}));const qN=function(n,t,e,i={}){const s=[n,...e,t],r=new fn(s),o=new It(r);return i.raw?o:o.serialize()},XN=function(n,t,e,i={}){const s=e.length===3?0:1,r=L.create(e[0+s]),o=L.create(e[2+s]),a=L.create(e[1+s]);if(!L.equals(n,t)){const c=new L((n.x+t.x)/2,(n.y+t.y)/2),u=c.angleBetween(L.create(n).rotate(90,c),a);u>1&&(r.rotate(180-u,c),o.rotate(180-u,c),a.rotate(180-u,c))}const l=`
     M ${n.x} ${n.y}
     Q ${r.x} ${r.y} ${a.x} ${a.y}
     Q ${o.x} ${o.y} ${t.x} ${t.y}
  `;return i.raw?It.parse(l):l},YN=function(n,t,e,i={}){const s=new It;s.appendSegment(It.createSegment("M",n));const r=1/3,o=2/3,a=i.radius||10;let l,c;for(let u=0,h=e.length;u<h;u+=1){const f=L.create(e[u]),g=e[u-1]||n,b=e[u+1]||t;l=c||f.distance(g)/2,c=f.distance(b)/2;const y=-Math.min(a,l),w=-Math.min(a,c),C=f.clone().move(g,y).round(),E=f.clone().move(b,w).round(),S=new L(r*C.x+o*f.x,o*f.y+r*C.y),T=new L(r*E.x+o*f.x,o*f.y+r*E.y);s.appendSegment(It.createSegment("L",C)),s.appendSegment(It.createSegment("C",S,T,E))}return s.appendSegment(It.createSegment("L",t)),i.raw?s:s.serialize()},KN=function(n,t,e,i={}){let s,r=i.direction;if(e&&e.length!==0){const o=[n,...e,t],a=Xe.throughPoints(o);s=new It(a)}else if(s=new It,s.appendSegment(It.createSegment("M",n)),r||(r=Math.abs(n.x-t.x)>=Math.abs(n.y-t.y)?"H":"V"),r==="H"){const o=(n.x+t.x)/2;s.appendSegment(It.createSegment("C",o,n.y,o,t.y,t.x,t.y))}else{const o=(n.y+t.y)/2;s.appendSegment(It.createSegment("C",n.x,o,t.x,o,t.x,t.y))}return i.raw?s:s.serialize()},Qy=1,gu=1/3,pu=2/3;function JN(n){let t=n.graph._jumpOverUpdateList;if(t==null&&(t=n.graph._jumpOverUpdateList=[],n.graph.on("cell:mouseup",()=>{const e=n.graph._jumpOverUpdateList;for(let i=0;i<e.length;i+=1)e[i].update()}),n.graph.on("model:reseted",()=>{t=n.graph._jumpOverUpdateList=[]})),t.indexOf(n)<0){t.push(n);const e=()=>t.splice(t.indexOf(n),1);n.cell.once("change:connector",e),n.cell.once("removed",e)}}function Pf(n,t,e=[]){const i=[n,...e,t],s=[];return i.forEach((r,o)=>{const a=i[o+1];a!=null&&s.push(new At(r,a))}),s}function ZN(n,t){const e=[];return t.forEach(i=>{const s=n.intersectsWithLine(i);s&&e.push(s)}),e}function tv(n,t){return new At(n,t).squaredLength()}function QN(n,t,e){return t.reduce((i,s,r)=>{if(mu.includes(s))return i;const o=i.pop()||n,a=L.create(s).move(o.start,-e);let l=L.create(s).move(o.start,+e);const c=t[r+1];if(c!=null){const f=l.distance(c);f<=e&&(l=c.move(o.start,f),mu.push(c))}else if(a.distance(o.end)<e*2+Qy)return i.push(o),i;if(l.distance(o.start)<e*2+Qy)return i.push(o),i;const h=new At(a,l);return dl.push(h),i.push(new At(o.start,a),h,new At(l,o.end)),i},[])}function ev(n,t,e,i){const s=new It;let r;return r=It.createSegment("M",n[0].start),s.appendSegment(r),n.forEach((o,a)=>{if(dl.includes(o)){let l,c,u,h;if(e==="arc"){l=-90,c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(l+=180);const g=o.getCenter(),b=new At(g,o.end).rotate(l,g);let y;y=new At(o.start,g),u=y.pointAt(2/3).rotate(l,o.start),h=b.pointAt(1/3).rotate(-l,b.end),r=It.createSegment("C",u,h,b.end),s.appendSegment(r),y=new At(g,o.end),u=b.pointAt(1/3).rotate(l,b.end),h=y.pointAt(1/3).rotate(-l,o.end),r=It.createSegment("C",u,h,o.end),s.appendSegment(r)}else if(e==="gap")r=It.createSegment("M",o.end),s.appendSegment(r);else if(e==="cubic"){l=o.start.theta(o.end);const f=t*.6;let g=t*1.35;c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(g*=-1),u=new L(o.start.x+f,o.start.y+g).rotate(l,o.start),h=new L(o.end.x-f,o.end.y+g).rotate(l,o.end),r=It.createSegment("C",u,h,o.end),s.appendSegment(r)}}else{const l=n[a+1];i===0||!l||dl.includes(l)?(r=It.createSegment("L",o.end),s.appendSegment(r)):t5(i,s,o.end,o.start,l.end)}}),s}function t5(n,t,e,i,s){const r=e.distance(i)/2,o=e.distance(s)/2,a=-Math.min(n,r),l=-Math.min(n,o),c=e.clone().move(i,a).round(),u=e.clone().move(s,l).round(),h=new L(gu*c.x+pu*e.x,pu*e.y+gu*c.y),f=new L(gu*u.x+pu*e.x,pu*e.y+gu*u.y);let g;g=It.createSegment("L",c),t.appendSegment(g),g=It.createSegment("C",h,f,u),t.appendSegment(g)}let dl,mu;const e5=function(n,t,e,i={}){dl=[],mu=[],JN(this);const s=i.size||5,r=i.type||"arc",o=i.radius||0,a=i.ignoreConnectors||["smooth"],l=this.graph,u=l.model.getEdges();if(u.length===1)return ev(Pf(n,t,e),s,r,o);const h=this.cell,f=u.indexOf(h),g=l.options.connecting.connector||{},b=u.filter((T,$)=>{const p=T.getConnector()||g;return a.includes(p.name)?!1:$>f?p.name!=="jumpover":!0}),y=b.map(T=>l.renderer.findViewByCell(T)),w=Pf(n,t,e),C=y.map(T=>T==null?[]:T===this?w:Pf(T.sourcePoint,T.targetPoint,T.routePoints)),E=[];w.forEach(T=>{const $=b.reduce((p,A,k)=>{if(A!==h){const F=ZN(T,C[k]);p.push(...F)}return p},[]).sort((p,A)=>tv(T.start,p)-tv(T.start,A));$.length>0?E.push(...QN(T,$,s)):E.push(T)});const S=ev(E,s,r,o);return dl=[],mu=[],i.raw?S:S.serialize()};var n5=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",normal:qN,loop:XN,rounded:YN,smooth:KN,jumpover:e5}),Lr;(function(n){n.presets=n5,n.registry=Ye.create({type:"connector"}),n.registry.register(n.presets,!0)})(Lr||(Lr={}));Ye.create;class fl{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,i={},s="/"){const r=this.cell.getPropByPath(t),o=r$(i,fl.defaultOptions),a=this.getTiming(o.timing),l=this.getInterp(o.interp,r,e);let c=0;const u=Array.isArray(t)?t.join(s):t,h=Array.isArray(t)?t:t.split(s),f=()=>{const g=new Date().getTime();c===0&&(c=g);let y=(g-c)/o.duration;y<1?this.ids[u]=hf(f):y=1;const w=l(a(y));this.cell.setPropByPath(h,w),i.progress&&i.progress(Object.assign({progress:y,currentValue:w},this.getArgs(u))),y===1&&(this.cell.notify("transition:end",this.getArgs(u)),this.cell.notify("transition:complete",this.getArgs(u)),i.complete&&i.complete(this.getArgs(u)),this.cell.notify("transition:finish",this.getArgs(u)),i.finish&&i.finish(this.getArgs(u)),this.clean(u))};return setTimeout(()=>{this.stop(t,void 0,s),this.cache[u]={startValue:r,targetValue:e,options:o},this.ids[u]=hf(f),this.cell.notify("transition:begin",this.getArgs(u)),this.cell.notify("transition:start",this.getArgs(u)),i.start&&i.start(this.getArgs(u))},i.delay),this.stop.bind(this,t,s,i)}stop(t,e={},i="/"){const s=Array.isArray(t)?t:t.split(i);return Object.keys(this.ids).filter(r=>qi(s,r.split(i).slice(0,s.length))).forEach(r=>{df(this.ids[r]);const o=this.cache[r],a=this.getArgs(r),l=Object.assign(Object.assign({},o.options),e),c=l.jumpedToEnd;c&&o.targetValue!=null&&(this.cell.setPropByPath(r,o.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),l.complete&&l.complete(Object.assign({},a)));const u=Object.assign({jumpedToEnd:c},a);this.cell.notify("transition:stop",Object.assign({},u)),l.stop&&l.stop(Object.assign({},u)),this.cell.notify("transition:finish",Object.assign({},a)),l.finish&&l.finish(Object.assign({},a)),this.clean(r)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?Dr[t]:t}getInterp(t,e,i){return t?t(e,i):typeof i=="number"?kr.number(e,i):typeof i=="string"?i[0]==="#"?kr.color(e,i):kr.unit(e,i):kr.object(e,i)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(n){n.defaultOptions={delay:10,duration:100,timing:"linear"}})(fl||(fl={}));var i5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class nv extends $n{constructor(t={}){super();this.pending=!1,this.changing=!1,this.data={},this.mutate(qe(t)),this.changed={}}mutate(t,e={}){const i=e.unset===!0,s=e.silent===!0,r=[],o=this.changing;this.changing=!0,o||(this.previous=qe(this.data),this.changed={});const a=this.data,l=this.previous,c=this.changed;if(Object.keys(t).forEach(u=>{const h=u,f=t[h];qi(a[h],f)||r.push(h),qi(l[h],f)?delete c[h]:c[h]=f,i?delete a[h]:a[h]=f}),!s&&r.length>0&&(this.pending=!0,this.pendingOptions=e,r.forEach(u=>{this.emit("change:*",{key:u,options:e,store:this,current:a[u],previous:l[u]})})),o)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const i=this.data[t];return i==null?e:i}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,i){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},i)),this}remove(t,e){const i=void 0,s={};let r;if(typeof t=="string")s[t]=i,r=e;else if(Array.isArray(t))t.forEach(o=>s[o]=i),r=e;else{for(const o in this.data)s[o]=i;r=t}return this.mutate(s,Object.assign(Object.assign({},r),{unset:!0})),this}getByPath(t){return Wd(this.data,t,"/")}setByPath(t,e,i={}){const s="/",r=Array.isArray(t)?[...t]:t.split(s),o=Array.isArray(t)?t.join(s):t,a=r[0],l=r.length;if(i.propertyPath=o,i.propertyValue=e,i.propertyPathArray=r,l===1)this.set(a,e,i);else{const c={};let u=c,h=a;for(let b=1;b<l;b+=1){const y=r[b],w=Number.isFinite(Number(y));u=u[h]=w?[]:{},h=y}Eo(c,r,e,s);const f=qe(this.data);i.rewrite&&vb(f,t,s);const g=Fe(f,c);this.set(a,g[a],i)}return this}removeByPath(t,e){const i=Array.isArray(t)?t:t.split("/"),s=i[0];if(i.length===1)this.remove(s,e);else{const r=i.slice(1),o=qe(this.get(s));o&&vb(o,r),this.set(s,o,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?qe(this.changed):null;const e=this.changing?this.previous:this.data,i={};let s;for(const r in t){const o=t[r];qi(e[r],o)||(i[r]=o,s=!0)}return s?qe(i):null}toJSON(){return qe(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}i5([$n.dispose()],nv.prototype,"dispose",null);var s5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},iv=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class oe extends $n{constructor(t={}){super();const i=this.constructor.getDefaults(!0),s=Fe({},this.preprocess(i),this.preprocess(t));this.id=s.id||Xd(),this.store=new nv(s),this.animation=new fl(this),this.setup(),this.init(),this.postprocess(t)}static config(t){const{markup:e,propHooks:i,attrHooks:s}=t,r=iv(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),i&&(this.propHooks=this.propHooks.slice(),Array.isArray(i)?this.propHooks.push(...i):typeof i=="function"?this.propHooks.push(i):Object.keys(i).forEach(o=>{const a=i[o];typeof a=="function"&&this.propHooks.push(a)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=Fe({},this.defaults,r)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:qe(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((i,s)=>s?yt(s,t,i):i,e)}get[Symbol.toStringTag](){return oe.toStringTag}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const i=t.id,r=this.constructor.applyPropHooks(this,t);return i==null&&e!==!0&&(r.id=Xd()),r}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:i,previous:s,options:r}=t;this.notify("change:*",{key:e,options:r,current:i,previous:s,cell:this}),this.notify(`change:${e}`,{options:r,current:i,previous:s,cell:this});const o=e;(o==="source"||o==="target")&&this.notify("change:terminal",{type:o,current:i,previous:s,options:r,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const i=this.model;return i&&(i.notify(`cell:${t}`,e),this.isNode()?i.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&i.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,i){if(typeof t=="string")this.store.set(t,e,i);else{const s=this.preprocess(t,!0);this.store.set(Fe({},this.getProp(),s),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,i={}){return this.model&&(t==="children"?this._children=e?e.map(s=>this.model.getCell(s)).filter(s=>s!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,i),this}removePropByPath(t,e={}){const i=Array.isArray(t)?t:t.split("/");return i[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(i,e),this}prop(t,e,i){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,i||{}):this.setPropByPath(t,e,i||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let i=e.getMaxZIndex(),s;t.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],i=i-s.length+1;const r=e.total();let o=e.indexOf(this)!==r-s.length;o||(o=s.some((a,l)=>a.getZIndex()!==i+l)),o&&this.batchUpdate("to-front",()=>{i+=s.length,s.forEach((a,l)=>{a.setZIndex(i+l,t)})})}return this}toBack(t={}){const e=this.model;if(e){let i=e.getMinZIndex(),s;t.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let r=e.indexOf(this)!==0;r||(r=s.some((o,a)=>o.getZIndex()!==i+a)),r&&this.batchUpdate("to-back",()=>{i-=s.length,s.forEach((o,a)=>{o.setZIndex(i+a,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const i=s=>this.store.set("attrs",s,e);if(e.overwrite===!0)i(t);else{const s=this.getAttrs();e.deep===!1?i(Object.assign(Object.assign({},s),t)):i(Fe({},s,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const i=this.constructor.getAttrHooks()||{};let s=i[t]||Ki.registry.get(t);if(!s){const r=Od(t);s=i[r]||Ki.registry.get(r)}return s||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,i={}){return this.setPropByPath(this.prefixAttrPath(t),e,i),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,i){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,i||{}):this.setAttrByPath(t,e,i||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const i=typeof t=="boolean"?t:!this.isVisible(),s=typeof t=="boolean"?e:t;return i?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const i=s=>this.store.set("data",s,e);if(e.overwrite===!0)i(t);else{const s=this.getData();e.deep===!1?i(typeof t=="object"?Object.assign(Object.assign({},s),t):t):i(Fe({},s,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(i=>{var s;return(s=this.model)===null||s===void 0?void 0:s.getCell(i)}).filter(i=>i!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let i=this.getParent();for(;i;)e.push(i),i=t.deep!==!1?i.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],i=this.getChildren()||[];for(;i.length>0;){const s=i.shift(),r=s.getChildren();e.push(s),r&&i.push(...r)}return e}{const e=this.getChildren()||[];return e.forEach(i=>{e.push(...i.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let i=this.getParent();for(;i;){if(i===t)return!0;i=i.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return oe.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(i=>i.id),e):this.store.remove("children",e),this}unembed(t,e={}){const i=this.children;if(i!=null&&t!=null){const s=this.getChildIndex(t);s!==-1&&(i.splice(s,1),t.setParent(null,e),this.setChildren(i,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return oe.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,i={}){return t.insertChild(this,e,i),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,i={}){if(t!=null&&t!==this){const s=t.getParent(),r=this!==s;let o=e;if(o==null&&(o=this.getChildCount(),r||(o-=1)),s){const l=s.getChildren();if(l){const c=l.indexOf(t);c>=0&&(t.setParent(null,i),l.splice(c,1),s.setChildren(l,i))}}let a=this.children;if(a==null?(a=[],a.push(t)):a.splice(o,0,t),t.setParent(this,i),this.setChildren(a,i),r&&this.model){const l=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);l&&l.forEach(u=>u.updateParent(i)),c&&c.forEach(u=>u.updateParent(i))}this.model&&this.model.addCell(t,i)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const i=e.getChildIndex(this);e.removeChildAt(i,t)}return this}removeChild(t,e={}){const i=this.getChildIndex(t);return this.removeChildAt(i,e)}removeChildAt(t,e={}){const i=this.getChildAt(t);return this.children!=null&&i!=null&&(this.unembed(i,e),i.remove(e)),i}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(i=>i.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,i={},s="/"){return this.animation.start(t,e,i,s)}stopTransition(t,e,i="/"){return this.animation.stop(t,e,i),this}getTransitions(){return this.animation.get()}translate(t,e,i){return this}scale(t,e,i,s){return this}addTools(t,e,i){const s=Array.isArray(t)?t:[t],r=typeof e=="string"?e:null,o=typeof e=="object"?e:typeof i=="object"?i:{};if(o.reset)return this.setTools({name:r,items:s,local:o.local},o);let a=qe(this.getTools());if(a==null||r==null||a.name===r)return a==null&&(a={}),a.items||(a.items=[]),a.name=r,a.items=[...a.items,...s],this.setTools(Object.assign({},a),o)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",oe.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(i=>typeof i=="string"?i===t:i.name===t)}removeTool(t,e={}){const i=qe(this.getTools());if(i){let s=!1;const r=i.items.slice(),o=a=>{r.splice(a,1),s=!0};if(typeof t=="number")o(t);else for(let a=r.length-1;a>=0;a-=1){const l=r[a];(typeof l=="string"?l===t:l.name===t)&&o(a)}s&&(i.items=r,this.setTools(i,e))}return this}getBBox(t){return new ut}getConnectionPoint(t,e){return new L}toJSON(t={}){const e=Object.assign({},this.store.get()),i=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const b=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${b.name||i.call(b)}"`)}const r=this.constructor,o=t.diff===!0,a=e.attrs||{},l=r.getDefaults(!0),c=o?this.preprocess(l,!0):l,u=c.attrs||{},h={};Object.keys(e).forEach(b=>{const y=e[b];if(y!=null&&!Array.isArray(y)&&typeof y=="object"&&!hi(y))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${i.call(y)}" type of key "${b}" on ${s} "${this.id}"`);if(b!=="attrs"&&b!=="shape"&&o){const w=c[b];qi(y,w)&&delete e[b]}}),Object.keys(a).forEach(b=>{const y=a[b],w=u[b];Object.keys(y).forEach(C=>{const E=y[C],S=w?w[C]:null;E!=null&&typeof E=="object"&&!Array.isArray(E)?Object.keys(E).forEach(T=>{const $=E[T];if(w==null||S==null||!sn(S)||!qi(S[T],$)){h[b]==null&&(h[b]={}),h[b][C]==null&&(h[b][C]={});const p=h[b][C];p[T]=$}}):(w==null||!qi(S,E))&&(h[b]==null&&(h[b]={}),h[b][C]=E)})});const f=Object.assign(Object.assign({},e),{attrs:nb(h)?void 0:h});f.attrs==null&&delete f.attrs;const g=f;return g.angle===0&&delete g.angle,qe(g)}clone(t={}){if(!t.deep){const i=Object.assign({},this.store.get());t.keepId||delete i.id,delete i.parent,delete i.children;const s=this.constructor;return new s(i)}return oe.deepClone(this)[this.id]}findView(t){return t.renderer.findViewByCell(this)}startBatch(t,e={},i=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),i&&i.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},i=this.model){return i&&i.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,i){const s=this.model;this.startBatch(t,i,s);const r=e();return this.stopBatch(t,i,s),r}dispose(){this.removeFromParent(),this.store.dispose()}}oe.defaults={};oe.attrHooks={};oe.propHooks=[];s5([$n.dispose()],oe.prototype,"dispose",null);(function(n){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}n.normalizeTools=t})(oe||(oe={}));(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"}n.isCell=t})(oe||(oe={}));(function(n){function t(...r){const o=r.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,c)=>l.length-c.length);return o.shift().find(l=>o.every(c=>c.includes(l)))||null}n.getCommonAncestor=t;function e(r,o={}){let a=null;for(let l=0,c=r.length;l<c;l+=1){const u=r[l];let h=u.getBBox(o);if(h){if(u.isNode()){const f=u.getAngle();f!=null&&f!==0&&(h=h.bbox(f))}a=a==null?h:a.union(h)}}return a}n.getCellsBBox=e;function i(r){const o=[r,...r.getDescendants({deep:!0})];return n.cloneCells(o)}n.deepClone=i;function s(r){const o=fb(r),a=o.reduce((l,c)=>(l[c.id]=c.clone(),l),{});return o.forEach(l=>{const c=a[l.id];if(c.isEdge()){const f=c.getSourceCellId(),g=c.getTargetCellId();f&&a[f]&&c.setSource(Object.assign(Object.assign({},c.getSource()),{cell:a[f].id})),g&&a[g]&&c.setTarget(Object.assign(Object.assign({},c.getTarget()),{cell:a[g].id}))}const u=l.getParent();u&&a[u.id]&&c.setParent(a[u.id]);const h=l.getChildren();if(h&&h.length){const f=h.reduce((g,b)=>(a[b.id]&&g.push(a[b.id]),g),[]);f.length>0&&c.setChildren(f)}}),a}n.cloneCells=s})(oe||(oe={}));(function(n){n.config({propHooks(t){var{tools:e}=t,i=iv(t,["tools"]);return e&&(i.tools=n.normalizeTools(e)),i}})})(oe||(oe={}));var Vo;(function(n){let t,e;function i(o,a){return a?t!=null&&t.exist(o):e!=null&&e.exist(o)}n.exist=i;function s(o){t=o}n.setEdgeRegistry=s;function r(o){e=o}n.setNodeRegistry=r})(Vo||(Vo={}));class r5{constructor(t){this.ports=[],this.groups={},this.init(qe(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const i=this.getPortsByGroup(t),s=t?this.getGroup(t):null,r=s?s.position:null,o=r?r.name:null;let a;if(o!=null){const h=$r.registry.get(o);if(h==null)return $r.registry.onNotFound(o);a=h}else a=$r.presets.left;const l=i.map(h=>h&&h.position&&h.position.args||{}),c=r&&r.args||{};return a(l,e,c).map((h,f)=>{const g=i[f];return{portLayout:h,portId:g.id,portSize:g.size,portAttrs:g.attrs,labelSize:g.label.size,labelLayout:this.getPortLabelLayout(g,L.create(h.position),e)}})}init(t){const{groups:e,items:i}=t;e!=null&&Object.keys(e).forEach(s=>{this.groups[s]=this.parseGroup(e[s])}),Array.isArray(i)&&i.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),i=this.getGroup(t.group)||{};return e.markup=e.markup||i.markup,e.attrs=Fe({},i.attrs,e.attrs),e.position=this.createPosition(i,e),e.label=Fe({},i.label,this.getLabel(e)),e.zIndex=this.getZIndex(i,e),e.size=Object.assign(Object.assign({},i.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return Fe({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const i=t.label||{};return i.position=this.getPortLabelPosition(i.position,e),i}getPortLabelLayout(t,e,i){const s=t.label.position.name||"left",r=t.label.position.args||{},o=Lo.registry.get(s)||Lo.presets.left;return o?o(e,i,r):null}}var bu=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Ve extends oe{constructor(t={}){super(t);this.initPorts()}get[Symbol.toStringTag](){return Ve.toStringTag}preprocess(t,e){const{x:i,y:s,width:r,height:o}=t,a=bu(t,["x","y","width","height"]);if(i!=null||s!=null){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:i!=null?i:l?l.x:0,y:s!=null?s:l?l.y:0})}if(r!=null||o!=null){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:r!=null?r:l?l.width:0,height:o!=null?o:l?l.height:0})}return super.preprocess(a,e)}isNode(){return!0}size(t,e,i){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,i):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,i){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,i),this}resize(t,e,i={}){this.startBatch("resize",i);const s=i.direction;if(s){const r=this.getSize();switch(s){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[s];const l=se.normalize(this.getAngle()||0);i.absolute&&(a+=Math.floor((l+45)/90),a%=4);const c=this.getBBox();let u;a===0?u=c.getBottomLeft():a===1?u=c.getCorner():a===2?u=c.getTopRight():u=c.getOrigin();const h=u.clone().rotate(-l,c.getCenter()),f=Math.sqrt(t*t+e*e)/2;let g=a*Math.PI/2;g+=Math.atan(a%2==0?e/t:t/e),g-=se.toRad(l);const y=L.fromPolar(f,g,h).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},i),this.setPosition(y.x,y.y,i)}else this.store.set("size",{width:t,height:e},i);return this.stopBatch("resize",i),this}scale(t,e,i,s={}){const r=this.getBBox().scale(t,e,i==null?void 0:i);return this.startBatch("scale",s),this.setPosition(r.x,r.y,s),this.resize(r.width,r.height,s),this.stopBatch("scale"),this}position(t,e,i){return typeof t=="number"?this.setPosition(t,e,i):this.getPosition(t)}getPosition(t={}){if(t.relative){const i=this.getParent();if(i!=null&&i.isNode()){const s=this.getPosition(),r=i.getPosition();return{x:s.x-r.x,y:s.y-r.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,i={}){let s,r,o;if(typeof t=="object"?(s=t.x,r=t.y,o=e||{}):(s=t,r=e,o=i||{}),o.relative){const a=this.getParent();if(a!=null&&a.isNode()){const l=a.getPosition();s+=l.x,r+=l.y}}if(o.deep){const a=this.getPosition();this.translate(s-a.x,r-a.y,o)}else this.store.set("position",{x:s,y:r},o);return this}translate(t=0,e=0,i={}){if(t===0&&e===0)return this;i.translateBy=i.translateBy||this.id;const s=this.getPosition();if(i.restrict!=null&&i.translateBy===this.id){const o=this.getBBox({deep:!0}),a=i.restrict,l=s.x-o.x,c=s.y-o.y,u=Math.max(a.x+l,Math.min(a.x+a.width+l-o.width,s.x+t)),h=Math.max(a.y+c,Math.min(a.y+a.height+c-o.height,s.y+e));t=u-s.x,e=h-s.y}const r={x:s.x+t,y:s.y+e};return i.tx=t,i.ty=e,i.transition?(typeof i.transition!="object"&&(i.transition={}),this.transition("position",r,Object.assign(Object.assign({},i.transition),{interp:kr.object})),this.eachChild(o=>{var a;((a=i.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,i)})):(this.startBatch("translate",i),this.store.set("position",r,i),this.eachChild(o=>{var a;((a=i.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,i)}),this.stopBatch("translate",i)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const i=this.getAngle();if(e.center){const s=this.getSize(),r=this.getPosition(),o=this.getBBox().getCenter();o.rotate(i-t,e.center);const a=o.x-s.width/2-r.x,l=o.y-s.height/2-r.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(r.x+a,r.y+l,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(i+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),oe.getCellsBBox(e)}return ut.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const i=this.getBBox(),s=i.getCenter(),r=t.getTerminal(e);if(r==null)return s;const o=r.port;if(!o||!this.hasPort(o))return s;const a=this.getPort(o);if(!a||!a.group)return s;const c=this.getPortsPosition(a.group)[o].position,u=L.create(c).translate(i.getOrigin()),h=this.getAngle();return h&&u.rotate(-h,s),u}fit(t={}){const i=(this.getChildren()||[]).filter(c=>c.isNode());if(i.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&i.forEach(c=>c.fit(t));let{x:s,y:r,width:o,height:a}=oe.getCellsBBox(i);const l=Kn(t.padding);return s-=l.left,r-=l.top,o+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:s,y:r},size:{width:o,height:a}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||he.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",he.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||he.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",he.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||he.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",he.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return qe(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return qe(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(i=>i.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new ut(0,0,e.width,e.height)).reduce((s,r)=>{const o=r.portLayout;return s[r.portId]={position:Object.assign({},o.position),angle:o.angle||0},s},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,i,s){if(typeof e=="string"||Array.isArray(e)){const a=this.prefixPortPath(t,e),l=i;return this.setPropByPath(a,l,s)}const r=this.prefixPortPath(t),o=e;return this.setPropByPath(r,o,i)}removePortProp(t,e,i){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),i):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,i,s){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):i==null?this.removePortProp(t,e,s):this.setPortProp(t,e,i,s):this.setPortProp(t,e,i)}prefixPortPath(t,e){const i=this.getPortIndex(t);if(i===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${i}`]:Array.isArray(e)?["ports","items",`${i}`,...e]:`ports/items/${i}/${e}`}addPort(t,e){const i=[...this.ports.items];return i.push(t),this.setPropByPath("ports/items",i,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const i=[...this.ports.items];i.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",i,e)}return this}removePorts(t,e){let i;if(Array.isArray(t)){if(i=e||{},t.length){i.rewrite=!0;const r=[...this.ports.items].filter(o=>!t.some(a=>{const l=typeof a=="string"?a:a.id;return o.id===l}));this.setPropByPath("ports/items",r,i)}}else i=t||{},i.rewrite=!0,this.setPropByPath("ports/items",[],i);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(o=>{o.id&&(e[o.id]=!0)});const i={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(o=>{o.id&&!e[o.id]&&(i[o.id]=!0)});const r=this.model;r&&!nb(i)&&(r.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const c=l.getTargetPortId();c&&i[c]&&l.remove()}),r.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const c=l.getSourcePortId();c&&i[c]&&l.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(i=>{typeof i!="object"&&e.push(`Invalid port ${i}.`),i.id==null&&(i.id=this.generatePortId()),t[i.id]&&e.push("Duplicitied port id."),t[i.id]=!0}),e}generatePortId(){return Xd()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new r5(this.ports);const i=this.port.getPorts(),s=e?i.filter(o=>e.find(a=>a.id===o.id)?null:o):[...i],r=e?e.filter(o=>i.find(a=>a.id===o.id)?null:o):[];s.length>0&&this.notify("ports:added",{added:s,cell:this,node:this}),r.length>0&&this.notify("ports:removed",{removed:r,cell:this,node:this})}}Ve.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.size=="function"&&typeof s.position=="function"}n.isNode=t})(Ve||(Ve={}));(function(n){n.config({propHooks(t){var{ports:e}=t,i=bu(t,["ports"]);return e&&(i.ports=Array.isArray(e)?{items:e}:e),i}})})(Ve||(Ve={}));(function(n){n.registry=Ye.create({type:"node",process(t,e){if(Vo.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let i=n;const{inherit:s}=e,r=bu(e,["inherit"]);if(s)if(typeof s=="string"){const a=this.get(s);a==null?this.onNotFound(s,"inherited"):i=a}else i=s;r.constructorName==null&&(r.constructorName=t);const o=i.define.call(i,r);return o.config({shape:t}),o}}),Vo.setNodeRegistry(n.registry)})(Ve||(Ve={}));(function(n){let t=0;function e(r){return r?Ud(r):(t+=1,`CustomNode${t}`)}function i(r){const{constructorName:o,overwrite:a}=r,l=bu(r,["constructorName","overwrite"]),c=Gd(e(o||l.shape),this);return c.config(l),l.shape&&n.registry.register(l.shape,c,a),c}n.define=i;function s(r){const o=r.shape||"rect",a=n.registry.get(o);return a?new a(r):n.registry.onNotFound(o)}n.create=s})(Ve||(Ve={}));var o5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Mn extends Ve{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(n){n.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},n.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},n.config({attrs:{text:Object.assign({},n.labelAttr)},propHooks(t){const{label:e}=t,i=o5(t,["label"]);return e&&Eo(i,"attrs/text/text",e),i}})})(Mn||(Mn={}));var a5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};function l5(n,t=!1){return`<g class="rotatable"><g class="scalable"><${n}/></g>${t?"":"<text/>"}</g>`}function $f(n){return`basic.${n}`}function gl(n="xlink:href"){return e=>{const{imageUrl:i,imageWidth:s,imageHeight:r}=e,o=a5(e,["imageUrl","imageWidth","imageHeight"]);if(i!=null||s!=null||r!=null){const a=()=>{if(o.attrs){const l=o.attrs.image;i!=null&&(l[n]=i),s!=null&&(l.width=s),r!=null&&(l.height=r),o.attrs.image=l}};o.attrs?(o.attrs.image==null&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}function Zi(n,t,e={}){const i=$f(n),s={constructorName:i,attrs:{".":{fill:"#ffffff",stroke:"none"},[n]:{fill:"#ffffff",stroke:"#000000"}}};return e.ignoreMarkup||(s.markup=l5(n,e.noText===!0)),(e.parent||Mn).define(Fe(s,t,{shape:i}))}Zi("rect",{attrs:{rect:{width:100,height:60}}});Zi("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}});Zi("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}});Zi("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});Zi("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});Zi("image",{attrs:{text:{refY:null,refDy:16}},propHooks:gl()});var c5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};const sv=Zi("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(n){const{d:t}=n,e=c5(n,["d"]);return t!=null&&Eo(e,"attrs/path/d",t),e}});Zi("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:sv,ignoreMarkup:!0});Zi("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:sv,ignoreMarkup:!0});var yu=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Re extends oe{constructor(t={}){super(t)}get[Symbol.toStringTag](){return Re.toStringTag}preprocess(t,e){const{source:i,sourceCell:s,sourcePort:r,sourcePoint:o,target:a,targetCell:l,targetPort:c,targetPoint:u}=t,f=yu(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),g=b=>typeof b=="string"||typeof b=="number";if(i!=null)if(oe.isCell(i))f.source={cell:i.id};else if(g(i))f.source={cell:i};else if(L.isPoint(i))f.source=i.toJSON();else if(Array.isArray(i))f.source={x:i[0],y:i[1]};else{const b=i.cell;oe.isCell(b)?f.source=Object.assign(Object.assign({},i),{cell:b.id}):f.source=i}if(s!=null||r!=null){let b=f.source;if(s!=null){const y=g(s)?s:s.id;b?b.cell=y:b=f.source={cell:y}}r!=null&&b&&(b.port=r)}else o!=null&&(f.source=L.create(o).toJSON());if(a!=null)if(oe.isCell(a))f.target={cell:a.id};else if(g(a))f.target={cell:a};else if(L.isPoint(a))f.target=a.toJSON();else if(Array.isArray(a))f.target={x:a[0],y:a[1]};else{const b=a.cell;oe.isCell(b)?f.target=Object.assign(Object.assign({},a),{cell:b.id}):f.target=a}if(l!=null||c!=null){let b=f.target;if(l!=null){const y=g(l)?l:l.id;b?b.cell=y:b=f.target={cell:y}}c!=null&&b&&(b.port=c)}else u!=null&&(f.target=L.create(u).toJSON());return super.preprocess(f,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,i={}){return this.setTerminal("source",t,e,i)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,i={}){return this.setTerminal("target",t,e,i)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,i,s={}){if(oe.isCell(e))return this.store.set(t,Fe({},i,{cell:e.id}),s),this;const r=e;return L.isPoint(e)||r.x!=null&&r.y!=null?(this.store.set(t,Fe({},i,{x:r.x,y:r.y}),s),this):(this.store.set(t,qe(e),s),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(L.isPointLike(e))return L.create(e);const i=this.getTerminalCell(t);return i?i.getConnectionPoint(this,t):new L}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const i={};for(;e&&e.isEdge();){if(i[e.id])return null;i[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,i){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},i),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,i){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},i),this}removeConnector(t={}){return this.store.remove("connector",t)}get strategy(){return this.getStrategy()}set strategy(t){t==null?this.removeStrategy():this.setStrategy(t)}getStrategy(){return this.store.get("strategy")}setStrategy(t,e,i){return typeof t=="object"?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},i),this}removeStrategy(t={}){return this.store.remove("strategy",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return qe(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,i={}){const s=this.getLabels(),r=s.length;let o=e!=null&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),s.splice(o,0,this.parseLabel(t)),this.setLabels(s,i)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,i={}){if(t!=null&&Number.isFinite(t)){const s=this.getLabels();s[t]=this.parseLabel(e),this.setLabels(s,i)}return this}removeLabelAt(t,e={}){const i=this.getLabels(),s=t!=null&&Number.isFinite(t)?t:-1,r=i.splice(s,1);return this.setLabels(i,e),r.length?r[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const i=t&&e?e.filter(r=>t.find(o=>r===o||qi(r,o))?null:r):e?[...e]:[],s=t&&e?t.filter(r=>e.find(o=>r===o||qi(r,o))?null:r):t?[...t]:[];i.length>0&&this.notify("labels:added",{added:i,cell:this,edge:this}),s.length>0&&this.notify("labels:removed",{removed:s,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(t){this.setVertexMarkup(t)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||he.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(t,e={}){return this.store.set("vertexMarkup",he.clone(t),e),this}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const i=Array.isArray(t)?t:[t];return this.store.set("vertices",i.map(s=>L.toJSON(s)),e),this}insertVertex(t,e,i={}){const s=this.getVertices(),r=s.length;let o=e!=null&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),s.splice(o,0,L.toJSON(t)),this.setVertices(s,i)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,i={}){if(t!=null&&Number.isFinite(t)){const s=this.getVertices();s[t]=e,this.setVertices(s,i)}return this}removeVertexAt(t,e={}){const i=this.getVertices(),s=t!=null&&Number.isFinite(t)?t:-1;return i.splice(s,1),this.setVertices(i,e)}onVertexsChanged({previous:t,current:e}){const i=t&&e?e.filter(r=>t.find(o=>L.equals(r,o))?null:r):e?[...e]:[],s=t&&e?t.filter(r=>e.find(o=>L.equals(r,o))?null:r):t?[...t]:[];i.length>0&&this.notify("vertexs:added",{added:i,cell:this,edge:this}),s.length>0&&this.notify("vertexs:removed",{removed:s,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||he.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(t){this.setToolMarkup(t)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||he.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(t,e={}){return this.store.set("toolMarkup",t,e),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(t){this.setDoubleToolMarkup(t)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(t,e={}){return this.store.set("doubleToolMarkup",t,e),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(t){this.setArrowheadMarkup(t)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||he.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(t,e={}){return this.store.set("arrowheadMarkup",t,e),this}translate(t,e,i={}){return i.translateBy=i.translateBy||this.id,i.tx=t,i.ty=e,this.applyToPoints(s=>({x:(s.x||0)+t,y:(s.y||0)+e}),i)}scale(t,e,i,s={}){return this.applyToPoints(r=>L.create(r).scale(t,e,i).toJSON(),s)}applyToPoints(t,e={}){const i={},s=this.getSource(),r=this.getTarget();L.isPointLike(s)&&(i.source=t(s)),L.isPointLike(r)&&(i.target=t(r));const o=this.getVertices();return o.length>0&&(i.vertices=o.map(t)),this.store.set(i,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),this.getTargetPoint()];return this.getVertices().forEach(i=>t.push(L.create(i))),new fn(t)}updateParent(t){let e=null;const i=this.getSourceCell(),s=this.getTargetCell(),r=this.getParent();return i&&s&&(i===s||i.isDescendantOf(s)?e=s:s.isDescendantOf(i)?e=i:e=oe.getCommonAncestor(i,s)),r&&(!e||e.id!==r.id)&&r.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),i=this.getTarget(),s=e.cell,r=i.cell;if(!s||!r)return!1;let o=s===r;if(!o&&t.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(o=a.isAncestorOf(l,t)||l.isAncestorOf(a,t))}return o}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}Re.defaults={};(function(n){function t(e,i){const s=e,r=i;return s.cell===r.cell?s.port===r.port||s.port==null&&r.port==null:!1}n.equalTerminals=t})(Re||(Re={}));(function(n){n.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}n.parseStringLabel=t})(Re||(Re={}));(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.disconnect=="function"&&typeof s.getSource=="function"&&typeof s.getTarget=="function"}n.isEdge=t})(Re||(Re={}));(function(n){n.registry=Ye.create({type:"edge",process(t,e){if(Vo.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let i=n;const{inherit:s="edge"}=e,r=yu(e,["inherit"]);if(typeof s=="string"){const a=this.get(s||"edge");a==null&&s?this.onNotFound(s,"inherited"):i=a}else i=s;r.constructorName==null&&(r.constructorName=t);const o=i.define.call(i,r);return o.config({shape:t}),o}}),Vo.setEdgeRegistry(n.registry)})(Re||(Re={}));(function(n){let t=0;function e(r){return r?Ud(r):(t+=1,`CustomEdge${t}`)}function i(r){const{constructorName:o,overwrite:a}=r,l=yu(r,["constructorName","overwrite"]),c=Gd(e(o||l.shape),this);return c.config(l),l.shape&&n.registry.register(l.shape,c,a),c}n.define=i;function s(r){const o=r.shape||"edge",a=n.registry.get(o);return a?new a(r):n.registry.onNotFound(o)}n.create=s})(Re||(Re={}));(function(n){const t="basic.edge";n.config({shape:t,propHooks(e){const{label:i,vertices:s}=e,r=yu(e,["label","vertices"]);if(i){r.labels==null&&(r.labels=[]);const o=typeof i=="string"?n.parseStringLabel(i):i;r.labels.push(o)}return s&&Array.isArray(s)&&(r.vertices=s.map(o=>L.create(o).toJSON())),r}}),n.registry.register(t,n)})(Re||(Re={}));var u5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class ws extends He{constructor(){super(...arguments);this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return ws.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const i=this.cell.getSource();return new ut(i.x,i.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new ut(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const i=this.cell.getTarget();return new ut(i.x,i.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new ut(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let i=t;if(this.hasAction(i,"source")){if(!this.updateTerminalProperties("source"))return i;i=this.removeAction(i,"source")}if(this.hasAction(i,"target")){if(!this.updateTerminalProperties("target"))return i;i=this.removeAction(i,"target")}const s=this.graph,r=this.sourceView,o=this.targetView;return s&&(r&&!s.renderer.isViewMounted(r)||o&&!s.renderer.isViewMounted(o))?i:this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","vertices","labels","tools","widget"]),i):(i=this.handleAction(i,"vertices",()=>this.renderVertexMarkers()),i=this.handleAction(i,"update",()=>this.update(null,e)),i=this.handleAction(i,"labels",()=>this.onLabelsChange(e)),i=this.handleAction(i,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),i=this.handleAction(i,"widget",()=>this.renderExternalTools()),i)}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const i=t.propertyPathArray||[],s=i.length;if(s>1){const r=i[1];if(e[r]){if(s===2)return typeof t.propertyValue=="object"&&Ka(t.propertyValue,"markup");if(i[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}renderStringMarkup(t){const e=this.containers,i=Et.createVectors(t);i.forEach(s=>{const r=s.attr("class");r&&(e[Od(r)]=s.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),Qa(this.container,i.map(s=>s.node))}renderLabels(){const t=this.cell,e=t.getLabels(),i=e.length;let s=this.containers.labels;if(this.labelCache={},this.labelSelectors={},i<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=Jn("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.containers.labels=s);for(let r=0,o=e.length;r<o;r+=1){const a=e[r],l=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let c,u;if(l)c=l.node,u=l.selectors;else{const f=t.getDefaultLabel(),g=this.normalizeLabelMarkup(this.parseLabelMarkup(f.markup));c=g.node,u=g.selectors}c.setAttribute("data-index",`${r}`),s.appendChild(c);const h=this.rootSelector;if(u[h])throw new Error("Ambiguous label root selector.");u[h]=c,this.labelCache[r]=c,this.labelSelectors[r]=u}return s.parentNode==null&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=Et.createVectors(t),i=document.createDocumentFragment();for(let s=0,r=e.length;s<r;s+=1){const o=e[s].node;i.appendChild(o)}return{fragment:i,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let i;const s=e.childNodes;return s.length>1||s[0].nodeName.toUpperCase()!=="G"?i=Et.create("g").append(e):i=Et.create(s[0]),i.addClass(this.prefixClassName("edge-label")),{node:i.node,selectors:t.selectors}}updateLabels(){if(this.containers.labels){const t=this.cell,e=t.labels,i=this.can("edgeLabelMovable"),s=t.getDefaultLabel();for(let r=0,o=e.length;r<o;r+=1){const a=this.labelCache[r],l=this.labelSelectors[r];a.setAttribute("cursor",i?"move":"default");const c=e[r],u=Fe({},s.attrs,c.attrs);this.updateAttrs(a,u,{selectors:l,rootBBox:c.size?ut.fromSize(c.size):void 0})}}}mergeLabelAttrs(t,e,i){if(e===null)return null;if(e===void 0)return i===null?null:i===void 0?void 0:t?i:Fe({},i);if(t)return Fe({},i,e)}customizeLabels(){if(this.containers.labels){const t=this.cell,e=t.labels;for(let i=0,s=e.length;i<s;i+=1){const r=e[i],o=this.labelCache[i],a=this.labelSelectors[i];this.graph.hook.onEdgeLabelRendered({edge:t,label:r,container:o,selectors:a})}}}renderTools(){const t=this.containers.tools;if(t==null)return this;const e=this.cell.toolMarkup,i=this.$(t).empty();if(he.isStringMarkup(e)){let s=So(e);const r=Et.create(s());if(i.append(r.node),this.toolCache=r.node,this.options.doubleTools){let o;const a=this.cell.doubleToolMarkup;he.isStringMarkup(a)?(s=So(a),o=Et.create(s())):o=r.clone(),i.append(o.node),this.tool2Cache=o.node}}return this}renderExternalTools(){const t=this.cell.getTools();return this.addTools(t),this}renderVertexMarkers(){const t=this.containers.vertices;if(t==null)return this;const e=this.cell.vertexMarkup,i=this.$(t).empty();if(he.isStringMarkup(e)){const s=So(e);this.cell.getVertices().forEach((r,o)=>{i.append(Et.create(s(Object.assign({index:o},r))).node)})}return this}renderArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;const e=this.cell.arrowheadMarkup,i=this.$(t).empty();if(he.isStringMarkup(e)){const s=So(e),r=Et.create(s({end:"source"})).node,o=Et.create(s({end:"target"})).node;this.containers.sourceArrowhead=r,this.containers.targetArrowhead=o,i.append(r,o)}return this}update(t,e={}){this.cleanCache(),this.updateConnection(e);const i=this.cell.getAttrs();return i!=null&&this.updateAttrs(this.container,i,{attrs:t===i?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),e.toolId==null?this.renderExternalTools():this.updateTools(e),this}removeRedundantLinearVertices(t={}){const e=this.cell,i=e.getVertices(),s=[this.sourceAnchor,...i,this.targetAnchor],r=s.length,o=new fn(s);o.simplify({threshold:.01});const a=o.points.map(c=>c.toJSON()),l=a.length;return r===l?0:(e.setVertices(a.slice(1,l-1),t),r-l)}updateConnectionPath(){const t=this.containers;if(t.connection){const e=this.getConnectionPathData();t.connection.setAttribute("d",e)}if(t.connectionWrap){const e=this.getConnectionPathData();t.connectionWrap.setAttribute("d",e)}t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return L.create(this.sourceAnchor);case"target":return L.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return L.create(this.sourcePoint);case"target":return L.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const i=this.sourceView;return i?this.sourceMagnet||i.container:null}case"target":{if(e.raw)return this.targetMagnet;const i=this.targetView;return i?this.targetMagnet||i.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const i=t.tx||0,s=t.ty||0;this.routePoints=new fn(this.routePoints).translate(i,s).points,this.translateConnectionPoints(i,s),this.path.translate(i,s)}else{const i=e.getVertices(),s=this.findAnchors(i);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(i);const r=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=r.source,this.targetPoint=r.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,i=e.source,s=e.target,r=t[0],o=t[t.length-1];return s.priority&&!i.priority?this.findAnchorsOrdered("target",o,"source",r):this.findAnchorsOrdered("source",r,"target",o)}findAnchorsOrdered(t,e,i,s){let r,o;const a=this.cell,l=a[t],c=a[i],u=this.getTerminalView(t),h=this.getTerminalView(i),f=this.getTerminalMagnet(t),g=this.getTerminalMagnet(i);if(u){let b;e?b=L.create(e):h?b=g:b=L.create(c),r=this.getAnchor(l.anchor,u,f,b,t)}else r=L.create(l);if(h){const b=L.create(s||r);o=this.getAnchor(c.anchor,h,g,b,i)}else o=L.isPointLike(c)?L.create(c):new L;return{[t]:r,[i]:o}}getAnchor(t,e,i,s,r){const o=e.isEdgeElement(i),a=this.graph.options.connecting;let l=typeof t=="string"?{name:t}:t;if(!l){const h=o?(r==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(r==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;l=typeof h=="string"?{name:h}:h}if(!l)throw new Error("Anchor should be specified.");let c;const u=l.name;if(o){const h=zo.registry.get(u);if(typeof h!="function")return zo.registry.onNotFound(u);c=yt(h,this,e,i,s,l.args||{},r)}else{const h=jo.registry.get(u);if(typeof h!="function")return jo.registry.onNotFound(u);c=yt(h,this,e,i,s,l.args||{},r)}return c?c.round(this.POINT_ROUNDING):new L}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||qs.presets.normal,i=this.cell.getRouter()||e;let s;if(typeof i=="function")s=yt(i,this,t,{},this);else{const r=typeof i=="string"?i:i.name,o=typeof i=="string"?{}:i.args||{},a=r?qs.registry.get(r):qs.presets.normal;if(typeof a!="function")return qs.registry.onNotFound(r);s=yt(a,this,t,o,this)}return s==null?t.map(r=>L.create(r)):s.map(r=>L.create(r))}findConnectionPoints(t,e,i){const s=this.cell,r=this.graph.options.connecting,o=s.getSource(),a=s.getTarget(),l=this.sourceView,c=this.targetView,u=t[0],h=t[t.length-1];let f;if(l&&!l.isEdgeElement(this.sourceMagnet)){const b=this.sourceMagnet||l.container,y=u||i,w=new At(y,e),C=o.connectionPoint||r.sourceConnectionPoint||r.connectionPoint;f=this.getConnectionPoint(C,l,b,w,"source")}else f=e;let g;if(c&&!c.isEdgeElement(this.targetMagnet)){const b=this.targetMagnet||c.container,y=a.connectionPoint||r.targetConnectionPoint||r.connectionPoint,w=h||e,C=new At(w,i);g=this.getConnectionPoint(y,c,b,C,"target")}else g=i;return{source:f,target:g}}getConnectionPoint(t,e,i,s,r){const o=s.end;if(t==null)return o;const a=typeof t=="string"?t:t.name,l=typeof t=="string"?{}:t.args,c=Bo.registry.get(a);if(typeof c!="function")return Bo.registry.onNotFound(a);const u=yt(c,this,s,e,i,l||{},r);return u?u.round(this.POINT_ROUNDING):o}updateMarkerAttr(t){const e=this.cell.getAttrs(),i=`.${t}-marker`,s=e&&e[i];s&&this.updateAttrs(this.container,{},{attrs:{[i]:s},selectors:this.selectors})}findMarkerPoints(t,e,i){const s=f=>{const g=this.cell.getAttrs(),b=Object.keys(g);for(let y=0,w=b.length;y<w;y+=1){const C=g[b[y]];if(C[`${f}Marker`]||C[`${f}-marker`]){const E=C.strokeWidth||C["stroke-width"];if(E)return parseFloat(E);break}}return null},r=t[0],o=t[t.length-1],a=this.containers.sourceMarker,l=this.containers.targetMarker,c=this.markerCache;let u,h;if(a){if(this.updateMarkerAttr("source"),c.sourceBBox=c.sourceBBox||En(a),c.sourceBBox.width>0){const f=Rs(a);u=e.clone().move(r||i,c.sourceBBox.width*f.sx*-1)}}else{const f=s("source");f&&(u=e.clone().move(r||i,-f))}if(l){if(this.updateMarkerAttr("target"),c.targetBBox=c.targetBBox||En(l),c.targetBBox.width>0){const f=Rs(l);h=i.clone().move(o||e,c.targetBBox.width*f.sx*-1)}}else{const f=s("target");f&&(h=i.clone().move(o||e,-f))}return c.sourcePoint=u||e.clone(),c.targetPoint=h||i.clone(),{source:u,target:h}}findPath(t,e,i){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let r,o,a;if(typeof s=="string"?r=s:(r=s.name,o=s.args),r){const c=Lr.registry.get(r);if(typeof c!="function")return Lr.registry.onNotFound(r);a=c}else a=Lr.presets.normal;const l=yt(a,this,e,i,t,Object.assign(Object.assign({},o),{raw:!0}),this);return typeof l=="string"?It.parse(l):l}translateConnectionPoints(t,e){const i=this.markerCache;i.sourcePoint&&i.sourcePoint.translate(t,e),i.targetPoint&&i.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const e=this.cell,i=e.getLabels();if(i.length===0)return this;const s=e.getDefaultLabel(),r=this.normalizeLabelPosition(s.position);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=this.normalizeLabelPosition(l.position),u=Fe({},r,c),h=this.getLabelTransformationMatrix(u);this.labelCache[o].setAttribute("transform",Pr(h))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let t="",e=this.options.toolsOffset;const i=this.getConnectionLength();if(i!=null){i<this.options.shortLength&&(t="scale(.5)",e/=2);let s=this.getPointAtLength(e);if(s!=null&&ge(this.toolCache,"transform",`translate(${s.x},${s.y}) ${t}`),this.options.doubleTools&&i>=this.options.longLength){const r=this.options.doubleToolsOffset||e;s=this.getPointAtLength(i-r),s!=null&&ge(this.tool2Cache,"transform",`translate(${s.x},${s.y}) ${t}`),ge(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&ge(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;if(t.style.display==="none")return this;const e=this.containers.sourceArrowhead,i=this.containers.targetArrowhead;if(e&&i){const r=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;Rs(e,r),Rs(i,r),this.translateAndAutoOrientArrows(e,i)}return this}updateTerminalProperties(t){const e=this.cell,i=this.graph,s=e[t],r=s&&s.cell,o=`${t}View`;if(!r)return this[o]=null,this.updateTerminalMagnet(t),!0;const a=i.getCellById(r);if(!a)throw new Error(`Edge's ${t} node with id "${r}" not exists`);const l=a.findView(i);return l?(this[o]=l,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,i=this.getTerminalView(t);if(i){let s=i.getMagnetFromEdgeTerminal(this.cell[t]);s===i.container&&(s=null),this[e]=s}else this[e]=null}translateAndAutoOrientArrows(t,e){const i=this.routePoints;t&&yf(t,this.sourcePoint,i[0]||this.targetPoint,this.graph.view.stage),e&&yf(e,this.targetPoint,i[i.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:Fe({},e,t)}addLabel(t,e,i,s){let r,o,a=0,l;typeof t!="number"?(r=t.x,o=t.y,typeof e=="number"?(a=e,l=i):l=e):(r=t,o=e,typeof i=="number"?(a=i,l=s):l=i);const c=this.getDefaultLabelPositionArgs(),u=l,h=this.mergeLabelPositionArgs(u,c),f={position:this.getLabelPosition(r,o,a,h)},g=-1;return this.cell.insertLabel(f,g,l),g}addVertex(t,e,i){const s=typeof t!="number",r=s?t.x:t,o=s?t.y:e,a=s?e:i,l={x:r,y:o},c=this.getVertexIndex(r,o);return this.cell.insertVertex(l,c,a),c}sendToken(t,e,i){let s,r,o,a,l="linear";typeof e=="object"?(s=e.duration,r=e.reversed===!0,o=e.selector,e.rotate===!1?a="":e.rotate===!0?a="auto":e.rotate!=null&&(a=`${e.rotate}`),e.timing&&(l=e.timing)):(s=e,r=!1,o=null),s=s||1e3;const c={dur:`${s}ms`,repeatCount:"1",calcMode:l,fill:"freeze"};if(a&&(c.rotate=a),r&&(c.keyPoints="1;0",c.keyTimes="0;1"),typeof e=="object"){const C=u5(e,["duration","reversed","selector","rotate","timing"]);Object.keys(C).forEach(E=>{c[E]=C[E]})}let u;if(typeof o=="string"?u=this.findOne(o,this.container,this.selectors):u=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(u instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const h=typeof t=="string"?this.findOne(t):t;if(h==null)throw new Error("Token animation requires a valid token element.");const f=h.parentNode,g=()=>{f||Yi(h)},b=Et.create(h);f||b.appendTo(this.graph.view.stage);const y=c.complete;c.complete=C=>{g(),i&&i(),y&&y(C)};const w=b.animateAlongPath(c,u);return()=>{g(),w()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return Ka(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return Ka(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return Ka(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(Fi(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,i,s){const r={distance:0};let o=0,a;typeof i=="number"?(o=i,a=s):a=i,a!=null&&(r.options=a);const l=a&&a.absoluteOffset,c=!(a&&a.absoluteDistance),u=a&&a.absoluteDistance&&a.reverseDistance,h=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},g=new L(t,e),b=h.closestPointT(g,f),y=this.getConnectionLength()||0;let w=h.lengthAtT(b,f);c&&(w=y>0?w/y:0),u&&(w=-1*(y-w)||1),r.distance=w;let C;l||(C=h.tangentAtT(b));let E;if(C)E=C.pointOffset(g);else{const S=h.pointAtT(b),T=g.diff(S);E={x:T.x,y:T.y}}return r.offset=E,r.angle=o,r}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),i=e.options||{},s=e.angle||0,r=e.distance,o=r>0&&r<=1;let a=0;const l={x:0,y:0},c=e.offset;c&&(typeof c=="number"?a=c:(c.x!=null&&(l.x=c.x),c.y!=null&&(l.y=c.y)));const u=l.x!==0||l.y!==0||a===0,h=i.keepGradient,f=i.ensureLegibility,g=this.path,b={segmentSubdivisions:this.getConnectionSubdivisions()},y=o?r*this.getConnectionLength():r,w=g.tangentAtLength(y,b);let C,E=s;if(w){if(u)C=w.start,C.translate(l);else{const S=w.clone();S.rotate(-90,w.start),S.setLength(a),C=S.end}h&&(E=w.angle()+s,f&&(E=se.normalize((E+90)%180-90)))}else C=g.start,u&&C.translate(l);return Sn().translate(C.x,C.y).rotate(E)}getLabelCoordinates(t){const e=this.getLabelTransformationMatrix(t);return new L(e.e,e.f)}getVertexIndex(t,e){const s=this.cell.getVertices(),r=this.getClosestPointLength(new L(t,e));let o=0;if(r!=null)for(const a=s.length;o<a;o+=1){const l=s[o],c=this.getClosestPointLength(l);if(c!=null&&r<c)break}return o}getEventArgs(t,e,i){const s=this,r=s.cell,o=r;return e==null||i==null?{e:t,view:s,edge:r,cell:o}:{e:t,x:e,y:i,view:s,edge:r,cell:o}}notifyUnhandledMouseDown(t,e,i){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:i,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,i){super.onMouseDown(t,e,i),this.notify("edge:mousedown",this.getEventArgs(t,e,i))}notifyMouseMove(t,e,i){super.onMouseMove(t,e,i),this.notify("edge:mousemove",this.getEventArgs(t,e,i))}notifyMouseUp(t,e,i){super.onMouseUp(t,e,i),this.notify("edge:mouseup",this.getEventArgs(t,e,i))}onClick(t,e,i){super.onClick(t,e,i),this.notify("edge:click",this.getEventArgs(t,e,i))}onDblClick(t,e,i){super.onDblClick(t,e,i),this.notify("edge:dblclick",this.getEventArgs(t,e,i))}onContextMenu(t,e,i){super.onContextMenu(t,e,i),this.notify("edge:contextmenu",this.getEventArgs(t,e,i))}onMouseDown(t,e,i){switch(this.notifyMouseDown(t,e,i),t.target.getAttribute("class")){case"vertex":{this.startVertexDragging(t,e,i);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(t,e,i);return}case"connection":case"connection-wrap":{this.handleVertexAdding(t,e,i);return}case"arrowhead":{this.startArrowheadDragging(t,e,i);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(t,e,i);return}}this.startEdgeDragging(t,e,i)}onMouseMove(t,e,i){const s=this.getEventData(t);switch(s.action){case"drag-vertex":{this.dragVertex(t,e,i);break}case"drag-label":{this.dragLabel(t,e,i);break}case"drag-arrowhead":{this.dragArrowhead(t,e,i);break}case"drag-edge":{this.dragEdge(t,e,i);break}}return this.notifyMouseMove(t,e,i),s}onMouseUp(t,e,i){const s=this.getEventData(t);switch(s.action){case"drag-vertex":{this.stopVertexDragging(t,e,i);break}case"drag-label":{this.stopLabelDragging(t,e,i);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,i);break}case"drag-edge":{this.stopEdgeDragging(t,e,i);break}}return this.notifyMouseUp(t,e,i),this.checkMouseleave(t),s}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,i,s){super.onMouseWheel(t,e,i,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,i)))}onCustomEvent(t,e,i,s){if(Pb(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,i,s)))}this.notifyMouseDown(t,i,s)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,i,s))),super.onCustomEvent(t,e,i,s)}onLabelMouseDown(t,e,i){this.notifyMouseDown(t,e,i),this.startLabelDragging(t,e,i),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,i){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,i);return}this.setEventData(t,{x:e,y:i,moving:!1,action:"drag-edge"})}dragEdge(t,e,i){const s=this.getEventData(t);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:i,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-s.x,i-s.y,{ui:!0}),this.setEventData(t,{x:e,y:i}),this.notify("edge:moving",{e:t,x:e,y:i,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,i){const s=this.getEventData(t);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:i,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(t,e){const i=this.getTerminalMagnet(t),s={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:i,initialTerminal:Ya(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let i,s=0,r=0;t==="source"?(s=2,i="target"):(r=2,i="source");const o=this.cell[i],a=o.cell;if(a){let l;const c=e[s]=this.graph.renderer.findViewByCell(a);c&&(l=c.getMagnetFromEdgeTerminal(o),l===c.container&&(l=void 0)),e[s+1]=l}return(l,c)=>(e[r]=l,e[r+1]=l.container===c?void 0:c,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}arrowheadDragging(t,e,i,s){s.x=e,s.y=i,s.currentTarget!==t&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.renderer.findViewByElem(t),s.currentView?(s.currentMagnet=s.currentView.findMagnet(t),s.currentMagnet&&this.graph.hook.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,e,i,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=t,this.cell.prop(s.terminalType,{x:e,y:i},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(t,e,i){const s=t.currentView,r=t.currentMagnet;if(!r||!s)return;s.unhighlight(r,{type:"magnetAdsorbed"});const o=t.terminalType,a=s.getEdgeTerminal(r,e,i,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(t,e,i){const s=this.graph,r=s.options.connecting.snap,o=typeof r=="object"&&r.radius||50,a=s.renderer.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),l=i.closestView||null,c=i.closestMagnet||null;i.closestView=null,i.closestMagnet=null;let u,h=Number.MAX_SAFE_INTEGER;const f=new L(t,e);a.forEach(E=>{E.container.getAttribute("magnet")!=="false"&&(u=E.cell.getBBox().getCenter().distance(f),u<o&&u<h&&(c===E.container||s.hook.validateConnection(...i.getValidateConnectionArgs(E,null),E.getEdgeTerminal(E.container,t,e,this.cell,i.terminalType)))&&(h=u,i.closestView=E,i.closestMagnet=E.container)),E.container.querySelectorAll("[magnet]").forEach(S=>{if(S.getAttribute("magnet")!=="false"){const T=E.getBBoxOfElement(S);u=f.distance(T.getCenter()),u<o&&u<h&&(c===S||s.hook.validateConnection(...i.getValidateConnectionArgs(E,S),E.getEdgeTerminal(S,t,e,this.cell,i.terminalType)))&&(h=u,i.closestView=E,i.closestMagnet=S)}})});let g;const b=i.terminalType,y=i.closestView,w=i.closestMagnet,C=c!==w;if(l&&C&&l.unhighlight(c,{type:"magnetAdsorbed"}),y){if(!C)return;y.highlight(w,{type:"magnetAdsorbed"}),g=y.getEdgeTerminal(w,t,e,this.cell,b)}else g={x:t,y:e};this.cell.setTerminal(b,g,{},Object.assign(Object.assign({},i.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,i=t.closestMagnet;e&&i&&(e.unhighlight(i,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(i)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const i=t.terminalType,s=t.initialTerminal,r=this.cell[i];if(r&&!Re.equalTerminals(s,r)){const a=this.graph,l=s,c=l.cell?a.getCellById(l.cell):null,u=l.port,h=c?a.findViewByCell(c):null,f=c||t.isNewEdge?null:L.create(s).toJSON(),g=r,b=g.cell?a.getCellById(g.cell):null,y=g.port,w=b?a.findViewByCell(b):null,C=b?null:L.create(r).toJSON();this.notify("edge:connected",{e,previousCell:c,previousPort:u,previousView:h,previousPoint:f,currentCell:b,currentView:w,currentPort:y,currentPoint:C,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:i,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,i=e.model.getCells();t.marked={};for(let s=0,r=i.length;s<r;s+=1){const o=e.renderer.findViewByCell(i[s]);if(!o)continue;const a=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));o.container.getAttribute("magnet")!=="false"&&a.push(o.container);const l=a.filter(c=>e.hook.validateConnection(...t.getValidateConnectionArgs(o,c),o.getEdgeTerminal(c,t.x,t.y,this.cell,t.terminalType)));if(l.length>0){for(let c=0,u=l.length;c<u;c+=1)o.highlight(l[c],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),t.marked[o.cell.id]=l}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(i=>{const s=this.graph.renderer.findViewByCell(i);s&&(e[i].forEach(o=>{s.unhighlight(o,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,i){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,i);return}const r=t.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(r,{x:e,y:i});this.setEventData(t,o)}dragArrowhead(t,e,i){const s=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,i,s):this.arrowheadDragging(this.getEventTarget(t),e,i,s)}stopArrowheadDragging(t,e,i){const s=this.graph,r=this.getEventData(t);s.options.connecting.snap?this.snapArrowheadEnd(r):this.arrowheadDragged(r,e,i),s.hook.validateEdge(this.cell,r.terminalType,r.initialTerminal)?(this.finishEmbedding(r),this.notifyConnectionEvent(r,t)):this.fallbackConnection(r),this.afterArrowheadDragging(r)}startLabelDragging(t,e,i){if(this.can("edgeLabelMovable")){const s=t.currentTarget,r=parseInt(s.getAttribute("data-index"),10),o=this.getLabelPositionAngle(r),a=this.getLabelPositionArgs(r),l=this.getDefaultLabelPositionArgs(),c=this.mergeLabelPositionArgs(a,l);this.setEventData(t,{index:r,positionAngle:o,positionArgs:c,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,i){const s=this.getEventData(t),r=this.cell.getLabelAt(s.index),o=Fe({},r,{position:this.getLabelPosition(e,i,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,o)}stopLabelDragging(t,e,i){}handleVertexAdding(t,e,i){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(t,e,i);return}const s=this.addVertex({x:e,y:i},{ui:!0});this.setEventData(t,{index:s,action:"drag-vertex"})}handleVertexRemoving(t,e,i){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(t,e,i);return}const s=t.target,r=parseInt(s.getAttribute("idx"),10);this.cell.removeVertexAt(r)}startVertexDragging(t,e,i){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(t,e,i);return}const s=t.target,r=parseInt(s.getAttribute("idx"),10);this.setEventData(t,{index:r,action:"drag-vertex"})}dragVertex(t,e,i){const s=this.getEventData(t);this.cell.setVertexAt(s.index,{x:e,y:i},{ui:!0})}stopVertexDragging(t,e,i){}}(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.getConnection=="function"}n.isEdgeView=t})(ws||(ws={}));ws.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50});ws.registry.register("edge",ws,!0);class Hn extends He{constructor(){super(...arguments);this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=he.getPortMarkup(),this.defaultPortLabelMarkup=he.getPortLabelMarkup(),this.defaultPortContainerMarkup=he.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return Hn.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const i=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?vi(e,i):fe(e,i)}else{const i=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(i):this.addClass(i)}}isNodeView(){return!0}confirmUpdate(t,e={}){let i=t;return this.hasAction(i,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(i,"render")?(this.render(),i=this.removeAction(i,["render","update","resize","translate","rotate","ports","tools"])):(i=this.handleAction(i,"resize",()=>this.resize(e),"update"),i=this.handleAction(i,"update",()=>this.update(),"ports"),i=this.handleAction(i,"translate",()=>this.translate()),i=this.handleAction(i,"rotate",()=>this.rotate()),i=this.handleAction(i,"ports",()=>this.renderPorts()),i=this.handleAction(i,"tools",()=>this.renderTools())),i}update(t){this.cleanCache(),this.removePorts();const e=this.cell,i=e.getSize(),s=e.getAttrs();this.updateAttrs(this.container,s,{attrs:t===s?null:t,rootBBox:new ut(0,0,i.width,i.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container),i=s=>Array.isArray(s)?s[0]:s;this.selectors=e.selectors,this.rotatableNode=i(this.selectors[this.rotatableSelector]),this.scalableNode=i(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)}renderStringMarkup(t){Qa(this.container,Et.toNodes(Et.createVectors(t))),this.rotatableNode=ef(this.container,`.${this.rotatableSelector}`),this.scalableNode=ef(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),this.renderTools(),this}resize(t={}){if(this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}updateRotation(){if(this.rotatableNode!=null){const t=this.getRotationString();t!=null?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(t={}){const e=this.cell,i=e.getSize(),s=e.getAngle(),r=this.scalableNode;let o=!1;r.getElementsByTagName("path").length>0&&(o=!0);const a=En(r,{recursive:o}),l=i.width/(a.width||1),c=i.height/(a.height||1);r.setAttribute("transform",`scale(${l},${c})`);const u=this.rotatableNode;if(u!=null){const h=u.getAttribute("transform");if(h){u.setAttribute("transform",`${h} rotate(${-s},${i.width/2},${i.height/2})`);const f=En(r,{target:this.graph.view.stage});e.prop("position",{x:f.x,y:f.y},Object.assign({updated:!0},t)),this.translate(),this.rotate()}}this.update()}findPortElem(t,e){const i=t?this.portsCache[t]:null;if(!i)return null;const s=i.portContentElement,r=i.portContentSelectors||{};return this.findOne(e,s,r)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(t=>{const e=this.portsCache[t];Yi(e.portElement)})}renderPorts(){const t=this.getPortsContainer(),e=[];t.childNodes.forEach(r=>{e.push(r)});const i=O$(this.cell.getParsedPorts(),"zIndex"),s="auto";i[s]&&i[s].forEach(r=>{const o=this.getPortElement(r);t.append(o),e.push(o)}),Object.keys(i).forEach(r=>{if(r!==s){const o=parseInt(r,10);this.appendPorts(i[r],o,e)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(t,e,i){const s=t.map(r=>this.getPortElement(r));i[e]||e<0?rf(i[Math.max(e,0)],s):Qa(this.getPortsContainer(),s)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=he.renderMarkup(this.getPortContainerMarkup());const i=e.elem;if(i==null)throw new Error("Invalid port container markup.");e=he.renderMarkup(this.getPortMarkup(t));const s=e.elem,r=e.selectors;if(s==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},s),e=he.renderMarkup(this.getPortLabelMarkup(t.label));const o=e.elem,a=e.selectors;if(o==null)throw new Error("Invalid port label markup.");let l;if(r&&a){for(const c in a)if(r[c]&&c!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},r),a)}else l=r||a;return fe(i,"x6-port"),fe(s,"x6-port-body"),fe(o,"x6-port-label"),i.appendChild(s),i.appendChild(o),this.portsCache[t.id]={portElement:i,portSelectors:l,portLabelElement:o,portLabelSelectors:a,portContentElement:s,portContentSelectors:r},this.graph.hook.onPortRendered({port:t,node:this.cell,container:i,selectors:l,labelContainer:o,labelSelectors:a,contentContainer:s,contentSelectors:r}),i}updatePorts(){this.updatePortGroup();const t=this.cell.getParsedGroups();Object.keys(t).forEach(e=>this.updatePortGroup(e))}updatePortGroup(t){const e=ut.fromSize(this.cell.getSize()),i=this.cell.getPortsLayoutByGroup(t,e);for(let s=0,r=i.length;s<r;s+=1){const o=i[s],a=o.portId,l=this.portsCache[a]||{},c=o.portLayout;if(this.applyPortTransform(l.portElement,c),o.portAttrs!=null){const h={selectors:l.portSelectors||{}};o.portSize&&(h.rootBBox=ut.fromSize(o.portSize)),this.updateAttrs(l.portElement,o.portAttrs,h)}const u=o.labelLayout;if(u&&(this.applyPortTransform(l.portLabelElement,u,-(c.angle||0)),u.attrs)){const h={selectors:l.portLabelSelectors||{}};o.labelSize&&(h.rootBBox=ut.fromSize(o.labelSize)),this.updateAttrs(l.portLabelElement,u.attrs,h)}}}applyPortTransform(t,e,i=0){const s=e.angle,r=e.position,o=Sn().rotate(i).translate(r.x||0,r.y||0).rotate(s||0);Do(t,o,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(t,e,i){const s=this,r=s.cell,o=r;return e==null||i==null?{e:t,view:s,node:r,cell:o}:{e:t,x:e,y:i,view:s,node:r,cell:o}}notifyMouseDown(t,e,i){super.onMouseDown(t,e,i),this.notify("node:mousedown",this.getEventArgs(t,e,i))}notifyMouseMove(t,e,i){super.onMouseMove(t,e,i),this.notify("node:mousemove",this.getEventArgs(t,e,i))}notifyMouseUp(t,e,i){super.onMouseUp(t,e,i),this.notify("node:mouseup",this.getEventArgs(t,e,i))}onClick(t,e,i){super.onClick(t,e,i),this.notify("node:click",this.getEventArgs(t,e,i))}onDblClick(t,e,i){super.onDblClick(t,e,i),this.notify("node:dblclick",this.getEventArgs(t,e,i))}onContextMenu(t,e,i){super.onContextMenu(t,e,i),this.notify("node:contextmenu",this.getEventArgs(t,e,i))}onMouseDown(t,e,i){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,i),this.startNodeDragging(t,e,i))}onMouseMove(t,e,i){const s=this.getEventData(t),r=s.action;if(r==="magnet")this.dragMagnet(t,e,i);else{if(r==="move"){const a=s.targetView||this;a.dragNode(t,e,i),a.notify("node:moving",{e:t,x:e,y:i,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(t,e,i)}this.setEventData(t,s)}onMouseUp(t,e,i){const s=this.getEventData(t),r=s.action;r==="magnet"?this.stopMagnetDragging(t,e,i):(this.notifyMouseUp(t,e,i),r==="move"&&(s.targetView||this).stopNodeDragging(t,e,i));const o=s.targetMagnet;o&&this.onMagnetClick(t,o,e,i),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,i,s){super.onMouseWheel(t,e,i,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,i)))}onMagnetClick(t,e,i,s){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,i,s)))}onMagnetDblClick(t,e,i,s){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,i,s)))}onMagnetContextMenu(t,e,i,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,i,s)))}onMagnetMouseDown(t,e,i,s){this.startMagnetDragging(t,i,s)}onCustomEvent(t,e,i,s){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,i,s))),super.onCustomEvent(t,e,i,s)}prepareEmbedding(t){const i=this.getEventData(t).cell||this.cell,s=this.graph.findViewByCell(i),r=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:i,view:s,cell:i,x:r.x,y:r.y,currentParent:i.getParent()})}processEmbedding(t,e){const i=e.cell||this.cell,s=e.graph||this.graph,r=s.options.embedding,o=r.findParent;let a=typeof o=="function"?yt(o,s,{view:this,node:this.cell}).filter(f=>oe.isCell(f)&&this.cell.id!==f.id&&!f.isDescendantOf(this.cell)):s.model.getNodesUnderNode(i,{by:o});r.frontOnly&&(a=a.slice(-1));let l=null;const c=e.candidateEmbedView,u=r.validate;for(let f=a.length-1;f>=0;f-=1){const g=a[f];if(c&&c.cell.id===g.id){l=c;break}else{const b=g.findView(s);if(yt(u,s,{child:this.cell,parent:b.cell,childView:this,parentView:b})){l=b;break}}}this.clearEmbedding(e),l&&l.highlight(null,{type:"embedding"}),e.candidateEmbedView=l;const h=s.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:i,node:i,view:s.findViewByCell(i),x:h.x,y:h.y,currentParent:i.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){const i=e.cell||this.cell,s=e.graph||this.graph,r=s.findViewByCell(i),o=i.getParent(),a=e.candidateEmbedView;a?(a.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(o==null||o.id!==a.cell.id)&&a.cell.insertChild(i,void 0,{ui:!0})):o&&o.unembed(i,{ui:!0}),s.model.getConnectedEdges(i,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})});const l=s.snapToGrid(t.clientX,t.clientY);r&&r.notify("node:embedded",{e:t,cell:i,x:l.x,y:l.y,node:i,view:s.findViewByCell(i),previousParent:o,currentParent:i.getParent()})}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null}startMagnetDragging(t,e,i){if(!this.can("magnetConnectable"))return;t.stopPropagation();const s=t.currentTarget,r=this.graph;this.setEventData(t,{targetMagnet:s}),r.hook.validateMagnet(this,s,t)?(r.options.magnetThreshold<=0&&this.startConnectting(t,s,e,i),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,i),r.view.delegateDragEvents(t,this)}startConnectting(t,e,i,s){this.graph.model.startBatch("add-edge");const r=this.createEdgeFromMagnet(e,i,s);r.notifyMouseDown(t,i,s),r.setEventData(t,r.prepareArrowheadDragging("target",{x:i,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:r})}createEdgeFromMagnet(t,e,i){const s=this.graph,r=s.model,o=s.hook.getDefaultEdge(this,t);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(t,e,i,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:e,y:i})),o.addTo(r,{async:!1,ui:!0}),o.findView(s)}dragMagnet(t,e,i){const s=this.getEventData(t),r=s.edgeView;if(r)r.onMouseMove(t,e,i),this.autoScrollGraph(t.clientX,t.clientY);else{const o=this.graph,a=o.options.magnetThreshold,l=this.getEventTarget(t),c=s.targetMagnet;if(a==="onleave"){if(c===l||c.contains(l))return}else if(o.view.getMouseMovedCount(t)<=a)return;this.startConnectting(t,c,e,i)}}stopMagnetDragging(t,e,i){const r=this.eventData(t).edgeView;r&&(r.onMouseUp(t,e,i),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,i){this.notify("node:unhandled:mousedown",{e:t,x:e,y:i,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,i,s,r){let o=[r];const a=this.graph.selection.widget;if(a&&a.options.movable){const l=this.graph.getSelectedCells();l.includes(r)&&(o=l.filter(c=>c.isNode()))}o.forEach(l=>{this.notify(t,{e,x:i,y:s,cell:l,node:l,view:l.findView(this.graph)})})}startNodeDragging(t,e,i){const s=this.getDelegatedView();if(s==null||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,i);this.setEventData(t,{targetView:s,action:"move"});const r=L.create(s.cell.getPosition());s.setEventData(t,{moving:!1,offset:r.diff(e,i),restrict:this.graph.hook.getRestrictArea(s)})}dragNode(t,e,i){const s=this.cell,r=this.graph,o=r.getGridSize(),a=this.getEventData(t),l=a.offset,c=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,i,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const u=en.snapToGrid(e+l.x,o),h=en.snapToGrid(i+l.y,o);s.setPosition(u,h,{restrict:c,deep:!0,ui:!0}),r.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(t),a.embedding=!0),this.processEmbedding(t,a))}stopNodeDragging(t,e,i){const s=this.getEventData(t);s.embedding&&this.finalizeEmbedding(t,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,i,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(t,e){const i=this.graph.scroller.widget;i&&i.autoScroll(t,e)}}(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.findPortElem=="function"&&typeof s.resize=="function"&&typeof s.rotate=="function"&&typeof s.translate=="function"}n.isNodeView=t})(Hn||(Hn={}));Hn.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});Hn.registry.register("node",Hn,!0);const rv=$f("text");class ov extends Zi("text",{view:rv,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(n){class t extends Hn{confirmUpdate(i,s={}){let r=super.confirmUpdate(i,s);return this.hasAction(r,"scale")&&(this.resize(),r=this.removeAction(r,"scale")),r}}n.View=t,t.config({actions:{attrs:["scale"]}}),Hn.registry.register(rv,t)})(ov||(ov={}));class av extends $n{constructor(t,e={}){super();this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,i){let s,r;typeof e=="number"?(s=e,r=Object.assign({merge:!1},i)):(s=this.length,r=Object.assign({merge:!1},e)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const o=Array.isArray(t)?t:[t],a=this.comparator&&typeof e!="number"&&r.sort!==!1,l=this.comparator||null;let c=!1;const u=[],h=[];return o.forEach(f=>{const g=this.get(f);g?r.merge&&!f.isSameStore(g)&&(g.setProp(f.getProp(),i),h.push(g),a&&!c&&(l==null||typeof l=="function"?c=g.hasChanged():typeof l=="string"?c=g.hasChanged(l):c=l.some(b=>g.hasChanged(b)))):(u.push(f),this.reference(f))}),u.length&&(a&&(c=!0),this.cells.splice(s,0,...u),this.length=this.cells.length),c&&this.sort({silent:!0}),r.silent||(u.forEach((f,g)=>{const b={cell:f,index:s+g,options:r};this.trigger("added",b),r.dryrun||f.notify("added",Object.assign({},b))}),c&&this.trigger("sorted"),(u.length||h.length)&&this.trigger("updated",{added:u,merged:h,removed:[],options:r})),this}remove(t,e={}){const i=Array.isArray(t)?t:[t],s=this.removeCells(i,e);return!e.silent&&s.length>0&&this.trigger("updated",{options:e,removed:s,added:[],merged:[]}),Array.isArray(t)?s:s[0]}removeCells(t,e){const i=[];for(let s=0;s<t.length;s+=1){const r=this.get(t[s]);if(r==null)continue;const o=this.cells.indexOf(r);this.cells.splice(o,1),this.length-=1,delete this.map[r.id],i.push(r),this.unreference(r),e.dryrun||r.remove(),e.silent||(this.trigger("removed",{cell:r,index:o,options:e}),e.dryrun||r.notify("removed",{cell:r,index:o,options:e}))}return i}reset(t,e={}){const i=this.cells.slice();if(i.forEach(s=>this.unreference(s)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const s=this.cells.slice();this.trigger("reseted",{options:e,previous:i,current:s});const r=[],o=[];s.forEach(a=>{i.some(c=>c.id===a.id)||r.push(a)}),i.forEach(a=>{s.some(c=>c.id===a.id)||o.push(a)}),this.trigger("updated",{options:e,added:r,removed:o,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=Bd(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const i=e.cell;this.trigger(`cell:${t}`,e),i&&(i.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:i})):i.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:i})))}clean(){this.length=0,this.cells=[],this.map={}}}class Dn extends $n{constructor(t=[]){super();this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new av(t),this.setup()}get[Symbol.toStringTag](){return Dn.toStringTag}notify(t,e){this.trigger(t,e);const i=this.graph;return i&&(t==="sorted"||t==="reseted"||t==="updated"?i.trigger(`model:${t}`,e):i.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const i=e.cell;this.onCellRemoved(i,e.options),this.notify("cell:removed",e),i.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:i})):i.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:i}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const i=t.id;if(t.isEdge()){delete this.edges[i];const s=t.getSource(),r=t.getTarget();if(s&&s.cell){const o=this.outgoings[s.cell],a=o?o.indexOf(i):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.outgoings[s.cell])}if(r&&r.cell){const o=this.incomings[r.cell],a=o?o.indexOf(i):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.incomings[r.cell])}}else delete this.nodes[i];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const i=e==="source"?this.outgoings:this.incomings,s=t.previous(e);if(s&&s.cell){const o=i[s.cell],a=o?o.indexOf(t.id):-1;a>=0&&(o.splice(a,1),o.length===0&&delete i[s.cell])}const r=t.getTerminal(e);if(r&&r.cell){const o=i[r.cell]||[];o.indexOf(t.id)===-1&&o.push(t.id),i[r.cell]=o}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(i=>this.prepareCell(i,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(i=>this.prepareCell(i,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const i=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const s=e.sort((r,o)=>{const a=r.isEdge()?1:2,l=o.isEdge()?1:2;return a-l});for(;s.length>0;){const r=s.shift();r&&r.remove(i)}},i),this}addNode(t,e={}){const i=Ve.isNode(t)?t:this.createNode(t);return this.addCell(i,e),i}createNode(t){return Ve.create(t)}addEdge(t,e={}){const i=Re.isEdge(t)?t:this.createEdge(t);return this.addCell(i,e),i}createEdge(t){return Re.create(t)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(i=>this.addCell(i,e)),this.addings.delete(t)),this)}addCells(t,e={}){const i=t.length;if(i===0)return this;const s=Object.assign(Object.assign({},e),{position:i-1,maxPosition:i-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:t})),t.forEach(r=>{this.addCell(r,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:t})),this}removeCell(t,e={}){const i=typeof t=="string"?this.getCell(t):t;return i&&this.has(i)?this.collection.remove(i,e):null}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(i=>this.removeCell(i,e))):[]}removeConnectedEdges(t,e={}){const i=this.getConnectedEdges(t);return i.forEach(s=>{s.remove(e)}),i}disconnectConnectedEdges(t,e={}){const i=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(s=>{const r=s.getSourceCell(),o=s.getTargetCell();r&&r.id===i&&s.setSource({x:0,y:0},e),o&&o.id===i&&s.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,i=this.outgoings[e];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,i=this.incomings[e];return i?i.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(t,e={}){const i=[],s=typeof t=="string"?this.getCell(t):t;if(s==null)return i;const r={},o=e.indirect;let a=e.incoming,l=e.outgoing;a==null&&l==null&&(a=l=!0);const c=(u,h)=>{const f=h?this.getOutgoingEdges(u):this.getIncomingEdges(u);if(f!=null&&f.forEach(g=>{r[g.id]||(i.push(g),r[g.id]=!0,o&&(a&&c(g,!1),l&&c(g,!0)))}),o&&u.isEdge()){const g=h?u.getTargetCell():u.getSourceCell();g&&g.isEdge()&&(r[g.id]||(i.push(g),c(g,h)))}};if(l&&c(s,!0),a&&c(s,!1),e.deep){const u=s.getDescendants({deep:!0}),h={};u.forEach(g=>{g.isNode()&&(h[g.id]=!0)});const f=(g,b)=>{const y=b?this.getOutgoingEdges(g.id):this.getIncomingEdges(g.id);y!=null&&y.forEach(w=>{if(!r[w.id]){const C=w.getSourceCell(),E=w.getTargetCell();if(!e.enclosed&&C&&h[C.id]&&E&&h[E.id])return;i.push(w),r[w.id]=!0}})};u.forEach(g=>{g.isEdge()||(l&&f(g,!0),a&&f(g,!1))})}return i}isBoundary(t,e){const i=typeof t=="string"?this.getCell(t):t,s=e?this.getIncomingEdges(i):this.getOutgoingEdges(i);return s==null||s.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(i=>{if(this.isBoundary(i,t)){const s=this.getCell(i);s&&e.push(s)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let i=e.incoming,s=e.outgoing;i==null&&s==null&&(i=s=!0);const o=this.getConnectedEdges(t,e).reduce((a,l)=>{const c=l.hasLoop(e),u=l.getSourceCell(),h=l.getTargetCell();return i&&u&&u.isNode()&&!a[u.id]&&(c||u!==t&&(!e.deep||!u.isDescendantOf(t)))&&(a[u.id]=u),s&&h&&h.isNode()&&!a[h.id]&&(c||h!==t&&(!e.deep||!h.isDescendantOf(t)))&&(a[h.id]=h),a},{});if(t.isEdge()){if(i){const a=t.getSourceCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}if(s){const a=t.getTargetCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}}return Object.keys(o).map(a=>o[a])}isNeighbor(t,e,i={}){let s=i.incoming,r=i.outgoing;return s==null&&r==null&&(s=r=!0),this.getConnectedEdges(t,i).some(o=>{const a=o.getSourceCell(),l=o.getTargetCell();return!!(s&&a&&a.id===e.id||r&&l&&l.id===e.id)})}getSuccessors(t,e={}){const i=[];return this.search(t,(s,r)=>{s!==t&&this.matchDistance(r,e.distance)&&i.push(s)},Object.assign(Object.assign({},e),{outgoing:!0})),i}isSuccessor(t,e,i={}){let s=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{outgoing:!0})),s}getPredecessors(t,e={}){const i=[];return this.search(t,(s,r)=>{s!==t&&this.matchDistance(r,e.distance)&&i.push(s)},Object.assign(Object.assign({},e),{incoming:!0})),i}isPredecessor(t,e,i={}){let s=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,i.distance))return s=!0,!1},Object.assign(Object.assign({},i),{incoming:!0})),s}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(i=>{i&&(Array.isArray(i)?e.push(...i):e.push(i))}),oe.getCommonAncestor(...e)}getSubGraph(t,e={}){const i=[],s={},r=[],o=[],a=l=>{s[l.id]||(i.push(l),s[l.id]=l,l.isEdge()&&o.push(l),l.isNode()&&r.push(l))};return t.forEach(l=>{a(l),e.deep&&l.getDescendants({deep:!0}).forEach(u=>a(u))}),o.forEach(l=>{const c=l.getSourceCell(),u=l.getTargetCell();c&&!s[c.id]&&(i.push(c),s[c.id]=c,c.isNode()&&r.push(c)),u&&!s[u.id]&&(i.push(u),s[u.id]=u,u.isNode()&&r.push(u))}),r.forEach(l=>{this.getConnectedEdges(l,e).forEach(u=>{const h=u.getSourceCell(),f=u.getTargetCell();!s[u.id]&&h&&s[h.id]&&f&&s[f.id]&&(i.push(u),s[u.id]=u)})}),i}cloneSubGraph(t,e={}){const i=this.getSubGraph(t,e);return this.cloneCells(i)}cloneCells(t){return oe.cloneCells(t)}getNodesFromPoint(t,e){const i=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(s=>s.getBBox().containsPoint(i))}getNodesInArea(t,e,i,s,r){const o=typeof t=="number"?new ut(t,e,i,s):ut.create(t),a=typeof t=="number"?r:e,l=a&&a.strict;return this.getNodes().filter(c=>{const u=c.getBBox();return l?o.containsRect(u):o.isIntersectWithRect(u)})}getEdgesInArea(t,e,i,s,r){const o=typeof t=="number"?new ut(t,e,i,s):ut.create(t),a=typeof t=="number"?r:e,l=a&&a.strict;return this.getEdges().filter(c=>{const u=c.getBBox();return u.width===0?u.inflate(1,0):u.height===0&&u.inflate(0,1),l?o.containsRect(u):o.isIntersectWithRect(u)})}getNodesUnderNode(t,e={}){const i=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(i):this.getNodesFromPoint(i[e.by])).filter(r=>t.id!==r.id&&!r.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return oe.getCellsBBox(t,e)}search(t,e,i={}){i.breadthFirst?this.breadthFirstSearch(t,e,i):this.depthFirstSearch(t,e,i)}breadthFirstSearch(t,e,i={}){const s=[],r={},o={};for(s.push(t),o[t.id]=0;s.length>0;){const a=s.shift();if(a==null||r[a.id]||(r[a.id]=!0,yt(e,this,a,o[a.id])===!1))continue;this.getNeighbors(a,i).forEach(c=>{o[c.id]=o[a.id]+1,s.push(c)})}}depthFirstSearch(t,e,i={}){const s=[],r={},o={};for(s.push(t),o[t.id]=0;s.length>0;){const a=s.pop();if(a==null||r[a.id]||(r[a.id]=!0,yt(e,this,a,o[a.id])===!1))continue;const l=this.getNeighbors(a,i),c=s.length;l.forEach(u=>{o[u.id]=o[a.id]+1,s.splice(c,0,u)})}}getShortestPath(t,e,i={}){const s={};this.getEdges().forEach(c=>{const u=c.getSourceCellId(),h=c.getTargetCellId();u&&h&&(s[u]||(s[u]=[]),s[h]||(s[h]=[]),s[u].push(h),i.directed||s[h].push(u))});const r=typeof t=="string"?t:t.id,o=Af.run(s,r,i.weight),a=[];let l=typeof e=="string"?e:e.id;for(o[l]&&a.push(l);l=o[l];)a.unshift(l);return a}translate(t,e,i){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(t,e,i)),this}resize(t,e,i){return this.resizeCells(t,e,this.getCells(),i)}resizeCells(t,e,i,s={}){const r=this.getCellsBBox(i);if(r){const o=Math.max(t/r.width,0),a=Math.max(e/r.height,0),l=r.getOrigin();i.forEach(c=>c.scale(o,a,l,s))}return this}toJSON(t={}){return Dn.toJSON(this.getCells(),t)}parseJSON(t){return Dn.fromJSON(t)}fromJSON(t,e={}){const i=this.parseJSON(t);return this.resetCells(i,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,i={}){this.startBatch(t,i);const s=e();return this.stopBatch(t,i),s}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(i=>this.batches[i]>0)}}(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&typeof s.addNode=="function"&&typeof s.addEdge=="function"&&s.collection!=null}n.isModel=t})(Dn||(Dn={}));(function(n){function t(i,s={}){return{cells:i.map(r=>r.toJSON(s))}}n.toJSON=t;function e(i){const s=[];return Array.isArray(i)?s.push(...i):(i.cells&&s.push(...i.cells),i.nodes&&i.nodes.forEach(r=>{r.shape==null&&(r.shape="rect"),s.push(r)}),i.edges&&i.edges.forEach(r=>{r.shape==null&&(r.shape="edge"),s.push(r)})),s.map(r=>{const o=r.shape;if(o){if(Ve.registry.exist(o))return Ve.create(r);if(Re.registry.exist(o))return Re.create(r)}throw new Error("The `shape` should be specipied when creating a node/edge instance")})}n.fromJSON=e})(Dn||(Dn={}));const Qi=".text-block-content",vu=$f("text-block");class Cu extends Ve{get content(){return this.getContent()}set content(t){this.setContent(t)}getContent(){return this.store.get("content","")}setContent(t,e={}){this.store.set("content",t,e)}setup(){super.setup(),this.store.on("change:*",t=>{const e=t.key;e==="content"?this.updateContent(this.getContent()):e==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(t){tn.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},t),[Qi]:{style:Object.assign({},t)}})}updateContent(t){tn.SUPPORT_FOREIGNOBJECT?this.setAttrs({[Qi]:{html:t?xb(t):""}}):this.setAttrs({[Qi]:{text:t}})}}(function(n){n.config({type:vu,view:vu,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',tn.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${Qi.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${Qi.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[Qi]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),Ve.registry.register(vu,n)})(Cu||(Cu={}));(function(n){const t="content";class e extends Hn{confirmUpdate(s,r={}){let o=super.confirmUpdate(s,r);return this.hasAction(o,t)&&(this.updateContent(),o=this.removeAction(o,t)),o}update(s){if(tn.SUPPORT_FOREIGNOBJECT)super.update(s);else{const r=this.cell,o=Object.assign({},s||r.getAttrs());delete o[Qi],super.update(o),(!s||Ka(s,Qi))&&this.updateContent(s)}}updateContent(s){if(tn.SUPPORT_FOREIGNOBJECT)super.update(s);else{const r=this.cell,o=(s||r.getAttrs())[Qi],a=Vb(r.getContent(),r.getSize(),o,{svgDocument:this.graph.view.svg}),l={[Qi]:Fe({},o,{text:a})};super.update(l)}}}n.View=e,function(i){i.config({bootstrap:["render",t],actions:tn.SUPPORT_FOREIGNOBJECT?{}:{size:t,content:t}}),Hn.registry.register(vu,i)}(e=n.View||(n.View={}))})(Cu||(Cu={}));Mn.define({shape:"empty"});function h5(n,t="body"){return[{tagName:n,selector:t},{tagName:"text",selector:"label"}]}function xs(n,t,e={}){const i={constructorName:n,markup:h5(n,e.selector),attrs:{[n]:Object.assign({},Mn.bodyAttr)}};return(e.parent||Mn).define(Fe(i,t,{shape:n}))}const H9=xs("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});Ve.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},Mn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},Mn.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},Mn.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},Mn.labelAttr),{refY2:15})}});xs("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});const Df=10;Mn.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},Mn.bodyAttr),{lateral:Df}),top:Object.assign(Object.assign({},Mn.bodyAttr),{refCx:"50%",refRx:"50%",cy:Df,ry:Df})},attrHooks:{lateral:{set(n,{refBBox:t}){const e=Fi(n);e&&(n=parseFloat(n)/100);const i=t.x,s=t.y,r=t.width,o=t.height,a=r/2,l=e?o*n:n,c=.551784,u=c*a,h=c*l,f=i,g=i+r/2,b=i+r,y=s+l,w=y-l,C=s+o-l,E=s+o;return{d:["M",f,y,"L",f,C,"C",i,C+h,g-u,E,g,E,"C",g+u,E,b,C+h,b,C,"L",b,y,"C",b,y-h,g+u,w,g,w,"C",g-u,w,f,y-h,f,y,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:n}){const t=n.attr("body/lateral");return{x:0,y:t}},onMouseMove({node:n,data:t,deltaY:e}){if(e!==0){const i=n.getBBox(),s=n.attr("body/lateral");t.round==null&&(t.round=s);const r=0,o=i.height/2,a=Bn(t.round+e,r,o);a!==s&&n.attr({body:{lateral:a},top:{cy:a,ry:a}})}}}});xs("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var d5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Go extends Mn{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",Go.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(n){function t(e){return typeof e=="string"?e:e.map(i=>Array.isArray(i)?i.join(","):L.isPointLike(i)?`${i.x}, ${i.y}`:"").join(" ")}n.pointsToString=t,n.config({propHooks(e){const{points:i}=e,s=d5(e,["points"]);if(i){const r=t(i);r&&Eo(s,"attrs/body/refPoints",r)}return s}})})(Go||(Go={}));xs("polygon",{},{parent:Go});xs("polyline",{},{parent:Go});var f5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};Mn.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(n){const{path:t}=n,e=f5(n,["path"]);return t&&Eo(e,"attrs/body/refD",t),e}});var g5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};Mn.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},tn.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:dn.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Mn.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(n){const{text:t}=n,e=g5(n,["text"]);return t&&Eo(e,"attrs/label/text",t),e},attrHooks:{text:{set(n,{cell:t,view:e,refBBox:i,elem:s,attrs:r}){if(s instanceof HTMLElement)s.textContent=n;else{const o=r.style||{},a={text:n,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},o),c=Ki.presets.textWrap;return yt(c.set,this,a,{cell:t,view:e,elem:s,refBBox:i,attrs:l}),{fill:o.color||null}}},position(n,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}});xs("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:gl()},{selector:"image"});xs("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:gl()});xs("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:gl()});xs("image-inscribed",{propHooks:gl(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const lv=Re.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});Re.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}});Re.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class ts extends Mn{get html(){return this.getHTML()}set html(t){this.setHTML(t)}getHTML(){return this.store.get("html")}setHTML(t,e={}){return t==null?this.removeHTML(e):this.store.set("html",t,e),this}removeHTML(t={}){return this.store.remove("html",t)}}(function(n){class t extends Hn{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(i){const s=super.confirmUpdate(i);return this.handleAction(s,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const i=this.selectors.foContent;if(i){const s=this.$(i).empty(),r=this.graph.hook.getHTMLComponent(this.cell);r&&(typeof r=="string"?s.html(r):s.append(r))}}}n.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),Hn.registry.register("html-view",e)}(t=n.View||(n.View={}))})(ts||(ts={}));(function(n){n.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},he.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),Ve.registry.register("html",n)})(ts||(ts={}));(function(n){n.componentRegistry=Ye.create({type:"html componnet"})})(ts||(ts={}));var p5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class pl extends Py{constructor(t){super();this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},pl.defaultOptions),t),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const e=(new Date().getTime()-this.timestamp)/1e3;e>this.delay||this.changeCount>=this.threshold&&e>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}p5([Py.dispose()],pl.prototype,"dispose",null);(function(n){n.defaultOptions={delay:10,throttle:2,threshold:5}})(pl||(pl={}));class Ce extends Ii{constructor(t){super();this.graph=t,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var m5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class _i extends re{constructor(t){super();this.graph=t;const{selectors:e,fragment:i}=he.parseJSONMarkup(_i.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=_i.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(i),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&oe.isCell(e.cell)||this.svg===t.target||this.container===t.target||Qe.contains(this.svg,t.target))}findView(t){return this.graph.renderer.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);i?i.onDblClick(e,s.x,s.y):this.graph.trigger("blank:dblclick",{e,x:s.x,y:s.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);i?i.onClick(e,s.x,s.y):this.graph.trigger("blank:click",{e,x:s.x,y:s.y})}}onContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault();const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);i?i.onContextMenu(e,s.x,s.y):this.graph.trigger("blank:contextmenu",{e,x:s.x,y:s.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const i=this.constructor;this.delegateDocumentEvents(i.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;this.options.preventDefaultMouseDown&&e.preventDefault();const s=this.graph.snapToGrid(e.clientX,e.clientY);i?i.onMouseDown(e,s.x,s.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:s.x,y:s.y})),this.delegateDragEvents(e,i)}onMouseMove(t){const e=this.getEventData(t),i=e.startPosition;if(i&&i.x===t.clientX&&i.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const r=this.normalizeEvent(t),o=this.graph.snapToGrid(r.clientX,r.clientY),a=e.currentView;a?a.onMouseMove(r,o.x,o.y):this.graph.trigger("blank:mousemove",{e:r,x:o.x,y:o.y}),this.setEventData(r,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),i=this.graph.snapToGrid(e.clientX,e.clientY),r=this.getEventData(t).currentView;r?r.onMouseUp(e,i.x,i.y):this.graph.trigger("blank:mouseup",{e,x:i.x,y:i.y}),t.isPropagationStopped()||this.onClick(Qe.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(!this.guard(e,i))if(i)i.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(!this.guard(e,i))if(i)i.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=this.graph.renderer.findViewByElem(e.relatedTarget);if(i){if(s===i)return;i.onMouseEnter(e)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=this.graph.renderer.findViewByElem(e.relatedTarget);if(i){if(s===i)return;i.onMouseLeave(e)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),i=this.findView(e.target);if(this.guard(e,i))return;const s=e.originalEvent,r=this.graph.snapToGrid(s.clientX,s.clientY),o=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));i?i.onMouseWheel(e,r.x,r.y,o):this.graph.trigger("blank:mousewheel",{e,delta:o,x:r.x,y:r.y})}onCustomEvent(t){const e=t.currentTarget,i=e.getAttribute("event")||e.getAttribute("data-event");if(i){const s=this.findView(e);if(s){const r=this.normalizeEvent(t);if(this.guard(r,s))return;const o=this.graph.snapToGrid(r.clientX,r.clientY);s.onCustomEvent(r,i,o.x,o.y)}}}handleMagnetEvent(t,e){const i=t.currentTarget,s=i.getAttribute("magnet");if(s&&s.toLowerCase()!=="false"){const r=this.findView(i);if(r){const o=this.normalizeEvent(t);if(this.guard(o,r))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);yt(e,this.graph,r,o,i,a.x,a.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,i,s,r,o)=>{e.onMagnetMouseDown(i,s,r,o)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,i,s,r,o)=>{e.onMagnetDblClick(i,s,r,o)})}onMagnetContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault(),this.handleMagnetEvent(t,(e,i,s,r,o)=>{e.onMagnetContextMenu(i,s,r,o)})}onLabelMouseDown(t){const e=t.currentTarget,i=this.findView(e);if(i){const s=this.normalizeEvent(t);if(this.guard(s,i))return;const r=this.graph.snapToGrid(s.clientX,s.clientY);i.onLabelMouseDown(s,r.x,r.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}m5([re.dispose()],_i.prototype,"dispose",null);(function(n){const t=`${Ji.prefixCls}-graph`;n.markup=[{ns:dn.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:dn.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:dn.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":dn.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(i){const s=i.cloneNode();return i.childNodes.forEach(r=>s.appendChild(r)),()=>{for(sf(i);i.attributes.length>0;)i.removeAttribute(i.attributes[0].name);for(let r=0,o=s.attributes.length;r<o;r+=1){const a=s.attributes[r];i.setAttribute(a.name,a.value)}s.childNodes.forEach(r=>i.appendChild(r))}}n.snapshoot=e})(_i||(_i={}));(function(n){const t=Ji.prefixCls;n.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(_i||(_i={}));var Si;(function(n){function t(e,i){return(s,r,o)=>{const a=o.value;o.value=function(...l){if(this.scroller.widget==null){const u=`Shoule enable scroller to use method '${r}'`;if(e!==!1)throw console.error(u),new Error(u);return i!==!1&&console.warn(u),this}return a.call(this,...l)}}}n.checkScroller=t})(Si||(Si={}));const b5=`.x6-graph {
  position: relative;
  outline: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 100;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  position: absolute;
  opacity: 1;
  pointer-events: none;
}
.x6-widget-snapline-horizontal {
  border-bottom: 1px solid #2ecc71;
}
.x6-widget-snapline-vertical {
  border-right: 1px solid #2ecc71;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var y5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Xs extends Ce{init(){Xs.ensure()}dispose(){Xs.clean()}}y5([Xs.dispose()],Xs.prototype,"dispose",null);(function(n){let t,e=0;function i(){if(e+=1,!(e>1)&&!tn.isApplyingHMR()){t=document.createElement("style"),t.setAttribute("type","text/css"),t.textContent=b5;const r=document.querySelector("head");r&&r.insertBefore(t,r.firstChild)}}n.ensure=i;function s(){e-=1,!(e>0)&&(t&&t.parentNode&&t.parentNode.removeChild(t),t=null)}n.clean=s})(Xs||(Xs={}));var v5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Fr{get handleClassName(){return we.handle}get pie(){return Object.assign(Object.assign({},Fr.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(t=>this.addHandle(t)),this.handleOptions.type==="pie"){if(this.pie.toggles){const t=we.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(e=>{const i=this.$("<div/>");this.applyAttrs(i,e.attrs),i.addClass(t).addClass(`${t}-pos-${e.position||"e"}`).attr("data-name",e.name).appendTo(this.container),this.$pieToggles[e.name]=i})}this.setPieIcons()}if(this.$handleContainer){const t=this.handleOptions.type||"surround";this.$handleContainer.addClass(we.wrap).addClass(we.animate).addClass(`${we.handle}-${t}`)}this.delegateEvents({[`mousedown .${we.handle}`]:"onHandleMouseDown",[`touchstart .${we.handle}`]:"onHandleMouseDown",[`mousedown .${we.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${we.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(t){const e=this.$(t.currentTarget).closest(`.${we.handle}`).attr("data-action");e&&(t.preventDefault(),t.stopPropagation(),this.setEventData(t,{action:e,clientX:t.clientX,clientY:t.clientY,startX:t.clientX,startY:t.clientY}),t.type==="mousedown"&&t.button===2?this.triggerHandleAction(e,"contextmenu",t):(this.triggerHandleAction(e,"mousedown",t),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},t.data)))}onHandleMouseMove(t){const i=this.getEventData(t).action;i&&this.triggerHandleAction(i,"mousemove",t)}onHandleMouseUp(t){const i=this.getEventData(t).action;i&&(this.triggerHandleAction(i,"mouseup",t),this.undelegateDocumentEvents())}triggerHandleAction(t,e,i,s){i.preventDefault(),i.stopPropagation();const r=this.normalizeEvent(i),o=this.getEventData(r),a=this.graph.snapToGrid(r.clientX,r.clientY),l=this.graph.snapToGrid(o.clientX,o.clientY),c=a.x-l.x,u=a.y-l.y;this.trigger(`action:${t}:${e}`,Object.assign({e:r,dx:c,dy:u,x:a.x,y:a.y,offsetX:i.clientX-o.startX,offsetY:i.clientY-o.startY},s)),o.clientX=i.clientX,o.clientY=i.clientY}onPieToggleMouseDown(t){t.stopPropagation();const e=this.$(t.target).closest(`.${we.pieToggle}`).attr("data-name");this.isOpen(e)||this.isOpen()&&this.toggleState(),this.toggleState(e)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${we.handle}`).each((t,e)=>{const i=this.$(e),s=i.attr("data-action"),r=we.pieSlice,o=this.getHandle(s);if(!o||!o.icon){const a=window.getComputedStyle(e,":before").getPropertyValue("content");if(a&&a!=="none"){const c=i.find(`.${r}-txt`);c.length&&Et.create(c[0]).text(a.replace(/['"]/g,""))}const l=i.css("background-image");if(l){const c=l.match(/url\(['"]?([^'"]+)['"]?\)/);if(c){const u=c[1],h=i.find(`.${r}-img`);h.length>0&&Et.create(h[0]).attr("xlink:href",u)}}}})}getHandleIdx(t){return this.handles.findIndex(e=>e.name===t)}hasHandle(t){return this.getHandleIdx(t)>=0}getHandle(t){return this.handles.find(e=>e.name===t)}renderHandle(t){const e=this.$("<div/>").addClass(`${we.handle} ${we.handle}-${t.name}`).attr("data-action",t.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const i=this.getHandleIdx(t.name),s=this.pie,r=s.outerRadius,o=s.innerRadius,a=(r+o)/2,l=new L(r,r),c=se.toRad(s.sliceAngle),u=i*c+se.toRad(s.startAngle),h=u+c,f=y6(o,r,u,h),g=Et.create("svg").addClass(`${we.pieSlice}-svg`),b=Et.create("path").addClass(we.pieSlice).attr("d",f).translate(r,r),y=L.fromPolar(a,-u-c/2,l).toJSON(),w=s.iconSize,C=Et.create("image").attr(y).addClass(`${we.pieSlice}-img`);y.y=y.y+w-2;const E=Et.create("text",{"font-size":w}).attr(y).addClass(`${we.pieSlice}-txt`);C.attr({width:w,height:w}),C.translate(-w/2,-w/2),E.translate(-w/2,-w/2),g.append([b,C,E]),e.append(g.node)}else e.addClass(`${we.handle}-pos-${t.position}`),t.content&&(typeof t.content=="string"?e.html(t.content):e.append(t.content));return this.updateHandleIcon(e,t.icon),this.applyAttrs(e,t.attrs),e}addHandle(t){if(!this.hasHandle(t.name)){this.handles.push(t);const e=t.events;e&&Object.keys(e).forEach(i=>{const s=e[i],r=`action:${t.name}:${i}`;typeof s=="string"?this.on(r,this[s],this):this.on(r,s)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(t))}return this}addHandles(t){return t.forEach(e=>this.addHandle(e)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(t){const e=this.getHandleIdx(t),i=this.handles[e];return i&&(i.events&&Object.keys(i.events).forEach(s=>{this.off(`action:${t}:${s}`)}),this.getHandleElem(t).remove(),this.handles.splice(e,1)),this}changeHandle(t,e){const i=this.getHandle(t);return i&&(this.removeHandle(t),this.addHandle(Object.assign(Object.assign({},i),e))),this}toggleHandle(t,e){const i=this.getHandle(t);if(i){const s=this.getHandleElem(t),r=`${we.handle}-selected`;e===void 0&&(e=!s.hasClass(r)),s.toggleClass(r,e);const o=e?i.iconSelected:i.icon;o&&this.updateHandleIcon(s,o)}return this}selectHandle(t){return this.toggleHandle(t,!0)}deselectHandle(t){return this.toggleHandle(t,!1)}deselectAllHandles(){return this.handles.forEach(t=>this.deselectHandle(t.name)),this}getHandleElem(t){return this.$handleContainer.find(`.${we.handle}-${t}`)}updateHandleIcon(t,e){if(this.handleOptions.type==="pie"){const i=t.find(`.${we.pieSliceImg}`);this.$(i[0]).attr("xlink:href",e||"")}else t.css("background-image",e?`url(${e})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(t){return this.isRendered()?t?this.$pieToggles[t].hasClass(we.pieToggleOpened):this.$handleContainer.hasClass(`${we.pieOpended}`):!1}toggleState(t){if(this.isRendered()){const e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(i=>{this.$pieToggles[i].removeClass(we.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:t}),e.removeClass(we.pieOpended);else{if(this.trigger("pie:open",{name:t}),t){const i=this.pie.toggles,s=i&&i.find(r=>r.name===t);s&&e.attr({"data-pie-toggle-name":s.name,"data-pie-toggle-position":s.position}),this.$pieToggles[t].addClass(we.pieToggleOpened)}e.addClass(we.pieOpended)}}}applyAttrs(t,e){if(e){const i=re.$(t);Object.keys(e).forEach(s=>{const r=i.find(s).addBack().filter(s),o=e[s],{class:a}=o,l=v5(o,["class"]);a&&r.addClass(a),r.attr(l)})}}}(function(n){n.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(Fr||(Fr={}));var we;(function(n){n.handle=re.prototype.prefixClassName("widget-handle"),n.wrap=`${n.handle}-wrap`,n.animate=`${n.handle}-animate`,n.pieOpended=`${n.handle}-pie-opened`,n.pieToggle=`${n.handle}-pie-toggle`,n.pieToggleOpened=`${n.handle}-pie-toggle-opened`,n.pieSlice=`${n.handle}-pie-slice`,n.pieSliceImg=`${n.handle}-pie-slice-img`})(we||(we={}));var C5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},w5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class ml extends re{constructor(t){super();const e=t,{view:i,cell:s,node:r,edge:o,graph:a}=e,l=w5(e,["view","cell","node","edge","graph"]);i?(this.view=i,this.cell=i.cell,this.graph=i.graph,this.model=this.graph.model):(s||o||r)&&a&&(this.cell=r||o||s,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const c=this.constructor;t.clearAll!==!1&&c.removeInstances(this.graph),c.register(this),this.init(l)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(t,e){e==null&&(e=t.graph);const i=this.ensureCache();let s=i[e.view.cid];s==null&&(s=i[e.view.cid]={}),s[t.cid]=t}static unregister(t,e){e==null&&(e=t.graph);const i=this.ensureCache();i[e.view.cid]&&delete i[e.view.cid][t.cid]}static removeInstances(t){const i=this.ensureCache()[t.view.cid];i&&Object.keys(i).forEach(s=>{const r=i[s];r&&r.remove()})}static getInstances(t){return this.ensureCache()[t.view.cid]||{}}init(t){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}ml.instanceCache=new WeakMap;C5([re.dispose()],ml.prototype,"dispose",null);class cv extends ml{get node(){return this.cell}get metadata(){const t=this.cell.prop("knob");return Array.isArray(t)?this.options.index!=null?t[this.options.index]:null:t}init(t){this.options=Object.assign({},t),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),fe(this.container,this.prefixClassName("widget-knob")),this.options.className&&fe(this.container,this.options.className),this.view.addClass(Ir.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Ir.KNOB),super.remove()}update(){if(this.metadata){const{update:t,position:e}=this.metadata,i={knob:this,cell:this.cell,node:this.node};if(e){const s=e.call(this.graph,Object.assign({},i));if(s){const r=this.graph.matrix(),o=this.node.getBBox(),a=se.normalize(this.node.getAngle()),l=L.create(s);a!==0&&l.rotate(-a,{x:o.width/2,y:o.height/2}),l.translate(o).scale(r.a,r.d).translate(r.e,r.f),this.container.style.left=`${l.x}px`,this.container.style.top=`${l.y}px`}}t&&t.call(this.graph,Object.assign({},i))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:t}){this.cid!==t.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(t,e){if(this.view){const i=this.view.normalizeEvent(e),s=this.graph.snapToGrid(i.clientX,i.clientY);this.view.notify(`cell:${t}`,{e:i,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${t}`,{e:i,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${t}`,{e:i,view:this.view,edge:this.cell,cell:this.cell,x:s.x,y:s.y,knob:this})}}onMouseDown(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Ir.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)}onMouseMove(t){const e=this.getEventData(t),i=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,i&&(i.addClass(Ir.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){const s=this.graph.matrix(),r=(t.clientX-e.originX)/s.a,o=(t.clientY-e.originY)/s.d,a=this.node.getAngle(),l=new L(r,o).rotate(a);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:l.x,deltaY:l.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)}onMouseUp(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.getEventData(t),i=this.graph.findViewByCell(this.node);e.knobbing&&(i&&i.removeClass(Ir.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)}}var Ir;(function(n){n.KNOB="has-widget-knob",n.KNOBBING="node-knobbing",n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Ir||(Ir={}));var x5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},bl;(function(n){n.root="widget-minimap",n.viewport=`${n.root}-viewport`,n.zoom=`${n.viewport}-zoom`})(bl||(bl={}));class uv extends re{constructor(t){super();this.options=Object.assign(Object.assign({},wu.defaultOptions),t),this.updateViewport=Km(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(bl.root));const e=document.createElement("div");this.container.appendChild(e),this.$viewport=this.$("<div>").addClass(this.prefixClassName(bl.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(bl.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const i=Object.assign(Object.assign({},this.options.graphOptions),{container:e,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(i):new pe(i),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):this.sourceGraph.on("translate",this.updateViewport,this),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):this.sourceGraph.off("translate",this.updateViewport,this),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}updatePaper(t,e){let i,s;typeof t=="object"?(i=t.width,s=t.height):(i=t,s=e);const r=this.sourceGraph.options,o=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,l=this.options.height-2*this.options.padding;i/=o.sx,s/=o.sy,this.ratio=Math.min(a/i,l/s);const c=this.ratio,u=r.x*c/o.sx,h=r.y*c/o.sy;return i*=c,s*=c,this.targetGraph.resizeGraph(i,s),this.targetGraph.translate(u,h),this.targetGraph.scale(c,c),this.updateViewport(),this}updateViewport(){const t=this.ratio,e=this.sourceGraph.transform.getScale();let i=null;if(this.scroller)i=this.scroller.clientToLocalPoint(0,0);else{const o=this.sourceGraph.matrix();i=new L(-o.e/o.a,-o.f/o.d)}const s=this.$(this.targetGraph.container).position(),r=this.targetGraph.translate();r.ty=r.ty||0,this.geometry={top:s.top+i.y*t+r.ty,left:s.left+i.x*t+r.tx,width:this.$graphContainer.innerWidth()*t/e.sx,height:this.$graphContainer.innerHeight()*t/e.sy},this.$viewport.css(this.geometry)}startAction(t){const e=this.normalizeEvent(t),i=e.target===this.zoomHandle?"zooming":"panning",{tx:s,ty:r}=this.sourceGraph.translate(),o={action:i,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:s,translateY:r};this.delegateDocumentEvents(wu.documentEvents,o)}doAction(t){const e=this.normalizeEvent(t),i=e.clientX,s=e.clientY,r=e.data;switch(r.action){case"panning":{const o=this.sourceGraph.transform.getScale(),a=(i-r.clientX)*o.sx,l=(s-r.clientY)*o.sy;this.scroller?(this.graphContainer.scrollLeft=r.scrollLeft+a/this.ratio,this.graphContainer.scrollTop=r.scrollTop+l/this.ratio):this.sourceGraph.translate(r.translateX-a/this.ratio,r.translateY-l/this.ratio);break}case"zooming":{const o=r.scale,a=r.geometry,l=1+(r.clientX-i)/a.width/o.sx;r.frameId&&cancelAnimationFrame(r.frameId),r.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(l*r.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents()}scrollTo(t){const e=this.normalizeEvent(t);let i,s;const r=this.targetGraph.translate();if(r.ty=r.ty||0,e.offsetX==null){const l=this.$(this.targetGraph.container).offset();i=e.pageX-l.left,s=e.pageY-l.top}else i=e.offsetX,s=e.offsetY;const o=(i-r.tx)/this.ratio,a=(s-r.ty)/this.ratio;this.sourceGraph.centerPoint(o,a)}dispose(){this.remove()}}x5([re.dispose()],uv.prototype,"dispose",null);var wu;(function(n){n.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:t=>new pe(t)},n.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(wu||(wu={}));var S5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},E5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class hv extends re{constructor(t){super();const{graph:e}=t,i=E5(t,["graph"]);this.graph=e,this.options=Object.assign({tolerance:10},i),this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(t){this.options.filter=t,this.parseFilter()}render(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$horizontal=this.$(document.createElement("div")).addClass(this.horizontalClassName),this.$vertical=this.$(document.createElement("div")).addClass(this.verticalClassName),this.$container.hide().addClass(this.containerClassName).append([this.$horizontal,this.$vertical]),this.options.className&&this.$container.addClass(this.options.className)}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const t=this.options.filter;Array.isArray(t)?t.forEach(e=>{typeof e=="string"?this.filterShapes[e]=!0:this.filterCells[e.id]=!0}):typeof t=="function"&&(this.filterFunction=t)}onBatchStop({name:t,data:e}){t==="resize"&&this.snapOnResizing(e.cell,e)}captureCursorOffset({view:t,x:e,y:i}){const s=t.getDelegatedView();if(s&&this.isNodeMovable(s)){const r=t.cell.getPosition();this.offset={x:e-r.x,y:i-r.y}}}isNodeMovable(t){return t&&t.cell.isNode()&&t.can("nodeMovable")}snapOnResizing(t,e){if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){const i=this.graph.renderer.findViewByCell(t);if(i&&i.cell.isNode()){const s=t.getBBox(),r=s.bbox(t.getAngle()),o=r.getTopLeft(),a=r.getBottomRight(),l=se.normalize(t.getAngle()),c=this.options.tolerance||0;let u,h,f,g,b,y;const w={vertical:0,horizontal:0},C=e.direction,E=e.trueDirection,S=e.relativeDirection;E.indexOf("right")!==-1?w.vertical=a.x:w.vertical=o.x,E.indexOf("bottom")!==-1?w.horizontal=a.y:w.horizontal=o.y,this.model.getNodes().some(I=>{if(this.isIgnored(t,I))return!1;const Y=I.getBBox().bbox(I.getAngle()),nt=Y.getTopLeft(),G=Y.getBottomRight(),q={vertical:[nt.x,G.x],horizontal:[nt.y,G.y]},Q={};return Object.keys(q).forEach(st=>{const Tt=st,Ut=q[Tt].map(ht=>({position:ht,distance:Math.abs(ht-w[Tt])})).filter(ht=>ht.distance<=c);Q[Tt]=Bd(Ut,ht=>ht.distance)}),u==null&&Q.vertical.length>0&&(u=Q.vertical[0].position,h=Math.min(r.y,Y.y),f=Math.max(a.y,G.y)-h),g==null&&Q.horizontal.length>0&&(g=Q.horizontal[0].position,b=Math.min(r.x,Y.x),y=Math.max(a.x,G.x)-b),u!=null&&g!=null}),this.hide();let T=0,$=0;(g!=null||u!=null)&&(u!=null&&(T=E.indexOf("right")!==-1?u-a.x:o.x-u),g!=null&&($=E.indexOf("bottom")!==-1?g-a.y:o.y-g));let p=0,A=0;if(l%90==0)l===90||l===270?(p=$,A=T):(p=T,A=$);else{const I=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;g!=null&&u!=null&&(T<$?($=0,g=void 0):(T=0,u=void 0));const Y=se.toRad(l%90);T&&(p=I===3?T/Math.cos(Y):T/Math.sin(Y)),$&&(A=I===3?$/Math.cos(Y):$/Math.sin(Y));const nt=I===1||I===3;switch(S){case"top":case"bottom":A=$?$/(nt?Math.cos(Y):Math.sin(Y)):T/(nt?Math.sin(Y):Math.cos(Y));break;case"left":case"right":p=T?T/(nt?Math.cos(Y):Math.sin(Y)):$/(nt?Math.sin(Y):Math.cos(Y));break}}switch(S){case"top":case"bottom":p=0;break;case"left":case"right":A=0;break}const k=this.graph.getGridSize();let F=Math.max(s.width+p,k),H=Math.max(s.height+A,k);e.minWidth&&e.minWidth>k&&(F=Math.max(F,e.minWidth)),e.minHeight&&e.minHeight>k&&(H=Math.max(H,e.minHeight)),e.maxWidth&&(F=Math.min(F,e.maxWidth)),e.maxHeight&&(H=Math.min(H,e.maxHeight)),e.preserveAspectRatio&&(A<p?H=F*(s.height/s.width):F=H*(s.width/s.height)),(F!==s.width||H!==s.height)&&(t.resize(F,H,{direction:C,relativeDirection:S,trueDirection:E,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(i)}),f&&(f+=H-s.height),y&&(y+=F-s.width));const _=t.getBBox().bbox(l);u&&Math.abs(_.x-u)>1&&Math.abs(_.width+_.x-u)>1&&(u=void 0),g&&Math.abs(_.y-g)>1&&Math.abs(_.height+_.y-g)>1&&(g=void 0),this.update({verticalLeft:u,verticalTop:h,verticalHeight:f,horizontalTop:g,horizontalLeft:b,horizontalWidth:y})}}}snapOnMoving({view:t,e,x:i,y:s}){const r=t.getEventData(e).delegatedView||t;if(!this.isNodeMovable(r))return;const o=r.cell,a=o.getSize(),l=o.getPosition(),c=new ut(i-this.offset.x,s-this.offset.y,a.width,a.height),u=o.getAngle(),h=c.getCenter(),f=c.bbox(u),g=f.getTopLeft(),b=f.getBottomRight(),y=this.options.tolerance||0;let w,C,E,S,T,$,p=0,A=0;if(this.model.getNodes().some(k=>{if(this.isIgnored(o,k))return!1;const F=k.getBBox().bbox(k.getAngle()),H=F.getCenter(),_=F.getTopLeft(),I=F.getBottomRight();return w==null&&(Math.abs(H.x-h.x)<y?(w=H.x,p=.5):Math.abs(_.x-g.x)<y?(w=_.x,p=0):Math.abs(_.x-b.x)<y?(w=_.x,p=1):Math.abs(I.x-b.x)<y?(w=I.x,p=1):Math.abs(I.x-g.x)<y&&(w=I.x),w!=null&&(C=Math.min(f.y,F.y),E=Math.max(b.y,I.y)-C)),S==null&&(Math.abs(H.y-h.y)<y?(S=H.y,A=.5):Math.abs(_.y-g.y)<y?S=_.y:Math.abs(_.y-b.y)<y?(S=_.y,A=1):Math.abs(I.y-b.y)<y?(S=I.y,A=1):Math.abs(I.y-g.y)<y&&(S=I.y),S!=null&&(T=Math.min(f.x,F.x),$=Math.max(b.x,I.x)-T)),w!=null&&S!=null}),this.hide(),S!=null||w!=null){S!=null&&(f.y=S-A*f.height),w!=null&&(f.x=w-p*f.width);const k=f.getCenter(),F=k.x-c.width/2,H=k.y-c.height/2,_=F-l.x,I=H-l.y;(_!==0||I!==0)&&(o.translate(_,I,{snapped:!0,restrict:this.graph.hook.getRestrictArea(r)}),$&&($+=_),E&&(E+=I)),this.update({verticalLeft:w,verticalTop:C,verticalHeight:E,horizontalTop:S,horizontalLeft:T,horizontalWidth:$})}}isIgnored(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&yt(this.filterFunction,this.graph,e)}update(t){const e=this.graph.matrix(),i=e.a,s=e.d,r=e.e,o=e.f,a=this.options.sharp,l=this.graph.scroller.widget!=null;t.horizontalTop?this.$horizontal.css({top:t.horizontalTop*s+o,left:a?t.horizontalLeft*i+r:l?"-300%":0,width:a?t.horizontalWidth*i:l?"700%":"100%"}).show():this.$horizontal.hide(),t.verticalLeft?this.$vertical.css({left:t.verticalLeft*i+r,top:a?t.verticalTop*s+o:l?"-300%":0,height:a?t.verticalHeight*s:l?"700%":"100%"}).show():this.$vertical.hide(),this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.$container.show(),this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.$container.hide(),this.resetTimer();const t=this.options.clean,e=typeof t=="number"?t:t!==!1?3e3:0;return e>0&&(this.timer=window.setTimeout(()=>{this.unmount()},e)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}S5([re.dispose()],hv.prototype,"dispose",null);var A5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class de extends Ce{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(de.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:t}){this.removeZPivots(),this.resetViews(this.model.getCells(),t)}onBatchStop({name:t,data:e}){if(this.isFrozen())return;const i=this.model;if(!this.isAsync()){const r=de.UPDATE_DELAYING_BATCHES;r.includes(t)&&!i.hasActiveBatch(r)&&this.updateViews(e)}const s=de.SORT_DELAYING_BATCHES;s.includes(t)&&!i.hasActiveBatch(s)&&this.sortViews()}onCellAdded({cell:t,options:e}){const i=e.position;this.isAsync()||typeof i!="number"?this.renderView(t,e):(e.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(t,e),i===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:t,options:e}){const i=this.findViewByCell(t);i&&this.requestViewUpdate(i,de.FLAG_REMOVE,i.priority,e)}onCellZIndexChanged({cell:t,options:e}){if(this.options.sorting==="approx"){const i=this.findViewByCell(t);i&&this.requestViewUpdate(i,de.FLAG_INSERT,i.priority,e)}}onCellVisibleChanged({cell:t,current:e,options:i}){e||this.processEdgeOnTerminalVisibleChanged(t,!1);const s=this.findViewByCell(t);!e&&s?this.removeView(t):e&&s==null&&this.renderView(t,i),e&&this.processEdgeOnTerminalVisibleChanged(t,!0)}processEdgeOnTerminalVisibleChanged(t,e){const i=(s,r)=>s.getSourceCellId()!==r.id?s.getSourceCell():s.getTargetCellId()!==r.id?s.getTargetCell():null;this.model.getConnectedEdges(t).forEach(s=>{const r=i(s,t);(r==null||r.isVisible())&&(e?s.show():s.hide())})}isEdgeTerminalVisible(t,e){const i=e==="source"?t.getSourceCellId():t.getTargetCellId(),s=i?this.model.getCell(i):null;return!(s&&!s.isVisible())}requestConnectedEdgesUpdate(t,e={}){if(He.isCellView(t)){const i=t.cell,s=this.model.getConnectedEdges(i);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=this.findViewByCell(a);if(!l)continue;const c=["update"];a.getTargetCell()===i&&c.push("target"),a.getSourceCell()===i&&c.push("source"),this.scheduleViewUpdate(l,l.getFlag(c),l.priority,e)}}}forcePostponedViewUpdate(t,e){if(!t||!He.isCellView(t))return!1;const i=t.cell;if(i.isNode())return!1;const s=t;if(i.isEdge()&&(e&t.getFlag(["source","target"]))==0){let r=0;const o=this.findViewByCell(i.getSourceCell());o&&!this.isViewMounted(o)&&(r=this.dumpView(o),s.updateTerminalMagnet("source"));let a=0;const l=this.findViewByCell(i.getTargetCell());if(l&&!this.isViewMounted(l)&&(a=this.dumpView(l),s.updateTerminalMagnet("target")),r===0&&a===0)return!this.dumpView(s)}return!1}scheduleViewUpdate(t,e,i,s={}){const r=t.cid,o=this.updates;let a=o.priorities[i];a||(a=o.priorities[i]={});const l=a[r]||0;(l&e)!==e&&(l||(o.count+=1),e&de.FLAG_REMOVE&&l&de.FLAG_INSERT?a[r]^=de.FLAG_INSERT:e&de.FLAG_INSERT&&l&de.FLAG_REMOVE&&(a[r]^=de.FLAG_REMOVE),a[r]|=e,this.graph.hook.onViewUpdated(t,e,s))}requestViewUpdate(t,e,i,s={}){this.scheduleViewUpdate(t,e,i,s);const r=this.isAsync();if(this.isFrozen()||r&&s.async!==!1||this.model.hasActiveBatch(de.UPDATE_DELAYING_BATCHES))return;const o=this.updateViews(s);r&&this.graph.trigger("render:done",{stats:o,options:s})}dumpView(t,e={}){if(t==null)return 0;const i=t.cid,r=this.updates.priorities[t.priority],o=this.registerMountedView(t)|r[i];return delete r[i],o?this.updateView(t,o,e):0}dumpViews(t={}){this.checkView(t),this.updateViews(t)}requireView(t,e={}){const i=this.findViewByCell(t);return i==null?null:(this.dumpView(i,e),i)}updateView(t,e,i={}){if(t==null)return 0;if(He.isCellView(t)){if(e&de.FLAG_REMOVE)return this.removeView(t.cell),0;e&de.FLAG_INSERT&&(this.insertView(t),e^=de.FLAG_INSERT)}return e?t.confirmUpdate(e,i):0}updateViews(t={}){let e,i=0,s=0,r=de.MIN_PRIORITY;do e=this.updateViewsBatch(t),i+=1,s+=e.updatedCount,r=Math.min(e.priority,r);while(!e.empty);return{priority:r,batchCount:i,updatedCount:s}}updateViewsBatch(t={}){const e=this.updates,i=e.priorities,s=t.batchSize||de.UPDATE_BATCH_SIZE;let r=!0,o=de.MIN_PRIORITY,a=0,l=0,c=0,u=0,h=t.checkView||this.options.checkView;typeof h!="function"&&(h=null);t:for(let f=0,g=i.length;f<g;f+=1){const b=i[f];for(const y in b){if(c>=s){r=!1;break t}const w=re.views[y];if(!w){delete b[y];continue}let C=b[y];if((C&de.FLAG_REMOVE)==0){const T=y in e.unmounted;if(h&&!yt(h,this.graph,{view:w,unmounted:T})){T||(this.registerUnmountedView(w),w.unmount()),e.unmounted[y]|=C,delete b[y],l+=1;continue}T&&(C|=de.FLAG_INSERT,a+=1),C|=this.registerMountedView(w)}const E=w;let S=this.updateView(w,C,t);if(S>0){const T=E.cell;T&&T.isEdge()&&(E.hasAction(S,"source")&&!this.isEdgeTerminalVisible(T,"source")&&(S=E.removeAction(S,"source"),S|=de.FLAG_REMOVE),E.hasAction(S,"target")&&!this.isEdgeTerminalVisible(T,"target")&&(S=E.removeAction(S,"target"),S|=de.FLAG_REMOVE))}if(S>0&&(b[y]=S,!this.graph.hook.onViewPostponed(E,S,t)||b[y])){u+=1,r=!1;continue}o>f&&(o=f),c+=1,delete b[y]}}return{empty:r,priority:o,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:u}}updateViewsAsync(t={},e={processed:0,priority:de.MIN_PRIORITY}){const i=this.updates,s=i.animationId;if(s){if(df(s),e.processed===0){const f=t.before;typeof f=="function"&&yt(f,this.graph,this.graph)}const r=this.updateViewsBatch(t),o=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:de.MOUNT_BATCH_SIZE-r.mountedCount,unmountedBatchSize:de.MOUNT_BATCH_SIZE-r.unmountedCount});let a=e.processed;const l=i.count,c=o.mountedCount,u=o.unmountedCount;r.updatedCount>0&&(a+=r.updatedCount+r.unmountedCount,e.priority=Math.min(r.priority,e.priority),r.empty&&c===0?(r.priority=e.priority,r.mountedCount+=c,r.unmountedCount+=u,this.graph.trigger("render:done",{stats:r,options:t}),e.processed=0,i.count=0):e.processed=a);const h=t.progress;if(l&&typeof h=="function"&&yt(h,this.graph,{total:l,done:r.empty,current:a}),i.animationId!==s)return}i.animationId=hf(()=>{this.updateViewsAsync(t,e)})}registerMountedView(t){const e=t.cid,i=this.updates;if(e in i.mounted)return 0;i.mounted[e]=!0,i.mountedCids.push(e);const s=i.unmounted[e]||0;return delete i.unmounted[e],s}registerUnmountedView(t){const e=t.cid,i=this.updates;if(e in i.unmounted)return 0;i.unmounted[e]|=de.FLAG_INSERT;const s=i.unmounted[e];return i.unmountedCids.push(e),delete i.mounted[e],s}isViewMounted(t){return t==null?!1:t.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(t=>He.views[t])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(t=>He.views[t])}checkMountedViews(t,e){let i=0;if(typeof t!="function")return i;const s=this.updates,r=s.mounted,o=s.mountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in r))continue;const u=He.views[c];if(u==null)continue;if(yt(t,this.graph,{view:u,unmounted:!0})){o.push(c);continue}i+=1,this.registerUnmountedView(u)&&u.unmount()}return o.splice(0,a),i}checkUnmountedViews(t,e){let i=0;typeof t!="function"&&(t=null);const s=this.updates,r=s.unmounted,o=s.unmountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in r))continue;const u=He.views[c];if(u==null)continue;if(t&&!yt(t,this.graph,{view:u,unmounted:!1})){o.push(c);continue}i+=1;const h=this.registerMountedView(u);h&&this.scheduleViewUpdate(u,h,u.priority,{mounting:!0})}return o.splice(0,a),i}checkViewImpl(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const e=t.checkView||this.options.checkView,i=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,i>0?Math.min(this.updates.unmountedCids.length-i,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:i}}checkView(t={}){return this.checkViewImpl(t)}isFrozen(){return!!this.options.frozen}freeze(t={}){const e=t.key,i=this.updates,s=this.options.frozen,r=i.freezeKey;if(e&&e!==r){if(s&&r)return;i.frozen=s,i.freezeKey=e}this.options.frozen=!0;const o=i.animationId;i.animationId=null,this.isAsync()&&o!=null&&df(o),this.graph.trigger("freeze",{key:e})}unfreeze(t={}){const e=t.key,i=this.updates,s=i.freezeKey;if(e&&s&&e!==s||(i.freezeKey=null,e&&e===s&&i.frozen))return;const r=()=>{this.options.frozen=i.frozen=!1,i.sort&&(this.sortViews(),i.sort=!1);const o=t.after;o&&yt(o,this.graph,this.graph),this.graph.trigger("unfreeze",{key:e})};if(this.isAsync()){this.freeze();const o=t.progress;this.updateViewsAsync(Object.assign(Object.assign({},t),{progress:({done:a,current:l,total:c})=>{o&&yt(o,this.graph,{done:a,current:l,total:c}),a&&r()}}))}else this.updateViews(t),r()}isAsync(){return!!this.options.async}setAsync(t){this.options.async=t}onRemove(){this.freeze(),this.removeViews()}resetViews(t=[],e={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let i=0,s=t.length;i<s;i+=1)this.renderView(t[i],e);this.unfreeze({key:"reset"}),this.sortViews()}removeView(t){const e=this.views[t.id];if(e){const i=e.cid,s=this.updates,r=s.mounted,o=s.unmounted;e.remove(),delete this.views[t.id],delete r[i],delete o[i]}return e}removeViews(){this.views&&Object.keys(this.views).forEach(t=>{const e=this.views[t];e&&this.removeView(e.cell)}),this.views={}}renderView(t,e={}){const i=t.id,s=this.views;let r=0,o=s[i];if(!!t.isVisible()&&!(t.isEdge()&&(!this.isEdgeTerminalVisible(t,"source")||!this.isEdgeTerminalVisible(t,"target")))){if(o)r=de.FLAG_INSERT;else{const a=this.graph.hook.createCellView(t);a&&(o=s[t.id]=a,o.graph=this.graph,r=this.registerUnmountedView(o)|o.getBootstrapFlag())}o&&this.requestViewUpdate(o,r,o.priority,e)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(!!this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(t,e){const i=t.map(s=>{const r=s.parentNode,o=r.insertBefore(document.createTextNode(""),s.nextSibling);return a=>{if(r===a)throw new Error("You can't sort elements if any one is a descendant of another.");r.insertBefore(a,o),r.removeChild(o)}});t.sort(e).forEach((s,r)=>i[r](s))}sortViewsExact(){const t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,(i,s)=>{const r=e.getCell(i.getAttribute("data-cell-id")||""),o=e.getCell(s.getAttribute("data-cell-id")||""),a=r.getZIndex()||0,l=o.getZIndex()||0;return a===l?0:a<l?-1:1})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let i=e[t];if(i)return i;i=e[t]=document.createComment(`z-index:${t+1}`);let s=-1/0;for(const o in e){const a=+o;!(a<t&&a>s&&(s=a,s===t-1))}const r=this.view.stage;if(s!==-1/0){const o=e[s];r.insertBefore(i,o.nextSibling)}else r.insertBefore(i,r.firstChild);return i}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(t=>{const e=this.zPivots[t];e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}insertView(t){const e=this.view.stage;switch(this.options.sorting){case"approx":{const i=t.cell.getZIndex(),s=this.addZPivot(i);e.insertBefore(t.container,s);break}case"exact":default:e.appendChild(t.container);break}}findViewByCell(t){if(t==null)return null;const e=oe.isCell(t)?t.id:t;return this.views[e]}findViewByElem(t){if(t==null)return null;const e=typeof t=="string"?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){const i=this.view.findAttr("data-cell-id",e);if(i)return this.views[i]}return null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(i=>this.findViewByCell(i)).filter(i=>i!=null?En(i.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsInArea(t,e={}){const i=ut.create(t);return this.model.getEdges().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const r=En(s.container,{target:this.view.stage});return r.width===0?r.inflate(1,0):r.height===0&&r.inflate(0,1),e.strict?i.containsRect(r):i.isIntersectWithRect(r)}return!1})}findViewsInArea(t,e={}){const i=ut.create(t);return this.model.getNodes().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const r=En(s.container,{target:this.view.stage});return e.strict?i.containsRect(r):i.isIntersectWithRect(r)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}A5([Ce.dispose()],de.prototype,"dispose",null);(function(n){n.FLAG_INSERT=1<<30,n.FLAG_REMOVE=1<<29,n.MOUNT_BATCH_SIZE=1e3,n.UPDATE_BATCH_SIZE=1e3,n.MIN_PRIORITY=2,n.SORT_DELAYING_BATCHES=["add","to-front","to-back"],n.UPDATE_DELAYING_BATCHES=["translate"]})(de||(de={}));var M5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class xu extends Ce{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",i=t.position||"center";const s=this.graph.transform.getScale(),r=this.graph.translate();if(typeof i=="object"){const o=r.tx+s.sx*(i.x||0),a=r.ty+s.sy*(i.y||0);i=`${o}px ${a}px`}typeof e=="object"&&(e=ut.fromSize(e).scale(s.sx,s.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=i}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const i=this.optionsCache;if(i&&i.image!==e.image)return;let s;const r=e.opacity,o=e.size;let a=e.repeat||"no-repeat";const l=sl.registry.get(a);if(typeof l=="function"){const u=e.quality||1;t.width*=u,t.height*=u;const h=l(t,e);if(!(h instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=h.toDataURL("image/png"),e.repeat&&a!==e.repeat?a=e.repeat:a="repeat",typeof o=="object"?(o.width*=h.width/t.width,o.height*=h.height/t.height):o===void 0&&(e.size={width:h.width/u,height:h.height/u})}else s=t.src,o===void 0&&(e.size={width:t.width,height:t.height});i!=null&&typeof e.size=="object"&&e.image===i.image&&e.repeat===i.repeat&&e.quality===i.quality&&(i.size=Ya(e.size));const c=this.elem.style;c.backgroundImage=`url(${s})`,c.backgroundRepeat=a,c.opacity=r==null||r>=1?"":`${r}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=Ya(e);const i=document.createElement("img");i.onload=()=>this.drawBackgroundImage(i,t),i.setAttribute("crossorigin","anonymous"),i.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}M5([Ce.dispose()],xu.prototype,"dispose",null);var T5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},O5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Wo extends re{constructor(t){super();this.padding={left:0,top:0,right:0,bottom:0},this.options=Ei.getOptions(t);const e=this.graph.transform.getScale();this.sx=e.sx,this.sy=e.sy;const i=this.options.width||this.graph.options.width,s=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Ei.containerClass)).css({width:i,height:s}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(Ei.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const r=this.graph.container;r.parentNode&&this.$container.insertBefore(r);const o=r.getAttribute("style");if(o){const a={};o.split(";").forEach(c=>{const u=c.trim();if(u){const h=u.split(":");h.length&&(a[h[0].trim()]=h[1]?h[1].trim():"")}}),Object.keys(a).forEach(c=>{c==="width"||c==="height"||(r.style[c]="",this.container.style[c]=a[c])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(Ei.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(Ei.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(r),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new Wo.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(t){this.graph.isAsync()||!this.options.autoResize||de.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()}delegateBackgroundEvents(t){const e=t||_i.events;this.delegatedHandlers=Object.keys(e).reduce((i,s)=>{const r=e[s];if(s.indexOf(" ")===-1)if(typeof r=="function")i[s]=r;else{let o=this.graph.view[r];typeof o=="function"&&(o=o.bind(this.graph.view),i[s]=o)}return i},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(i=>{this.delegateEvent(i,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(t=>{this.undelegateEvent(t,this.onBackgroundEvent)})}onBackgroundEvent(t){let e=!1;const i=t.target;if(this.options.pageVisible)this.options.background?e=this.background===i:e=this.content===i;else{const s=this.graph.view;e=s.background===i||s.grid===i}if(e){const s=this.delegatedHandlers[t.type];typeof s=="function"&&s.apply(this.graph,arguments)}}onRenderDone({stats:t}){this.options.autoResize&&t.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:t,sy:e,ox:i,oy:s}){this.updateScale(t,e),(i||s)&&(this.centerPoint(i,s),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){(tn.IS_IE||tn.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){(tn.IS_IE||tn.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(t,e){t!=null&&(this.options.pageWidth=t),e!=null&&(this.options.pageHeight=e),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const t=this.graph.options.width,e=this.graph.options.height,i=this.options.pageWidth*this.sx,s=this.options.pageHeight*this.sy;if(t>i||e>s){let r=!1;const o=document.createElement("div");for(let a=1,l=Math.floor(t/i);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:a*i}).appendTo(o),r=!0;for(let a=1,l=Math.floor(e/s);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:a*s}).appendTo(o),r=!0;r&&(fe(o,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(o),this.pageBreak=o)}}}update(){const t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);let e=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof e=="function"&&(e=yt(e,this,this));const i=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},e);this.graph.fitToContent(this.getFitToContentOptions(i))}getFitToContentOptions(t){const e=this.sx,i=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=i),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=i),typeof t.padding=="object"?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*i,bottom:(t.padding.bottom||0)*i}:typeof t.padding=="number"&&(t.padding*=e),this.options.autoResize||(t.contentArea=ut.create()),t}updateScale(t,e){const i=this.graph.options,s=t/this.sx,r=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(i.x*s,i.y*r),this.graph.resizeGraph(i.width*s,i.height*r)}scrollbarPosition(t,e,i){if(t==null&&e==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const s={};return typeof t=="number"&&(s.scrollLeft=t),typeof e=="number"&&(s.scrollTop=e),i&&i.animation?this.$container.animate(s,i.animation):this.$container.prop(s),this}scrollToPoint(t,e,i){const s=this.getClientSize(),r=this.graph.matrix(),o={};return typeof t=="number"&&(o.scrollLeft=t-s.width/2+r.e+(this.padding.left||0)),typeof e=="number"&&(o.scrollTop=e-s.height/2+r.f+(this.padding.top||0)),i&&i.animation?this.$container.animate(o,i.animation):this.$container.prop(o),this}scrollToContent(t){const e=this.sx,i=this.sy,s=this.graph.getContentArea().getCenter();return this.scrollToPoint(s.x*e,s.y*i,t)}scrollToCell(t,e){const i=this.sx,s=this.sy,r=t.getBBox().getCenter();return this.scrollToPoint(r.x*i,r.y*s,e)}center(t){return this.centerPoint(t)}centerPoint(t,e,i){const s=this.graph.matrix(),r=s.a,o=s.d,a=-s.e,l=-s.f,c=a+this.graph.options.width,u=l+this.graph.options.height;let h;if(this.storeClientSize(),typeof t=="number"||typeof e=="number"){h=i;const $=this.getVisibleArea().getCenter();typeof t=="number"?t*=r:t=$.x,typeof e=="number"?e*=o:e=$.y}else h=t,t=(a+c)/2,e=(l+u)/2;if(h&&h.padding)return this.positionPoint({x:t,y:e},"50%","50%",h);const f=this.getPadding(),g=this.getClientSize(),b=g.width/2,y=g.height/2,w=b-f.left-t+a,C=b-f.right+t-c,E=y-f.top-e+l,S=y-f.bottom+e-u;this.addPadding(Math.max(w,0),Math.max(C,0),Math.max(E,0),Math.max(S,0));const T=this.scrollToPoint(t,e,h||void 0);return this.restoreClientSize(),T}centerContent(t){return this.positionContent("center",t)}centerCell(t,e){return this.positionCell(t,"center",e)}positionContent(t,e){const i=this.graph.getContentArea(e);return this.positionRect(i,t,e)}positionCell(t,e,i){const s=t.getBBox();return this.positionRect(s,e,i)}positionRect(t,e,i){const s=ut.create(t);switch(e){case"center":return this.positionPoint(s.getCenter(),"50%","50%",i);case"top":return this.positionPoint(s.getTopCenter(),"50%",0,i);case"top-right":return this.positionPoint(s.getTopRight(),"100%",0,i);case"right":return this.positionPoint(s.getRightMiddle(),"100%","50%",i);case"bottom-right":return this.positionPoint(s.getBottomRight(),"100%","100%",i);case"bottom":return this.positionPoint(s.getBottomCenter(),"50%","100%",i);case"bottom-left":return this.positionPoint(s.getBottomLeft(),0,"100%",i);case"left":return this.positionPoint(s.getLeftMiddle(),0,"50%",i);case"top-left":return this.positionPoint(s.getTopLeft(),0,0,i);default:return this}}positionPoint(t,e,i,s={}){const{padding:r}=s,o=O5(s,["padding"]),a=Kn(r),l=ut.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:a.left,y:a.top,width:-a.right-a.left,height:-a.top-a.bottom});e=Xi(e,Math.max(0,c.width)),e<0&&(e=c.width+e),i=Xi(i,Math.max(0,c.height)),i<0&&(i=c.height+i);const u=c.getTopLeft().translate(e,i),h=l.getCenter().diff(u),f=this.zoom(),g=h.scale(1/f,1/f),b=L.create(t).translate(g);return this.centerPoint(b.x,b.y,o)}zoom(t,e){if(t==null)return this.sx;e=e||{};let i,s;const r=this.getClientSize(),o=this.clientToLocalPoint(r.width/2,r.height/2);let a=t,l=t;if(e.absolute||(a+=this.sx,l+=this.sy),e.scaleGrid&&(a=Math.round(a/e.scaleGrid)*e.scaleGrid,l=Math.round(l/e.scaleGrid)*e.scaleGrid),e.maxScale&&(a=Math.min(e.maxScale,a),l=Math.min(e.maxScale,l)),e.minScale&&(a=Math.max(e.minScale,a),l=Math.max(e.minScale,l)),a=this.graph.transform.clampScale(a),l=this.graph.transform.clampScale(l),e.center){const c=a/this.sx,u=l/this.sy;i=e.center.x-(e.center.x-o.x)/c,s=e.center.y-(e.center.y-o.y)/u}else i=o.x,s=o.y;return this.beforeManipulation(),this.graph.transform.scale(a,l),this.centerPoint(i,s),this.afterManipulation(),this}zoomToRect(t,e={}){const i=ut.create(t),s=this.graph;e.contentArea=i,e.viewportArea==null&&(e.viewportArea={x:s.options.x,y:s.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),s.transform.scaleContentToFitImpl(e,!1);const r=i.getCenter();return this.centerPoint(r.x,r.y),this.afterManipulation(),this}zoomToFit(t={}){return this.zoomToRect(this.graph.getContentArea(t),t)}transitionToPoint(t,e,i){typeof t=="object"?(i=e,e=t.y,t=t.x):e=e,i==null&&(i={});let s,r;const o=this.sx,a=Math.max(i.scale||o,1e-6),l=this.getClientSize(),c=new L(t,e),u=this.clientToLocalPoint(l.width/2,l.height/2);if(o===a){const f=u.diff(c).scale(o,o).round();s=`translate(${f.x}px,${f.y}px)`}else{const f=a/(o-a)*c.distance(u),g=u.clone().move(c,f),b=this.localToBackgroundPoint(g).round();s=`scale(${a/o})`,r=`${b.x}px ${b.y}px`}const h=i.onTransitionEnd;return this.$container.addClass(Ei.transitionClassName),this.$content.off(Ei.transitionEventName).on(Ei.transitionEventName,f=>{this.syncTransition(a,{x:t,y:e}),typeof h=="function"&&yt(h,this,f.originalEvent)}).css({transform:s,transformOrigin:r,transition:"transform",transitionDuration:i.duration||"1s",transitionDelay:i.delay,transitionTimingFunction:i.timing}),this}syncTransition(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(Ei.transitionClassName),this.$content.off(Ei.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(t,e={}){const i=ut.create(t),s=e.maxScale||1/0,r=e.minScale||Number.MIN_VALUE,o=e.scaleGrid||null,a=e.visibility||1,l=e.center?L.create(e.center):i.getCenter(),c=this.getClientSize(),u=c.width*a,h=c.height*a;let f=new ut(l.x-u/2,l.y-h/2,u,h).getMaxUniformScaleToFit(i,l);return f=Math.min(f,s),o&&(f=Math.floor(f/o)*o),f=Math.max(r,f),this.transitionToPoint(l,Object.assign({scale:f},e))}startPanning(t){const e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.normalizeEvent(t),i=e.clientX-this.clientX,s=e.clientY-this.clientY;this.container.scrollTop-=s,this.container.scrollLeft-=i,this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("panning",{e})}stopPanning(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})}clientToLocalPoint(t,e){let i=typeof t=="object"?t.x:t,s=typeof t=="object"?t.y:e;const r=this.graph.matrix();return i+=this.container.scrollLeft-this.padding.left-r.e,s+=this.container.scrollTop-this.padding.top-r.f,new L(i/r.a,s/r.d)}localToBackgroundPoint(t,e){const i=typeof t=="object"?L.create(t):new L(t,e),s=this.graph.matrix(),r=this.padding;return bs(i,s).translate(r.left,r.top)}resize(t,e){let i=t!=null?t:this.container.clientWidth,s=e!=null?e:this.container.clientHeight;typeof i=="number"&&(i=Math.round(i)),typeof s=="number"&&(s=Math.round(s)),this.options.width=i,this.options.height=s,this.$container.css({width:i,height:s}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(t,e){const i=10,s=this.container,r=s.getBoundingClientRect();let o=0,a=0;return t<=r.left+i&&(o=-i),e<=r.top+i&&(a=-i),t>=r.right-i&&(o=i),e>=r.bottom-i&&(a=i),o!==0&&(s.scrollLeft+=o),a!==0&&(s.scrollTop+=a),{scrollerX:o,scrollerY:a}}addPadding(t,e,i,s){let r=this.getPadding();this.padding={left:Math.round(r.left+(t||0)),top:Math.round(r.top+(i||0)),bottom:Math.round(r.bottom+(s||0)),right:Math.round(r.right+(e||0))},r=this.padding,this.$content.css({width:r.left+this.graph.options.width+r.right,height:r.top+this.graph.options.height+r.bottom});const o=this.graph.container;return o.style.left=`${this.padding.left}px`,o.style.top=`${this.padding.top}px`,this}getPadding(){const t=this.options.padding;return Kn(typeof t=="function"?yt(t,this,this):t)}getVisibleArea(){const t=this.graph.matrix(),e=this.getClientSize(),i={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},s=di(i,t.inverse());return s.x-=(this.padding.left||0)/this.sx,s.y-=(this.padding.top||0)/this.sy,s}isCellVisible(t,e={}){const i=t.getBBox(),s=this.getVisibleArea();return e.strict?s.containsRect(i):s.isIntersectWithRect(i)}isPointVisible(t){return this.getVisibleArea().containsPoint(t)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}T5([re.dispose()],Wo.prototype,"dispose",null);(function(n){class t extends xu{constructor(i){super(i.graph);this.scroller=i,i.options.background&&this.draw(i.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(i){this.scroller.options.background=i}}n.Background=t})(Wo||(Wo={}));var Ei;(function(n){n.containerClass="graph-scroller",n.panningClass=`${n.containerClass}-panning`,n.pannableClass=`${n.containerClass}-pannable`,n.pagedClass=`${n.containerClass}-paged`,n.contentClass=`${n.containerClass}-content`,n.backgroundClass=`${n.containerClass}-background`,n.transitionClassName="transition-in-progress",n.transitionEventName="transitionend.graph-scroller-transition",n.defaultOptions={padding(){const e=this.getClientSize(),i=Math.max(this.options.minVisibleWidth||0,1)||1,s=Math.max(this.options.minVisibleHeight||0,1)||1,r=Math.max(e.width-i,0),o=Math.max(e.height-s,0);return{left:r,top:o,right:r,bottom:o}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function t(e){const i=Fe({},n.defaultOptions,e);return i.pageWidth==null&&(i.pageWidth=e.graph.options.width),i.pageHeight==null&&(i.pageHeight=e.graph.options.height),i}n.getOptions=t})(Ei||(Ei={}));function pn(n,t,e,i={}){if(e){const s=e.graph,r=s.view.normalizeEvent(t),o=s.snapToGrid(r.clientX,r.clientY);e.notify(n,Object.assign({e:r,view:e,node:e.cell,cell:e.cell,x:o.x,y:o.y},i))}}var P5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class kf extends re{constructor(t){super();this.options=Fe({},Vn.defaultOptions,t),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new av([],{comparator:Vn.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(Vn.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const t=this.graph,e=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),t.on("scale",this.onGraphTransformed,this),t.on("translate",this.onGraphTransformed,this),t.model.on("updated",this.onModelUpdated,this),e.on("added",this.onCellAdded,this),e.on("removed",this.onCellRemoved,this),e.on("reseted",this.onReseted,this),e.on("updated",this.onCollectionUpdated,this),e.on("node:change:position",this.onNodePositionChanged,this),e.on("cell:changed",this.onCellChanged,this)}stopListening(){const t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:t,options:e}){const{showNodeSelectionBox:i,pointerEvents:s}=this.options,{ui:r,selection:o}=e;let a=!this.translating;if(a=a&&(i!==!0||s==="none"),a=a&&r&&!o,a){this.translating=!0;const l=t.position(),c=t.previous("position"),u=l.x-c.x,h=l.y-c.y;(u!==0||h!==0)&&this.translateSelectedNodes(u,h,t,e),this.translating=!1}}onModelUpdated({removed:t}){t&&t.length&&this.unselect(t)}isEmpty(){return this.length<=0}isSelected(t){return this.collection.has(t)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(t,e={}){e.dryrun=!0;const i=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(i,e),this}unselect(t,e={}){return e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this}reset(t,e={}){if(t){if(e.batch){const c=this.filter(Array.isArray(t)?t:[t]);return this.collection.reset(c,Object.assign(Object.assign({},e),{ui:!0})),this}const i=this.cells,s=this.filter(Array.isArray(t)?t:[t]),r={},o={};i.forEach(c=>r[c.id]=c),s.forEach(c=>o[c.id]=c);const a=[],l=[];return s.forEach(c=>{r[c.id]||a.push(c)}),i.forEach(c=>{o[c.id]||l.push(c)}),l.length&&this.unselect(l,Object.assign(Object.assign({},e),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},e),{ui:!0})),l.length===0&&a.length===0&&this.updateContainer(),this}return this.clean(e)}clean(t={}){return this.length&&(t.batch===!1?this.unselect(this.cells,t):this.collection.reset([],Object.assign(Object.assign({},t),{ui:!0}))),this}setFilter(t){this.options.filter=t}setContent(t){this.options.content=t}startSelecting(t){t=this.normalizeEvent(t),this.clean();let e,i;const s=this.graph.container;if(t.offsetX!=null&&t.offsetY!=null&&s.contains(t.target))e=t.offsetX,i=t.offsetY;else{const r=this.$(s).offset(),o=s.scrollLeft,a=s.scrollTop;e=t.clientX-r.left+window.pageXOffset+o,i=t.clientY-r.top+window.pageYOffset+a}this.$container.css({top:i,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:i,scrollerX:0,scrollerY:0}),this.delegateDocumentEvents(Vn.documentEvents,t.data)}filter(t){const e=this.options.filter;return Array.isArray(e)?t.filter(i=>!e.includes(i)&&!e.includes(i.shape)):typeof e=="function"?t.filter(i=>yt(e,this.graph,i)):t}stopSelecting(t){const e=this.graph,i=this.getEventData(t);switch(i.action){case"selecting":{let r=this.$container.width(),o=this.$container.height();const a=this.$container.offset(),l=e.pageToLocal(a.left,a.top),c=e.transform.getScale();r/=c.sx,o/=c.sy;const u=new ut(l.x,l.y,r,o),h=this.getCellViewsInArea(u).map(f=>f.cell);this.reset(h,{batch:!0}),this.hideRubberband();break}case"translating":{const r=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){const o=i;this.updateSelectedNodesPosition({dx:o.clientX-o.originX,dy:o.clientY-o.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,r.x,r.y);break}default:{this.clean();break}}}onMouseUp(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(t){this.options.following||t.stopPropagation();const e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);const i=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:i});const s=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,s.x,s.y),this.delegateDocumentEvents(Vn.documentEvents,e.data)}startTranslating(t){this.graph.model.startBatch("move-selection");const e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})}getSelectionOffset(t,e){let i=t.x-e.clientX,s=t.y-e.clientY;const r=this.graph.hook.getRestrictArea();if(r){const o=this.collection.toArray(),a=oe.getCellsBBox(o,{deep:!0})||ut.create(),l=r.x-a.x,c=r.y-a.y,u=r.x+r.width-(a.x+a.width),h=r.y+r.height-(a.y+a.height);if(i<l&&(i=l),s<c&&(s=c),u<i&&(i=u),h<s&&(s=h),!this.options.following){const f=t.x-e.originX,g=t.y-e.originY;i=f<=l||f>=u?0:i,s=g<=c||g>=h?0:s}}return{dx:i,dy:s}}updateSelectedNodesPosition(t){const{dx:e,dy:i}=t;if(e||i)if(this.translateSelectedNodes(e,i),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const s=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${e*s.sx}`,top:`+=${i*s.sy}`})}}autoScrollGraph(t,e){const i=this.graph.scroller.widget;return i?i.autoScroll(t,e):{scrollerX:0,scrollerY:0}}adjustSelection(t){const e=this.normalizeEvent(t),i=this.getEventData(e);switch(i.action){case"selecting":{const r=i;r.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),r.moving=!0);const{scrollerX:o,scrollerY:a}=this.autoScrollGraph(e.clientX,e.clientY);r.scrollerX+=o,r.scrollerY+=a;const l=e.clientX-r.clientX+r.scrollerX,c=e.clientY-r.clientY+r.scrollerY,u=parseInt(this.$container.css("left"),10),h=parseInt(this.$container.css("top"),10);this.$container.css({left:l<0?r.offsetX+l:u,top:c<0?r.offsetY+c:h,width:Math.abs(l),height:Math.abs(c)});break}case"translating":{const r=this.graph.snapToGrid(e.clientX,e.clientY),o=i,a=this.getSelectionOffset(r,o);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(o.clientX=r.x),a.dy&&(o.clientY=r.y),this.notifyBoxEvent("box:mousemove",t,r.x,r.y);break}}this.boxesUpdated=!1}translateSelectedNodes(t,e,i,s){const r={},o=[];if(i&&(r[i.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(l=>{r[l.id]=!0})}),s&&s.translateBy){const a=this.graph.getCellById(s.translateBy);a&&(r[a.id]=!0,a.getDescendants({deep:!0}).forEach(l=>{r[l.id]=!0}),o.push(a))}this.collection.toArray().forEach(a=>{if(!r[a.id]){const l=Object.assign(Object.assign({},s),{selection:this.cid,exclude:o});a.translate(t,e,l),this.graph.model.getConnectedEdges(a).forEach(c=>{r[c.id]||(c.translate(t,e,l),r[c.id]=!0)})}})}getCellViewsInArea(t){const e=this.graph,i={strict:this.options.strict};let s=[];return this.options.rubberNode&&(this.options.useCellGeometry?s=s.concat(e.model.getNodesInArea(t,i).map(r=>e.renderer.findViewByCell(r)).filter(r=>r!=null)):s=s.concat(e.renderer.findViewsInArea(t,i))),this.options.rubberEdge&&(this.options.useCellGeometry?s=s.concat(e.model.getEdgesInArea(t,i).map(r=>e.renderer.findViewByCell(r)).filter(r=>r!=null)):s=s.concat(e.renderer.findEdgeViewsInArea(t,i))),s}notifyBoxEvent(t,e,i,s){const o=this.getEventData(e).activeView;this.trigger(t,{e,view:o,x:i,y:s,cell:o.cell})}getSelectedClassName(t){return this.prefixClassName(`${t.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))}removeCellUnSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))}destroySelectionBox(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find(`[data-cell-id="${t.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(t){t.forEach(e=>this.removeCellUnSelectedClassName(e)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(Vn.classNames.rubberband)).removeClass(this.prefixClassName(Vn.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(Vn.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(Vn.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(Vn.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(Vn.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(Vn.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(Vn.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:`+=${t.dx}`,top:`+=${t.dy}`})}updateContainer(){const t={x:1/0,y:1/0},e={x:0,y:0};this.collection.toArray().filter(r=>this.canShowSelectionBox(r)).forEach(r=>{const o=this.graph.renderer.findViewByCell(r);if(o){const a=o.getBBox({useCellGeometry:this.options.useCellGeometry});t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),e.x=Math.max(e.x,a.x+a.width),e.y=Math.max(e.y,a.y+a.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:t.x,top:t.y,width:e.x-t.x,height:e.y-t.y}).attr("data-selection-length",this.collection.length);const s=this.options.content;if(s)if(typeof s=="function"){const r=yt(s,this.graph,this,this.$selectionContent[0]);r&&this.$selectionContent.html(r)}else this.$selectionContent.html(s);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(t){return t.isNode()&&this.options.showNodeSelectionBox===!0||t.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){const e=this.graph.renderer.findViewByCell(t);if(e){const i=e.getBBox({useCellGeometry:this.options.useCellGeometry}),s=this.boxClassName;this.$("<div/>").addClass(s).addClass(`${s}-${t.isNode()?"node":"edge"}`).attr("data-cell-id",t.id).css({position:"absolute",left:i.x,top:i.y,width:i.width,height:i.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(t={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((t,e)=>{const i=this.$(e).remove().attr("data-cell-id"),s=this.collection.get(i);s&&this.createSelectionBox(s)}),this.updateContainer()),0}getCellViewFromElem(t){const e=t.getAttribute("data-cell-id");if(e){const i=this.collection.get(e);if(i)return this.graph.renderer.findViewByCell(i)}return null}onCellRemoved({cell:t}){this.destroySelectionBox(t),this.updateContainer()}onReseted({previous:t,current:e}){this.destroyAllSelectionBoxes(t),e.forEach(i=>{this.listenCellRemoveEvent(i),this.createSelectionBox(i)}),this.updateContainer()}onCellAdded({cell:t}){this.listenCellRemoveEvent(t),this.createSelectionBox(t),this.updateContainer()}listenCellRemoveEvent(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:t,removed:e,options:i}){t.forEach(r=>{this.trigger("cell:selected",{cell:r,options:i}),this.graph.trigger("cell:selected",{cell:r,options:i}),r.isNode()?(this.trigger("node:selected",{cell:r,options:i,node:r}),this.graph.trigger("node:selected",{cell:r,options:i,node:r})):r.isEdge()&&(this.trigger("edge:selected",{cell:r,options:i,edge:r}),this.graph.trigger("edge:selected",{cell:r,options:i,edge:r}))}),e.forEach(r=>{this.trigger("cell:unselected",{cell:r,options:i}),this.graph.trigger("cell:unselected",{cell:r,options:i}),r.isNode()?(this.trigger("node:unselected",{cell:r,options:i,node:r}),this.graph.trigger("node:unselected",{cell:r,options:i,node:r})):r.isEdge()&&(this.trigger("edge:unselected",{cell:r,options:i,edge:r}),this.graph.trigger("edge:unselected",{cell:r,options:i,edge:r}))});const s={added:t,removed:e,options:i,selected:this.cells};this.trigger("selection:changed",s),this.graph.trigger("selection:changed",s)}deleteSelectedCells(){const t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})}startRotate({e:t}){const e=this.collection.toArray(),i=oe.getCellsBBox(e).getCenter(),s=this.graph.snapToGrid(t.clientX,t.clientY),r=e.reduce((o,a)=>(o[a.id]=se.normalize(a.getAngle()),o),{});this.setEventData(t,{center:i,angles:r,start:s.theta(i)})}doRotate({e:t}){const e=this.getEventData(t),i=this.graph.options.rotating.grid,s=typeof i=="function"?yt(i,this.graph,null):i,r=this.graph.snapToGrid(t.clientX,t.clientY),o=e.start-r.theta(e.center);e.rotated||(e.rotated=!0),Math.abs(o)>.001&&(this.collection.toArray().forEach(a=>{const l=en.snapToGrid(e.angles[a.id]+o,s||15);a.rotate(l,{absolute:!0,center:e.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e:t}){const e=this.getEventData(t);e.rotated&&(e.rotated=!1,this.collection.toArray().forEach(i=>{pn("node:rotated",t,this.graph.findViewByCell(i))}))}startResize({e:t}){const e=this.graph.getGridSize(),i=this.collection.toArray(),s=oe.getCellsBBox(i),r=i.map(l=>l.getBBox()),o=r.reduce((l,c)=>c.width<l?c.width:l,1/0),a=r.reduce((l,c)=>c.height<l?c.height:l,1/0);this.setEventData(t,{bbox:s,cells:this.graph.model.getSubGraph(i),minWidth:e*s.width/o,minHeight:e*s.height/a})}doResize({e:t,dx:e,dy:i}){const s=this.eventData(t),r=s.bbox,o=r.width,a=r.height,l=Math.max(o+e,s.minWidth),c=Math.max(a+i,s.minHeight);s.resized||(s.resized=!0),(Math.abs(o-l)>.001||Math.abs(a-c)>.001)&&(this.graph.model.resizeCells(l,c,s.cells,{selection:this.cid}),r.width=l,r.height=c,this.updateSelectionBoxes())}stopResize({e:t}){const e=this.eventData(t);e.resized&&(e.resized=!1,this.collection.toArray().forEach(i=>{pn("node:resized",t,this.graph.findViewByCell(i))}))}dispose(){this.clean(),this.remove()}}P5([re.dispose()],kf.prototype,"dispose",null);yb(kf,Fr);var Vn;(function(n){const t="widget-selection";n.classNames={root:t,inner:`${t}-inner`,box:`${t}-box`,content:`${t}-content`,rubberband:`${t}-rubberband`,selected:`${t}-selected`},n.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(i){return So('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:i.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function e(i){return i.getAncestors().length}n.depthComparator=e})(Vn||(Vn={}));class dv extends ml{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(t){this.options=Object.assign(Object.assign({},Cn.defaultOptions),t),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const t=this.$("<div/>").prop("draggable",!1),e=t.clone().addClass(this.rotateClassName),i=Cn.POSITIONS.map(s=>t.clone().addClass(this.resizeClassName).attr("data-position",s));this.empty(),this.$container.append(i,e)}render(){return this.renderHandles(),this.view.addClass(Cn.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;const i=se.normalize(this.node.getAngle()),s=i!==0?`rotate(${i}deg)`:"";return this.$container.css({transform:s,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(Cn.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const t=se.normalize(this.node.getAngle()),e=Math.floor(t*(Cn.DIRECTIONS.length/360));if(e!==this.prevShift){const i=Cn.DIRECTIONS.slice(e).concat(Cn.DIRECTIONS.slice(0,e)),s=r=>`${this.containerClassName}-cursor-${r}`;this.$container.find(`.${this.resizeClassName}`).removeClass(Cn.DIRECTIONS.map(r=>s(r)).join(" ")).each((r,o)=>{this.$(o).addClass(s(i[r]))}),this.prevShift=e}}getTrueDirection(t){const e=se.normalize(this.node.getAngle());let i=Cn.POSITIONS.indexOf(t);return i+=Math.floor(e*(Cn.POSITIONS.length/360)),i%=Cn.POSITIONS.length,Cn.POSITIONS[i]}toValidResizeDirection(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t}startResizing(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const e=this.$(t.target).attr("data-position"),i=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),pn("node:resize:mousedown",t,i)}prepareResizing(t,e){const i=this.getTrueDirection(e);let s=0,r=0;e.split("-").forEach(c=>{s={left:-1,right:1}[c]||s,r={top:-1,bottom:1}[c]||r});const o=this.toValidResizeDirection(e),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],l=se.normalize(this.node.getAngle());this.setEventData(t,{selector:a,direction:o,trueDirection:i,relativeDirection:e,angle:l,resizeX:s,resizeY:r,action:"resizing"})}startRotating(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const e=this.graph.findViewByCell(this.node),i=this.node.getBBox().getCenter(),s=this.normalizeEvent(t),r=this.graph.snapToGrid(s.clientX,s.clientY);this.setEventData(t,{center:i,action:"rotating",angle:se.normalize(this.node.getAngle()),start:L.create(r).theta(i)}),this.startAction(t),pn("node:rotate:mousedown",t,e)}onMouseMove(t){const e=this.graph.findViewByCell(this.node);let i=this.getEventData(t);if(i.action){const s=this.normalizeEvent(t);let r=s.clientX,o=s.clientY;const a=this.graph.scroller.widget,l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const g=l===!0?0:l,b=a?Math.max(g,8):g,y=this.graph.container.getBoundingClientRect();r=Bn(r,y.left+b,y.right-b),o=Bn(o,y.top+b,y.bottom-b)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(r,o);const c=this.graph.snapToGrid(r,o),u=this.graph.getGridSize(),h=this.node,f=this.options;if(i.action==="resizing"){i=i,i.resized||(e&&(e.addClass("node-resizing"),pn("node:resize",t,e)),i.resized=!0);const g=h.getBBox(),b=L.create(c).rotate(i.angle,g.getCenter()).diff(g[i.selector]);let y=i.resizeX?b.x*i.resizeX:g.width,w=i.resizeY?b.y*i.resizeY:g.height;const C=y,E=w;if(y=en.snapToGrid(y,u),w=en.snapToGrid(w,u),y=Math.max(y,f.minWidth||u),w=Math.max(w,f.minHeight||u),y=Math.min(y,f.maxWidth||1/0),w=Math.min(w,f.maxHeight||1/0),f.preserveAspectRatio){const T=g.width*w/g.height,$=g.height*y/g.width;y<T?w=$:y=T}const S=i.relativeDirection;if(f.allowReverse&&(C<=-y||E<=-w)){let T;S==="left"?C<=-y&&(T="right"):S==="right"?C<=-y&&(T="left"):S==="top"?E<=-w&&(T="bottom"):S==="bottom"?E<=-w&&(T="top"):S==="top-left"?C<=-y&&E<=-w?T="bottom-right":C<=-y?T="top-right":E<=-w&&(T="bottom-left"):S==="top-right"?C<=-y&&E<=-w?T="bottom-left":C<=-y?T="top-left":E<=-w&&(T="bottom-right"):S==="bottom-left"?C<=-y&&E<=-w?T="top-right":C<=-y?T="bottom-right":E<=-w&&(T="top-left"):S==="bottom-right"&&(C<=-y&&E<=-w?T="top-left":C<=-y?T="bottom-left":E<=-w&&(T="top-right"));const $=T;this.stopHandle();const p=this.$container.find(`.${this.resizeClassName}[data-position="${$}"]`);this.startHandle(p[0]),this.prepareResizing(t,$),this.onMouseMove(t)}if(g.width!==y||g.height!==w){const T={ui:!0,direction:i.direction,relativeDirection:i.relativeDirection,trueDirection:i.trueDirection,minWidth:f.minWidth,minHeight:f.minHeight,maxWidth:f.maxWidth,maxHeight:f.maxHeight,preserveAspectRatio:f.preserveAspectRatio===!0};h.resize(y,w,T),pn("node:resizing",t,e)}pn("node:resize:mousemove",t,e)}else if(i.action==="rotating"){i=i,i.rotated||(e&&(e.addClass("node-rotating"),pn("node:rotate",t,e)),i.rotated=!0);const g=h.getAngle(),b=i.start-L.create(c).theta(i.center);let y=i.angle+b;f.rotateGrid&&(y=en.snapToGrid(y,f.rotateGrid)),g!==y&&(h.rotate(y,{absolute:!0}),pn("node:rotating",t,e)),pn("node:rotate:mousemove",t,e)}}}onMouseUp(t){const e=this.graph.findViewByCell(this.node),i=this.getEventData(t);i.action&&(this.stopAction(t),this.model.stopBatch(i.action==="resizing"?"resize":"rotate",{cid:this.cid}),i.action==="resizing"?pn("node:resize:mouseup",t,e):i.action==="rotating"&&pn("node:rotate:mouseup",t,e))}startHandle(t){if(this.handle=t||null,this.$container.addClass(`${this.containerClassName}-active`),t){this.$(t).addClass(`${this.containerClassName}-active-handle`);const e=t.getAttribute("data-position");if(e){const i=Cn.DIRECTIONS[Cn.POSITIONS.indexOf(e)];this.$container.addClass(`${this.containerClassName}-cursor-${i}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const t=this.handle.getAttribute("data-position");if(t){const e=Cn.DIRECTIONS[Cn.POSITIONS.indexOf(t)];this.$container.removeClass(`${this.containerClassName}-cursor-${e}`)}this.handle=null}}startAction(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Cn.documentEvents,t.data)}stopAction(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.graph.findViewByCell(this.node),i=this.getEventData(t);e&&(e.removeClass(`node-${i.action}`),i.action==="resizing"&&i.resized?pn("node:resized",t,e):i.action==="rotating"&&i.rotated&&pn("node:rotated",t,e))}}var Cn;(function(n){n.NODE_CLS="has-widget-transform",n.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],n.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],n.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},n.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Cn||(Cn={}));var $5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e},Ri;(function(n){function t(e,i,s){const r={};return Object.keys(s||{}).forEach(o=>{const a=s[o];r[o]=typeof a=="function"?a.call(e,i):a}),r}n.parseOptionGroup=t})(Ri||(Ri={}));(function(n){function t(e){const{grid:i,panning:s,selecting:r,embedding:o,snapline:a,resizing:l,rotating:c,knob:u,clipboard:h,history:f,scroller:g,minimap:b,keyboard:y,mousewheel:w}=e,C=$5(e,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),E=e.container;if(E!=null)C.width==null&&(C.width=E.clientWidth),C.height==null&&(C.height=E.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const S=Fe({},n.defaults,C),T={size:10,visible:!1};return typeof i=="number"?S.grid={size:i,visible:!1}:typeof i=="boolean"?S.grid=Object.assign(Object.assign({},T),{visible:i}):S.grid=Object.assign(Object.assign({},T),i),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(p=>{const A=e[p];typeof A=="boolean"?S[p].enabled=A:S[p]=Object.assign(Object.assign({},S[p]),A)}),S.background&&S.scroller.enabled&&S.scroller.background==null&&(S.scroller.background=S.background,delete S.background),S}n.get=t})(Ri||(Ri={}));(function(n){n.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:en.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:en.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:i}){return(t==="target"?i:e)!=null},createEdge(){return new lv}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}})(Ri||(Ri={}));var fv=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class gv extends Ce{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const i=t.name;if(e||(e=`filter-${i}-${this.cid}-${qd(JSON.stringify(t))}`),!this.isDefined(e)){const s=No.registry.get(i);if(s==null)return No.registry.onNotFound(i);const r=s(t.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});Et.create(he.sanitize(r),o).appendTo(this.defs)}return e}gradient(t){let e=t.id;const i=t.type;if(e||(e=`gradient-${i}-${this.cid}-${qd(JSON.stringify(t))}`),!this.isDefined(e)){const r=t.stops.map(l=>{const c=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${c}"/>`}),o=`<${i}>${r.join("")}</${i}>`,a=Object.assign({id:e},t.attrs);Et.create(o,a).appendTo(this.defs)}return e}marker(t){const{id:e,refX:i,refY:s,markerUnits:r,markerOrient:o,tagName:a,children:l}=t,c=fv(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let u=e;if(u||(u=`marker-${this.cid}-${qd(JSON.stringify(t))}`),!this.isDefined(u)){a!=="path"&&delete c.d;const h=Et.create("marker",{refX:i,refY:s,id:u,overflow:"visible",orient:o!=null?o:"auto",markerUnits:r||"userSpaceOnUse"},l?l.map(f=>{var{tagName:g}=f,b=fv(f,["tagName"]);return Et.create(`${g}`||"path",tl(Object.assign(Object.assign({},c),b)))}):[Et.create(a||"path",tl(c))]);this.defs.appendChild(h.node)}return u}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}var D5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},k5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Nf extends Ce{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const i=this.graph.matrix(),s=this.getInstance(),r=Array.isArray(t)?t:[t];this.patterns.forEach((l,c)=>{const u=`pattern_${c}`,h=i.a||1,f=i.d||1,{update:g,markup:b}=l,y=k5(l,["update","markup"]),w=Object.assign(Object.assign(Object.assign({},y),r[c]),{sx:h,sy:f,ox:i.e||0,oy:i.f||0,width:e*h,height:e*f});s.has(u)||s.add(u,Et.create("pattern",{id:u,patternUnits:"userSpaceOnUse"},Et.createVectors(b)).node);const C=s.get(u);typeof g=="function"&&g(C.childNodes[0],w);let E=w.ox%w.width;E<0&&(E+=w.width);let S=w.oy%w.height;S<0&&(S+=w.height),ge(C,{x:E,y:S,width:w.width,height:w.height})});const o=new XMLSerializer().serializeToString(s.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new Hs),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},Hs.presets.dot),t.args)];const i=Hs.registry.get(e);if(i){let s=t.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(i)?i.map((r,o)=>Object.assign(Object.assign({},r),s[o])):[Object.assign(Object.assign({},i),s[0])]}return Hs.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}D5([Ce.dispose()],Nf.prototype,"dispose",null);class pv extends Ce{getClientMatrix(){return Sn(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new L(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const i=L.create(t,e);return bs(i,this.graph.matrix())}localToClientPoint(t,e){const i=L.create(t,e);return bs(i,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,i,s){const r=ut.create(t,e,i,s);return di(r,this.graph.matrix())}localToClientRect(t,e,i,s){const r=ut.create(t,e,i,s);return di(r,this.getClientMatrix())}localToPageRect(t,e,i,s){return(typeof t=="number"?this.localToGraphRect(t,e,i,s):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const i=L.create(t,e);return bs(i,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const i=L.create(t,e);return bs(i,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const i=L.create(t,e);return bs(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const s=L.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(t,e,i,s){const r=ut.create(t,e,i,s);return di(r,this.graph.matrix().inverse())}clientToLocalRect(t,e,i,s){const r=ut.create(t,e,i,s);return di(r,this.getClientMatrix().inverse())}clientToGraphRect(t,e,i,s){const r=ut.create(t,e,i,s);return di(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,i,s){const r=ut.create(t,e,i,s),o=this.getPageOffset();return r.x-=o.x,r.y-=o.y,this.graphToLocalRect(r)}}var N5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Lf extends Ce{constructor(){super(...arguments);this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}N5([Ce.dispose()],Lf.prototype,"dispose",null);var _r;(function(n){function t(s){const r=[],o=[];return Array.isArray(s)?r.push(...s):s.split("|").forEach(a=>{a.indexOf("&")===-1?r.push(a):o.push(...a.split("&"))}),{or:r,and:o}}n.parse=t;function e(s,r){if(s!=null&&r!=null){const o=t(s),a=t(r),l=o.or.sort(),c=a.or.sort(),u=o.and.sort(),h=a.and.sort(),f=(g,b)=>g.length===b.length&&(g.length===0||g.every((y,w)=>y===b[w]));return f(l,c)&&f(u,h)}return s==null&&r==null}n.equals=e;function i(s,r,o){if(r==null||Array.isArray(r)&&r.length===0)return o?s.altKey!==!0&&s.ctrlKey!==!0&&s.metaKey!==!0&&s.shiftKey!==!0:!0;const{or:a,and:l}=t(r),c=u=>{const h=`${u.toLowerCase()}Key`;return s[h]===!0};return a.some(u=>c(u))&&l.every(u=>c(u))}n.isMatch=i})(_r||(_r={}));var L5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Ff extends Ce{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e:t}){this.widget&&(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(t,e){return this.widget&&this.pannable&&_r.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}updateClassName(t){if(this.widget==null)return;const e=this.widget.container,i=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(fe(e,i),e.dataset.panning=(!!t).toString()):vi(e,i)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(t,e){this.widget&&this.widget.resize(t,e)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}L5([Ce.dispose()],Ff.prototype,"dispose",null);var F5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},I5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class If extends Ce{get commonOptions(){const t=this.instanceOptions;return I5(t,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(t,e={}){this.disabled||this.widget.copy(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}cut(t,e={}){this.disabled||this.widget.cut(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}paste(t={},e=this.graph){return this.disabled?[]:this.widget.paste(e,Object.assign(Object.assign({},this.commonOptions),t))}clean(t){(!this.disabled||t)&&this.widget.clean()}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}F5([Ce.dispose()],If.prototype,"dispose",null);var _5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Su extends Ce{constructor(){super(...arguments);this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:i={}}){const s=this.resolveHighlighter(i);if(!s)return;const r=this.getHighlighterId(e,s);if(!this.highlights[r]){const o=s.highlighter;o.highlight(t,e,Object.assign({},s.args)),this.highlights[r]={cellView:t,magnet:e,highlighter:o,args:s.args}}}onCellUnhighlight({magnet:t,options:e={}}){const i=this.resolveHighlighter(e);if(!i)return;const s=this.getHighlighterId(t,i);this.unhighlight(s)}resolveHighlighter(t){const e=this.options;let i=t.highlighter;if(i==null){const a=t.type;i=a&&e.highlighting[a]||e.highlighting.default}if(i==null)return null;const s=typeof i=="string"?{name:i}:i,r=s.name,o=ys.registry.get(r);return o==null?ys.registry.onNotFound(r):(ys.check(r,o),{name:r,highlighter:o,args:s.args||{}})}getHighlighterId(t,e){return Wc(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}_5([Su.dispose()],Su.prototype,"dispose",null);var R5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Eu extends Ce{constructor(){super(...arguments);this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.dispose(),this.widgets.delete(t)}}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),Sn(this.viewportMatrix)}setMatrix(t){const e=Sn(t),i=Pr(e);this.viewport.setAttribute("transform",i),this.viewportMatrix=e,this.viewportTransformString=i}resize(t,e){let i=t===void 0?this.options.width:t,s=e===void 0?this.options.height:e;this.options.width=i,this.options.height=s,typeof i=="number"&&(i=Math.round(i)),typeof s=="number"&&(s=Math.round(s)),this.container.style.width=i==null?"":`${i}px`,this.container.style.height=s==null?"":`${s}px`;const r=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},r)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return ib(t)||(t=this.container.clientWidth),ib(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return S6(this.getMatrix())}scale(t,e=t,i=0,s=0){if(t=this.clampScale(t),e=this.clampScale(e),i||s){const o=this.getTranslation(),a=o.tx-i*(t-1),l=o.ty-s*(e-1);(a!==o.tx||l!==o.ty)&&this.translate(a,l)}const r=this.getMatrix();return r.a=t,r.d=e,this.setMatrix(r),this.graph.trigger("scale",{sx:t,sy:e,ox:i,oy:s}),this}clampScale(t){const e=this.graph.options.scaling;return Bn(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let i=t,s=t;const r=this.getScale(),o=this.getComputedSize();let a=o.width/2,l=o.height/2;if(e.absolute||(i+=r.sx,s+=r.sy),e.scaleGrid&&(i=Math.round(i/e.scaleGrid)*e.scaleGrid,s=Math.round(s/e.scaleGrid)*e.scaleGrid),e.maxScale&&(i=Math.min(e.maxScale,i),s=Math.min(e.maxScale,s)),e.minScale&&(i=Math.max(e.minScale,i),s=Math.max(e.minScale,s)),e.center&&(a=e.center.x,l=e.center.y),i=this.clampScale(i),s=this.clampScale(s),a||l){const c=this.getTranslation(),u=a-(a-c.tx)*(i/r.sx),h=l-(l-c.ty)*(s/r.sy);(u!==c.tx||h!==c.ty)&&this.translate(u,h)}return this.scale(i,s),this}getRotation(){return E6(this.getMatrix())}rotate(t,e,i){if(e==null||i==null){const r=En(this.graph.view.stage);e=r.width/2,i=r.height/2}const s=this.getMatrix().translate(e,i).rotate(t).translate(-e,-i);return this.setMatrix(s),this}getTranslation(){return A6(this.getMatrix())}translate(t,e){const i=this.getMatrix();i.e=t||0,i.f=e||0,this.setMatrix(i);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign({},s)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,i,s){if(typeof t=="object"){const S=t;t=S.gridWidth||1,e=S.gridHeight||1,i=S.padding||0,s=S}else t=t||1,e=e||1,i=i||0,s==null&&(s={});const r=Kn(i),o=s.border||0,a=s.contentArea?ut.create(s.contentArea):this.getContentArea(s);o>0&&a.inflate(o);const l=this.getScale(),c=this.getTranslation(),u=l.sx,h=l.sy;a.x*=u,a.y*=h,a.width*=u,a.height*=h;let f=Math.max(Math.ceil((a.width+a.x)/t),1)*t,g=Math.max(Math.ceil((a.height+a.y)/e),1)*e,b=0,y=0;(s.allowNewOrigin==="negative"&&a.x<0||s.allowNewOrigin==="positive"&&a.x>=0||s.allowNewOrigin==="any")&&(b=Math.ceil(-a.x/t)*t,b+=r.left,f+=b),(s.allowNewOrigin==="negative"&&a.y<0||s.allowNewOrigin==="positive"&&a.y>=0||s.allowNewOrigin==="any")&&(y=Math.ceil(-a.y/e)*e,y+=r.top,g+=y),f+=r.right,g+=r.bottom,f=Math.max(f,s.minWidth||0),g=Math.max(g,s.minHeight||0),f=Math.min(f,s.maxWidth||Number.MAX_SAFE_INTEGER),g=Math.min(g,s.maxHeight||Number.MAX_SAFE_INTEGER);const w=this.getComputedSize(),C=f!==w.width||g!==w.height;return(b!==c.tx||y!==c.ty)&&this.translate(b,y),C&&this.resize(f,g),new ut(-b/u,-y/h,f/u,g/h)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let i,s;if(t.contentArea){const C=t.contentArea;i=this.graph.localToGraph(C),s=L.create(C)}else i=this.getContentBBox(t),s=this.graph.graphToLocal(i);if(!i.width||!i.height)return;const r=Kn(t.padding),o=t.minScale||0,a=t.maxScale||Number.MAX_SAFE_INTEGER,l=t.minScaleX||o,c=t.maxScaleX||a,u=t.minScaleY||o,h=t.maxScaleY||a;let f;if(t.viewportArea)f=t.viewportArea;else{const C=this.getComputedSize(),E=this.getTranslation();f={x:E.tx,y:E.ty,width:C.width,height:C.height}}f=ut.create(f).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const g=this.getScale();let b=f.width/i.width*g.sx,y=f.height/i.height*g.sy;t.preserveAspectRatio!==!1&&(b=y=Math.min(b,y));const w=t.scaleGrid;if(w&&(b=w*Math.floor(b/w),y=w*Math.floor(y/w)),b=Bn(b,l,c),y=Bn(y,u,h),this.scale(b,y),e){const C=this.options,E=f.x-s.x*b-C.x,S=f.y-s.y*y-C.y;this.translate(E,S)}}getContentArea(t={}){return t.useCellGeometry?this.model.getAllCellsBBox()||new ut:En(this.graph.view.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=ut.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const i=ut.create(t),s=this.graph;e.contentArea=i,e.viewportArea==null&&(e.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const r=i.getCenter();return this.centerPoint(r.x,r.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const i=this.getComputedSize(),s=this.getScale(),r=this.getTranslation(),o=i.width/2,a=i.height/2;t=typeof t=="number"?t:o,e=typeof e=="number"?e:a,t=o-t*s.sx,e=a-e*s.sy,(r.tx!==t||r.ty!==e)&&this.translate(t,e)}centerContent(t){const i=this.graph.getContentArea(t).getCenter();this.centerPoint(i.x,i.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,i){const s=this.getComputedSize();e=Xi(e,Math.max(0,s.width)),e<0&&(e=s.width+e),i=Xi(i,Math.max(0,s.height)),i<0&&(i=s.height+i);const r=this.getTranslation(),o=this.getScale(),a=e-t.x*o.sx,l=i-t.y*o.sy;(r.tx!==a||r.ty!==l)&&this.translate(a,l)}positionRect(t,e){const i=ut.create(t);switch(e){case"center":return this.positionPoint(i.getCenter(),"50%","50%");case"top":return this.positionPoint(i.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(i.getTopRight(),"100%",0);case"right":return this.positionPoint(i.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(i.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(i.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(i.getBottomLeft(),0,"100%");case"left":return this.positionPoint(i.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(i.getTopLeft(),0,0);default:return this}}positionCell(t,e){const i=t.getBBox();return this.positionRect(i,e)}positionContent(t,e){const i=this.graph.getContentArea(e);return this.positionRect(i,t)}dispose(){this.widgets.forEach(t=>t.dispose()),this.widgets.clear(),this.stopListening()}}R5([Eu.dispose()],Eu.prototype,"dispose",null);var j5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class _f extends Ce{constructor(){super(...arguments);this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:t}){(this.allowRubberband(t,!0)||this.allowRubberband(t)&&!this.graph.scroller.allowPanning(t,!0)&&!this.graph.panning.allowPanning(t,!0))&&this.startRubberband(t)}onBlankClick(){this.clean()}allowRubberband(t,e){return!this.rubberbandDisabled&&_r.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)}onCellMouseMove({cell:t}){this.movedMap.set(t,!0)}onCellMouseUp({e:t,cell:e}){const i=this.widgetOptions;let s=this.disabled;!s&&this.movedMap.has(e)&&(s=i.selectCellOnMoved===!1,s||(s=i.selectNodeOnMoved===!1&&e.isNode()),s||(s=i.selectEdgeOnMoved===!1&&e.isEdge())),s||(i.multiple===!1||!t.ctrlKey&&!t.metaKey?this.reset(e):this.unselectMap.has(e)?this.unselectMap.delete(e):this.isSelected(e)?this.unselect(e):this.select(e)),this.movedMap.delete(e)}onBoxMouseDown({e:t,cell:e}){this.disabled||this.widgetOptions.multiple!==!1&&(t.ctrlKey||t.metaKey)&&(this.unselect(e),this.unselectMap.set(e,!0))}isEmpty(){return this.length<=0}isSelected(t){return this.widget.isSelected(t)}getCells(t){return(Array.isArray(t)?t:[t]).map(e=>typeof e=="string"?this.graph.getCellById(e):e).filter(e=>e!=null)}select(t,e={}){const i=this.getCells(t);return i.length&&(this.isMultiple()?this.widget.select(i,e):this.reset(i.slice(0,1),e)),this}unselect(t,e={}){return this.widget.unselect(this.getCells(t),e),this}reset(t,e={}){return this.widget.reset(t?this.getCells(t):[],e),this}clean(t={}){return this.widget.clean(t),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(t){return this.widgetOptions.modifiers=t,this}setContent(t){return this.widget.setContent(t),this}setFilter(t){return this.widget.setFilter(t),this}dispose(){this.stopListening(),this.widget.dispose()}}j5([Ce.dispose()],_f.prototype,"dispose",null);var mv=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},z5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e};class Rr extends $n{constructor(t){super();this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=t.graph,this.model=t.graph.model,this.options=Ke.getOptions(t),this.validator=new Rr.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this}redo(t={}){if(!this.disabled){const e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this}cancel(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this}clean(t={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(t,...e){return this.validator.validate(t,...e),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((t,e)=>{this.handlers[e]=this.addCommand.bind(this,t),this.model.on(t,this.handlers[e])}),this.validator.on("invalid",t=>this.trigger("invalid",t))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((t,e)=>{this.model.off(t,this.handlers[e])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(t){return{batch:t?t.batch:!1,data:{}}}revertCommand(t,e){this.freezed=!0;const i=Array.isArray(t)?Ke.sortBatchCommands(t):[t];for(let s=i.length-1;s>=0;s-=1){const r=i[s],o=Object.assign(Object.assign({},e),sb(r.options,this.options.revertOptionsList||[]));this.executeCommand(r,!0,o)}this.freezed=!1}applyCommand(t,e){this.freezed=!0;const i=Array.isArray(t)?Ke.sortBatchCommands(t):[t];for(let s=0;s<i.length;s+=1){const r=i[s],o=Object.assign(Object.assign({},e),sb(r.options,this.options.applyOptionsList||[]));this.executeCommand(r,!1,o)}this.freezed=!1}executeCommand(t,e,i){const s=this.model,r=s.getCell(t.data.id),o=t.event;if(Ke.isAddEvent(o)&&e||Ke.isRemoveEvent(o)&&!e)r.remove(i);else if(Ke.isAddEvent(o)&&!e||Ke.isRemoveEvent(o)&&e){const a=t.data;a.node?s.addNode(a.props,i):a.edge&&s.addEdge(a.props,i)}else if(Ke.isChangeEvent(o)){const a=t.data,l=a.key;if(l){const c=e?a.prev[l]:a.next[l];r.prop(l,c,i)}}else{const a=this.options.executeCommand;a&&yt(a,this,t,e,i)}}addCommand(t,e){if(this.freezed||this.disabled)return;const i=e,s=i.options||{};if(s.dryrun||Ke.isAddEvent(t)&&this.options.ignoreAdd||Ke.isRemoveEvent(t)&&this.options.ignoreRemove||Ke.isChangeEvent(t)&&this.options.ignoreChange)return;const r=this.options.beforeAddCommand;if(r!=null&&yt(r,this,t,e)===!1)return;t==="cell:change:*"&&(t=`cell:change:${i.key}`);const o=i.cell,a=Dn.isModel(o);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const u=a&&!l.modelChange||l.data.id!==o.id,h=l.event!==t;if(this.lastBatchIndex>=0&&(u||h)){const f=this.batchCommands.findIndex(g=>(a&&g.modelChange||g.data.id===o.id)&&g.event===t);f<0||Ke.isAddEvent(t)||Ke.isRemoveEvent(t)?l=this.createCommand({batch:!0}):(l=this.batchCommands[f],this.batchCommands.splice(f,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(Ke.isAddEvent(t)||Ke.isRemoveEvent(t)){const u=l.data;return l.event=t,l.options=s,u.id=o.id,u.props=qe(o.toJSON()),o.isEdge()?u.edge=!0:o.isNode()&&(u.node=!0),this.push(l,s)}if(Ke.isChangeEvent(t)){const u=e.key,h=l.data;return(!l.batch||!l.event)&&(l.event=t,l.options=s,h.key=u,h.prev==null&&(h.prev={}),h.prev[u]=Ya(o.previous(u)),a?l.modelChange=!0:h.id=o.id),h.next==null&&(h.next={}),h.next[u]=Ya(o.prop(u)),this.push(l,s)}const c=this.options.afterAddCommand;c&&yt(c,this,t,e,l),this.push(l,s)}initBatchCommand(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(t){let e=t.slice();const i=[];for(;e.length>0;){const s=e.shift(),r=s.event,o=s.data.id;if(r!=null&&(o!=null||s.modelChange)){if(Ke.isAddEvent(r)){const a=e.findIndex(l=>Ke.isRemoveEvent(l.event)&&l.data.id===o);if(a>=0){e=e.filter((l,c)=>a<c||l.data.id!==o);continue}}else if(Ke.isRemoveEvent(r)){const a=e.findIndex(l=>Ke.isAddEvent(l.event)&&l.data.id===o);if(a>=0){e.splice(a,1);continue}}else if(Ke.isChangeEvent(r)){const a=s.data;if(qi(a.prev,a.next))continue}i.push(s)}}return i}notify(t,e,i){const s=e==null?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:s,options:i}),this.emit("change",{cmds:s,options:i})}push(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.notify("add",t,e))}}mv([$n.dispose()],Rr.prototype,"dispose",null);(function(n){class t extends $n{constructor(i){super();this.map={},this.command=i.history,this.cancelInvalid=i.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:i}){return Array.isArray(i)?i.every(s=>this.isValidCommand(s)):this.isValidCommand(i)}isValidCommand(i){if(i.options&&i.options.validation===!1)return!0;const s=i.event&&this.map[i.event]||[];let r=null;return s.forEach(o=>{let a=0;const l=c=>{const u=o[a];a+=1;try{if(u)u(c,i,l);else{r=c;return}}catch(h){l(h)}};l(r)}),r?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:r}),!1):!0}validate(i,...s){const r=Array.isArray(i)?i:i.split(/\s+/);return s.forEach(o=>{if(typeof o!="function")throw new Error(`${r.join(" ")} requires callback functions.`)}),r.forEach(o=>{this.map[o]==null&&(this.map[o]=[]),this.map[o].push(s)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}mv([$n.dispose()],t.prototype,"dispose",null),n.Validator=t})(Rr||(Rr={}));var Ke;(function(n){function t(o){return o==="cell:added"}n.isAddEvent=t;function e(o){return o==="cell:removed"}n.isRemoveEvent=e;function i(o){return o!=null&&o.startsWith("cell:change:")}n.isChangeEvent=i;function s(o){const a=z5(o,["graph"]),l=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],u=o.eventNames?o.eventNames.filter(h=>!(n.isChangeEvent(h)||l.includes(h)||c.includes(h))):l;return Object.assign(Object.assign({},a),{eventNames:u,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})}n.getOptions=s;function r(o){const a=[];for(let l=0,c=o.length;l<c;l+=1){const u=o[l];let h=null;if(n.isAddEvent(u.event)){const f=u.data.id;for(let g=0;g<l;g+=1)if(o[g].data.id===f){h=g;break}}h!==null?a.splice(h,0,u):a.push(u)}return a}n.sortBatchCommands=r})(Ke||(Ke={}));var B5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Rf extends Ce{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}B5([Ce.dispose()],Rf.prototype,"dispose",null);var bv={exports:{}};(function(n){(function(t,e,i){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)s[111+c]="f"+c;for(c=0;c<=9;++c)s[c+96]=c.toString();function u(A,k,F){if(A.addEventListener){A.addEventListener(k,F,!1);return}A.attachEvent("on"+k,F)}function h(A){if(A.type=="keypress"){var k=String.fromCharCode(A.which);return A.shiftKey||(k=k.toLowerCase()),k}return s[A.which]?s[A.which]:r[A.which]?r[A.which]:String.fromCharCode(A.which).toLowerCase()}function f(A,k){return A.sort().join(",")===k.sort().join(",")}function g(A){var k=[];return A.shiftKey&&k.push("shift"),A.altKey&&k.push("alt"),A.ctrlKey&&k.push("ctrl"),A.metaKey&&k.push("meta"),k}function b(A){if(A.preventDefault){A.preventDefault();return}A.returnValue=!1}function y(A){if(A.stopPropagation){A.stopPropagation();return}A.cancelBubble=!0}function w(A){return A=="shift"||A=="ctrl"||A=="alt"||A=="meta"}function C(){if(!l){l={};for(var A in s)A>95&&A<112||s.hasOwnProperty(A)&&(l[s[A]]=A)}return l}function E(A,k,F){return F||(F=C()[A]?"keydown":"keypress"),F=="keypress"&&k.length&&(F="keydown"),F}function S(A){return A==="+"?["+"]:(A=A.replace(/\+{2}/g,"+plus"),A.split("+"))}function T(A,k){var F,H,_,I=[];for(F=S(A),_=0;_<F.length;++_)H=F[_],a[H]&&(H=a[H]),k&&k!="keypress"&&o[H]&&(H=o[H],I.push("shift")),w(H)&&I.push(H);return k=E(H,I,k),{key:H,modifiers:I,action:k}}function $(A,k){return A===null||A===e?!1:A===k?!0:$(A.parentNode,k)}function p(A){var k=this;if(A=A||e,!(k instanceof p))return new p(A);k.target=A,k._callbacks={},k._directMap={};var F={},H,_=!1,I=!1,Y=!1;function nt(ht){ht=ht||{};var Nt=!1,Ft;for(Ft in F){if(ht[Ft]){Nt=!0;continue}F[Ft]=0}Nt||(Y=!1)}function G(ht,Nt,Ft,Ot,jt,ie){var Mt,qt,ye=[],Ae=Ft.type;if(!k._callbacks[ht])return[];for(Ae=="keyup"&&w(ht)&&(Nt=[ht]),Mt=0;Mt<k._callbacks[ht].length;++Mt)if(qt=k._callbacks[ht][Mt],!(!Ot&&qt.seq&&F[qt.seq]!=qt.level)&&Ae==qt.action&&(Ae=="keypress"&&!Ft.metaKey&&!Ft.ctrlKey||f(Nt,qt.modifiers))){var Gn=!Ot&&qt.combo==jt,ni=Ot&&qt.seq==Ot&&qt.level==ie;(Gn||ni)&&k._callbacks[ht].splice(Mt,1),ye.push(qt)}return ye}function q(ht,Nt,Ft,Ot){k.stopCallback(Nt,Nt.target||Nt.srcElement,Ft,Ot)||ht(Nt,Ft)===!1&&(b(Nt),y(Nt))}k._handleKey=function(ht,Nt,Ft){var Ot=G(ht,Nt,Ft),jt,ie={},Mt=0,qt=!1;for(jt=0;jt<Ot.length;++jt)Ot[jt].seq&&(Mt=Math.max(Mt,Ot[jt].level));for(jt=0;jt<Ot.length;++jt){if(Ot[jt].seq){if(Ot[jt].level!=Mt)continue;qt=!0,ie[Ot[jt].seq]=1,q(Ot[jt].callback,Ft,Ot[jt].combo,Ot[jt].seq);continue}qt||q(Ot[jt].callback,Ft,Ot[jt].combo)}var ye=Ft.type=="keypress"&&I;Ft.type==Y&&!w(ht)&&!ye&&nt(ie),I=qt&&Ft.type=="keydown"};function Q(ht){typeof ht.which!="number"&&(ht.which=ht.keyCode);var Nt=h(ht);if(!!Nt){if(ht.type=="keyup"&&_===Nt){_=!1;return}k.handleKey(Nt,g(ht),ht)}}function st(){clearTimeout(H),H=setTimeout(nt,1e3)}function Tt(ht,Nt,Ft,Ot){F[ht]=0;function jt(Ae){return function(){Y=Ae,++F[ht],st()}}function ie(Ae){q(Ft,Ae,ht),Ot!=="keyup"&&(_=h(Ae)),setTimeout(nt,10)}for(var Mt=0;Mt<Nt.length;++Mt){var qt=Mt+1===Nt.length,ye=qt?ie:jt(Ot||T(Nt[Mt+1]).action);Ut(Nt[Mt],ye,Ot,ht,Mt)}}function Ut(ht,Nt,Ft,Ot,jt){k._directMap[ht+":"+Ft]=Nt,ht=ht.replace(/\s+/g," ");var ie=ht.split(" "),Mt;if(ie.length>1){Tt(ht,ie,Nt,Ft);return}Mt=T(ht,Ft),k._callbacks[Mt.key]=k._callbacks[Mt.key]||[],G(Mt.key,Mt.modifiers,{type:Mt.action},Ot,ht,jt),k._callbacks[Mt.key][Ot?"unshift":"push"]({callback:Nt,modifiers:Mt.modifiers,action:Mt.action,seq:Ot,level:jt,combo:ht})}k._bindMultiple=function(ht,Nt,Ft){for(var Ot=0;Ot<ht.length;++Ot)Ut(ht[Ot],Nt,Ft)},u(A,"keypress",Q),u(A,"keydown",Q),u(A,"keyup",Q)}p.prototype.bind=function(A,k,F){var H=this;return A=A instanceof Array?A:[A],H._bindMultiple.call(H,A,k,F),H},p.prototype.unbind=function(A,k){var F=this;return F.bind.call(F,A,function(){},k)},p.prototype.trigger=function(A,k){var F=this;return F._directMap[A+":"+k]&&F._directMap[A+":"+k]({},A),F},p.prototype.reset=function(){var A=this;return A._callbacks={},A._directMap={},A},p.prototype.stopCallback=function(A,k){var F=this;if((" "+k.className+" ").indexOf(" mousetrap ")>-1||$(k,F.target))return!1;if("composedPath"in A&&typeof A.composedPath=="function"){var H=A.composedPath()[0];H!==A.target&&(k=H)}return k.tagName=="INPUT"||k.tagName=="SELECT"||k.tagName=="TEXTAREA"||k.isContentEditable},p.prototype.handleKey=function(){var A=this;return A._handleKey.apply(A,arguments)},p.addKeycodes=function(A){for(var k in A)A.hasOwnProperty(k)&&(s[k]=A[k]);l=null},p.init=function(){var A=p(e);for(var k in A)k.charAt(0)!=="_"&&(p[k]=function(F){return function(){return A[F].apply(A,arguments)}}(k))},p.init(),t.Mousetrap=p,n.exports&&(n.exports=p),typeof i=="function"&&i.amd&&i(function(){return p})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(bv);var H5=bv.exports,V5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class jr extends Ii{constructor(t){super();this.options=t;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,t.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=jr.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(t,e,i){this.mousetrap.bind(this.getKeys(t),e,i)}off(t,e){this.mousetrap.unbind(this.getKeys(t),e)}focus(){this.target.focus({preventScroll:!0})}getKeys(t){return(Array.isArray(t)?t:[t]).map(e=>this.formatkey(e))}formatkey(t){const e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),i=this.options.format;return i?yt(i,this.graph,e):e}isGraphEvent(t){const e=t.srcElement||t.target;return e?e===this.target||e===document.body?!0:nf(this.container,e):!1}isEnabledForEvent(t){const e=!this.disabled&&this.isGraphEvent(t);if(e){const i=t.target,s=i&&i.tagName.toLowerCase(),r=t.keyCode||t.which;if(s==="input"&&(r===8||r===46))return!1;if(this.options.guard)return yt(this.options.guard,this.graph,t)}return e}dispose(){this.mousetrap.reset()}}V5([Ii.dispose()],jr.prototype,"dispose",null);(function(n){function t(e){const i=new H5(e.target),s=i.stopCallback;return i.stopCallback=(r,o,a)=>e.isEnabledForEvent(r)?s?s.call(i,r,o,a):!1:!0,i}n.createMousetrap=t})(jr||(jr={}));var G5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class jf extends Ii{constructor(t){super();this.options=t,this.cumulatedFactor=1;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new Zb(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=t.originalEvent||t,i=this.options.guard;return(i==null||i.call(this.graph,e))&&_r.isMatch(e,this.options.modifiers)}onMouseWheel(t){const e=t.originalEvent||t,i=this.options.guard;if((i==null||i.call(this.graph,e))&&_r.isMatch(e,this.options.modifiers)){const s=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*s*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/s)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const o=this.graph.scroller.widget,a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);const c=this.options.minScale||Number.MIN_SAFE_INTEGER,u=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(l=Bn(l,c,u),l!==a)if(o)if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToLocalPoint(this.startPos);o.zoom(l,{absolute:!0,center:h.clone()})}else o.zoom(l,{absolute:!0});else if(this.options.zoomAtMousePosition){const h=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.zoom(l,{absolute:!0,center:h.clone()})}else this.graph.zoom(l,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}G5([Ii.dispose()],jf.prototype,"dispose",null);var W5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class zr extends Ce{show(t={}){const e=Object.assign(Object.assign({},zr.defaultOptions),t),i=this.createPrintPages(e);e.ready(i,s=>this.showPrintWindow(s,e),{sheetSize:this.getSheetSize(e)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(t,e){if(t){const i=Qe(document.body),s=Qe(this.view.container),r=this.view.prefixClassName("graph-printing");i.addClass(r);const o=s.children().detach();t.forEach(c=>{c.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(i)});let a=!1;const l=()=>{a||(a=!0,i.removeClass(r),t.forEach(c=>c.remove()),s.append(o),Qe(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",e),Qe(window).off("afterprint",l))};Qe(window).one("afterprint",l),setTimeout(l,200),window.print()}}createPrintPage(t,e){this.graph.trigger("before:print",e);const i=Qe("<div/>").addClass(this.className),s=Qe("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&i.addClass(`${this.className}-size-${e.size}`);const r=Et.create(this.view.svg).clone(),o=r.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);s.append(r.node);const a=this.getSheetSize(e),l=this.graph.transform.getGraphArea(),c=this.graph.transform.getScale(),u=this.graph.translate(),h=Sn().translate(u.tx/c.sx,u.ty/c.sy),f=this.getPageInfo(l,t,a),g=f.scale,b=f.bbox;return s.css({left:0,top:0}),r.attr({width:b.width*g,height:b.height*g,style:"position:relative",viewBox:[b.x,b.y,b.width,b.height].join(" ")}),o.attr("transform",Pr(h)),i.append(s),i.addClass(`${this.className}-preview`),{$page:i,sheetSize:a}}createPrintPages(t){let e;const i=this.getPrintArea(t),s=[];if(t.page){const r=this.getPageSize(i,t.page);this.getPageAreas(i,r).forEach(a=>{e=this.createPrintPage(a,t),s.push(e.$page)})}else e=this.createPrintPage(i,t),s.push(e.$page);if(e){const r={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(r,t)}return s}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(t,e){const i=Object.keys(t).reduce((u,h)=>`${u} ${h}:${t[h]};`,""),s=Kn(e.margin),r=e.marginUnit||"",o=e.sheetUnit||"",a=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${i}
        }

        @page {
          margin:
          ${[s.top+r,s.right+r,s.bottom+r,s.left+r].join(" ")};
          size: ${e.sheet.width+o} ${e.sheet.height+o};

        .${this.className}.${this.className}-preview {
          ${i}
        }
      }`,l=this.styleSheetId,c=Qe(`#${l}`);c.length?c.html(a):Qe("head").append(`'<style type="text/css" id="${l}">${a}</style>'`)}getPrintArea(t){let e=t.area;if(!e){const i=Kn(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-i.left,y:-i.top,width:i.left+i.right,height:i.top+i.bottom})}return e}getPageSize(t,e){if(typeof e=="object"){const i=e,s={width:i.width,height:i.height};return s.width==null&&(s.width=Math.ceil(t.width/(i.columns||1))),s.height==null&&(s.height=Math.ceil(t.height/(i.rows||1))),s}return{width:t.width,height:t.height}}getPageAreas(t,e){const i=[],s=e.width,r=e.height;for(let o=0,a=0;o<t.height&&a<200;o+=r,a+=1)for(let l=0,c=0;l<t.width&&c<200;l+=s,c+=1)i.push(new ut(t.x+l,t.y+o,s,r));return i}getSheetSize(t){const e=t.sheet,i=Kn(t.margin),s=t.marginUnit||"",r=t.sheetUnit||"",o=`calc(${e.width}${r} - ${i.left+i.right}${s})`,a=`calc(${e.height}${r} - ${i.top+i.bottom}${s})`,l=uf.measure(o,a);return{cssWidth:o,cssHeight:a,width:l.width,height:l.height}}getPageInfo(t,e,i){const s=new ut(e.x-t.x,e.y-t.y,e.width,e.height),r=s.width/s.height,o=i.width/i.height;return{bbox:s,scale:o<r?i.width/s.width:i.height/s.height,fitHorizontal:o<r}}dispose(){}}W5([Ce.dispose()],zr.prototype,"dispose",null);(function(n){n.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(t,e)=>e(t)}})(zr||(zr={}));class yv extends Ce{toSVG(t,e={}){this.graph.trigger("before:export",e);const i=this.view.svg,s=Et.create(i).clone();let r=s.node;const o=s.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),a=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=e.preserveDimensions;if(l){const h=typeof l=="boolean"?a:l;s.attr({width:h.width,height:h.height})}if(s.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),o.removeAttribute("transform"),e.copyStyles!==!1){const h=i.ownerDocument,f=Array.from(i.querySelectorAll("*")),g=Array.from(r.querySelectorAll("*")),b=h.styleSheets.length,y=[];for(let E=b-1;E>=0;E-=1)y[E]=h.styleSheets[E],h.styleSheets[E].disabled=!0;const w={};f.forEach((E,S)=>{const T=window.getComputedStyle(E,null),$={};Object.keys(T).forEach(p=>{$[p]=T.getPropertyValue(p)}),w[S]=$}),b!==h.styleSheets.length&&y.forEach((E,S)=>{h.styleSheets[S]=E});for(let E=0;E<b;E+=1)h.styleSheets[E].disabled=!1;const C={};f.forEach((E,S)=>{const T=window.getComputedStyle(E,null),$=w[S],p={};Object.keys(T).forEach(A=>{T.getPropertyValue(A)!==$[A]&&(p[A]=T.getPropertyValue(A))}),C[S]=p}),g.forEach((E,S)=>{Qe(E).css(C[S])})}const c=e.stylesheet;if(typeof c=="string"){const h=i.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);s.prepend(Et.create("style",{type:"text/css"},[h]))}const u=()=>{const h=e.beforeSerialize;if(typeof h=="function"){const g=yt(h,this.graph,r);g instanceof SVGSVGElement&&(r=g)}const f=new XMLSerializer().serializeToString(r).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",e),t(f)};if(e.serializeImages){const h=s.find("image").map(f=>new Promise(g=>{const b=f.attr("xlink:href")||f.attr("href");cf.imageToDataUri(b,(y,w)=>{!y&&w&&f.attr("xlink:href",w),g()})}));Promise.all(h).then(u)}else u()}toDataURL(t,e){let i=e.viewBox||this.graph.getContentBBox();const s=Kn(e.padding);e.width&&e.height&&(s.left+s.right>=e.width&&(s.left=s.right=0),s.top+s.bottom>=e.height&&(s.top=s.bottom=0));const r=new ut(-s.left,-s.top,s.left+s.right,s.top+s.bottom);if(e.width&&e.height){const u=i.width+s.left+s.right,h=i.height+s.top+s.bottom;r.scale(u/e.width,h/e.height)}i=ut.create(i).moveAndExpand(r);const o=typeof e.width=="number"&&typeof e.height=="number"?{width:e.width,height:e.height}:i;let a=e.ratio?parseFloat(e.ratio):1;(!Number.isFinite(a)||a===0)&&(a=1);const l={width:Math.max(Math.round(o.width*a),1),height:Math.max(Math.round(o.height*a),1)};{const u=document.createElement("canvas"),h=u.getContext("2d");u.width=l.width,u.height=l.height;const f=l.width-1,g=l.height-1;h.fillStyle="rgb(1,1,1)",h.fillRect(f,g,1,1);const b=h.getImageData(f,g,1,1).data;if(b[0]!==1||b[1]!==1||b[2]!==1)throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const u=document.createElement("canvas");u.width=l.width,u.height=l.height;const h=u.getContext("2d");h.fillStyle=e.backgroundColor||"white",h.fillRect(0,0,l.width,l.height);try{h.drawImage(c,0,0,l.width,l.height);const f=u.toDataURL(e.type,e.quality);t(f)}catch{}},this.toSVG(u=>{c.src=`data:image/svg+xml,${encodeURIComponent(u)}`},Object.assign(Object.assign({},e),{viewBox:i,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/png"}))}toJPEG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/jpeg"}))}}class U5 extends Ce{constructor(){super(...arguments);this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.forEach(i=>i.dispose()),this.widgets.delete(t)}}}var q5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class vv extends Ce{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new Zb(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&_r.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),i=e.clientX-this.clientX,s=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY,this.graph.translateBy(i,s)}stopPanning(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),i=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(fe(t,e),vi(t,i)):(vi(t,e),fe(t,i)):(vi(t,e),vi(t,i))}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,i){t.ctrlKey||this.graph.translateBy(-e,-i)}autoPanning(t,e){const i=10,s=this.graph.getGraphArea();let r=0,o=0;t<=s.left+i&&(r=-i),e<=s.top+i&&(o=-i),t>=s.right-i&&(r=i),e>=s.bottom-i&&(o=i),(r!==0||o!==0)&&this.graph.translateBy(-r,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}q5([Ce.dispose()],vv.prototype,"dispose",null);var X5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Cv extends Ce{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const t=this.options.autoResize;if(t){const e=typeof t=="boolean"?this.getContainer():t;eu.bind(e,()=>{const i=this.getContainer(),s=i.offsetWidth,r=i.offsetHeight;this.resize(s,r)})}}resize(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)}resizeGraph(t,e){this.graph.transform.resize(t,e)}resizeScroller(t,e){this.graph.scroller.resize(t,e)}resizePage(t,e){const i=this.graph.scroller.widget;i&&i.updatePageSize(t,e)}dispose(){eu.clear(this.getContainer())}}X5([Ce.dispose()],Cv.prototype,"dispose",null);var ae=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},Y5=globalThis&&globalThis.__rest||function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e},Qt;(function(n){function t(i,s){return(r,o,a)=>{const l=a.value,c=s||o;a.value=function(...u){const h=this.options[c];if(h!=null){this.getNativeValue=l.bind(this,...u);const f=yt(h,this.graph,...u);if(this.getNativeValue=null,f!=null||i===!0&&f===null)return f}return l.call(this,...u)}}}n.hook=t;function e(i){return(s,r,o)=>{const a=o.value,l=i||r;o.value=function(...c){let u=a.call(this,...c);const h=this.options[l];return h!=null&&(u=yt(h,this.graph,...c)&&u),u}}}n.after=e})(Qt||(Qt={}));class te extends Ce{createModel(){if(this.options.model)return this.options.model;const t=new Dn;return t.graph=this.graph,t}createView(){return new _i(this.graph)}createRenderer(){return new de(this.graph)}createDefsManager(){return new gv(this.graph)}createGridManager(){return new Nf(this.graph)}createCoordManager(){return new pv(this.graph)}createKnobManager(){return new U5(this.graph)}createTransform(t,e){const i=this.getTransformOptions(t);return i.resizable||i.rotatable?new dv(Object.assign(Object.assign({node:t,graph:this.graph},i),e)):(i.clearAll&&dv.removeInstances(this.graph),null)}createKnob(t,e){const i=Ri.parseOptionGroup(this.graph,t,this.options.knob),s=Object.assign(Object.assign({},i),e);s.clearAll&&cv.removeInstances(this.graph),s.clearAll=!1;const r=t.prop("knob"),o=[];return(Array.isArray(r)?r:[r]).forEach((l,c)=>{if(l){if(l.enabled===!1||typeof l.enabled=="function"&&l.enabled.call(this.graph,t)===!1)return}else return;i.enabled&&o.push(new cv(Object.assign({node:t,index:c,graph:this.graph},s)))}),o}getTransformOptions(t){const e=Ri.parseOptionGroup(this.graph,t,this.options.resizing),i=Ri.parseOptionGroup(this.graph,t,this.options.rotating),s=Ri.parseOptionGroup(this.graph,t,this.options.transforming);return Object.assign(Object.assign({},s),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:e.restrict!=null?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:i.enabled,rotateGrid:i.grid})}createTransformManager(){return new Eu(this.graph)}createHighlightManager(){return new Su(this.graph)}createBackgroundManager(){return new xu(this.graph)}createClipboard(){return new K5}createClipboardManager(){return new If(this.graph)}createSnapline(){return new hv(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new Lf(this.graph)}createSelection(){return new kf(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new _f(this.graph)}allowRubberband(t){return!0}createHistoryManager(){return new Rr(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new Wo(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new Ff(this.graph)}allowPanning(t){return!0}createMiniMap(){const t=this.options.minimap,{enabled:e}=t,i=Y5(t,["enabled"]);return e?new uv(Object.assign({graph:this.graph},i)):null}createMiniMapManager(){return new Rf(this.graph)}createKeyboard(){return new jr(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new jf(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new zr(this.graph)}createFormatManager(){return new yv(this.graph)}createPanningManager(){return new vv(this.graph)}createSizeManager(){return new Cv(this.graph)}allowConnectToBlank(t){const e=this.options.connecting,i=e.allowBlank!=null?e.allowBlank:e.dangling;if(typeof i!="function")return!!i;const s=this.graph.findViewByCell(t),r=t.getSourceCell(),o=t.getTargetCell(),a=this.graph.findViewByCell(r),l=this.graph.findViewByCell(o);return yt(i,this.graph,{edge:t,edgeView:s,sourceCell:r,targetCell:o,sourceView:a,targetView:l,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(t,e,i){if(!this.allowConnectToBlank(t)){const r=t.getSourceCellId(),o=t.getTargetCellId();if(!(r&&o))return!1}const s=this.options.connecting.validateEdge;return s?yt(s,this.graph,{edge:t,type:e,previous:i}):!0}validateMagnet(t,e,i){if(e.getAttribute("magnet")!=="passive"){const s=this.options.connecting.validateMagnet;return s?yt(s,this.graph,{e:i,magnet:e,view:t,cell:t.cell}):!0}return!1}getDefaultEdge(t,e){let i;const s=this.options.connecting.createEdge;return s&&(i=yt(s,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),i==null&&(i=new lv),i}validateConnection(t,e,i,s,r,o,a){const l=this.options.connecting,c=l.allowLoop,u=l.allowNode,h=l.allowEdge,f=l.allowPort,g=l.allowMulti!=null?l.allowMulti:l.multi,b=l.validateConnection,y=o?o.cell:null,w=r==="target"?i:t,C=r==="target"?s:e;let E=!0;const S=T=>{const $=r==="source"?a?a.port:null:y?y.getSourcePortId():null,p=r==="target"?a?a.port:null:y?y.getTargetPortId():null;return yt(T,this.graph,{edge:y,edgeView:o,sourceView:t,targetView:i,sourcePort:$,targetPort:p,sourceMagnet:e,targetMagnet:s,sourceCell:t?t.cell:null,targetCell:i?i.cell:null,type:r})};if(c!=null&&(typeof c=="boolean"?!c&&t===i&&(E=!1):E=S(c)),E&&f!=null&&(typeof f=="boolean"?!f&&C&&(E=!1):E=S(f)),E&&h!=null&&(typeof h=="boolean"?!h&&ws.isEdgeView(w)&&(E=!1):E=S(h)),E&&u!=null&&(typeof u=="boolean"?!u&&w!=null&&Hn.isNodeView(w)&&C==null&&(E=!1):E=S(u)),E&&g!=null&&o){const T=o.cell,$=r==="source"?a:T.getSource(),p=r==="target"?a:T.getTarget(),A=a?this.graph.getCellById(a.cell):null;if($&&p&&$.cell&&p.cell&&A)if(typeof g=="function")E=S(g);else{const k=this.model.getConnectedEdges(A,{outgoing:r==="source",incoming:r==="target"});k.length&&(g==="withPort"?k.some(H=>{const _=H.getSource(),I=H.getTarget();return _&&I&&_.cell===$.cell&&I.cell===p.cell&&_.port!=null&&_.port===$.port&&I.port!=null&&I.port===p.port})&&(E=!1):g||k.some(H=>{const _=H.getSource(),I=H.getTarget();return _&&I&&_.cell===$.cell&&I.cell===p.cell})&&(E=!1))}}return E&&b!=null&&(E=S(b)),E}getRestrictArea(t){const e=this.options.translating.restrict,i=typeof e=="function"?yt(e,this.graph,t):e;return typeof i=="number"?this.graph.transform.getGraphArea().inflate(i):i===!0?this.graph.transform.getGraphArea():i||null}onViewUpdated(t,e,i){e&de.FLAG_INSERT||i.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,i)}onViewPostponed(t,e,i){return this.graph.renderer.forcePostponedViewUpdate(t,e)}getCellView(t){return null}createCellView(t){const e={graph:this.graph},i=this.getCellView(t);if(i)return new i(t,e);const s=t.view;if(s!=null&&typeof s=="string"){const r=He.registry.get(s);return r?new r(t,e):He.registry.onNotFound(s)}return t.isNode()?new Hn(t,e):t.isEdge()?new ws(t,e):null}getHTMLComponent(t){let e=t.getHTML();return typeof e=="string"&&(e=ts.componentRegistry.get(e)||e),hi(e)&&(e=e.render),typeof e=="function"?yt(e,this.graph,t):e}shouldUpdateHTMLComponent(t){let e=t.getHTML();if(typeof e=="string"&&(e=ts.componentRegistry.get(e)||e),hi(e)){const i=e.shouldComponentUpdate;return typeof i=="function"?yt(i,this.graph,t):!!i}return!1}onEdgeLabelRendered(t){}onPortRendered(t){}onToolItemCreated(t){}}ae([Qt.hook()],te.prototype,"createModel",null);ae([Qt.hook()],te.prototype,"createView",null);ae([Qt.hook()],te.prototype,"createRenderer",null);ae([Qt.hook()],te.prototype,"createDefsManager",null);ae([Qt.hook()],te.prototype,"createGridManager",null);ae([Qt.hook()],te.prototype,"createCoordManager",null);ae([Qt.hook()],te.prototype,"createKnobManager",null);ae([Qt.hook()],te.prototype,"createTransform",null);ae([Qt.hook()],te.prototype,"createKnob",null);ae([Qt.hook()],te.prototype,"createTransformManager",null);ae([Qt.hook()],te.prototype,"createHighlightManager",null);ae([Qt.hook()],te.prototype,"createBackgroundManager",null);ae([Qt.hook()],te.prototype,"createClipboard",null);ae([Qt.hook()],te.prototype,"createClipboardManager",null);ae([Qt.hook()],te.prototype,"createSnapline",null);ae([Qt.hook()],te.prototype,"createSnaplineManager",null);ae([Qt.hook()],te.prototype,"createSelection",null);ae([Qt.hook()],te.prototype,"createSelectionManager",null);ae([Qt.hook()],te.prototype,"allowRubberband",null);ae([Qt.hook()],te.prototype,"createHistoryManager",null);ae([Qt.hook()],te.prototype,"createScroller",null);ae([Qt.hook()],te.prototype,"createScrollerManager",null);ae([Qt.hook()],te.prototype,"allowPanning",null);ae([Qt.hook()],te.prototype,"createMiniMap",null);ae([Qt.hook()],te.prototype,"createMiniMapManager",null);ae([Qt.hook()],te.prototype,"createKeyboard",null);ae([Qt.hook()],te.prototype,"createMouseWheel",null);ae([Qt.hook()],te.prototype,"createPrintManager",null);ae([Qt.hook()],te.prototype,"createFormatManager",null);ae([Qt.hook()],te.prototype,"createPanningManager",null);ae([Qt.hook()],te.prototype,"createSizeManager",null);ae([Qt.after()],te.prototype,"onViewUpdated",null);ae([Qt.after()],te.prototype,"onViewPostponed",null);ae([Qt.hook()],te.prototype,"getCellView",null);ae([Qt.hook(!0)],te.prototype,"createCellView",null);ae([Qt.hook()],te.prototype,"getHTMLComponent",null);ae([Qt.hook()],te.prototype,"shouldUpdateHTMLComponent",null);ae([Qt.hook()],te.prototype,"onEdgeLabelRendered",null);ae([Qt.hook()],te.prototype,"onPortRendered",null);ae([Qt.hook()],te.prototype,"onToolItemCreated",null);var ji=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class pe extends $n{constructor(t){super();this.options=Ri.get(t),this.css=new Xs(this),this.hook=new te(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return pe.toStringTag}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(i=>Ve.isNode(i)?i:this.createNode(i)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(i=>Re.isEdge(i)?i:this.createEdge(i)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCell(t){return this.model.getCell(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,i={}){return this.model.isNeighbor(t,e,i)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,i={}){return this.model.isSuccessor(t,e,i)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,i={}){return this.model.isPredecessor(t,e,i)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,i,s,r){return this.model.getNodesInArea(t,e,i,s,r)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,i={}){return this.model.search(t,e,i),this}getShortestPath(t,e,i={}){return this.model.getShortestPath(t,e,i)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,i){const s=typeof t=="string"?t:"update",r=typeof t=="string"?e:t,o=typeof e=="function"?i:e;this.startBatch(s,o);const a=r();return this.stopBatch(s,o),a}isFrozen(){return this.renderer.isFrozen()}freeze(t={}){return this.renderer.freeze(t),this}unfreeze(t={}){return this.renderer.unfreeze(t),this}isAsync(){return this.renderer.isAsync()}setAsync(t){return this.renderer.setAsync(t),this}findView(t){return oe.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return ut.isRectangleLike(t)?this.findViewsInArea(t):L.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const i=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(i)}findViewsInArea(t,e,i,s,r){const o=typeof t=="number"?{x:t,y:e,width:i,height:s}:t,a=typeof t=="number"?r:e;return this.renderer.findViewsInArea(o,a)}isViewMounted(t){return this.renderer.isViewMounted(t)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){return this.size.resize(t,e),this}resizeGraph(t,e){return this.size.resizeGraph(t,e),this}resizeScroller(t,e){return this.size.resizeScroller(t,e),this}resizePage(t,e){return this.size.resizePage(t,e),this}scale(t,e=t,i=0,s=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,i,s),this)}zoom(t,e){const i=this.scroller.widget;if(i){if(typeof t=="undefined")return i.zoom();i.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const i=this.scroller.widget;i?i.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0}))}zoomToRect(t,e={}){const i=this.scroller.widget;return i?i.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,i){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,i),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const i=this.translate(),s=i.tx+t,r=i.ty+e;return this.translate(s,r)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,i,s){return this.transform.fitToContent(t,e,i,s)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,i){const s=this.scroller.widget;return s?s.centerPoint(t,e,i):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const i=this.scroller.widget;return i?i.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,i,s={}){const r=this.scroller.widget;return r?r.positionPoint(t,e,i,s):this.transform.positionPoint(t,e,i),this}positionRect(t,e,i){const s=this.scroller.widget;return s?s.positionRect(t,e,i):this.transform.positionRect(t,e),this}positionCell(t,e,i){const s=this.scroller.widget;return s?s.positionCell(t,e,i):this.transform.positionCell(t,e),this}positionContent(t,e){const i=this.scroller.widget;return i?i.positionContent(t,e):this.transform.positionContent(t,e),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,i,s){return ut.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.pageToLocalRect(t,e,i,s):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,i,s){return ut.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.localToPageRect(t,e,i,s):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,i,s){return ut.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.clientToLocalRect(t,e,i,s):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,i,s){return ut.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.localToClientRect(t,e,i,s):this.coord.localToClientPoint(t,e)}localToGraph(t,e,i,s){return ut.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.localToGraphRect(t,e,i,s):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,i,s){return ut.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.graphToLocalRect(t,e,i,s):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,i,s){return ut.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof i=="number"&&typeof s=="number"?this.coord.clientToGraphRect(t,e,i,s):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const i=this.scroller.widget;return i!=null&&(this.options.background==null||!e)?i.backgroundManager.draw(t):this.background.draw(t),this}clearBackground(t){const e=this.scroller.widget;return e!=null&&(this.options.background==null||!t)?e.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(t){return t!=null?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(t,e={}){return this.clipboard.copy(t,e),this}cut(t,e={}){return this.clipboard.cut(t,e),this}paste(t={},e=this){return this.clipboard.paste(t,e)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(t){return t!=null?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(t={}){return this.history.undo(t),this}undoAndCancel(t={}){return this.history.cancel(t),this}redo(t={}){return this.history.redo(t),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(t={}){this.history.clean(t)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(t){return t!=null?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(t,e,i){return this.keyboard.on(t,e,i),this}unbindKey(t,e){return this.keyboard.off(t,e),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}lockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.lock()}unlockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.unlock()}updateScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(t,e,i){return this.scroller.widget.scrollbarPosition(t,e,i),this}scrollToPoint(t,e,i){return this.scroller.widget.scrollToPoint(t,e,i),this}scrollToContent(t){return this.scroller.widget.scrollToContent(t),this}scrollToCell(t,e){return this.scroller.widget.scrollToCell(t,e),this}transitionToPoint(t,e,i){return this.scroller.widget.transitionToPoint(t,e,i),this}transitionToRect(t,e={}){return this.scroller.widget.transitionToRect(t,e),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(t){return t!=null?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(t){return t!=null?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(t){return t!=null?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(t){return t!=null?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(t){return t!=null?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(t){this.selection.setModifiers(t)}setSelectionFilter(t){return this.selection.setFilter(t),this}setSelectionDisplayContent(t){return this.selection.setContent(t),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(t){return this.selection.clean(t),this}resetSelection(t,e){return this.selection.reset(t,e),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(t){return this.selection.isSelected(t)}select(t,e){return this.selection.select(t,e),this}unselect(t,e){return this.selection.unselect(t,e),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(t){if(t!=null)t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(t){return this.snapline.widget.setFilter(t),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(t){return t!=null?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(t){return t!=null?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(t){return this.snapline.widget.options.tolerance=t,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(t,e={}){this.format.toSVG(t,e)}toDataURL(t,e){this.format.toDataURL(t,e)}toPNG(t,e={}){this.format.toPNG(t,e)}toJPEG(t,e={}){this.format.toJPEG(t,e)}printPreview(t){this.print.show(t)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}ji([Si.checkScroller()],pe.prototype,"lockScroller",null);ji([Si.checkScroller()],pe.prototype,"unlockScroller",null);ji([Si.checkScroller()],pe.prototype,"updateScroller",null);ji([Si.checkScroller()],pe.prototype,"getScrollbarPosition",null);ji([Si.checkScroller()],pe.prototype,"setScrollbarPosition",null);ji([Si.checkScroller()],pe.prototype,"scrollToPoint",null);ji([Si.checkScroller()],pe.prototype,"scrollToContent",null);ji([Si.checkScroller()],pe.prototype,"scrollToCell",null);ji([Si.checkScroller()],pe.prototype,"transitionToPoint",null);ji([Si.checkScroller()],pe.prototype,"transitionToRect",null);ji([$n.dispose()],pe.prototype,"dispose",null);(function(n){n.View=_i,n.Hook=te,n.Renderer=de,n.Keyboard=jr,n.MouseWheel=jf,n.BaseManager=Ce,n.DefsManager=gv,n.GridManager=Nf,n.CoordManager=pv,n.PrintManager=zr,n.FormatManager=yv,n.MiniMapManager=Rf,n.HistoryManager=Rr,n.SnaplineManager=Lf,n.ScrollerManager=Ff,n.ClipboardManager=If,n.TransformManager=Eu,n.HighlightManager=Su,n.BackgroundManager=xu,n.SelectionManager=_f})(pe||(pe={}));(function(n){n.toStringTag=`X6.${n.name}`;function t(e){if(e==null)return!1;if(e instanceof n)return!0;const i=e[Symbol.toStringTag],s=e;return(i==null||i===n.toStringTag)&&s.hook!=null&&s.view!=null&&s.model!=null}n.isGraph=t})(pe||(pe={}));(function(n){function t(e,i){const s=e instanceof HTMLElement?new n({container:e}):new n(e);return i!=null&&s.fromJSON(i),s}n.render=t})(pe||(pe={}));(function(n){n.registerNode=Ve.registry.register,n.registerEdge=Re.registry.register,n.registerView=He.registry.register,n.registerAttr=Ki.registry.register,n.registerGrid=Hs.registry.register,n.registerFilter=No.registry.register,n.registerNodeTool=_o.registry.register,n.registerEdgeTool=Ro.registry.register,n.registerBackground=sl.registry.register,n.registerHighlighter=ys.registry.register,n.registerPortLayout=$r.registry.register,n.registerPortLabelLayout=Lo.registry.register,n.registerMarker=Bs.registry.register,n.registerRouter=qs.registry.register,n.registerConnector=Lr.registry.register,n.registerAnchor=jo.registry.register,n.registerEdgeAnchor=zo.registry.register,n.registerConnectionPoint=Bo.registry.register,n.registerConnectionStrategy=Fo.registry.register,n.registerHTMLComponent=ts.componentRegistry.register})(pe||(pe={}));(function(n){n.unregisterNode=Ve.registry.unregister,n.unregisterEdge=Re.registry.unregister,n.unregisterView=He.registry.unregister,n.unregisterAttr=Ki.registry.unregister,n.unregisterGrid=Hs.registry.unregister,n.unregisterFilter=No.registry.unregister,n.unregisterNodeTool=_o.registry.unregister,n.unregisterEdgeTool=Ro.registry.unregister,n.unregisterBackground=sl.registry.unregister,n.unregisterHighlighter=ys.registry.unregister,n.unregisterPortLayout=$r.registry.unregister,n.unregisterPortLabelLayout=Lo.registry.unregister,n.unregisterMarker=Bs.registry.unregister,n.unregisterRouter=qs.registry.unregister,n.unregisterConnector=Lr.registry.unregister,n.unregisterAnchor=jo.registry.unregister,n.unregisterEdgeAnchor=zo.registry.unregister,n.unregisterConnectionPoint=Bo.registry.unregister,n.unregisterConnectionStrategy=Fo.registry.unregister,n.unregisterHTMLComponent=ts.componentRegistry.unregister})(pe||(pe={}));class K5{constructor(){this.cells=[]}copy(t,e,i={}){this.options=Object.assign({},i);const r=(Dn.isModel(e)?e:e.model).cloneSubGraph(t,i);this.cells=Bd(Object.keys(r).map(o=>r[o]),o=>o.isEdge()?2:1),this.serialize(i)}cut(t,e,i={}){this.copy(t,e,i),(pe.isGraph(e)?e.model:e).batchUpdate("cut",()=>{t.forEach(r=>r.remove())})}paste(t,e={}){const i=Object.assign(Object.assign({},this.options),e),{offset:s,edgeProps:r,nodeProps:o}=i;let a=20,l=20;s&&(a=typeof s=="number"?s:s.dx,l=typeof s=="number"?s:s.dy),this.deserialize(i);const c=this.cells;c.forEach(h=>{h.model=null,h.removeProp("zIndex"),(a||l)&&h.translate(a,l),o&&h.isNode()&&h.prop(o),r&&h.isEdge()&&h.prop(r)});const u=pe.isGraph(t)?t.model:t;return u.batchUpdate("paste",()=>{u.addCells(this.cells)}),this.copy(c,t,e),c}serialize(t){t.useLocalStorage!==!1&&yl.save(this.cells)}deserialize(t){if(t.useLocalStorage){const e=yl.fetch();e&&(this.cells=e)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],yl.clean()}}var yl;(function(n){const t=`${Ji.prefixCls}.clipboard.cells`;function e(r){if(window.localStorage){const o=r.map(a=>a.toJSON());localStorage.setItem(t,JSON.stringify(o))}}n.save=e;function i(){if(window.localStorage){const r=localStorage.getItem(t),o=r?JSON.parse(r):[];if(o)return Dn.fromJSON(o)}}n.fetch=i;function s(){window.localStorage&&localStorage.removeItem(t)}n.clean=s})(yl||(yl={}));class J5{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(t){return this.options.useCellGeometry?t.cell.getBBox():t.getBBox()},content(t){const e=So("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),i=t.cell,s=i.getBBox();return e({x:Math.floor(s.x),y:Math.floor(s.y),width:Math.floor(s.width),height:Math.floor(s.height),angle:Math.floor(i.getAngle())})},magnet(t){return t.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:t,y:e}){this.halo.startBatch();const i=this.graph,s=this.createEdgeConnectedToSource();s.setTarget({x:t,y:e}),this.model.addEdge(s,{validation:!1,halo:this.halo.cid,async:!1}),i.view.undelegateEvents(),this.edgeView=i.renderer.findViewByCell(s),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})}createEdgeConnectedToSource(){const t=this.getMagnet(this.view,"source"),e=this.getEdgeTerminal(this.view,t),i=this.graph.hook.getDefaultEdge(this.view,t);return i.setSource(e),i}getMagnet(t,e){const i=this.options.magnet;if(typeof i=="function"){const s=yt(i,this.halo,t,e);if(s instanceof SVGElement)return s}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(t,e){const i={cell:t.cell.id};if(e!==t.container){const s=e.getAttribute("port");s?i.port=s:i.selector=t.getSelector(e)}return i}doLink({e:t,x:e,y:i}){this.edgeView&&this.edgeView.onMouseMove(t,e,i)}stopLink({e:t,x:e,y:i}){const s=this.edgeView;if(s){s.onMouseUp(t,e,i);const r=s.cell;r.hasLoop()&&this.makeLoopEdge(r),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:r}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(t){let e=null,i=null;const s=this.options.loopEdgeWidth,r=this.graph.options,o=new ut(0,0,r.width,r.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(c=>{let u=null,h=0,f=0;switch(c){case"top":u=new L(a.x+a.width/2,a.y-s),h=s/2;break;case"bottom":u=new L(a.x+a.width/2,a.y+a.height+s),h=s/2;break;case"left":u=new L(a.x-s,a.y+a.height/2),f=s/2;break;case"right":u=new L(a.x+a.width+s,a.y+a.height/2),f=s/2;break}return u?(e=u.translate(-h,-f),i=u.translate(h,f),o.containsPoint(e)&&o.containsPoint(i)):!1})&&e&&i&&t.setVertices([e,i])}startResize({e:t}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(se.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),pn("node:resize",t,this.view)}doResize({e:t,dx:e,dy:i}){const s=this.node.getSize(),r=Math.max(s.width+(this.flip?e:i),1),o=Math.max(s.height+(this.flip?i:e),1);this.node.resize(r,o,{absolute:!0}),pn("node:resizing",t,this.view)}stopResize({e:t}){this.view.removeClass("node-resizing"),pn("node:resized",t,this.view),this.halo.stopBatch()}startClone({e:t,x:e,y:i}){this.halo.startBatch();const r=this.options.clone(this.cell,{clone:!0});if(!oe.isCell(r))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(r,e,i),this.model.addCell(r,{halo:this.halo.cid,async:!1});const o=this.graph.renderer.findViewByCell(r);o.onMouseDown(t,e,i),this.halo.setEventData(t,{cloneView:o})}centerNodeAtCursor(t,e,i){const s=t.getBBox().getCenter(),r=e-s.x,o=i-s.y;t.translate(r,o)}doClone({e:t,x:e,y:i}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseMove(t,e,i)}stopClone({e:t,x:e,y:i}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseUp(t,e,i),this.halo.stopBatch()}startFork({e:t,x:e,y:i}){this.halo.startBatch();const s=this.options.clone(this.cell,{fork:!0});if(!oe.isCell(s))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(s,e,i),this.model.addCell(s,{halo:this.halo.cid,async:!1});const r=this.createEdgeConnectedToSource(),o=this.graph.renderer.findViewByCell(s),a=this.getMagnet(o,"target"),l=this.getEdgeTerminal(o,a);r.setTarget(l),this.model.addEdge(r,{halo:this.halo.cid,async:!1}),o.onMouseDown(t,e,i),this.halo.setEventData(t,{cloneView:o})}doFork({e:t,x:e,y:i}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseMove(t,e,i)}stopFork({e:t,x:e,y:i}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseUp(t,e,i),this.halo.stopBatch()}startRotate({e:t,x:e,y:i}){this.halo.startBatch();const s=this.node.getBBox().getCenter(),r=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((o,a)=>(a.isNode()&&o.push(a),o),r),this.halo.setEventData(t,{center:s,nodes:r,rotateStartAngles:r.map(o=>o.getAngle()),clientStartAngle:new L(e,i).theta(s)}),r.forEach(o=>{const a=this.graph.findViewByCell(o);a&&(a.addClass("node-rotating"),pn("node:rotate",t,a))})}doRotate({e:t,x:e,y:i}){const s=this.halo.getEventData(t),r=s.clientStartAngle-new L(e,i).theta(s.center);s.nodes.forEach((o,a)=>{const l=s.rotateStartAngles[a],c=en.snapToGrid(l+r,this.options.rotateGrid);o.rotate(c,{absolute:!0,center:s.center,halo:this.halo.cid}),pn("node:rotating",t,this.graph.findViewByCell(o))})}stopRotate({e:t}){this.halo.getEventData(t).nodes.forEach(i=>{const s=this.graph.findViewByCell(i);s.removeClass("node-rotating"),pn("node:rotated",t,s)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class Z5{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(t){return t.graph.localToGraph(t.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const t=this.edge.getSource(),e=this.edge.getTarget();this.edge.prop({source:e,target:t})}}class vl extends ml{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(t){this.options=Fe(vl.defaultOptions,this.cell.isNode()?new J5(this).getPresets():this.cell.isEdge()?new Z5(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),super.startListening()}stopListening(){const t=this.model,e=this.graph,i=this.view.cell;this.undelegateEvents(),i.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),super.stopListening()}render(){const t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(Au.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(`${e}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${e}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(Au.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const t=this.getBBox(),e=this.options.tinyThreshold||0,i=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,t.width<e&&t.height<e);const s=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(s,!this.$handleContainer.hasClass(s)&&t.width<i&&t.height<i),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const t=this.options.content;if(typeof t=="function"){const e=yt(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()}getBBox(){const t=this.view,e=this.options.bbox,i=typeof e=="function"?yt(e,this,t):e;return ut.create(Object.assign({x:0,y:0,width:1,height:1},i))}removeCell(){this.cell.remove()}toggleFork(){const t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),i=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!i),e.remove()}toggleUnlink(){const t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(n){n.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:t=>t.clone().removeZIndex()}})(vl||(vl={}));Object.getOwnPropertyNames(Fr.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(vl.prototype,n,Object.getOwnPropertyDescriptor(Fr.prototype,n))});var Au;(function(n){n.NODE_CLS="has-widget-halo"})(Au||(Au={}));var Q5=globalThis&&globalThis.__decorate||function(n,t,e,i){var s=arguments.length,r=s<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Ys extends re{constructor(t){super();this.options=Object.assign(Object.assign({},Ys.defaults),t),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new pe(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const t=this.options.target;return pe.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return pe.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(t,e){const i=e;i.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,i.clientX,i.clientY);const s=this.updateNodePosition(i.clientX,i.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:i,node:t,cell:t,view:this.draggingView,x:s.x,y:s.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(Ys.documentEvents,i.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(t,e,i){const s=this.draggingGraph,r=s.model,o=this.options.getDragNode(t,{sourceNode:t,draggingGraph:s,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const u=this.targetGraph.transform.getScale();s.scale(u.sx,u.sy),a*=Math.max(u.sx,u.sy)}else s.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),r.resetCells([o]);const l=s.findViewByCell(o);l.undelegateEvents(),l.cell.off("changed"),s.fitToContent({padding:a,allowNewOrigin:"any"});const c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=l,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(e,i)}updateGraphPosition(t,e){const i=document.body.scrollTop||document.documentElement.scrollTop,s=this.delta,r=this.geometryBBox,o=this.padding||5,a={left:t-s.x-r.width/2-o,top:e-s.y-r.height/2-o+i};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(t,e){const i=this.targetGraph.clientToLocal(t,e),s=this.draggingBBox;return i.x-=s.width/2,i.y-=s.height/2,this.draggingNode.position(i.x,i.y),i}snap({cell:t,current:e,options:i}){const s=t;if(i.snapped){const r=this.draggingBBox;s.position(r.x+i.tx,r.y+i.ty,{silent:!0}),this.draggingView.translate(),s.position(e.x,e.y,{silent:!0}),this.snapOffset={x:i.tx,y:i.ty}}else this.snapOffset=null}onDragging(t){const e=this.draggingView;if(e){t.preventDefault();const i=this.normalizeEvent(t),s=i.clientX,r=i.clientY;this.updateGraphPosition(s,r);const o=this.updateNodePosition(s,r),a=this.targetGraph.options.embedding.enabled,l=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:s,y:r});if(a){e.setEventData(i,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=e.getEventData(i);l?e.processEmbedding(i,c):e.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:i,view:e,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(t){const e=this.draggingNode;if(e){const i=this.normalizeEvent(t),s=this.draggingView,r=this.draggingBBox,o=this.snapOffset;let a=r.x,l=r.y;o&&(a+=o.x,l+=o.y),e.position(a,l,{silent:!0});const c=this.drop(e,{x:i.clientX,y:i.clientY}),u=h=>{h?(this.onDropped(e),this.targetGraph.options.embedding.enabled&&s&&(s.setEventData(i,{cell:h,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),s.finalizeEmbedding(i,s.getEventData(i)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};Yd(c)?(this.undelegateDocumentEvents(),c.then(u)):u(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const t=this.draggingNode;if(t){const e=this.options.animation;if(e){const i=typeof e=="object"&&e.duration||150,s=typeof e=="object"&&e.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,i,s,()=>this.onDropped(t))}else this.onDropped(t)}}isInsideValidArea(t){let e;const i=this.targetGraph,s=this.targetScroller;if(s)if(s.options.autoResize)e=this.getDropArea(s.container);else{const r=this.getDropArea(s.container);e=this.getDropArea(i.container).intersectsWithRect(r)}else e=this.getDropArea(i.container);return e&&e.containsPoint(t)}getDropArea(t){const e=this.$(t),i=e.offset(),s=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;return ut.create({x:i.left+parseInt(e.css("border-left-width"),10)-r,y:i.top+parseInt(e.css("border-top-width"),10)-s,width:e.innerWidth(),height:e.innerHeight()})}drop(t,e){if(this.isInsideValidArea(e)){const i=this.targetGraph,s=i.model,r=i.clientToLocal(e),o=this.sourceNode,a=this.options.getDropNode(t,{sourceNode:o,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();r.x+=l.x-l.width/2,r.y+=l.y-l.height/2;const c=this.snapOffset?1:i.getGridSize();a.position(en.snapToGrid(r.x,c),en.snapToGrid(r.y,c)),a.removeZIndex();const u=this.options.validateNode,h=u?u(a,{sourceNode:o,draggingNode:t,droppingNode:a,targetGraph:i,draggingGraph:this.draggingGraph}):!0;return typeof h=="boolean"?h?(s.addCell(a,{stencil:this.cid}),a):null:HD(h).then(f=>f?(s.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}Q5([re.dispose()],Ys.prototype,"dispose",null);(function(n){n.defaults={animation:!1,getDragNode:t=>t.clone(),getDropNode:t=>t.clone()},n.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(Ys||(Ys={}));function tL(n,t={}){const e=Dn.isModel(n)?n:new Dn().resetCells(n,{sort:!1,dryrun:!0}),i=e.getNodes(),s=t.columns||1,r=Math.ceil(i.length/s),o=t.dx||0,a=t.dy||0,l=t.center!==!1,c=t.resizeToFit===!0,u=t.marginX||0,h=t.marginY||0,f=[];let g=t.columnWidth;if(g==="compact")for(let E=0;E<s;E+=1){const S=es.getNodesInColumn(i,E,s);f.push(es.getMaxDim(S,"width")+o)}else{(g==null||g==="auto")&&(g=es.getMaxDim(i,"width")+o);for(let E=0;E<s;E+=1)f.push(g)}const b=es.accumulate(f,u),y=[];let w=t.rowHeight;if(w==="compact")for(let E=0;E<r;E+=1){const S=es.getNodesInRow(i,E,s);y.push(es.getMaxDim(S,"height")+a)}else{(w==null||w==="auto")&&(w=es.getMaxDim(i,"height")+a);for(let E=0;E<r;E+=1)y.push(w)}const C=es.accumulate(y,h);e.startBatch("layout"),i.forEach((E,S)=>{const T=S%s,$=Math.floor(S/s),p=f[T],A=y[$];let k=0,F=0,H=E.getSize();if(c){let _=p-2*o,I=A-2*a;const Y=H.height*(H.width?_/H.width:1),nt=H.width*(H.height?I/H.height:1);A<Y?_=nt:I=Y,H={width:_,height:I},E.setSize(H,t)}l&&(k=(p-H.width)/2,F=(A-H.height)/2),E.position(b[T]+o+k,C[$]+a+F,t)}),e.stopBatch("layout")}var es;(function(n){function t(r,o){return r.reduce((a,l)=>Math.max(l.getSize()[o],a),0)}n.getMaxDim=t;function e(r,o,a){const l=[];for(let c=a*o,u=c+a;c<u;c+=1)l.push(r[c]);return l}n.getNodesInRow=e;function i(r,o,a){const l=[];for(let c=o,u=r.length;c<u;c+=a)l.push(r[c]);return l}n.getNodesInColumn=i;function s(r,o){return r.reduce((a,l,c)=>(a.push(a[c]+l),a),[o||0])}n.accumulate=s})(es||(es={}));class Mu extends re{constructor(t){super();this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Mu.defaultOptions),t),this.dnd=new Ys(this.options),this.onSearch=Km(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Zn.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=t.collapsable&&t.groups&&t.groups.some(i=>i.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),t.groups&&t.groups.every(s=>s.collapsed||s.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(Zn.title)).html(this.options.title).appendTo(this.$container),t.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(Zn.content)).appendTo(this.$container);const e=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(i=>{const s=this.$("<div/>").addClass(this.prefixClassName(Zn.group)).attr("data-name",i.name);(i.collapsable==null&&t.collapsable||i.collapsable!==!1)&&s.addClass("collapsable"),s.toggleClass("collapsed",i.collapsed===!0);const r=this.$("<h3/>").addClass(this.prefixClassName(Zn.groupTitle)).html(i.title||i.name),o=this.$("<div/>").addClass(this.prefixClassName(Zn.groupContent)),a=i.graphOptions,l=new pe(Object.assign(Object.assign(Object.assign({},e),a),{container:document.createElement("div"),model:e.model||new Dn,width:i.graphWidth||t.stencilGraphWidth,height:i.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));o.append(l.container),s.append(r,o).appendTo(this.$content),this.$groups[i.name]=s,this.graphs[i.name]=l});else{const i=new pe(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new Dn,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(i.container),this.graphs[Cl.defaultGroupName]=i}return this.startListening(),this}get targetScroller(){const t=this.options.target;return pe.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return pe.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(Zn.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(Zn.searchText)))}startListening(){const t=this.prefixClassName(Zn.title),e=this.prefixClassName(Zn.searchText),i=this.prefixClassName(Zn.groupTitle);this.delegateEvents({[`click .${t}`]:"onTitleClick",[`touchstart .${t}`]:"onTitleClick",[`click .${i}`]:"onGroupTitleClick",[`touchstart .${i}`]:"onGroupTitleClick",[`input .${e}`]:"onSearch",[`focusin .${e}`]:"onSearchFocusIn",[`focusout .${e}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(s=>{this.graphs[s].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(t=>{this.graphs[t].off("cell:mousedown",this.onDragStart,this)})}load(t,e){return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(i=>{t[i]&&this.loadGroup(t[i],i)}),this}loadGroup(t,e){const i=this.getModel(e);if(i){const a=t.map(l=>Ve.isNode(l)?l:Ve.create(l));i.resetCells(a)}const s=this.getGroup(e);let r=this.options.stencilGraphHeight;s&&s.graphHeight!=null&&(r=s.graphHeight);const o=s&&s.layout||this.options.layout;if(o&&i&&yt(o,this,i,s),!r){const a=this.getGraph(e);a.fitToContent({minWidth:a.options.width,gridHeight:1,padding:s&&s.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(t){const{e,node:i}=t;this.dnd.start(i,e)}filter(t,e){const i=Object.keys(this.graphs).reduce((s,r)=>{const o=this.graphs[r],a=r===Cl.defaultGroupName?null:r,l=o.model.getNodes().filter(f=>{let g=!1;typeof e=="function"?g=yt(e,this,f,t,a,this):typeof e=="boolean"?g=e:g=this.isCellMatched(f,t,e,t.toLowerCase()!==t);const b=o.renderer.findViewByCell(f);return b&&b.$(b.container).toggleClass("unmatched",!g),g}),c=l.length>0,u=this.options,h=new Dn;return h.resetCells(l),u.layout&&yt(u.layout,this,h,this.getGroup(r)),this.$groups[r]&&this.$groups[r].toggleClass("unmatched",!c),o.fitToContent({gridWidth:1,gridHeight:1,padding:u.stencilGraphPadding||10}),s||c},!1);this.$container.toggleClass("not-found",!i)}isCellMatched(t,e,i,s){return e&&i?Object.keys(i).some(r=>{if(r==="*"||t.shape===r){const o=i[r];return typeof o=="boolean"?o:(Array.isArray(o)?o:[o]).some(l=>{let c=t.getPropByPath(l);return c!=null?(c=`${c}`,s||(c=c.toLowerCase()),c.indexOf(e)>=0):!1})}return!1}):!0}onSearch(t){this.filter(t.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(t){const e=this.$(t.target).closest(`.${this.prefixClassName(Zn.group)}`);this.toggleGroup(e.attr("data-name")||"");const i=Object.keys(this.$groups).every(s=>{const r=this.getGroup(s),o=this.$groups[s];return r&&r.collapsable===!1||o.hasClass("collapsed")});this.$container.toggleClass("collapsed",i)}getModel(t){const e=this.getGraph(t);return e?e.model:null}getGraph(t){return this.graphs[t||Cl.defaultGroupName]}getGroup(t){const e=this.options.groups;return t!=null&&e&&e.length?e.find(i=>i.name===t):null}toggleGroup(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this}collapseGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this}expandGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this}isGroupCollapsable(t){return this.$groups[t].hasClass("collapsable")}isGroupCollapsed(t){const e=this.$groups[t];return e&&e.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(t=>this.collapseGroup(t)),this}expandGroups(){return Object.keys(this.$groups).forEach(t=>this.expandGroup(t)),this}resizeGroup(t,e){const i=this.graphs[t];return i&&i.resize(e.width,e.height),this}onRemove(){Object.keys(this.graphs).forEach(t=>{this.graphs[t].view.remove(),delete this.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(n){n.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(t,e){const i={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};tL(t,Object.assign(Object.assign(Object.assign({},i),this.options.layoutOptions),e?e.layoutOptions:{}))}},Ys.defaults)})(Mu||(Mu={}));var Zn;(function(n){n.base="widget-stencil",n.title=`${n.base}-title`,n.search=`${n.base}-search`,n.searchText=`${n.search}-text`,n.content=`${n.base}-content`,n.group=`${n.base}-group`,n.groupTitle=`${n.group}-title`,n.groupContent=`${n.group}-content`})(Zn||(Zn={}));var Cl;(function(n){n.defaultGroupName="__default__"})(Cl||(Cl={}));function eL(){if(Ji.trackable){const n="https://kcart.alipay.com/web/bi.do",t=new Image,e=Object.assign(Object.assign({},Ji.trackInfo),{version:l4,pg:document.URL,r:new Date().getTime(),x6:!0,page_type:"syslog"}),i=encodeURIComponent(JSON.stringify([e]));t.src=`${n}?BIProfile=merge&d=${i}`}}Ji.trackable&&setTimeout(eL,3e3);var zi=(n,t)=>{const e=n.__vccOpts||n;for(const[i,s]of t)e[i]=s;return e};const nL=Ee({name:"ArrowDown"}),iL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},sL=ne("path",{fill:"currentColor",d:"M831.872 340.864L512 652.672 192.128 340.864a30.592 30.592 0 00-42.752 0 29.12 29.12 0 000 41.6L489.664 714.24a32 32 0 0044.672 0l340.288-331.712a29.12 29.12 0 000-41.728 30.592 30.592 0 00-42.752 0z"},null,-1),rL=[sL];function oL(n,t,e,i,s,r){return mt(),Lt("svg",iL,rL)}var wv=zi(nL,[["render",oL]]);const aL=Ee({name:"ArrowRight"}),lL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cL=ne("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 000 42.752L652.736 512 340.864 831.872a30.592 30.592 0 000 42.752 29.12 29.12 0 0041.728 0L714.24 534.336a32 32 0 000-44.672L382.592 149.376a29.12 29.12 0 00-41.728 0z"},null,-1),uL=[cL];function hL(n,t,e,i,s,r){return mt(),Lt("svg",lL,uL)}var xv=zi(aL,[["render",hL]]);const dL=Ee({name:"ArrowUp"}),fL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},gL=ne("path",{fill:"currentColor",d:"M488.832 344.32l-339.84 356.672a32 32 0 000 44.16l.384.384a29.44 29.44 0 0042.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0042.688 0l.384-.384a32 32 0 000-44.16L535.168 344.32a32 32 0 00-46.336 0z"},null,-1),pL=[gL];function mL(n,t,e,i,s,r){return mt(),Lt("svg",fL,pL)}var Sv=zi(dL,[["render",mL]]);const bL=Ee({name:"CircleCheck"}),yL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},vL=ne("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),CL=ne("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0145.312 45.312l-288 288a32 32 0 01-45.312 0l-160-160a32 32 0 1145.312-45.312L480 626.752l265.344-265.408z"},null,-1),wL=[vL,CL];function xL(n,t,e,i,s,r){return mt(),Lt("svg",yL,wL)}var SL=zi(bL,[["render",xL]]);const EL=Ee({name:"CircleClose"}),AL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},ML=ne("path",{fill:"currentColor",d:"M466.752 512l-90.496-90.496a32 32 0 0145.248-45.248L512 466.752l90.496-90.496a32 32 0 1145.248 45.248L557.248 512l90.496 90.496a32 32 0 11-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 01-45.248-45.248L466.752 512z"},null,-1),TL=ne("path",{fill:"currentColor",d:"M512 896a384 384 0 100-768 384 384 0 000 768zm0 64a448 448 0 110-896 448 448 0 010 896z"},null,-1),OL=[ML,TL];function PL(n,t,e,i,s,r){return mt(),Lt("svg",AL,OL)}var Ev=zi(EL,[["render",PL]]);const $L=Ee({name:"Close"}),DL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kL=ne("path",{fill:"currentColor",d:"M764.288 214.592L512 466.88 259.712 214.592a31.936 31.936 0 00-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1045.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0045.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 10-45.12-45.184z"},null,-1),NL=[kL];function LL(n,t,e,i,s,r){return mt(),Lt("svg",DL,NL)}var FL=zi($L,[["render",LL]]);const IL=Ee({name:"DeleteFilled"}),_L={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},RL=ne("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64H96a32 32 0 010-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 01-32-32V256h704v672a32 32 0 01-32 32H192zm224-192a32 32 0 0032-32V416a32 32 0 00-64 0v320a32 32 0 0032 32zm192 0a32 32 0 0032-32V416a32 32 0 00-64 0v320a32 32 0 0032 32z"},null,-1),jL=[RL];function zL(n,t,e,i,s,r){return mt(),Lt("svg",_L,jL)}var V9=zi(IL,[["render",zL]]);const BL=Ee({name:"Loading"}),HL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},VL=ne("path",{fill:"currentColor",d:"M512 64a32 32 0 0132 32v192a32 32 0 01-64 0V96a32 32 0 0132-32zm0 640a32 32 0 0132 32v192a32 32 0 11-64 0V736a32 32 0 0132-32zm448-192a32 32 0 01-32 32H736a32 32 0 110-64h192a32 32 0 0132 32zm-640 0a32 32 0 01-32 32H96a32 32 0 010-64h192a32 32 0 0132 32zM195.2 195.2a32 32 0 0145.248 0L376.32 331.008a32 32 0 01-45.248 45.248L195.2 240.448a32 32 0 010-45.248zm452.544 452.544a32 32 0 0145.248 0L828.8 783.552a32 32 0 01-45.248 45.248L647.744 692.992a32 32 0 010-45.248zM828.8 195.264a32 32 0 010 45.184L692.992 376.32a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0zm-452.544 452.48a32 32 0 010 45.248L240.448 828.8a32 32 0 01-45.248-45.248l135.808-135.808a32 32 0 0145.248 0z"},null,-1),GL=[VL];function WL(n,t,e,i,s,r){return mt(),Lt("svg",HL,GL)}var zf=zi(BL,[["render",WL]]);const UL=Ee({name:"Minus"}),qL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},XL=ne("path",{fill:"currentColor",d:"M128 544h768a32 32 0 100-64H128a32 32 0 000 64z"},null,-1),YL=[XL];function KL(n,t,e,i,s,r){return mt(),Lt("svg",qL,YL)}var JL=zi(UL,[["render",KL]]);const ZL=Ee({name:"Plus"}),QL={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},tF=ne("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0164 0v352h352a32 32 0 110 64H544v352a32 32 0 11-64 0V544H128a32 32 0 010-64h352z"},null,-1),eF=[tF];function nF(n,t,e,i,s,r){return mt(),Lt("svg",QL,eF)}var iF=zi(ZL,[["render",nF]]);const sF=Ee({name:"View"}),rF={class:"icon",width:"200",height:"200",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},oF=ne("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 110 448 224 224 0 010-448zm0 64a160.192 160.192 0 00-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),aF=[oF];function lF(n,t,e,i,s,r){return mt(),Lt("svg",rF,aF)}var cF=zi(sF,[["render",lF]]);let uF={};const hF=n=>uF[n];function dF(n){for(var t=-1,e=n==null?0:n.length,i={};++t<e;){var s=n[t];i[s[0]]=s[1]}return i}var Av=dF;class fF extends Error{constructor(t){super(t);this.name="ElementPlusError"}}function wl(n,t){throw new fF(`[${n}] ${t}`)}const gF=["class","style"],pF=/^on[A-Z]/,mF=(n={})=>{const{excludeListeners:t=!1,excludeKeys:e=[]}=n,i=e.concat(gF),s=Oe();return wt(s?()=>{var r;return Av(Object.entries((r=s.proxy)==null?void 0:r.$attrs).filter(([o])=>!i.includes(o)&&!(t&&pF.test(o))))}:()=>({}))};function bF(){this.__data__=[],this.size=0}var yF=bF;function vF(n,t){return n===t||n!==n&&t!==t}var CF=vF,wF=CF;function xF(n,t){for(var e=n.length;e--;)if(wF(n[e][0],t))return e;return-1}var Tu=xF,SF=Tu,EF=Array.prototype,AF=EF.splice;function MF(n){var t=this.__data__,e=SF(t,n);if(e<0)return!1;var i=t.length-1;return e==i?t.pop():AF.call(t,e,1),--this.size,!0}var TF=MF,OF=Tu;function PF(n){var t=this.__data__,e=OF(t,n);return e<0?void 0:t[e][1]}var $F=PF,DF=Tu;function kF(n){return DF(this.__data__,n)>-1}var NF=kF,LF=Tu;function FF(n,t){var e=this.__data__,i=LF(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this}var IF=FF,_F=yF,RF=TF,jF=$F,zF=NF,BF=IF;function Uo(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Uo.prototype.clear=_F;Uo.prototype.delete=RF;Uo.prototype.get=jF;Uo.prototype.has=zF;Uo.prototype.set=BF;var HF=Uo,VF=typeof Ja=="object"&&Ja&&Ja.Object===Object&&Ja,Mv=VF,GF=Mv,WF=typeof self=="object"&&self&&self.Object===Object&&self,UF=GF||WF||Function("return this")(),ns=UF,qF=ns,XF=qF.Symbol,Ou=XF,Tv=Ou,Ov=Object.prototype,YF=Ov.hasOwnProperty,KF=Ov.toString,xl=Tv?Tv.toStringTag:void 0;function JF(n){var t=YF.call(n,xl),e=n[xl];try{n[xl]=void 0;var i=!0}catch{}var s=KF.call(n);return i&&(t?n[xl]=e:delete n[xl]),s}var ZF=JF,QF=Object.prototype,tI=QF.toString;function eI(n){return tI.call(n)}var nI=eI,Pv=Ou,iI=ZF,sI=nI,rI="[object Null]",oI="[object Undefined]",$v=Pv?Pv.toStringTag:void 0;function aI(n){return n==null?n===void 0?oI:rI:$v&&$v in Object(n)?iI(n):sI(n)}var Pu=aI;function lI(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Sl=lI,cI=Pu,uI=Sl,hI="[object AsyncFunction]",dI="[object Function]",fI="[object GeneratorFunction]",gI="[object Proxy]";function pI(n){if(!uI(n))return!1;var t=cI(n);return t==dI||t==fI||t==hI||t==gI}var mI=pI,bI=ns,yI=bI["__core-js_shared__"],vI=yI,Bf=vI,Dv=function(){var n=/[^.]+$/.exec(Bf&&Bf.keys&&Bf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function CI(n){return!!Dv&&Dv in n}var wI=CI,xI=Function.prototype,SI=xI.toString;function EI(n){if(n!=null){try{return SI.call(n)}catch{}try{return n+""}catch{}}return""}var kv=EI,AI=mI,MI=wI,TI=Sl,OI=kv,PI=/[\\^$.*+?()[\]{}|]/g,$I=/^\[object .+?Constructor\]$/,DI=Function.prototype,kI=Object.prototype,NI=DI.toString,LI=kI.hasOwnProperty,FI=RegExp("^"+NI.call(LI).replace(PI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function II(n){if(!TI(n)||MI(n))return!1;var t=AI(n)?FI:$I;return t.test(OI(n))}var _I=II;function RI(n,t){return n==null?void 0:n[t]}var jI=RI,zI=_I,BI=jI;function HI(n,t){var e=BI(n,t);return zI(e)?e:void 0}var qo=HI,VI=qo,GI=ns,WI=VI(GI,"Map"),Nv=WI,UI=qo,qI=UI(Object,"create"),$u=qI,Lv=$u;function XI(){this.__data__=Lv?Lv(null):{},this.size=0}var YI=XI;function KI(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var JI=KI,ZI=$u,QI="__lodash_hash_undefined__",t_=Object.prototype,e_=t_.hasOwnProperty;function n_(n){var t=this.__data__;if(ZI){var e=t[n];return e===QI?void 0:e}return e_.call(t,n)?t[n]:void 0}var i_=n_,s_=$u,r_=Object.prototype,o_=r_.hasOwnProperty;function a_(n){var t=this.__data__;return s_?t[n]!==void 0:o_.call(t,n)}var l_=a_,c_=$u,u_="__lodash_hash_undefined__";function h_(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=c_&&t===void 0?u_:t,this}var d_=h_,f_=YI,g_=JI,p_=i_,m_=l_,b_=d_;function Xo(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Xo.prototype.clear=f_;Xo.prototype.delete=g_;Xo.prototype.get=p_;Xo.prototype.has=m_;Xo.prototype.set=b_;var y_=Xo,Fv=y_,v_=HF,C_=Nv;function w_(){this.size=0,this.__data__={hash:new Fv,map:new(C_||v_),string:new Fv}}var x_=w_;function S_(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var E_=S_,A_=E_;function M_(n,t){var e=n.__data__;return A_(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Du=M_,T_=Du;function O_(n){var t=T_(this,n).delete(n);return this.size-=t?1:0,t}var P_=O_,$_=Du;function D_(n){return $_(this,n).get(n)}var k_=D_,N_=Du;function L_(n){return N_(this,n).has(n)}var F_=L_,I_=Du;function __(n,t){var e=I_(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this}var R_=__,j_=x_,z_=P_,B_=k_,H_=F_,V_=R_;function Yo(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}Yo.prototype.clear=j_;Yo.prototype.delete=z_;Yo.prototype.get=B_;Yo.prototype.has=H_;Yo.prototype.set=V_;var G_=Yo,W_=ns;W_.Uint8Array;var Iv=Ou,_v=Iv?Iv.prototype:void 0;_v&&_v.valueOf;var U_=Array.isArray,Hf=U_;function q_(n){return n!=null&&typeof n=="object"}var Vf=q_,X_=Pu,Y_=Vf,K_="[object Arguments]";function J_(n){return Y_(n)&&X_(n)==K_}var Z_=J_,Rv=Z_,Q_=Vf,jv=Object.prototype,tR=jv.hasOwnProperty,eR=jv.propertyIsEnumerable;Rv(function(){return arguments}());var zv={exports:{}};function nR(){return!1}var iR=nR;(function(n,t){var e=ns,i=iR,s=t&&!t.nodeType&&t,r=s&&!0&&n&&!n.nodeType&&n,o=r&&r.exports===s,a=o?e.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||i;n.exports=c})(zv,zv.exports);var Gf={exports:{}};(function(n,t){var e=Mv,i=t&&!t.nodeType&&t,s=i&&!0&&n&&!n.nodeType&&n,r=s&&s.exports===i,o=r&&e.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();n.exports=a})(Gf,Gf.exports);var Bv=Gf.exports;Bv&&Bv.isTypedArray;var sR=qo,rR=ns,oR=sR(rR,"DataView"),aR=oR,lR=qo,cR=ns,uR=lR(cR,"Promise"),hR=uR,dR=qo,fR=ns,gR=dR(fR,"Set"),pR=gR,mR=qo,bR=ns,yR=mR(bR,"WeakMap"),vR=yR,Wf=aR,Uf=Nv,qf=hR,Xf=pR,Yf=vR,Hv=Pu,Ko=kv,Vv="[object Map]",CR="[object Object]",Gv="[object Promise]",Wv="[object Set]",Uv="[object WeakMap]",qv="[object DataView]",wR=Ko(Wf),xR=Ko(Uf),SR=Ko(qf),ER=Ko(Xf),AR=Ko(Yf),Jo=Hv;(Wf&&Jo(new Wf(new ArrayBuffer(1)))!=qv||Uf&&Jo(new Uf)!=Vv||qf&&Jo(qf.resolve())!=Gv||Xf&&Jo(new Xf)!=Wv||Yf&&Jo(new Yf)!=Uv)&&(Jo=function(n){var t=Hv(n),e=t==CR?n.constructor:void 0,i=e?Ko(e):"";if(i)switch(i){case wR:return qv;case xR:return Vv;case SR:return Gv;case ER:return Wv;case AR:return Uv}return t});var kn=typeof window=="undefined";const MR="Util",Xv=(n,t="")=>{let e=n;return t.split(".").map(i=>{e=e==null?void 0:e[i]}),e};function TR(n,t,e){let i=n,s,r;if(n&&ce(n,t))s=t,r=i==null?void 0:i[t];else{t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");const o=t.split(".");let a=0;for(a;a<o.length-1&&!(!i&&!e);a++){const l=o[a];if(l in i)i=i[l];else{e&&wl(MR,"Please transfer a valid prop path to form item!");break}}s=o[a],r=i==null?void 0:i[o[a]]}return{o:i,k:s,v:r}}const OR=()=>Math.floor(Math.random()*1e4),PR=function(){return!kn&&!!window.navigator.userAgent.match(/firefox/i)},Yv=n=>typeof n=="boolean",mn=n=>typeof n=="number",$R=n=>Op(n).startsWith("HTML");function DR(){const n=Oe();return"$ELEMENT"in n.proxy?n.proxy.$ELEMENT:{}}function Kv(n){return Ie(n)?n:mn(n)?`${n}px`:""}const ku=Symbol("elForm"),Kf=Symbol("elFormItem"),Jv=Symbol("buttonGroupContextKey"),kR=Symbol(),Zv=Symbol("scrollbarContextKey"),Jf=Symbol(),Qv=Symbol();function tC(n,t){if(!je(n)||!!n[Qv])return n;const{values:e,required:i,default:s,type:r,validator:o}=n,a=e||o?l=>{let c=!1,u=[];if(e&&(u=[...e,s],c||(c=u.includes(l))),o&&(c||(c=o(l))),!c&&u.length>0){const h=[...new Set(u)].map(f=>JSON.stringify(f)).join(", ");b3(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${h}], got value ${JSON.stringify(l)}.`)}return c}:void 0;return{type:typeof r=="object"&&Object.getOwnPropertySymbols(r).includes(Jf)?r[Jf]:r,required:!!i,default:s,validator:a,[Qv]:!0}}const Ss=n=>Av(Object.entries(n).map(([t,e])=>[t,tC(e,t)])),fi=n=>({[Jf]:n}),NR=n=>n,eC=["large","medium","small","mini"],nC=n=>{const t=Oe();return wt(()=>{var e,i;return(i=(e=t.proxy)==null?void 0:e.$props[n])!=null?i:void 0})};function iC(n){const t=jn(kR,{});return n?ro(t,n):t}const sC=tC({type:String,values:["",...eC],default:""}),Br=(n,t={})=>{const e=ot(void 0),i=t.prop?e:nC("size"),s=t.global?e:iC("size"),r=t.global?{size:void 0}:DR(),o=t.form?{size:void 0}:jn(ku,void 0),a=t.formItem?{size:void 0}:jn(Kf,void 0);return wt(()=>i.value||Le(n)||(a==null?void 0:a.size)||(o==null?void 0:o.size)||s.value||r.size||"")},Zf=n=>{const t=nC("disabled"),e=jn(ku,void 0);return wt(()=>t.value||Le(n)||(e==null?void 0:e.disabled)||!1)},rC=()=>{const n=jn(ku,void 0),t=jn(Kf,void 0);return{form:n,formItem:t}};var LR=Pu,FR=Vf,IR="[object Symbol]";function _R(n){return typeof n=="symbol"||FR(n)&&LR(n)==IR}var Nu=_R,RR=Hf,jR=Nu,zR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BR=/^\w*$/;function HR(n,t){if(RR(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||jR(n)?!0:BR.test(n)||!zR.test(n)||t!=null&&n in Object(t)}var VR=HR,oC=G_,GR="Expected a function";function Qf(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(GR);var e=function(){var i=arguments,s=t?t.apply(this,i):i[0],r=e.cache;if(r.has(s))return r.get(s);var o=n.apply(this,i);return e.cache=r.set(s,o)||r,o};return e.cache=new(Qf.Cache||oC),e}Qf.Cache=oC;var WR=Qf,UR=WR,qR=500;function XR(n){var t=UR(n,function(i){return e.size===qR&&e.clear(),i}),e=t.cache;return t}var YR=XR,KR=YR,JR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZR=/\\(\\)?/g,QR=KR(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(JR,function(e,i,s,r){t.push(s?r.replace(ZR,"$1"):i||e)}),t}),tj=QR;function ej(n,t){for(var e=-1,i=n==null?0:n.length,s=Array(i);++e<i;)s[e]=t(n[e],e,n);return s}var nj=ej,aC=Ou,ij=nj,sj=Hf,rj=Nu,oj=1/0,lC=aC?aC.prototype:void 0,cC=lC?lC.toString:void 0;function uC(n){if(typeof n=="string")return n;if(sj(n))return ij(n,uC)+"";if(rj(n))return cC?cC.call(n):"";var t=n+"";return t=="0"&&1/n==-oj?"-0":t}var aj=uC,lj=aj;function cj(n){return n==null?"":lj(n)}var uj=cj,hj=Hf,dj=VR,fj=tj,gj=uj;function pj(n,t){return hj(n)?n:dj(n,t)?[n]:fj(gj(n))}var mj=pj,bj=Nu,yj=1/0;function vj(n){if(typeof n=="string"||bj(n))return n;var t=n+"";return t=="0"&&1/n==-yj?"-0":t}var Cj=vj,wj=mj,xj=Cj;function Sj(n,t){t=wj(t,n);for(var e=0,i=t.length;n!=null&&e<i;)n=n[xj(t[e++])];return e&&e==i?n:void 0}var Ej=Sj,Aj=Ej;function Mj(n,t,e){var i=n==null?void 0:Aj(n,t);return i===void 0?e:i}var Tj=Mj,hC={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};Ss({locale:{type:fi(Object)}});const Oj=Symbol("localeContextKey"),Pj=n=>(t,e)=>$j(t,e,Le(n)),$j=(n,t,e)=>Tj(e,n,n).replace(/\{(\w+)\}/g,(i,s)=>{var r;return`${(r=t==null?void 0:t[s])!=null?r:`{${s}}`}`}),Dj=(n=hC)=>{const t=ot(n.name),e=ot(n);return{lang:t,locale:e,t:Pj(e)}},dC=()=>jn(Oj,Dj(hC));let Lu;function fC(){var n;if(kn)return 0;if(Lu!==void 0)return Lu;const t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const e=t.offsetWidth;t.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",t.appendChild(i);const s=i.offsetWidth;return(n=t.parentNode)==null||n.removeChild(t),Lu=e-s,Lu}const tg=function(n){return(n||"").split(" ").filter(t=>!!t.trim())},Bi=function(n,t,e,i=!1){n&&t&&e&&(n==null||n.addEventListener(t,e,i))},El=function(n,t,e,i=!1){n&&t&&e&&(n==null||n.removeEventListener(t,e,i))},kj=function(n,t,e){const i=function(...s){e&&e.apply(this,s),El(n,t,i)};Bi(n,t,i)};function Zo(n,t){if(!n||!t)return!1;if(t.indexOf(" ")!==-1)throw new Error("className should not contain space.");return n.classList?n.classList.contains(t):(n.getAttribute("class")||"").split(" ").includes(t)}function Hr(n,t){if(!n)return;let e=n.getAttribute("class")||"";const i=tg(e),s=(t||"").split(" ").filter(r=>!i.includes(r)&&!!r.trim());n.classList?n.classList.add(...s):(e+=` ${s.join(" ")}`,n.setAttribute("class",e))}function Vr(n,t){if(!n||!t)return;const e=tg(t);let i=n.getAttribute("class")||"";if(n.classList){n.classList.remove(...e);return}e.forEach(r=>{i=i.replace(` ${r} `," ")});const s=tg(i).join(" ");n.setAttribute("class",s)}const Fu=function(n,t){var e;if(kn||!n||!t)return"";t=Di(t),t==="float"&&(t="cssFloat");try{const i=n.style[t];if(i)return i;const s=(e=document.defaultView)==null?void 0:e.getComputedStyle(n,"");return s?s[t]:""}catch{return n.style[t]}},gC=n=>n.stopPropagation(),Nj=n=>{if(cn(n)||wl("[useLockscreen]","You need to pass a ref param to this function"),kn||Zo(document.body,"el-popup-parent--hidden"))return;let t=0,e=!1,i="0",s=0;const r=()=>{Vr(document.body,"el-popup-parent--hidden"),e&&(document.body.style.paddingRight=i)};ve(n,o=>{if(!o){r();return}e=!Zo(document.body,"el-popup-parent--hidden"),e&&(i=document.body.style.paddingRight,s=parseInt(Fu(document.body,"paddingRight"),10)),t=fC();const a=document.documentElement.clientHeight<document.body.scrollHeight,l=Fu(document.body,"overflowY");t>0&&(a||l==="scroll")&&e&&(document.body.style.paddingRight=`${s+t}px`),Hr(document.body,"el-popup-parent--hidden")}),kp(()=>r())};function eg(n){return Gw()?(kp(n),!0):!1}const Gr=typeof window!="undefined",Lj=n=>typeof n=="string",ng=()=>{};function pC(n,t,e={}){const{immediate:i=!0}=e,s=ot(!1);let r=null;function o(){r&&(clearTimeout(r),r=null)}function a(){s.value=!1,o()}function l(...c){o(),s.value=!0,r=setTimeout(()=>{s.value=!1,r=null,n(...c)},Le(t))}return i&&(s.value=!0,Gr&&l()),eg(a),{isPending:s,start:l,stop:a}}function mC(n){var t;const e=Le(n);return(t=e==null?void 0:e.$el)!=null?t:e}const ig=Gr?window:void 0;Gr&&window.document;Gr&&window.navigator;Gr&&window.location;function Iu(...n){let t,e,i,s;if(Lj(n[0])?([e,i,s]=n,t=ig):[t,e,i,s]=n,!t)return ng;let r=ng;const o=ve(()=>Le(t),l=>{r(),!!l&&(l.addEventListener(e,i,s),r=()=>{l.removeEventListener(e,i,s),r=ng})},{immediate:!0,flush:"post"}),a=()=>{o(),r()};return eg(a),a}const bC="__vueuse_ssr_handlers__";globalThis[bC]=globalThis[bC]||{};function Fj(n,t,{window:e=ig}={}){const i=ot(""),s=wt(()=>{var r;return mC(t)||((r=e==null?void 0:e.document)==null?void 0:r.documentElement)});return ve(s,r=>{r&&e&&(i.value=e.getComputedStyle(r).getPropertyValue(n))},{immediate:!0}),ve(i,r=>{var o;((o=s.value)==null?void 0:o.style)&&s.value.style.setProperty(n,r)}),i}var yC=Object.getOwnPropertySymbols,Ij=Object.prototype.hasOwnProperty,_j=Object.prototype.propertyIsEnumerable,Rj=(n,t)=>{var e={};for(var i in n)Ij.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&yC)for(var i of yC(n))t.indexOf(i)<0&&_j.call(n,i)&&(e[i]=n[i]);return e};function jj(n,t,e={}){const i=e,{window:s=ig}=i,r=Rj(i,["window"]);let o;const a=s&&"ResizeObserver"in s,l=()=>{o&&(o.disconnect(),o=void 0)},c=ve(()=>mC(n),h=>{l(),a&&s&&h&&(o=new s.ResizeObserver(t),o.observe(h,r))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return eg(u),{isSupported:a,stop:u}}var vC,CC;Gr&&(window==null?void 0:window.navigator)&&((vC=window==null?void 0:window.navigator)==null?void 0:vC.platform)&&/iP(ad|hone|od)/.test((CC=window==null?void 0:window.navigator)==null?void 0:CC.platform);var zj=Object.defineProperty,wC=Object.getOwnPropertySymbols,Bj=Object.prototype.hasOwnProperty,Hj=Object.prototype.propertyIsEnumerable,xC=(n,t,e)=>t in n?zj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Vj=(n,t)=>{for(var e in t||(t={}))Bj.call(t,e)&&xC(n,e,t[e]);if(wC)for(var e of wC(t))Hj.call(t,e)&&xC(n,e,t[e]);return n};const Gj={top:0,left:0,bottom:0,right:0,height:0,width:0};Vj({text:""},Gj);const sg={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter"},Wj='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Uj=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,SC=n=>Array.from(n.querySelectorAll(Wj)).filter(t=>qj(t)&&Uj(t)),qj=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.disabled)return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Qo=[],Xj=n=>{Qo.length!==0&&n.code===sg.esc&&(n.stopPropagation(),Qo[Qo.length-1].handleClose())},Yj=(n,t)=>{ve(t,e=>{e?Qo.push(n):Qo.splice(Qo.findIndex(i=>i===n),1)})};Gr&&Iu(document,"keydown",Xj);const is="update:modelValue";var Qn="top",Ai="bottom",Mi="right",ti="left",rg="auto",Al=[Qn,Ai,Mi,ti],ta="start",Ml="end",Kj="clippingParents",EC="viewport",Tl="popper",Jj="reference",AC=Al.reduce(function(n,t){return n.concat([t+"-"+ta,t+"-"+Ml])},[]),MC=[].concat(Al,[rg]).reduce(function(n,t){return n.concat([t,t+"-"+ta,t+"-"+Ml])},[]),Zj="beforeRead",Qj="read",t8="afterRead",e8="beforeMain",n8="main",i8="afterMain",s8="beforeWrite",r8="write",o8="afterWrite",a8=[Zj,Qj,t8,e8,n8,i8,s8,r8,o8];function ss(n){return n?(n.nodeName||"").toLowerCase():null}function Hi(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function ea(n){var t=Hi(n).Element;return n instanceof t||n instanceof Element}function Ti(n){var t=Hi(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function TC(n){if(typeof ShadowRoot=="undefined")return!1;var t=Hi(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function l8(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},r=t.elements[e];!Ti(r)||!ss(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function c8(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var s=t.elements[i],r=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Ti(s)||!ss(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}var u8={name:"applyStyles",enabled:!0,phase:"write",fn:l8,effect:c8,requires:["computeStyles"]};function rs(n){return n.split("-")[0]}var Wr=Math.max,_u=Math.min,na=Math.round;function ia(n,t){t===void 0&&(t=!1);var e=n.getBoundingClientRect(),i=1,s=1;if(Ti(n)&&t){var r=n.offsetHeight,o=n.offsetWidth;o>0&&(i=na(e.width)/o||1),r>0&&(s=na(e.height)/r||1)}return{width:e.width/i,height:e.height/s,top:e.top/s,right:e.right/i,bottom:e.bottom/s,left:e.left/i,x:e.left/i,y:e.top/s}}function og(n){var t=ia(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function OC(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&TC(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function os(n){return Hi(n).getComputedStyle(n)}function h8(n){return["table","td","th"].indexOf(ss(n))>=0}function Ks(n){return((ea(n)?n.ownerDocument:n.document)||window.document).documentElement}function Ru(n){return ss(n)==="html"?n:n.assignedSlot||n.parentNode||(TC(n)?n.host:null)||Ks(n)}function PC(n){return!Ti(n)||os(n).position==="fixed"?null:n.offsetParent}function d8(n){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,e=navigator.userAgent.indexOf("Trident")!==-1;if(e&&Ti(n)){var i=os(n);if(i.position==="fixed")return null}for(var s=Ru(n);Ti(s)&&["html","body"].indexOf(ss(s))<0;){var r=os(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Ol(n){for(var t=Hi(n),e=PC(n);e&&h8(e)&&os(e).position==="static";)e=PC(e);return e&&(ss(e)==="html"||ss(e)==="body"&&os(e).position==="static")?t:e||d8(n)||t}function ag(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Pl(n,t,e){return Wr(n,_u(t,e))}function f8(n,t,e){var i=Pl(n,t,e);return i>e?e:i}function $C(){return{top:0,right:0,bottom:0,left:0}}function DC(n){return Object.assign({},$C(),n)}function kC(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var g8=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,DC(typeof t!="number"?t:kC(t,Al))};function p8(n){var t,e=n.state,i=n.name,s=n.options,r=e.elements.arrow,o=e.modifiersData.popperOffsets,a=rs(e.placement),l=ag(a),c=[ti,Mi].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=g8(s.padding,e),f=og(r),g=l==="y"?Qn:ti,b=l==="y"?Ai:Mi,y=e.rects.reference[u]+e.rects.reference[l]-o[l]-e.rects.popper[u],w=o[l]-e.rects.reference[l],C=Ol(r),E=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,S=y/2-w/2,T=h[g],$=E-f[u]-h[b],p=E/2-f[u]/2+S,A=Pl(T,p,$),k=l;e.modifiersData[i]=(t={},t[k]=A,t.centerOffset=A-p,t)}}function m8(n){var t=n.state,e=n.options,i=e.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||!OC(t.elements.popper,s)||(t.elements.arrow=s))}var b8={name:"arrow",enabled:!0,phase:"main",fn:p8,effect:m8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function sa(n){return n.split("-")[1]}var y8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function v8(n){var t=n.x,e=n.y,i=window,s=i.devicePixelRatio||1;return{x:na(t*s)/s||0,y:na(e*s)/s||0}}function NC(n){var t,e=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,f=u===!0?v8(o):typeof u=="function"?u(o):o,g=f.x,b=g===void 0?0:g,y=f.y,w=y===void 0?0:y,C=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),S=ti,T=Qn,$=window;if(c){var p=Ol(e),A="clientHeight",k="clientWidth";if(p===Hi(e)&&(p=Ks(e),os(p).position!=="static"&&a==="absolute"&&(A="scrollHeight",k="scrollWidth")),p=p,s===Qn||(s===ti||s===Mi)&&r===Ml){T=Ai;var F=h&&$.visualViewport?$.visualViewport.height:p[A];w-=F-i.height,w*=l?1:-1}if(s===ti||(s===Qn||s===Ai)&&r===Ml){S=Mi;var H=h&&$.visualViewport?$.visualViewport.width:p[k];b-=H-i.width,b*=l?1:-1}}var _=Object.assign({position:a},c&&y8);if(l){var I;return Object.assign({},_,(I={},I[T]=E?"0":"",I[S]=C?"0":"",I.transform=($.devicePixelRatio||1)<=1?"translate("+b+"px, "+w+"px)":"translate3d("+b+"px, "+w+"px, 0)",I))}return Object.assign({},_,(t={},t[T]=E?w+"px":"",t[S]=C?b+"px":"",t.transform="",t))}function C8(n){var t=n.state,e=n.options,i=e.gpuAcceleration,s=i===void 0?!0:i,r=e.adaptive,o=r===void 0?!0:r,a=e.roundOffsets,l=a===void 0?!0:a,c={placement:rs(t.placement),variation:sa(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,NC(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,NC(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var w8={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:C8,data:{}},ju={passive:!0};function x8(n){var t=n.state,e=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=Hi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",e.update,ju)}),a&&l.addEventListener("resize",e.update,ju),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",e.update,ju)}),a&&l.removeEventListener("resize",e.update,ju)}}var S8={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:x8,data:{}},E8={left:"right",right:"left",bottom:"top",top:"bottom"};function zu(n){return n.replace(/left|right|bottom|top/g,function(t){return E8[t]})}var A8={start:"end",end:"start"};function LC(n){return n.replace(/start|end/g,function(t){return A8[t]})}function lg(n){var t=Hi(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function cg(n){return ia(Ks(n)).left+lg(n).scrollLeft}function M8(n){var t=Hi(n),e=Ks(n),i=t.visualViewport,s=e.clientWidth,r=e.clientHeight,o=0,a=0;return i&&(s=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=i.offsetLeft,a=i.offsetTop)),{width:s,height:r,x:o+cg(n),y:a}}function T8(n){var t,e=Ks(n),i=lg(n),s=(t=n.ownerDocument)==null?void 0:t.body,r=Wr(e.scrollWidth,e.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Wr(e.scrollHeight,e.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+cg(n),l=-i.scrollTop;return os(s||e).direction==="rtl"&&(a+=Wr(e.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function ug(n){var t=os(n),e=t.overflow,i=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+s+i)}function FC(n){return["html","body","#document"].indexOf(ss(n))>=0?n.ownerDocument.body:Ti(n)&&ug(n)?n:FC(Ru(n))}function $l(n,t){var e;t===void 0&&(t=[]);var i=FC(n),s=i===((e=n.ownerDocument)==null?void 0:e.body),r=Hi(i),o=s?[r].concat(r.visualViewport||[],ug(i)?i:[]):i,a=t.concat(o);return s?a:a.concat($l(Ru(o)))}function hg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function O8(n){var t=ia(n);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function IC(n,t){return t===EC?hg(M8(n)):ea(t)?O8(t):hg(T8(Ks(n)))}function P8(n){var t=$l(Ru(n)),e=["absolute","fixed"].indexOf(os(n).position)>=0,i=e&&Ti(n)?Ol(n):n;return ea(i)?t.filter(function(s){return ea(s)&&OC(s,i)&&ss(s)!=="body"&&(e?os(s).position!=="static":!0)}):[]}function $8(n,t,e){var i=t==="clippingParents"?P8(n):[].concat(t),s=[].concat(i,[e]),r=s[0],o=s.reduce(function(a,l){var c=IC(n,l);return a.top=Wr(c.top,a.top),a.right=_u(c.right,a.right),a.bottom=_u(c.bottom,a.bottom),a.left=Wr(c.left,a.left),a},IC(n,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function _C(n){var t=n.reference,e=n.element,i=n.placement,s=i?rs(i):null,r=i?sa(i):null,o=t.x+t.width/2-e.width/2,a=t.y+t.height/2-e.height/2,l;switch(s){case Qn:l={x:o,y:t.y-e.height};break;case Ai:l={x:o,y:t.y+t.height};break;case Mi:l={x:t.x+t.width,y:a};break;case ti:l={x:t.x-e.width,y:a};break;default:l={x:t.x,y:t.y}}var c=s?ag(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case ta:l[c]=l[c]-(t[u]/2-e[u]/2);break;case Ml:l[c]=l[c]+(t[u]/2-e[u]/2);break}}return l}function Dl(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=i===void 0?n.placement:i,r=e.boundary,o=r===void 0?Kj:r,a=e.rootBoundary,l=a===void 0?EC:a,c=e.elementContext,u=c===void 0?Tl:c,h=e.altBoundary,f=h===void 0?!1:h,g=e.padding,b=g===void 0?0:g,y=DC(typeof b!="number"?b:kC(b,Al)),w=u===Tl?Jj:Tl,C=n.rects.popper,E=n.elements[f?w:u],S=$8(ea(E)?E:E.contextElement||Ks(n.elements.popper),o,l),T=ia(n.elements.reference),$=_C({reference:T,element:C,strategy:"absolute",placement:s}),p=hg(Object.assign({},C,$)),A=u===Tl?p:T,k={top:S.top-A.top+y.top,bottom:A.bottom-S.bottom+y.bottom,left:S.left-A.left+y.left,right:A.right-S.right+y.right},F=n.modifiersData.offset;if(u===Tl&&F){var H=F[s];Object.keys(k).forEach(function(_){var I=[Mi,Ai].indexOf(_)>=0?1:-1,Y=[Qn,Ai].indexOf(_)>=0?"y":"x";k[_]+=H[Y]*I})}return k}function D8(n,t){t===void 0&&(t={});var e=t,i=e.placement,s=e.boundary,r=e.rootBoundary,o=e.padding,a=e.flipVariations,l=e.allowedAutoPlacements,c=l===void 0?MC:l,u=sa(i),h=u?a?AC:AC.filter(function(b){return sa(b)===u}):Al,f=h.filter(function(b){return c.indexOf(b)>=0});f.length===0&&(f=h);var g=f.reduce(function(b,y){return b[y]=Dl(n,{placement:y,boundary:s,rootBoundary:r,padding:o})[rs(y)],b},{});return Object.keys(g).sort(function(b,y){return g[b]-g[y]})}function k8(n){if(rs(n)===rg)return[];var t=zu(n);return[LC(n),t,LC(t)]}function N8(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,a=o===void 0?!0:o,l=e.fallbackPlacements,c=e.padding,u=e.boundary,h=e.rootBoundary,f=e.altBoundary,g=e.flipVariations,b=g===void 0?!0:g,y=e.allowedAutoPlacements,w=t.options.placement,C=rs(w),E=C===w,S=l||(E||!b?[zu(w)]:k8(w)),T=[w].concat(S).reduce(function(Ot,jt){return Ot.concat(rs(jt)===rg?D8(t,{placement:jt,boundary:u,rootBoundary:h,padding:c,flipVariations:b,allowedAutoPlacements:y}):jt)},[]),$=t.rects.reference,p=t.rects.popper,A=new Map,k=!0,F=T[0],H=0;H<T.length;H++){var _=T[H],I=rs(_),Y=sa(_)===ta,nt=[Qn,Ai].indexOf(I)>=0,G=nt?"width":"height",q=Dl(t,{placement:_,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Q=nt?Y?Mi:ti:Y?Ai:Qn;$[G]>p[G]&&(Q=zu(Q));var st=zu(Q),Tt=[];if(r&&Tt.push(q[I]<=0),a&&Tt.push(q[Q]<=0,q[st]<=0),Tt.every(function(Ot){return Ot})){F=_,k=!1;break}A.set(_,Tt)}if(k)for(var Ut=b?3:1,ht=function(jt){var ie=T.find(function(Mt){var qt=A.get(Mt);if(qt)return qt.slice(0,jt).every(function(ye){return ye})});if(ie)return F=ie,"break"},Nt=Ut;Nt>0;Nt--){var Ft=ht(Nt);if(Ft==="break")break}t.placement!==F&&(t.modifiersData[i]._skip=!0,t.placement=F,t.reset=!0)}}var L8={name:"flip",enabled:!0,phase:"main",fn:N8,requiresIfExists:["offset"],data:{_skip:!1}};function RC(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function jC(n){return[Qn,Mi,Ai,ti].some(function(t){return n[t]>=0})}function F8(n){var t=n.state,e=n.name,i=t.rects.reference,s=t.rects.popper,r=t.modifiersData.preventOverflow,o=Dl(t,{elementContext:"reference"}),a=Dl(t,{altBoundary:!0}),l=RC(o,i),c=RC(a,s,r),u=jC(l),h=jC(c);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}var I8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F8};function _8(n,t,e){var i=rs(n),s=[ti,Qn].indexOf(i)>=0?-1:1,r=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[ti,Mi].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function R8(n){var t=n.state,e=n.options,i=n.name,s=e.offset,r=s===void 0?[0,0]:s,o=MC.reduce(function(u,h){return u[h]=_8(h,t.rects,r),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=o}var j8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:R8};function z8(n){var t=n.state,e=n.name;t.modifiersData[e]=_C({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var B8={name:"popperOffsets",enabled:!0,phase:"read",fn:z8,data:{}};function H8(n){return n==="x"?"y":"x"}function V8(n){var t=n.state,e=n.options,i=n.name,s=e.mainAxis,r=s===void 0?!0:s,o=e.altAxis,a=o===void 0?!1:o,l=e.boundary,c=e.rootBoundary,u=e.altBoundary,h=e.padding,f=e.tether,g=f===void 0?!0:f,b=e.tetherOffset,y=b===void 0?0:b,w=Dl(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),C=rs(t.placement),E=sa(t.placement),S=!E,T=ag(C),$=H8(T),p=t.modifiersData.popperOffsets,A=t.rects.reference,k=t.rects.popper,F=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,H=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(!!p){if(r){var Y,nt=T==="y"?Qn:ti,G=T==="y"?Ai:Mi,q=T==="y"?"height":"width",Q=p[T],st=Q+w[nt],Tt=Q-w[G],Ut=g?-k[q]/2:0,ht=E===ta?A[q]:k[q],Nt=E===ta?-k[q]:-A[q],Ft=t.elements.arrow,Ot=g&&Ft?og(Ft):{width:0,height:0},jt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:$C(),ie=jt[nt],Mt=jt[G],qt=Pl(0,A[q],Ot[q]),ye=S?A[q]/2-Ut-qt-ie-H.mainAxis:ht-qt-ie-H.mainAxis,Ae=S?-A[q]/2+Ut+qt+Mt+H.mainAxis:Nt+qt+Mt+H.mainAxis,Gn=t.elements.arrow&&Ol(t.elements.arrow),ni=Gn?T==="y"?Gn.clientTop||0:Gn.clientLeft||0:0,N=(Y=_==null?void 0:_[T])!=null?Y:0,B=Q+ye-N-ni,Z=Q+Ae-N,X=Pl(g?_u(st,B):st,Q,g?Wr(Tt,Z):Tt);p[T]=X,I[T]=X-Q}if(a){var et,gt=T==="x"?Qn:ti,vt=T==="x"?Ai:Mi,dt=p[$],pt=$==="y"?"height":"width",ct=dt+w[gt],Dt=dt-w[vt],Ct=[Qn,ti].indexOf(C)!==-1,Pt=(et=_==null?void 0:_[$])!=null?et:0,zt=Ct?ct:dt-A[pt]-k[pt]-Pt+H.altAxis,ft=Ct?dt+A[pt]+k[pt]-Pt-H.altAxis:Dt,xt=g&&Ct?f8(zt,dt,ft):Pl(g?zt:ct,dt,g?ft:Dt);p[$]=xt,I[$]=xt-dt}t.modifiersData[i]=I}}var G8={name:"preventOverflow",enabled:!0,phase:"main",fn:V8,requiresIfExists:["offset"]};function W8(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function U8(n){return n===Hi(n)||!Ti(n)?lg(n):W8(n)}function q8(n){var t=n.getBoundingClientRect(),e=na(t.width)/n.offsetWidth||1,i=na(t.height)/n.offsetHeight||1;return e!==1||i!==1}function X8(n,t,e){e===void 0&&(e=!1);var i=Ti(t),s=Ti(t)&&q8(t),r=Ks(t),o=ia(n,s),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!e)&&((ss(t)!=="body"||ug(r))&&(a=U8(t)),Ti(t)?(l=ia(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=cg(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Y8(n){var t=new Map,e=new Set,i=[];n.forEach(function(r){t.set(r.name,r)});function s(r){e.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!e.has(a)){var l=t.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){e.has(r.name)||s(r)}),i}function K8(n){var t=Y8(n);return a8.reduce(function(e,i){return e.concat(t.filter(function(s){return s.phase===i}))},[])}function J8(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function Z8(n){var t=n.reduce(function(e,i){var s=e[i.name];return e[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var zC={placement:"bottom",modifiers:[],strategy:"absolute"};function BC(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Q8(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,s=t.defaultOptions,r=s===void 0?zC:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},zC,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:u,setOptions:function(C){var E=typeof C=="function"?C(u.options):C;y(),u.options=Object.assign({},r,u.options,E),u.scrollParents={reference:ea(a)?$l(a):a.contextElement?$l(a.contextElement):[],popper:$l(l)};var S=K8(Z8([].concat(i,u.options.modifiers)));return u.orderedModifiers=S.filter(function(T){return T.enabled}),b(),g.update()},forceUpdate:function(){if(!f){var C=u.elements,E=C.reference,S=C.popper;if(!!BC(E,S)){u.rects={reference:X8(E,Ol(S),u.options.strategy==="fixed"),popper:og(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(H){return u.modifiersData[H.name]=Object.assign({},H.data)});for(var T=0;T<u.orderedModifiers.length;T++){if(u.reset===!0){u.reset=!1,T=-1;continue}var $=u.orderedModifiers[T],p=$.fn,A=$.options,k=A===void 0?{}:A,F=$.name;typeof p=="function"&&(u=p({state:u,options:k,name:F,instance:g})||u)}}}},update:J8(function(){return new Promise(function(w){g.forceUpdate(),w(u)})}),destroy:function(){y(),f=!0}};if(!BC(a,l))return g;g.setOptions(c).then(function(w){!f&&c.onFirstUpdate&&c.onFirstUpdate(w)});function b(){u.orderedModifiers.forEach(function(w){var C=w.name,E=w.options,S=E===void 0?{}:E,T=w.effect;if(typeof T=="function"){var $=T({state:u,name:C,instance:g,options:S}),p=function(){};h.push($||p)}})}function y(){h.forEach(function(w){return w()}),h=[]}return g}}var tz=[S8,B8,w8,u8,j8,L8,G8,b8,I8],HC=Q8({defaultModifiers:tz});const Js=new Map;let VC;kn||(Bi(document,"mousedown",n=>VC=n),Bi(document,"mouseup",n=>{for(const t of Js.values())for(const{documentHandler:e}of t)e(n,VC)}));function GC(n,t){let e=[];return Array.isArray(t.arg)?e=t.arg:t.arg instanceof HTMLElement&&e.push(t.arg),function(i,s){const r=t.instance.popperRef,o=i.target,a=s==null?void 0:s.target,l=!t||!t.instance,c=!o||!a,u=n.contains(o)||n.contains(a),h=n===o,f=e.length&&e.some(b=>b==null?void 0:b.contains(o))||e.length&&e.includes(a),g=r&&(r.contains(o)||r.contains(a));l||c||u||h||f||g||t.value(i,s)}}const WC={beforeMount(n,t){Js.has(n)||Js.set(n,[]),Js.get(n).push({documentHandler:GC(n,t),bindingFn:t.value})},updated(n,t){Js.has(n)||Js.set(n,[]);const e=Js.get(n),i=e.findIndex(r=>r.bindingFn===t.oldValue),s={documentHandler:GC(n,t),bindingFn:t.value};i>=0?e.splice(i,1,s):e.push(s)},unmounted(n){Js.delete(n)}};var ez={beforeMount(n,t){let e=null,i;const s=()=>t.value&&t.value(),r=()=>{Date.now()-i<100&&s(),clearInterval(e),e=null};Bi(n,"mousedown",o=>{o.button===0&&(i=Date.now(),kj(document,"mouseup",r),clearInterval(e),e=setInterval(s,100))})}};const dg="_trap-focus-children",Ur=[],UC=n=>{if(Ur.length===0)return;const t=Ur[Ur.length-1][dg];if(t.length>0&&n.code===sg.tab){if(t.length===1){n.preventDefault(),document.activeElement!==t[0]&&t[0].focus();return}const e=n.shiftKey,i=n.target===t[0],s=n.target===t[t.length-1];i&&e&&(n.preventDefault(),t[t.length-1].focus()),s&&!e&&(n.preventDefault(),t[0].focus())}},nz={beforeMount(n){n[dg]=SC(n),Ur.push(n),Ur.length<=1&&Bi(document,"keydown",UC)},updated(n){On(()=>{n[dg]=SC(n)})},unmounted(){Ur.shift(),Ur.length===0&&El(document,"keydown",UC)}};var qC=!1,qr,fg,gg,Bu,Hu,XC,Vu,pg,mg,bg,YC,yg,vg,KC,JC;function ei(){if(!qC){qC=!0;var n=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),e=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(yg=/\b(iPhone|iP[ao]d)/.exec(n),vg=/\b(iP[ao]d)/.exec(n),bg=/Android/i.exec(n),KC=/FBAN\/\w+;/i.exec(n),JC=/Mobile/i.exec(n),YC=!!/Win64/.exec(n),t){qr=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,qr&&document&&document.documentMode&&(qr=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(n);XC=i?parseFloat(i[1])+4:qr,fg=t[2]?parseFloat(t[2]):NaN,gg=t[3]?parseFloat(t[3]):NaN,Bu=t[4]?parseFloat(t[4]):NaN,Bu?(t=/(?:Chrome\/(\d+\.\d+))/.exec(n),Hu=t&&t[1]?parseFloat(t[1]):NaN):Hu=NaN}else qr=fg=gg=Hu=Bu=NaN;if(e){if(e[1]){var s=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);Vu=s?parseFloat(s[1].replace("_",".")):!0}else Vu=!1;pg=!!e[2],mg=!!e[3]}else Vu=pg=mg=!1}}var Cg={ie:function(){return ei()||qr},ieCompatibilityMode:function(){return ei()||XC>qr},ie64:function(){return Cg.ie()&&YC},firefox:function(){return ei()||fg},opera:function(){return ei()||gg},webkit:function(){return ei()||Bu},safari:function(){return Cg.webkit()},chrome:function(){return ei()||Hu},windows:function(){return ei()||pg},osx:function(){return ei()||Vu},linux:function(){return ei()||mg},iphone:function(){return ei()||yg},mobile:function(){return ei()||yg||vg||bg||JC},nativeApp:function(){return ei()||KC},android:function(){return ei()||bg},ipad:function(){return ei()||vg}},iz=Cg,Gu=!!(typeof window!="undefined"&&window.document&&window.document.createElement),sz={canUseDOM:Gu,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:Gu&&!!(window.addEventListener||window.attachEvent),canUseViewport:Gu&&!!window.screen,isInWorker:!Gu},ZC=sz,QC;ZC.canUseDOM&&(QC=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function rz(n,t){if(!ZC.canUseDOM||t&&!("addEventListener"in document))return!1;var e="on"+n,i=e in document;if(!i){var s=document.createElement("div");s.setAttribute(e,"return;"),i=typeof s[e]=="function"}return!i&&QC&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var oz=rz,t1=10,e1=40,n1=800;function i1(n){var t=0,e=0,i=0,s=0;return"detail"in n&&(e=n.detail),"wheelDelta"in n&&(e=-n.wheelDelta/120),"wheelDeltaY"in n&&(e=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(t=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(t=e,e=0),i=t*t1,s=e*t1,"deltaY"in n&&(s=n.deltaY),"deltaX"in n&&(i=n.deltaX),(i||s)&&n.deltaMode&&(n.deltaMode==1?(i*=e1,s*=e1):(i*=n1,s*=n1)),i&&!t&&(t=i<1?-1:1),s&&!e&&(e=s<1?-1:1),{spinX:t,spinY:e,pixelX:i,pixelY:s}}i1.getEventType=function(){return iz.firefox()?"DOMMouseScroll":oz("wheel")?"wheel":"mousewheel"};var az=i1;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const lz=function(n,t){if(n&&n.addEventListener){const e=function(i){const s=az(i);t&&t.apply(this,[i,s])};PR()?n.addEventListener("DOMMouseScroll",e):n.onmousewheel=e}},cz={beforeMount(n,t){lz(n,t.value)}},uz=function(n){for(const t of n){const e=t.target.__resizeListeners__||[];e.length&&e.forEach(i=>{i()})}},hz=function(n,t){kn||!n||(n.__resizeListeners__||(n.__resizeListeners__=[],n.__ro__=new ResizeObserver(uz),n.__ro__.observe(n)),n.__resizeListeners__.push(t))},dz=function(n,t){var e;!n||!n.__resizeListeners__||(n.__resizeListeners__.splice(n.__resizeListeners__.indexOf(t),1),n.__resizeListeners__.length||(e=n.__ro__)==null||e.disconnect())},fz="template";var Wu=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(Wu||{});const gz=n=>Ma(n)&&n.type===Ze,pz=n=>n.type===ci,mz=n=>n.type===fz;function s1(n,t){if(!pz(n))return gz(n)||mz(n)?t>0?r1(n.children,t-1):void 0:n}const r1=(n,t=3)=>Array.isArray(n)?s1(n[0],t):s1(n,t),bz=n=>{n.preventDefault(),n.stopPropagation()},yz=()=>{wn==null||wn.doOnModalClick()};let wg=!1,kl;const o1=function(){if(kn)return;let n=wn.modalDom;return n?wg=!0:(wg=!1,n=document.createElement("div"),wn.modalDom=n,Bi(n,"touchmove",bz),Bi(n,"click",yz)),n},Uu={},wn={modalFade:!0,modalDom:void 0,zIndex:kl,getInstance(n){return Uu[n]},register(n,t){n&&t&&(Uu[n]=t)},deregister(n){n&&(Uu[n]=null,delete Uu[n])},nextZIndex(){return++wn.zIndex},modalStack:[],doOnModalClick(){const n=wn.modalStack[wn.modalStack.length-1];if(!n)return;const t=wn.getInstance(n.id);t&&t.closeOnClickModal.value&&t.close()},openModal(n,t,e,i,s){if(kn||!n||t===void 0)return;this.modalFade=s;const r=this.modalStack;for(let a=0,l=r.length;a<l;a++)if(r[a].id===n)return;const o=o1();Hr(o,"v-modal"),this.modalFade&&!wg&&Hr(o,"v-modal-enter"),i&&i.trim().split(/\s+/).forEach(l=>Hr(o,l)),setTimeout(()=>{Vr(o,"v-modal-enter")},200),e&&e.parentNode&&e.parentNode.nodeType!==11?e.parentNode.appendChild(o):document.body.appendChild(o),t&&(o.style.zIndex=String(t)),o.tabIndex=0,o.style.display="",this.modalStack.push({id:n,zIndex:t,modalClass:i})},closeModal(n){const t=this.modalStack,e=o1();if(t.length>0){const i=t[t.length-1];if(i.id===n)i.modalClass&&i.modalClass.trim().split(/\s+/).forEach(r=>Vr(e,r)),t.pop(),t.length>0&&(e.style.zIndex=t[t.length-1].zIndex);else for(let s=t.length-1;s>=0;s--)if(t[s].id===n){t.splice(s,1);break}}t.length===0&&(this.modalFade&&Hr(e,"v-modal-leave"),setTimeout(()=>{t.length===0&&(e.parentNode&&e.parentNode.removeChild(e),e.style.display="none",wn.modalDom=void 0),Vr(e,"v-modal-leave")},200))}};Object.defineProperty(wn,"zIndex",{configurable:!0,get(){return kl===void 0&&(kl=hF("zIndex")||2e3),kl},set(n){kl=n}});const vz=function(){if(!kn&&wn.modalStack.length>0){const n=wn.modalStack[wn.modalStack.length-1];return n?wn.getInstance(n.id):void 0}};kn||Bi(window,"keydown",function(n){if(n.code===sg.esc){const t=vz();t&&t.closeOnPressEscape.value&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}});const Cz=(n,t)=>{let e;ve(()=>n.value,i=>{var s,r;i?(e=document.activeElement,cn(t)&&((r=(s=t.value).focus)==null||r.call(s))):e.focus()})},a1=n=>{if(!n)return{onClick:Fn,onMousedown:Fn,onMouseup:Fn};let t=!1,e=!1;return{onClick:o=>{t&&e&&n(o),t=e=!1},onMousedown:o=>{t=o.target===o.currentTarget},onMouseup:o=>{e=o.target===o.currentTarget}}},Zs=(n,t)=>{if(n.install=e=>{for(const i of[n,...Object.values(t!=null?t:{})])e.component(i.name,i)},t)for(const[e,i]of Object.entries(t))n[e]=i;return n},qu=n=>(n.install=Fn,n),wz=Ss({size:{type:fi([Number,String])},color:{type:String}});var xg=Ee({name:"ElIcon",inheritAttrs:!1,props:wz,setup(n){return{style:wt(()=>{if(!n.size&&!n.color)return{};let t=n.size;return(mn(t)||Ie(t)&&!t.endsWith("px"))&&(t=`${t}px`),vn(vn({},n.size?{"--font-size":t}:{}),n.color?{"--color":n.color}:{})})}}});function xz(n,t,e,i,s,r){return mt(),Lt("i",Cc({class:"el-icon",style:n.style},n.$attrs),[hn(n.$slots,"default")],16)}xg.render=xz;xg.__file="packages/components/icon/src/icon.vue";const Xr=Zs(xg),Sz={Close:FL},Ez={validating:zf,success:SL,error:Ev};var Az=ns,Mz=function(){return Az.Date.now()},Tz=Mz,Oz=/\s/;function Pz(n){for(var t=n.length;t--&&Oz.test(n.charAt(t)););return t}var $z=Pz,Dz=$z,kz=/^\s+/;function Nz(n){return n&&n.slice(0,Dz(n)+1).replace(kz,"")}var Lz=Nz,Fz=Lz,l1=Sl,Iz=Nu,c1=0/0,_z=/^[-+]0x[0-9a-f]+$/i,Rz=/^0b[01]+$/i,jz=/^0o[0-7]+$/i,zz=parseInt;function Bz(n){if(typeof n=="number")return n;if(Iz(n))return c1;if(l1(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=l1(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=Fz(n);var e=Rz.test(n);return e||jz.test(n)?zz(n.slice(2),e?2:8):_z.test(n)?c1:+n}var Hz=Bz,Vz=Sl,Sg=Tz,u1=Hz,Gz="Expected a function",Wz=Math.max,Uz=Math.min;function qz(n,t,e){var i,s,r,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof n!="function")throw new TypeError(Gz);t=u1(t)||0,Vz(e)&&(u=!!e.leading,h="maxWait"in e,r=h?Wz(u1(e.maxWait)||0,t):r,f="trailing"in e?!!e.trailing:f);function g(p){var A=i,k=s;return i=s=void 0,c=p,o=n.apply(k,A),o}function b(p){return c=p,a=setTimeout(C,t),u?g(p):o}function y(p){var A=p-l,k=p-c,F=t-A;return h?Uz(F,r-k):F}function w(p){var A=p-l,k=p-c;return l===void 0||A>=t||A<0||h&&k>=r}function C(){var p=Sg();if(w(p))return E(p);a=setTimeout(C,y(p))}function E(p){return a=void 0,f&&i?g(p):(i=s=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=l=s=a=void 0}function T(){return a===void 0?o:E(Sg())}function $(){var p=Sg(),A=w(p);if(i=arguments,s=this,l=p,A){if(a===void 0)return b(l);if(h)return clearTimeout(a),a=setTimeout(C,t),g(l)}return a===void 0&&(a=setTimeout(C,t)),o}return $.cancel=S,$.flush=T,$}var Nl=qz;function Xz(n){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(n)}let Vi;const Yz=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Kz=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Jz(n){const t=window.getComputedStyle(n),e=t.getPropertyValue("box-sizing"),i=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),s=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:Kz.map(o=>`${o}:${t.getPropertyValue(o)}`).join(";"),paddingSize:i,borderSize:s,boxSizing:e}}function h1(n,t=1,e){var i;Vi||(Vi=document.createElement("textarea"),document.body.appendChild(Vi));const{paddingSize:s,borderSize:r,boxSizing:o,contextStyle:a}=Jz(n);Vi.setAttribute("style",`${a};${Yz}`),Vi.value=n.value||n.placeholder||"";let l=Vi.scrollHeight;const c={};o==="border-box"?l=l+r:o==="content-box"&&(l=l-s),Vi.value="";const u=Vi.scrollHeight-s;if(mn(t)){let h=u*t;o==="border-box"&&(h=h+s+r),l=Math.max(h,l),c.minHeight=`${h}px`}if(mn(e)){let h=u*e;o==="border-box"&&(h=h+s+r),l=Math.min(h,l)}return c.height=`${l}px`,(i=Vi.parentNode)==null||i.removeChild(Vi),Vi=void 0,c}const Zz=Ss({size:sC,disabled:Boolean,modelValue:{type:fi(void 0),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:fi([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:fi([String,Object]),default:""},prefixIcon:{type:fi([String,Object]),default:""},label:{type:String},tabindex:{type:[Number,String]},validateEvent:{type:Boolean,default:!0},inputStyle:{type:fi([Object,Array,String]),default:()=>NR({})}}),Qz={[is]:n=>Ie(n),input:n=>Ie(n),change:n=>Ie(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof KeyboardEvent,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},tB={suffix:"append",prefix:"prepend"};var Eg=Ee({name:"ElInput",components:{ElIcon:Xr,CircleClose:Ev,IconView:cF},inheritAttrs:!1,props:Zz,emits:Qz,setup(n,{slots:t,emit:e,attrs:i}){const s=Oe(),r=mF(),{form:o,formItem:a}=rC(),l=Br(),c=Zf(),u=ot(),h=ot(),f=ot(!1),g=ot(!1),b=ot(!1),y=ot(!1),w=yx(n.inputStyle),C=wt(()=>u.value||h.value),E=wt(()=>{var N;return(N=o==null?void 0:o.statusIcon)!=null?N:!1}),S=wt(()=>(a==null?void 0:a.validateState)||""),T=wt(()=>Ez[S.value]),$=wt(()=>i.style),p=wt(()=>[n.inputStyle,w.value,{resize:n.resize}]),A=wt(()=>n.modelValue===null||n.modelValue===void 0?"":String(n.modelValue)),k=wt(()=>n.clearable&&!c.value&&!n.readonly&&!!A.value&&(f.value||g.value)),F=wt(()=>n.showPassword&&!c.value&&!n.readonly&&(!!A.value||f.value)),H=wt(()=>n.showWordLimit&&!!r.value.maxlength&&(n.type==="text"||n.type==="textarea")&&!c.value&&!n.readonly&&!n.showPassword),_=wt(()=>Array.from(A.value).length),I=wt(()=>!!H.value&&_.value>Number(r.value.maxlength)),Y=()=>{const{type:N,autosize:B}=n;if(!(kn||N!=="textarea"))if(B){const Z=je(B)?B.minRows:void 0,X=je(B)?B.maxRows:void 0;w.value=vn({},h1(h.value,Z,X))}else w.value={minHeight:h1(h.value).minHeight}},nt=()=>{const N=C.value;!N||N.value===A.value||(N.value=A.value)},G=N=>{const{el:B}=s.vnode;if(!B)return;const X=Array.from(B.querySelectorAll(`.el-input__${N}`)).find(gt=>gt.parentNode===B);if(!X)return;const et=tB[N];t[et]?X.style.transform=`translateX(${N==="suffix"?"-":""}${B.querySelector(`.el-input-group__${et}`).offsetWidth}px)`:X.removeAttribute("style")},q=()=>{G("prefix"),G("suffix")},Q=N=>{const{value:B}=N.target;b.value||B!==A.value&&(e(is,B),e("input",B),On(nt))},st=N=>{e("change",N.target.value)},Tt=()=>{On(()=>{var N;(N=C.value)==null||N.focus()})},Ut=()=>{var N;(N=C.value)==null||N.blur()},ht=N=>{f.value=!0,e("focus",N)},Nt=N=>{var B;f.value=!1,e("blur",N),n.validateEvent&&((B=a==null?void 0:a.validate)==null||B.call(a,"blur"))},Ft=()=>{var N;(N=C.value)==null||N.select()},Ot=N=>{e("compositionstart",N),b.value=!0},jt=N=>{var B;e("compositionupdate",N);const Z=(B=N.target)==null?void 0:B.value,X=Z[Z.length-1]||"";b.value=!Xz(X)},ie=N=>{e("compositionend",N),b.value&&(b.value=!1,Q(N))},Mt=()=>{e(is,""),e("change",""),e("clear"),e("input","")},qt=()=>{y.value=!y.value,Tt()},ye=wt(()=>!!t.suffix||!!n.suffixIcon||k.value||n.showPassword||H.value||!!S.value&&E.value);return ve(()=>n.modelValue,()=>{var N;On(Y),n.validateEvent&&((N=a==null?void 0:a.validate)==null||N.call(a,"change"))}),ve(A,()=>nt()),ve(()=>n.type,()=>{On(()=>{nt(),Y(),q()})}),ki(()=>{nt(),q(),On(Y)}),wa(()=>{On(q)}),{input:u,textarea:h,attrs:r,inputSize:l,validateState:S,validateIcon:T,containerStyle:$,computedTextareaStyle:p,inputDisabled:c,showClear:k,showPwdVisible:F,isWordLimitVisible:H,textLength:_,hovering:g,inputExceed:I,passwordVisible:y,inputOrTextarea:C,suffixVisible:ye,resizeTextarea:Y,handleInput:Q,handleChange:st,handleFocus:ht,handleBlur:Nt,handleCompositionStart:Ot,handleCompositionUpdate:jt,handleCompositionEnd:ie,handlePasswordVisible:qt,clear:Mt,select:Ft,focus:Tt,blur:Ut,onMouseLeave:N=>{g.value=!1,e("mouseleave",N)},onMouseEnter:N=>{g.value=!0,e("mouseenter",N)},handleKeydown:N=>{e("keydown",N)}}}});const eB={key:0,class:"el-input-group__prepend"},nB=["type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder"],iB={key:1,class:"el-input__prefix"},sB={class:"el-input__prefix-inner"},rB={key:2,class:"el-input__suffix"},oB={class:"el-input__suffix-inner"},aB={key:3,class:"el-input__count"},lB={class:"el-input__count-inner"},cB={key:3,class:"el-input-group__append"},uB=["tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],hB={key:0,class:"el-input__count"};function dB(n,t,e,i,s,r){const o=We("el-icon"),a=We("circle-close"),l=We("icon-view");return un((mt(),Lt("div",{class:ln([n.type==="textarea"?"el-textarea":"el-input",n.inputSize?"el-input--"+n.inputSize:"",{"is-disabled":n.inputDisabled,"is-exceed":n.inputExceed,"el-input-group":n.$slots.prepend||n.$slots.append,"el-input-group--append":n.$slots.append,"el-input-group--prepend":n.$slots.prepend,"el-input--prefix":n.$slots.prefix||n.prefixIcon,"el-input--suffix":n.$slots.suffix||n.suffixIcon||n.clearable||n.showPassword,"el-input--suffix--password-clear":n.clearable&&n.showPassword},n.$attrs.class]),style:Me(n.containerStyle),onMouseenter:t[17]||(t[17]=(...c)=>n.onMouseEnter&&n.onMouseEnter(...c)),onMouseleave:t[18]||(t[18]=(...c)=>n.onMouseLeave&&n.onMouseLeave(...c))},[Zt(" input "),n.type!=="textarea"?(mt(),Lt(Ze,{key:0},[Zt(" prepend slot "),n.$slots.prepend?(mt(),Lt("div",eB,[hn(n.$slots,"prepend")])):Zt("v-if",!0),ne("input",Cc({ref:"input",class:"el-input__inner"},n.attrs,{type:n.showPassword?n.passwordVisible?"text":"password":n.type,disabled:n.inputDisabled,readonly:n.readonly,autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-label":n.label,placeholder:n.placeholder,style:n.inputStyle,onCompositionstart:t[0]||(t[0]=(...c)=>n.handleCompositionStart&&n.handleCompositionStart(...c)),onCompositionupdate:t[1]||(t[1]=(...c)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...c)),onCompositionend:t[2]||(t[2]=(...c)=>n.handleCompositionEnd&&n.handleCompositionEnd(...c)),onInput:t[3]||(t[3]=(...c)=>n.handleInput&&n.handleInput(...c)),onFocus:t[4]||(t[4]=(...c)=>n.handleFocus&&n.handleFocus(...c)),onBlur:t[5]||(t[5]=(...c)=>n.handleBlur&&n.handleBlur(...c)),onChange:t[6]||(t[6]=(...c)=>n.handleChange&&n.handleChange(...c)),onKeydown:t[7]||(t[7]=(...c)=>n.handleKeydown&&n.handleKeydown(...c))}),null,16,nB),Zt(" prefix slot "),n.$slots.prefix||n.prefixIcon?(mt(),Lt("span",iB,[ne("span",sB,[hn(n.$slots,"prefix"),n.prefixIcon?(mt(),ze(o,{key:0,class:"el-input__icon"},{default:Je(()=>[(mt(),ze(oo(n.prefixIcon)))]),_:1})):Zt("v-if",!0)])])):Zt("v-if",!0),Zt(" suffix slot "),n.suffixVisible?(mt(),Lt("span",rB,[ne("span",oB,[!n.showClear||!n.showPwdVisible||!n.isWordLimitVisible?(mt(),Lt(Ze,{key:0},[hn(n.$slots,"suffix"),n.suffixIcon?(mt(),ze(o,{key:0,class:"el-input__icon"},{default:Je(()=>[(mt(),ze(oo(n.suffixIcon)))]),_:1})):Zt("v-if",!0)],64)):Zt("v-if",!0),n.showClear?(mt(),ze(o,{key:1,class:"el-input__icon el-input__clear",onMousedown:t[8]||(t[8]=Ia(()=>{},["prevent"])),onClick:n.clear},{default:Je(()=>[ue(a)]),_:1},8,["onClick"])):Zt("v-if",!0),n.showPwdVisible?(mt(),ze(o,{key:2,class:"el-input__icon el-input__clear",onClick:n.handlePasswordVisible},{default:Je(()=>[ue(l)]),_:1},8,["onClick"])):Zt("v-if",!0),n.isWordLimitVisible?(mt(),Lt("span",aB,[ne("span",lB,Xn(n.textLength)+" / "+Xn(n.attrs.maxlength),1)])):Zt("v-if",!0)]),n.validateState&&n.validateIcon?(mt(),ze(o,{key:0,class:"el-input__icon el-input__validateIcon"},{default:Je(()=>[(mt(),ze(oo(n.validateIcon)))]),_:1})):Zt("v-if",!0)])):Zt("v-if",!0),Zt(" append slot "),n.$slots.append?(mt(),Lt("div",cB,[hn(n.$slots,"append")])):Zt("v-if",!0)],64)):(mt(),Lt(Ze,{key:1},[Zt(" textarea "),ne("textarea",Cc({ref:"textarea",class:"el-textarea__inner"},n.attrs,{tabindex:n.tabindex,disabled:n.inputDisabled,readonly:n.readonly,autocomplete:n.autocomplete,style:n.computedTextareaStyle,"aria-label":n.label,placeholder:n.placeholder,onCompositionstart:t[9]||(t[9]=(...c)=>n.handleCompositionStart&&n.handleCompositionStart(...c)),onCompositionupdate:t[10]||(t[10]=(...c)=>n.handleCompositionUpdate&&n.handleCompositionUpdate(...c)),onCompositionend:t[11]||(t[11]=(...c)=>n.handleCompositionEnd&&n.handleCompositionEnd(...c)),onInput:t[12]||(t[12]=(...c)=>n.handleInput&&n.handleInput(...c)),onFocus:t[13]||(t[13]=(...c)=>n.handleFocus&&n.handleFocus(...c)),onBlur:t[14]||(t[14]=(...c)=>n.handleBlur&&n.handleBlur(...c)),onChange:t[15]||(t[15]=(...c)=>n.handleChange&&n.handleChange(...c)),onKeydown:t[16]||(t[16]=(...c)=>n.handleKeydown&&n.handleKeydown(...c))}),null,16,uB),n.isWordLimitVisible?(mt(),Lt("span",hB,Xn(n.textLength)+" / "+Xn(n.attrs.maxlength),1)):Zt("v-if",!0)],64))],38)),[[Ls,n.type!=="hidden"]])}Eg.render=dB;Eg.__file="packages/components/input/src/input.vue";const fB=Zs(Eg),gB={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},pB=({move:n,size:t,bar:e})=>({[e.size]:t,transform:`translate${e.axis}(${n}%)`}),mB=Ss({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),d1="Bar";var Ag=Ee({name:d1,props:mB,setup(n){const t=jn(Zv);t||wl(d1,"can not inject scrollbar context");const e=ot(),i=ot(),s=ot({}),r=ot(!1);let o=!1,a=!1,l=null;const c=wt(()=>gB[n.vertical?"vertical":"horizontal"]),u=wt(()=>pB({size:n.size,move:n.move,bar:c.value})),h=wt(()=>e.value[c.value.offset]**2/t.wrapElement[c.value.scrollSize]/n.ratio/i.value[c.value.offset]),f=S=>{var T;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(T=window.getSelection())==null||T.removeAllRanges(),b(S);const $=S.currentTarget;!$||(s.value[c.value.axis]=$[c.value.offset]-(S[c.value.client]-$.getBoundingClientRect()[c.value.direction]))},g=S=>{if(!i.value||!e.value||!t.wrapElement)return;const T=Math.abs(S.target.getBoundingClientRect()[c.value.direction]-S[c.value.client]),$=i.value[c.value.offset]/2,p=(T-$)*100*h.value/e.value[c.value.offset];t.wrapElement[c.value.scroll]=p*t.wrapElement[c.value.scrollSize]/100},b=S=>{S.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",y),document.addEventListener("mouseup",w),l=document.onselectstart,document.onselectstart=()=>!1},y=S=>{if(!e.value||!i.value||o===!1)return;const T=s.value[c.value.axis];if(!T)return;const $=(e.value.getBoundingClientRect()[c.value.direction]-S[c.value.client])*-1,p=i.value[c.value.offset]-T,A=($-p)*100*h.value/e.value[c.value.offset];t.wrapElement[c.value.scroll]=A*t.wrapElement[c.value.scrollSize]/100},w=()=>{o=!1,s.value[c.value.axis]=0,document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",w),document.onselectstart=l,a&&(r.value=!1)},C=()=>{a=!1,r.value=!!n.size},E=()=>{a=!0,r.value=o};return xa(()=>document.removeEventListener("mouseup",w)),Iu(ro(t,"scrollbarElement"),"mousemove",C),Iu(ro(t,"scrollbarElement"),"mouseleave",E),{instance:e,thumb:i,bar:c,thumbStyle:u,visible:r,clickTrackHandler:g,clickThumbHandler:f}}});function bB(n,t,e,i,s,r){return mt(),ze(Fa,{name:"el-scrollbar-fade"},{default:Je(()=>[un(ne("div",{ref:"instance",class:ln(["el-scrollbar__bar","is-"+n.bar.key]),onMousedown:t[1]||(t[1]=(...o)=>n.clickTrackHandler&&n.clickTrackHandler(...o))},[ne("div",{ref:"thumb",class:"el-scrollbar__thumb",style:Me(n.thumbStyle),onMousedown:t[0]||(t[0]=(...o)=>n.clickThumbHandler&&n.clickThumbHandler(...o))},null,36)],34),[[Ls,n.always||n.visible]])]),_:1})}Ag.render=bB;Ag.__file="packages/components/scrollbar/src/bar.vue";const yB=Ss({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:fi([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),vB={scroll:({scrollTop:n,scrollLeft:t})=>mn(n)&&mn(t)};var Mg=Ee({name:"ElScrollbar",components:{Bar:Ag},props:yB,emits:vB,setup(n,{emit:t}){let e,i;const s=ot(),r=ot(),o=ot(),a=ot("0"),l=ot("0"),c=ot(0),u=ot(0),h=ot(1),f=ot(1),g=4,b=wt(()=>{const S={};return n.height&&(S.height=Kv(n.height)),n.maxHeight&&(S.maxHeight=Kv(n.maxHeight)),[n.wrapStyle,S]}),y=()=>{if(r.value){const S=r.value.offsetHeight-g,T=r.value.offsetWidth-g;u.value=r.value.scrollTop*100/S*h.value,c.value=r.value.scrollLeft*100/T*f.value,t("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft})}},w=S=>{!mn(S)||(r.value.scrollTop=S)},C=S=>{!mn(S)||(r.value.scrollLeft=S)},E=()=>{if(!r.value)return;const S=r.value.offsetHeight-g,T=r.value.offsetWidth-g,$=S**2/r.value.scrollHeight,p=T**2/r.value.scrollWidth,A=Math.max($,n.minSize),k=Math.max(p,n.minSize);h.value=$/(S-$)/(A/(S-A)),f.value=p/(T-p)/(k/(T-k)),l.value=A+g<S?`${A}px`:"",a.value=k+g<T?`${k}px`:""};return ve(()=>n.noresize,S=>{S?(e==null||e(),i==null||i()):({stop:e}=jj(o,E),i=Iu("resize",E))},{immediate:!0}),uc(Zv,ur({scrollbarElement:s,wrapElement:r})),ki(()=>{n.native||On(()=>E())}),{scrollbar$:s,wrap$:r,resize$:o,moveX:c,moveY:u,ratioX:f,ratioY:h,sizeWidth:a,sizeHeight:l,style:b,update:E,handleScroll:y,setScrollTop:w,setScrollLeft:C}}});const CB={ref:"scrollbar$",class:"el-scrollbar"};function wB(n,t,e,i,s,r){const o=We("bar");return mt(),Lt("div",CB,[ne("div",{ref:"wrap$",class:ln([n.wrapClass,"el-scrollbar__wrap",n.native?"":"el-scrollbar__wrap--hidden-default"]),style:Me(n.style),onScroll:t[0]||(t[0]=(...a)=>n.handleScroll&&n.handleScroll(...a))},[(mt(),ze(oo(n.tag),{ref:"resize$",class:ln(["el-scrollbar__view",n.viewClass]),style:Me(n.viewStyle)},{default:Je(()=>[hn(n.$slots,"default")]),_:3},8,["class","style"]))],38),n.native?Zt("v-if",!0):(mt(),Lt(Ze,{key:0},[ue(o,{move:n.moveX,ratio:n.ratioX,size:n.sizeWidth,always:n.always},null,8,["move","ratio","size","always"]),ue(o,{move:n.moveY,ratio:n.ratioY,size:n.sizeHeight,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64))],512)}Mg.render=wB;Mg.__file="packages/components/scrollbar/src/scrollbar.vue";const xB=Zs(Mg);function SB(n,t=[]){const{arrow:e,arrowOffset:i,offset:s,gpuAcceleration:r,fallbackPlacements:o}=n,a=[{name:"offset",options:{offset:[0,s!=null?s:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o!=null?o:[]}},{name:"computeStyles",options:{gpuAcceleration:r,adaptive:r}}];return e&&a.push({name:"arrow",options:{element:e,padding:i!=null?i:5}}),a.push(...t),a}function EB(n,t){return wt(()=>{var e;return to(vn({placement:n.placement},n.popperOptions),{modifiers:SB({arrow:t.arrow.value,arrowOffset:n.arrowOffset,offset:n.offset,gpuAcceleration:n.gpuAcceleration,fallbackPlacements:n.fallbackPlacements},(e=n.popperOptions)==null?void 0:e.modifiers)})})}var f1=(n=>(n.DARK="dark",n.LIGHT="light",n))(f1||{});const AB=[];var MB={arrowOffset:{type:Number,default:5},appendToBody:{type:Boolean,default:!0},autoClose:{type:Number,default:0},boundariesPadding:{type:Number,default:0},content:{type:String,default:""},class:{type:String,default:""},style:Object,hideAfter:{type:Number,default:200},cutoff:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},effect:{type:String,default:"dark"},enterable:{type:Boolean,default:!0},manualMode:{type:Boolean,default:!1},showAfter:{type:Number,default:0},offset:{type:Number,default:12},placement:{type:String,default:"bottom"},popperClass:{type:String,default:""},pure:{type:Boolean,default:!1},popperOptions:{type:Object,default:()=>null},showArrow:{type:Boolean,default:!0},strategy:{type:String,default:"fixed"},transition:{type:String,default:"el-fade-in-linear"},trigger:{type:[String,Array],default:"hover"},visible:{type:Boolean,default:void 0},stopPopperMouseEvent:{type:Boolean,default:!0},gpuAcceleration:{type:Boolean,default:!0},fallbackPlacements:{type:Array,default:AB}};const TB="update:visible";function OB(n,{emit:t}){const e=ot(null),i=ot(null),s=ot(null),r=`el-popper-${OR()}`;let o=null,a=null,l=null,c=!1;const u=()=>n.manualMode||n.trigger==="manual",h=ot({zIndex:wn.nextZIndex()}),f=EB(n,{arrow:e}),g=ur({visible:!!n.visible}),b=wt({get(){return n.disabled?!1:Yv(n.visible)?n.visible:g.visible},set(Y){u()||(Yv(n.visible)?t(TB,Y):g.visible=Y)}});function y(){n.autoClose>0&&(l=window.setTimeout(()=>{w()},n.autoClose)),b.value=!0}function w(){b.value=!1}function C(){clearTimeout(a),clearTimeout(l)}const E=()=>{u()||n.disabled||(C(),n.showAfter===0?y():a=window.setTimeout(()=>{y()},n.showAfter))},S=()=>{u()||(C(),n.hideAfter>0?l=window.setTimeout(()=>{T()},n.hideAfter):T())},T=()=>{w(),n.disabled&&k(!0)};function $(){n.enterable&&n.trigger!=="click"&&clearTimeout(l)}function p(){const{trigger:Y}=n;Ie(Y)&&(Y==="click"||Y==="focus")||Y.length===1&&(Y[0]==="click"||Y[0]==="focus")||S()}function A(){if(!Le(b))return;const Y=Le(i),nt=$R(Y)?Y:Y.$el;o=HC(nt,Le(s),Le(f)),o.update()}function k(Y){!o||Le(b)&&!Y||F()}function F(){var Y;(Y=o==null?void 0:o.destroy)==null||Y.call(o),o=null}const H={};function _(){!Le(b)||(o?o.update():A())}function I(Y){Y&&(h.value.zIndex=wn.nextZIndex(),A())}if(!u()){const Y=()=>{Le(b)?S():E()},nt=Q=>{switch(Q.stopPropagation(),Q.type){case"click":{c?c=!1:Y();break}case"mouseenter":{E();break}case"mouseleave":{S();break}case"focus":{c=!0,E();break}case"blur":{c=!1,S();break}}},G={click:["onClick"],hover:["onMouseenter","onMouseleave"],focus:["onFocus","onBlur"]},q=Q=>{G[Q].forEach(st=>{H[st]=nt})};Gt(n.trigger)?Object.values(n.trigger).forEach(q):q(n.trigger)}return ve(f,Y=>{!o||(o.setOptions(Y),o.update())}),ve(b,I),{update:_,doDestroy:k,show:E,hide:S,onPopperMouseEnter:$,onPopperMouseLeave:p,onAfterEnter:()=>{t("after-enter")},onAfterLeave:()=>{F(),t("after-leave")},onBeforeEnter:()=>{t("before-enter")},onBeforeLeave:()=>{t("before-leave")},initializePopper:A,isManualMode:u,arrowRef:e,events:H,popperId:r,popperInstance:o,popperRef:s,popperStyle:h,triggerRef:i,visibility:b}}function PB(n,t){const{effect:e,name:i,stopPopperMouseEvent:s,popperClass:r,popperStyle:o,popperRef:a,pure:l,popperId:c,visibility:u,onMouseenter:h,onMouseleave:f,onAfterEnter:g,onAfterLeave:b,onBeforeEnter:y,onBeforeLeave:w}=n,C=[r,"el-popper",`is-${e}`,l?"is-pure":""],E=s?gC:Fn;return Xt(Fa,{name:i,onAfterEnter:g,onAfterLeave:b,onBeforeEnter:y,onBeforeLeave:w},{default:Je(()=>[un(Xt("div",{"aria-hidden":String(!u),class:C,style:o!=null?o:{},id:c,ref:a!=null?a:"popperRef",role:"tooltip",onMouseenter:h,onMouseleave:f,onClick:gC,onMousedown:E,onMouseup:E},t),[[Ls,u]])])})}function g1(n,t){const e=r1(n,1);return e||wl("renderTrigger","trigger expects single rooted node"),mr(e,t,!0)}function $B(n){return n?Xt("div",{ref:"arrowRef",class:"el-popper__arrow","data-popper-arrow":""},null):Xt(ci,null,"")}const p1="ElPopper",DB="update:visible";var Ll=Ee({name:p1,props:MB,emits:[DB,"after-enter","after-leave","before-enter","before-leave"],setup(n,t){t.slots.trigger||wl(p1,"Trigger must be provided");const e=OB(n,t),i=()=>e.doDestroy(!0);return ki(e.initializePopper),xa(i),u2(e.initializePopper),h2(i),e},render(){var n;const{$slots:t,appendToBody:e,class:i,style:s,effect:r,hide:o,onPopperMouseEnter:a,onPopperMouseLeave:l,onAfterEnter:c,onAfterLeave:u,onBeforeEnter:h,onBeforeLeave:f,popperClass:g,popperId:b,popperStyle:y,pure:w,showArrow:C,transition:E,visibility:S,stopPopperMouseEvent:T}=this,$=this.isManualMode(),p=$B(C),A=PB({effect:r,name:E,popperClass:g,popperId:b,popperStyle:y,pure:w,stopPopperMouseEvent:T,onMouseenter:a,onMouseleave:l,onAfterEnter:c,onAfterLeave:u,onBeforeEnter:h,onBeforeLeave:f,visibility:S},[hn(t,"default",{},()=>[Xn(this.content)]),p]),k=(n=t.trigger)==null?void 0:n.call(t),F=vn({"aria-describedby":b,class:i,style:s,ref:"triggerRef"},this.events),H=$?g1(k,F):un(g1(k,F),[[WC,o]]);return Xt(Ze,null,[H,Xt(O2,{to:"body",disabled:!e},[A])])}});Ll.__file="packages/components/popper/src/index.vue";Ll.install=n=>{n.component(Ll.name,Ll)};const kB=Ll;function NB(n){let t=n.trim().replace("#","");return/^[0-9a-fA-F]{3}$/.test(t)&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),/^[0-9a-fA-F]{6}$/.test(t)?{red:parseInt(t.slice(0,2),16),green:parseInt(t.slice(2,4),16),blue:parseInt(t.slice(4,6),16)}:{red:255,green:255,blue:255}}function m1(n,t=.2){let{red:e,green:i,blue:s}=NB(n);if(t>0)e*=1-t,i*=1-t,s*=1-t;else{const r=Math.abs(t);e+=(255-e)*Math.abs(t),i+=(255-i)*r,s+=(255-s)*r}return`rgb(${Math.round(e)}, ${Math.round(i)}, ${Math.round(s)})`}function Tg(n,t=.2){return m1(n,-t)}function LB(n,t=.2){return m1(n,t)}const FB=["default","primary","success","warning","info","danger","text",""],IB=["button","submit","reset"],Og=Ss({size:sC,disabled:Boolean,type:{type:String,values:FB,default:""},icon:{type:fi([String,Object]),default:""},nativeType:{type:String,values:IB,default:"button"},loading:Boolean,plain:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,autoInsertSpace:{type:Boolean,default:void 0}}),_B={click:n=>n instanceof MouseEvent};var Pg=Ee({name:"ElButton",components:{ElIcon:Xr,Loading:zf},props:Og,emits:_B,setup(n,{emit:t,slots:e}){const i=ot(),s=jn(Jv,void 0),r=iC("button"),o=wt(()=>{var y,w,C;return(C=(w=n.autoInsertSpace)!=null?w:(y=r.value)==null?void 0:y.autoInsertSpace)!=null?C:!1}),a=wt(()=>{var y;const w=(y=e.default)==null?void 0:y.call(e);if(o.value&&(w==null?void 0:w.length)===1){const C=w[0];if((C==null?void 0:C.type)===mc){const E=C.children;return/^\p{Unified_Ideograph}{2}$/u.test(E)}}return!1}),{form:l}=rC(),c=Br(wt(()=>s==null?void 0:s.size)),u=Zf(),h=wt(()=>n.type||(s==null?void 0:s.type)||"default"),f=wt(()=>Fj(`--el-color-${n.type}`).value),g=wt(()=>{let y={};const w=n.color||f.value;if(w){const C=LB(w,.1);if(n.plain)y={"--el-button-bg-color":Tg(w,.9),"--el-button-text-color":w,"--el-button-hover-text-color":"var(--el-color-white)","--el-button-hover-bg-color":w,"--el-button-hover-border-color":w,"--el-button-active-bg-color":C,"--el-button-active-text-color":"var(--el-color-white)","--el-button-active-border-color":C};else{const E=Tg(w);y={"--el-button-bg-color":w,"--el-button-border-color":w,"--el-button-hover-bg-color":E,"--el-button-hover-border-color":E,"--el-button-active-bg-color":C,"--el-button-active-border-color":C}}if(u.value){const E=Tg(w,.5);y["--el-button-disabled-bg-color"]=E,y["--el-button-disabled-border-color"]=E}}return y});return{buttonRef:i,buttonStyle:g,buttonSize:c,buttonType:h,buttonDisabled:u,shouldAddSpace:a,handleClick:y=>{n.nativeType==="reset"&&(l==null||l.resetFields()),t("click",y)}}}});const RB=["disabled","autofocus","type"];function jB(n,t,e,i,s,r){const o=We("loading"),a=We("el-icon");return mt(),Lt("button",{ref:"buttonRef",class:ln(["el-button",n.buttonType?"el-button--"+n.buttonType:"",n.buttonSize?"el-button--"+n.buttonSize:"",{"is-disabled":n.buttonDisabled,"is-loading":n.loading,"is-plain":n.plain,"is-round":n.round,"is-circle":n.circle}]),disabled:n.buttonDisabled||n.loading,autofocus:n.autofocus,type:n.nativeType,style:Me(n.buttonStyle),onClick:t[0]||(t[0]=(...l)=>n.handleClick&&n.handleClick(...l))},[n.loading?(mt(),ze(a,{key:0,class:"is-loading"},{default:Je(()=>[ue(o)]),_:1})):n.icon?(mt(),ze(a,{key:1},{default:Je(()=>[(mt(),ze(oo(n.icon)))]),_:1})):Zt("v-if",!0),n.$slots.default?(mt(),Lt("span",{key:2,class:ln({"el-button__text--expand":n.shouldAddSpace})},[hn(n.$slots,"default")],2)):Zt("v-if",!0)],14,RB)}Pg.render=jB;Pg.__file="packages/components/button/src/button.vue";const zB={size:Og.size,type:Og.type};var Xu=Ee({name:"ElButtonGroup",props:zB,setup(n){uc(Jv,ur({size:ro(n,"size"),type:ro(n,"type")}))}});const BB={class:"el-button-group"};function HB(n,t,e,i,s,r){return mt(),Lt("div",BB,[hn(n.$slots,"default")])}Xu.render=HB;Xu.__file="packages/components/button/src/button-group.vue";const G9=Zs(Pg,{ButtonGroup:Xu});qu(Xu);const VB=n=>mn(n)?!0:["px","rem","em","vw","%","vmin","vmax"].some(t=>n.endsWith(t))||n.startsWith("calc"),b1=n=>["","large","medium","small","mini"].includes(n);var GB=Nl,WB=Sl,UB="Expected a function";function qB(n,t,e){var i=!0,s=!0;if(typeof n!="function")throw new TypeError(UB);return WB(e)&&(i="leading"in e?!!e.leading:i,s="trailing"in e?!!e.trailing:s),GB(n,t,{leading:i,maxWait:t,trailing:s})}var XB=qB;const YB={modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},tabindex:[String,Number],size:String},ra=()=>{const n=jn(ku,{}),t=jn(Kf,{}),e=jn("CheckboxGroup",{}),i=wt(()=>e&&(e==null?void 0:e.name)==="ElCheckboxGroup"),s=wt(()=>t.size);return{isGroup:i,checkboxGroup:e,elForm:n,elFormItemSize:s,elFormItem:t}},KB=n=>{const t=ot(!1),{emit:e}=Oe(),{isGroup:i,checkboxGroup:s}=ra(),r=ot(!1);return{model:wt({get(){var a,l;return i.value?(a=s.modelValue)==null?void 0:a.value:(l=n.modelValue)!=null?l:t.value},set(a){var l;i.value&&Array.isArray(a)?(r.value=s.max!==void 0&&a.length>s.max.value,r.value===!1&&((l=s==null?void 0:s.changeEvent)==null||l.call(s,a))):(e(is,a),t.value=a)}}),isLimitExceeded:r}},JB=(n,{model:t})=>{const{isGroup:e,checkboxGroup:i}=ra(),s=ot(!1),r=Br(i==null?void 0:i.checkboxGroupSize,{prop:!0}),o=wt(()=>{const l=t.value;return ma(l)==="[object Boolean]"?l:Array.isArray(l)?l.includes(n.label):l!=null?l===n.trueLabel:!!l}),a=Br(wt(()=>{var l;return e.value?(l=i==null?void 0:i.checkboxGroupSize)==null?void 0:l.value:void 0}));return{isChecked:o,focus:s,size:r,checkboxSize:a}},ZB=(n,{model:t,isChecked:e})=>{const{elForm:i,isGroup:s,checkboxGroup:r}=ra(),o=wt(()=>{var l,c;const u=(l=r.max)==null?void 0:l.value,h=(c=r.min)==null?void 0:c.value;return!!(u||h)&&t.value.length>=u&&!e.value||t.value.length<=h&&e.value});return{isDisabled:wt(()=>{var l;const c=n.disabled||i.disabled;return s.value?((l=r.disabled)==null?void 0:l.value)||c||o.value:n.disabled||i.disabled}),isLimitDisabled:o}},QB=(n,{model:t})=>{function e(){Array.isArray(t.value)&&!t.value.includes(n.label)?t.value.push(n.label):t.value=n.trueLabel||!0}n.checked&&e()},t7=(n,{isLimitExceeded:t})=>{const{elFormItem:e}=ra(),{emit:i}=Oe();function s(r){var o,a;if(t.value)return;const c=r.target.checked?(o=n.trueLabel)!=null?o:!0:(a=n.falseLabel)!=null?a:!1;i("change",c,r)}return ve(()=>n.modelValue,()=>{var r;(r=e.validate)==null||r.call(e,"change")}),{handleChange:s}},y1=n=>{const{model:t,isLimitExceeded:e}=KB(n),{focus:i,size:s,isChecked:r,checkboxSize:o}=JB(n,{model:t}),{isDisabled:a}=ZB(n,{model:t,isChecked:r}),{handleChange:l}=t7(n,{isLimitExceeded:e});return QB(n,{model:t}),{isChecked:r,isDisabled:a,checkboxSize:o,model:t,handleChange:l,focus:i,size:s}};var $g=Ee({name:"ElCheckbox",props:{modelValue:{type:[Boolean,Number,String],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:{type:String,validator:b1},tabindex:[String,Number]},emits:[is,"change"],setup(n){return y1(n)}});const e7=["id","aria-controls"],n7=["tabindex","role","aria-checked"],i7=ne("span",{class:"el-checkbox__inner"},null,-1),s7=["aria-hidden","name","tabindex","disabled","true-value","false-value"],r7=["aria-hidden","disabled","value","name","tabindex"],o7={key:0,class:"el-checkbox__label"};function a7(n,t,e,i,s,r){return mt(),Lt("label",{id:n.id,class:ln(["el-checkbox",[n.checkboxSize?"el-checkbox--"+n.checkboxSize:"",{"is-disabled":n.isDisabled},{"is-bordered":n.border},{"is-checked":n.isChecked}]]),"aria-controls":n.indeterminate?n.controls:null},[ne("span",{class:ln(["el-checkbox__input",{"is-disabled":n.isDisabled,"is-checked":n.isChecked,"is-indeterminate":n.indeterminate,"is-focus":n.focus}]),tabindex:n.indeterminate?0:void 0,role:n.indeterminate?"checkbox":void 0,"aria-checked":n.indeterminate?"mixed":!1},[i7,n.trueLabel||n.falseLabel?un((mt(),Lt("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=o=>n.model=o),class:"el-checkbox__original",type:"checkbox","aria-hidden":n.indeterminate?"true":"false",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,"true-value":n.trueLabel,"false-value":n.falseLabel,onChange:t[1]||(t[1]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:t[2]||(t[2]=o=>n.focus=!0),onBlur:t[3]||(t[3]=o=>n.focus=!1)},null,40,s7)),[[Mc,n.model]]):un((mt(),Lt("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=o=>n.model=o),class:"el-checkbox__original",type:"checkbox","aria-hidden":n.indeterminate?"true":"false",disabled:n.isDisabled,value:n.label,name:n.name,tabindex:n.tabindex,onChange:t[5]||(t[5]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:t[6]||(t[6]=o=>n.focus=!0),onBlur:t[7]||(t[7]=o=>n.focus=!1)},null,40,r7)),[[Mc,n.model]])],10,n7),n.$slots.default||n.label?(mt(),Lt("span",o7,[hn(n.$slots,"default"),n.$slots.default?Zt("v-if",!0):(mt(),Lt(Ze,{key:0},[Ta(Xn(n.label),1)],2112))])):Zt("v-if",!0)],10,e7)}$g.render=a7;$g.__file="packages/components/checkbox/src/checkbox.vue";var Yu=Ee({name:"ElCheckboxButton",props:YB,emits:[is,"change"],setup(n){const{focus:t,isChecked:e,isDisabled:i,size:s,model:r,handleChange:o}=y1(n),{checkboxGroup:a}=ra(),l=wt(()=>{var c,u,h,f;const g=(u=(c=a==null?void 0:a.fill)==null?void 0:c.value)!=null?u:"";return{backgroundColor:g,borderColor:g,color:(f=(h=a==null?void 0:a.textColor)==null?void 0:h.value)!=null?f:"",boxShadow:g?`-1px 0 0 0 ${g}`:null}});return{focus:t,isChecked:e,isDisabled:i,model:r,handleChange:o,activeStyle:l,size:s}}});const l7=["aria-checked","aria-disabled"],c7=["name","tabindex","disabled","true-value","false-value"],u7=["name","tabindex","disabled","value"];function h7(n,t,e,i,s,r){return mt(),Lt("label",{class:ln(["el-checkbox-button",[n.size?"el-checkbox-button--"+n.size:"",{"is-disabled":n.isDisabled},{"is-checked":n.isChecked},{"is-focus":n.focus}]]),role:"checkbox","aria-checked":n.isChecked,"aria-disabled":n.isDisabled},[n.trueLabel||n.falseLabel?un((mt(),Lt("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=o=>n.model=o),class:"el-checkbox-button__original",type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,"true-value":n.trueLabel,"false-value":n.falseLabel,onChange:t[1]||(t[1]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:t[2]||(t[2]=o=>n.focus=!0),onBlur:t[3]||(t[3]=o=>n.focus=!1)},null,40,c7)),[[Mc,n.model]]):un((mt(),Lt("input",{key:1,"onUpdate:modelValue":t[4]||(t[4]=o=>n.model=o),class:"el-checkbox-button__original",type:"checkbox",name:n.name,tabindex:n.tabindex,disabled:n.isDisabled,value:n.label,onChange:t[5]||(t[5]=(...o)=>n.handleChange&&n.handleChange(...o)),onFocus:t[6]||(t[6]=o=>n.focus=!0),onBlur:t[7]||(t[7]=o=>n.focus=!1)},null,40,u7)),[[Mc,n.model]]),n.$slots.default||n.label?(mt(),Lt("span",{key:2,class:"el-checkbox-button__inner",style:Me(n.isChecked?n.activeStyle:null)},[hn(n.$slots,"default",{},()=>[Ta(Xn(n.label),1)])],4)):Zt("v-if",!0)],10,l7)}Yu.render=h7;Yu.__file="packages/components/checkbox/src/checkbox-button.vue";var Ku=Ee({name:"ElCheckboxGroup",props:{modelValue:{type:[Object,Boolean,Array],default:()=>{}},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:{type:String,validator:b1},fill:{type:String,default:void 0},textColor:{type:String,default:void 0}},emits:[is,"change"],setup(n,t){const{elFormItem:e}=ra(),i=Br(),s=o=>{t.emit(is,o),On(()=>{t.emit("change",o)})},r=wt({get(){return n.modelValue},set(o){s(o)}});uc("CheckboxGroup",to(vn({name:"ElCheckboxGroup",modelValue:r},n2(n)),{checkboxGroupSize:i,changeEvent:s})),ve(()=>n.modelValue,()=>{var o;(o=e.validate)==null||o.call(e,"change")})}});const d7={class:"el-checkbox-group",role:"group","aria-label":"checkbox-group"};function f7(n,t,e,i,s,r){return mt(),Lt("div",d7,[hn(n.$slots,"default")])}Ku.render=f7;Ku.__file="packages/components/checkbox/src/checkbox-group.vue";const oa=Zs($g,{CheckboxButton:Yu,CheckboxGroup:Ku});qu(Yu);qu(Ku);const g7=Ss({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:fi([String,Array,Object])},zIndex:{type:fi([String,Number])}}),p7={click:n=>n instanceof MouseEvent};var m7=Ee({name:"ElOverlay",props:g7,emits:p7,setup(n,{slots:t,emit:e}){const i=a=>{e("click",a)},{onClick:s,onMousedown:r,onMouseup:o}=a1(n.customMaskEvent?void 0:i);return()=>n.mask?ue("div",{class:["el-overlay",n.overlayClass],style:{zIndex:n.zIndex},onClick:s,onMousedown:r,onMouseup:o},[hn(t,"default")],Wu.STYLE|Wu.CLASS|Wu.PROPS,["onClick","onMouseup","onMousedown"]):Xt("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[hn(t,"default")])}});const b7=m7,y7=Ss({appendToBody:{type:Boolean,default:!1},beforeClose:{type:fi(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeIcon:{type:fi([String,Object]),default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number],validator:VB},zIndex:{type:Number}}),v7={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[is]:n=>typeof n=="boolean"},C7=(n,{emit:t},e)=>{const i=ot(!1),s=ot(!1),r=ot(!1),o=ot(n.zIndex||wn.nextZIndex());let a,l;const c=wt(()=>mn(n.width)?`${n.width}px`:n.width),u=wt(()=>{const $={},p="--el-dialog";return n.fullscreen||(n.top&&($[`${p}-margin-top`]=n.top),n.width&&($[`${p}-width`]=c.value)),$});function h(){t("opened")}function f(){t("closed"),t(is,!1),n.destroyOnClose&&(r.value=!1)}function g(){t("close")}function b(){l==null||l(),a==null||a(),n.openDelay&&n.openDelay>0?{stop:a}=pC(()=>S(),n.openDelay):S()}function y(){a==null||a(),l==null||l(),n.closeDelay&&n.closeDelay>0?{stop:l}=pC(()=>T(),n.closeDelay):T()}function w($){$||(s.value=!0,i.value=!1)}function C(){n.beforeClose?n.beforeClose(w):y()}function E(){n.closeOnClickModal&&C()}function S(){kn||(i.value=!0)}function T(){i.value=!1}return n.lockScroll&&Nj(i),n.closeOnPressEscape&&Yj({handleClose:C},i),Cz(i),ve(()=>n.modelValue,$=>{$?(s.value=!1,b(),r.value=!0,t("open"),o.value=n.zIndex?o.value++:wn.nextZIndex(),On(()=>{e.value&&(e.value.scrollTop=0)})):i.value&&y()}),ki(()=>{n.modelValue&&(i.value=!0,r.value=!0,b())}),{afterEnter:h,afterLeave:f,beforeLeave:g,handleClose:C,onModalClick:E,close:y,doClose:T,closed:s,style:u,rendered:r,visible:i,zIndex:o}};var Dg=Ee({name:"ElDialog",components:vn({ElOverlay:b7,ElIcon:Xr},Sz),directives:{TrapFocus:nz},props:y7,emits:v7,setup(n,t){const e=ot(),i=C7(n,t,e),s=a1(i.onModalClick);return vn({dialogRef:e,overlayEvent:s},i)}});const w7=["aria-label"],x7={class:"el-dialog__header"},S7={class:"el-dialog__title"},E7={key:0,class:"el-dialog__body"},A7={key:1,class:"el-dialog__footer"};function M7(n,t,e,i,s,r){const o=We("el-icon"),a=We("el-overlay"),l=pc("trap-focus");return mt(),ze(O2,{to:"body",disabled:!n.appendToBody},[ue(Fa,{name:"dialog-fade",onAfterEnter:n.afterEnter,onAfterLeave:n.afterLeave,onBeforeLeave:n.beforeLeave},{default:Je(()=>[un(ue(a,{"custom-mask-event":"",mask:n.modal,"overlay-class":n.modalClass,"z-index":n.zIndex},{default:Je(()=>[ne("div",{class:"el-overlay-dialog",onClick:t[2]||(t[2]=(...c)=>n.overlayEvent.onClick&&n.overlayEvent.onClick(...c)),onMousedown:t[3]||(t[3]=(...c)=>n.overlayEvent.onMousedown&&n.overlayEvent.onMousedown(...c)),onMouseup:t[4]||(t[4]=(...c)=>n.overlayEvent.onMouseup&&n.overlayEvent.onMouseup(...c))},[un(ne("div",{ref:"dialogRef",class:ln(["el-dialog",{"is-fullscreen":n.fullscreen,"el-dialog--center":n.center},n.customClass]),"aria-modal":"true",role:"dialog","aria-label":n.title||"dialog",style:Me(n.style),onClick:t[1]||(t[1]=Ia(()=>{},["stop"]))},[ne("div",x7,[hn(n.$slots,"title",{},()=>[ne("span",S7,Xn(n.title),1)]),n.showClose?(mt(),Lt("button",{key:0,"aria-label":"close",class:"el-dialog__headerbtn",type:"button",onClick:t[0]||(t[0]=(...c)=>n.handleClose&&n.handleClose(...c))},[ue(o,{class:"el-dialog__close"},{default:Je(()=>[(mt(),ze(oo(n.closeIcon||"close")))]),_:1})])):Zt("v-if",!0)]),n.rendered?(mt(),Lt("div",E7,[hn(n.$slots,"default")])):Zt("v-if",!0),n.$slots.footer?(mt(),Lt("div",A7,[hn(n.$slots,"footer")])):Zt("v-if",!0)],14,w7),[[l]])],32)]),_:3},8,["mask","overlay-class","z-index"]),[[Ls,n.visible]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}Dg.render=M7;Dg.__file="packages/components/dialog/src/dialog.vue";const W9=Zs(Dg),T7=Ss({step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},modelValue:{type:Number,required:!0},disabled:{type:Boolean,default:!1},size:{type:String,values:eC},controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},name:String,label:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===parseInt(`${n}`,10)}}),O7={change:(n,t)=>n!==t,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,input:n=>mn(n),"update:modelValue":n=>mn(n)};var kg=Ee({name:"ElInputNumber",components:{ElInput:fB,ElIcon:Xr,ArrowUp:Sv,ArrowDown:wv,Plus:iF,Minus:JL},directives:{RepeatClick:ez},props:T7,emits:O7,setup(n,{emit:t}){const e=ot(),i=ur({currentValue:n.modelValue,userInput:null}),s=wt(()=>b(n.modelValue)<n.min),r=wt(()=>g(n.modelValue)>n.max),o=wt(()=>{const p=f(n.step);return n.precision!==void 0?(p>n.precision,n.precision):Math.max(f(n.modelValue),p)}),a=wt(()=>n.controls&&n.controlsPosition==="right"),l=Br(),c=Zf(),u=wt(()=>{if(i.userInput!==null)return i.userInput;let p=i.currentValue;if(mn(p)){if(Number.isNaN(p))return"";n.precision!==void 0&&(p=p.toFixed(n.precision))}return p}),h=(p,A)=>(A===void 0&&(A=o.value),parseFloat(`${Math.round(p*Math.pow(10,A))/Math.pow(10,A)}`)),f=p=>{if(p===void 0)return 0;const A=p.toString(),k=A.indexOf(".");let F=0;return k!==-1&&(F=A.length-k-1),F},g=p=>{if(!mn(p))return i.currentValue;const A=Math.pow(10,o.value);return p=mn(p)?p:NaN,h((A*p+A*n.step)/A)},b=p=>{if(!mn(p))return i.currentValue;const A=Math.pow(10,o.value);return p=mn(p)?p:NaN,h((A*p-A*n.step)/A)},y=()=>{if(c.value||r.value)return;const p=n.modelValue||0,A=g(p);C(A)},w=()=>{if(c.value||s.value)return;const p=n.modelValue||0,A=b(p);C(A)},C=p=>{const A=i.currentValue;typeof p=="number"&&n.precision!==void 0&&(p=h(p,n.precision)),p!==void 0&&p>=n.max&&(p=n.max),p!==void 0&&p<=n.min&&(p=n.min),A!==p&&(mn(p)||(p=NaN),i.userInput=null,t("update:modelValue",p),t("input",p),t("change",p,A),i.currentValue=p)},E=p=>i.userInput=p,S=p=>{const A=Number(p);(mn(A)&&!Number.isNaN(A)||p==="")&&C(A),i.userInput=null},T=()=>{var p,A;(A=(p=e.value)==null?void 0:p.focus)==null||A.call(p)},$=()=>{var p,A;(A=(p=e.value)==null?void 0:p.blur)==null||A.call(p)};return ve(()=>n.modelValue,p=>{let A=Number(p);if(A!==void 0){if(isNaN(A))return;if(n.stepStrictly){const k=f(n.step),F=Math.pow(10,k);A=Math.round(A/n.step)*F*n.step/F}n.precision!==void 0&&(A=h(A,n.precision))}A!==void 0&&A>n.max&&(A=n.max,t("update:modelValue",A)),A!==void 0&&A<n.min&&(A=n.min,t("update:modelValue",A)),i.currentValue=A,i.userInput=null},{immediate:!0}),ki(()=>{var p;const A=(p=e.value)==null?void 0:p.input;A.setAttribute("role","spinbutton"),A.setAttribute("aria-valuemax",String(n.max)),A.setAttribute("aria-valuemin",String(n.min)),A.setAttribute("aria-valuenow",String(i.currentValue)),A.setAttribute("aria-disabled",String(c.value)),mn(n.modelValue)||t("update:modelValue",Number(n.modelValue))}),wa(()=>{var p;((p=e.value)==null?void 0:p.input).setAttribute("aria-valuenow",i.currentValue)}),{input:e,displayValue:u,handleInput:E,handleInputChange:S,controlsAtRight:a,decrease:w,increase:y,inputNumberSize:l,inputNumberDisabled:c,maxDisabled:r,minDisabled:s,focus:T,blur:$}}});function P7(n,t,e,i,s,r){const o=We("arrow-down"),a=We("minus"),l=We("el-icon"),c=We("arrow-up"),u=We("plus"),h=We("el-input"),f=pc("repeat-click");return mt(),Lt("div",{class:ln(["el-input-number",n.inputNumberSize?"el-input-number--"+n.inputNumberSize:"",{"is-disabled":n.inputNumberDisabled},{"is-without-controls":!n.controls},{"is-controls-right":n.controlsAtRight}]),onDragstart:t[4]||(t[4]=Ia(()=>{},["prevent"]))},[n.controls?un((mt(),Lt("span",{key:0,class:ln(["el-input-number__decrease",{"is-disabled":n.minDisabled}]),role:"button",onKeydown:t[0]||(t[0]=Tc((...g)=>n.decrease&&n.decrease(...g),["enter"]))},[ue(l,null,{default:Je(()=>[n.controlsAtRight?(mt(),ze(o,{key:0})):(mt(),ze(a,{key:1}))]),_:1})],34)),[[f,n.decrease]]):Zt("v-if",!0),n.controls?un((mt(),Lt("span",{key:1,class:ln(["el-input-number__increase",{"is-disabled":n.maxDisabled}]),role:"button",onKeydown:t[1]||(t[1]=Tc((...g)=>n.increase&&n.increase(...g),["enter"]))},[ue(l,null,{default:Je(()=>[n.controlsAtRight?(mt(),ze(c,{key:0})):(mt(),ze(u,{key:1}))]),_:1})],34)),[[f,n.increase]]):Zt("v-if",!0),ue(h,{ref:"input",type:"number",step:n.step,"model-value":n.displayValue,placeholder:n.placeholder,disabled:n.inputNumberDisabled,size:n.inputNumberSize,max:n.max,min:n.min,name:n.name,label:n.label,onKeydown:[Tc(Ia(n.increase,["prevent"]),["up"]),Tc(Ia(n.decrease,["prevent"]),["down"])],onBlur:t[2]||(t[2]=g=>n.$emit("blur",g)),onFocus:t[3]||(t[3]=g=>n.$emit("focus",g)),onInput:n.handleInput,onChange:n.handleInputChange},null,8,["step","model-value","placeholder","disabled","size","max","min","name","label","onKeydown","onInput","onChange"])],34)}kg.render=P7;kg.__file="packages/components/input-number/src/input-number.vue";const U9=Zs(kg),Ng=function(n){let t=n.target;for(;t&&t.tagName.toUpperCase()!=="HTML";){if(t.tagName.toUpperCase()==="TD")return t;t=t.parentNode}return null},v1=function(n){return n!==null&&typeof n=="object"},$7=function(n,t,e,i,s){if(!t&&!i&&(!s||Array.isArray(s)&&!s.length))return n;typeof e=="string"?e=e==="descending"?-1:1:e=e&&e<0?-1:1;const r=i?null:function(a,l){return s?(Array.isArray(s)||(s=[s]),s.map(function(c){return typeof c=="string"?Xv(a,c):c(a,l,n)})):(t!=="$key"&&v1(a)&&"$value"in a&&(a=a.$value),[v1(a)?Xv(a,t):a])},o=function(a,l){if(i)return i(a.value,l.value);for(let c=0,u=a.key.length;c<u;c++){if(a.key[c]<l.key[c])return-1;if(a.key[c]>l.key[c])return 1}return 0};return n.map(function(a,l){return{value:a,index:l,key:r?r(a,l):null}}).sort(function(a,l){let c=o(a,l);return c||(c=a.index-l.index),c*+e}).map(a=>a.value)},C1=function(n,t){let e=null;return n.columns.forEach(function(i){i.id===t&&(e=i)}),e},D7=function(n,t){let e=null;for(let i=0;i<n.columns.length;i++){const s=n.columns[i];if(s.columnKey===t){e=s;break}}return e},w1=function(n,t){const e=(t.className||"").match(/el-table_[^\s]+/gm);return e?C1(n,e[0]):null},Nn=(n,t)=>{if(!n)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(t.indexOf(".")<0)return`${n[t]}`;const e=t.split(".");let i=n;for(let s=0;s<e.length;s++)i=i[e[s]];return`${i}`}else if(typeof t=="function")return t.call(null,n)},Yr=function(n,t){const e={};return(n||[]).forEach((i,s)=>{e[Nn(i,t)]={row:i,index:s}}),e};function k7(n,t){const e={};let i;for(i in n)e[i]=n[i];for(i in t)if(ce(t,i)){const s=t[i];typeof s!="undefined"&&(e[i]=s)}return e}function Lg(n){return n!==void 0&&(n=parseInt(n,10),isNaN(n)&&(n=null)),+n}function x1(n){return typeof n!="undefined"&&(n=Lg(n),isNaN(n)&&(n=80)),n}function Fg(n){return typeof n=="number"?n:typeof n=="string"?/^\d+(?:px)?$/.test(n)?parseInt(n,10):n:null}function N7(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function Ju(n,t,e){let i=!1;const s=n.indexOf(t),r=s!==-1,o=()=>{n.push(t),i=!0},a=()=>{n.splice(s,1),i=!0};return typeof e=="boolean"?e&&!r?o():!e&&r&&a():r?a():o(),i}function L7(n,t,e="children",i="hasChildren"){const s=o=>!(Array.isArray(o)&&o.length);function r(o,a,l){t(o,a,l),a.forEach(c=>{if(c[i]){t(c,null,l+1);return}const u=c[e];s(u)||r(c,u,l+1)})}n.forEach(o=>{if(o[i]){t(o,null,0);return}const a=o[e];s(a)||r(o,a,0)})}let Zu;function F7(n,t,e,i){function s(){const u=i==="light",h=document.createElement("div");return h.className=`el-popper ${u?"is-light":"is-dark"}`,h.innerHTML=t,h.style.zIndex=String(wn.nextZIndex()),document.body.appendChild(h),h}function r(){const u=document.createElement("div");return u.className="el-popper__arrow",u}function o(){a&&a.update()}Zu=function u(){try{a&&a.destroy(),l&&document.body.removeChild(l),El(n,"mouseenter",o),El(n,"mouseleave",u)}catch{}};let a=null;const l=s(),c=r();return l.appendChild(c),a=HC(n,l,vn({modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:c,padding:10}}]},e)),Bi(n,"mouseenter",o),Bi(n,"mouseleave",Zu),a}function I7(n){const t=Oe(),e=ot(!1),i=ot([]);return{updateExpandRows:()=>{const l=n.data.value||[],c=n.rowKey.value;if(e.value)i.value=l.slice();else if(c){const u=Yr(i.value,c);i.value=l.reduce((h,f)=>{const g=Nn(f,c);return u[g]&&h.push(f),h},[])}else i.value=[]},toggleRowExpansion:(l,c)=>{Ju(i.value,l,c)&&(t.emit("expand-change",l,i.value.slice()),t.store.scheduleLayout())},setExpandRowKeys:l=>{t.store.assertRowKey();const c=n.data.value||[],u=n.rowKey.value,h=Yr(c,u);i.value=l.reduce((f,g)=>{const b=h[g];return b&&f.push(b.row),f},[])},isRowExpanded:l=>{const c=n.rowKey.value;return c?!!Yr(i.value,c)[Nn(l,c)]:i.value.indexOf(l)!==-1},states:{expandRows:i,defaultExpandAll:e}}}function _7(n){const t=Oe(),e=ot(null),i=ot(null),s=c=>{t.store.assertRowKey(),e.value=c,o(c)},r=()=>{e.value=null},o=c=>{const{data:u,rowKey:h}=n;let f=null;h.value&&(f=(Le(u)||[]).find(g=>Nn(g,h.value)===c)),i.value=f};return{setCurrentRowKey:s,restoreCurrentRowKey:r,setCurrentRowByKey:o,updateCurrentRow:c=>{const u=i.value;if(c&&c!==u){i.value=c,t.emit("current-change",i.value,u);return}!c&&u&&(i.value=null,t.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=n.rowKey.value,u=n.data.value||[],h=i.value;if(u.indexOf(h)===-1&&h){if(c){const f=Nn(h,c);o(f)}else i.value=null;i.value===null&&t.emit("current-change",null,h)}else e.value&&(o(e.value),r())},states:{_currentRowKey:e,currentRow:i}}}function R7(n){const t=ot([]),e=ot({}),i=ot(16),s=ot(!1),r=ot({}),o=ot("hasChildren"),a=ot("children"),l=Oe(),c=wt(()=>{if(!n.rowKey.value)return{};const C=n.data.value||[];return h(C)}),u=wt(()=>{const C=n.rowKey.value,E=Object.keys(r.value),S={};return E.length&&E.forEach(T=>{if(r.value[T].length){const $={children:[]};r.value[T].forEach(p=>{const A=Nn(p,C);$.children.push(A),p[o.value]&&!S[A]&&(S[A]={children:[]})}),S[T]=$}}),S}),h=C=>{const E=n.rowKey.value,S={};return L7(C,(T,$,p)=>{const A=Nn(T,E);Array.isArray($)?S[A]={children:$.map(k=>Nn(k,E)),level:p}:s.value&&(S[A]={children:[],lazy:!0,level:p})},a.value,o.value),S},f=(C=!1,E=(S=>(S=l.store)==null?void 0:S.states.defaultExpandAll.value)())=>{var S;const T=c.value,$=u.value,p=Object.keys(T),A={};if(p.length){const k=Le(e),F=[],H=(I,Y)=>{if(C)return t.value?E||t.value.includes(Y):!!(E||(I==null?void 0:I.expanded));{const nt=E||t.value&&t.value.includes(Y);return!!((I==null?void 0:I.expanded)||nt)}};p.forEach(I=>{const Y=k[I],nt=vn({},T[I]);if(nt.expanded=H(Y,I),nt.lazy){const{loaded:G=!1,loading:q=!1}=Y||{};nt.loaded=!!G,nt.loading=!!q,F.push(I)}A[I]=nt});const _=Object.keys($);s.value&&_.length&&F.length&&_.forEach(I=>{const Y=k[I],nt=$[I].children;if(F.indexOf(I)!==-1){if(A[I].children.length!==0)throw new Error("[ElTable]children must be an empty array.");A[I].children=nt}else{const{loaded:G=!1,loading:q=!1}=Y||{};A[I]={lazy:!0,loaded:!!G,loading:!!q,expanded:H(Y,I),children:nt,level:""}}})}e.value=A,(S=l.store)==null||S.updateTableScrollY()};ve(()=>t.value,()=>{f(!0)}),ve(()=>c.value,()=>{f()}),ve(()=>u.value,()=>{f()});const g=C=>{t.value=C,f()},b=(C,E)=>{l.store.assertRowKey();const S=n.rowKey.value,T=Nn(C,S),$=T&&e.value[T];if(T&&$&&"expanded"in $){const p=$.expanded;E=typeof E=="undefined"?!$.expanded:E,e.value[T].expanded=E,p!==E&&l.emit("expand-change",C,E),l.store.updateTableScrollY()}},y=C=>{l.store.assertRowKey();const E=n.rowKey.value,S=Nn(C,E),T=e.value[S];s.value&&T&&"loaded"in T&&!T.loaded?w(C,S,T):b(C,void 0)},w=(C,E,S)=>{const{load:T}=l.props;T&&!e.value[E].loaded&&(e.value[E].loading=!0,T(C,S,$=>{if(!Array.isArray($))throw new Error("[ElTable] data must be an array");e.value[E].loading=!1,e.value[E].loaded=!0,e.value[E].expanded=!0,$.length&&(r.value[E]=$),l.emit("expand-change",C,!0)}))};return{loadData:w,loadOrToggle:y,toggleTreeExpansion:b,updateTreeExpandKeys:g,updateTreeData:f,normalize:h,states:{expandRowKeys:t,treeData:e,indent:i,lazy:s,lazyTreeNodeMap:r,lazyColumnIdentifier:o,childrenColumnName:a}}}const j7=(n,t)=>{const e=t.sortingColumn;return!e||typeof e.sortable=="string"?n:$7(n,t.sortProp,t.sortOrder,e.sortMethod,e.sortBy)},Qu=n=>{const t=[];return n.forEach(e=>{e.children?t.push.apply(t,Qu(e.children)):t.push(e)}),t};function z7(){var n;const t=Oe(),{size:e}=n2((n=t.proxy)==null?void 0:n.$props),i=ot(null),s=ot([]),r=ot([]),o=ot(!1),a=ot([]),l=ot([]),c=ot([]),u=ot([]),h=ot([]),f=ot([]),g=ot([]),b=ot([]),y=ot(0),w=ot(0),C=ot(0),E=ot(!1),S=ot([]),T=ot(!1),$=ot(!1),p=ot(null),A=ot({}),k=ot(null),F=ot(null),H=ot(null),_=ot(null),I=ot(null);ve(s,()=>t.state&&G(!1),{deep:!0});const Y=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},nt=()=>{u.value=a.value.filter(Jt=>Jt.fixed===!0||Jt.fixed==="left"),h.value=a.value.filter(Jt=>Jt.fixed==="right"),u.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,u.value.unshift(a.value[0]));const ft=a.value.filter(Jt=>!Jt.fixed);l.value=[].concat(u.value).concat(ft).concat(h.value);const xt=Qu(ft),kt=Qu(u.value),$t=Qu(h.value);y.value=xt.length,w.value=kt.length,C.value=$t.length,c.value=[].concat(kt).concat(xt).concat($t),o.value=u.value.length>0||h.value.length>0},G=(ft,xt=!1)=>{ft&&nt(),xt?t.state.doLayout():t.state.debouncedUpdateLayout()},q=ft=>S.value.indexOf(ft)>-1,Q=()=>{E.value=!1,S.value.length&&(S.value=[],t.emit("selection-change",[]))},st=()=>{let ft;if(i.value){ft=[];const xt=Yr(S.value,i.value),kt=Yr(s.value,i.value);for(const $t in xt)ce(xt,$t)&&!kt[$t]&&ft.push(xt[$t].row)}else ft=S.value.filter(xt=>s.value.indexOf(xt)===-1);if(ft.length){const xt=S.value.filter(kt=>ft.indexOf(kt)===-1);S.value=xt,t.emit("selection-change",xt.slice())}else S.value.length&&(S.value=[],t.emit("selection-change",[]))},Tt=(ft,xt=void 0,kt=!0)=>{if(Ju(S.value,ft,xt)){const Jt=(S.value||[]).slice();kt&&t.emit("select",Jt,ft),t.emit("selection-change",Jt)}},Ut=()=>{var ft,xt;const kt=$.value?!E.value:!(E.value||S.value.length);E.value=kt;let $t=!1,Jt=0;const Pe=(xt=(ft=t==null?void 0:t.store)==null?void 0:ft.states)==null?void 0:xt.rowKey.value;s.value.forEach((nn,rn)=>{const on=rn+Jt;p.value?p.value.call(null,nn,on)&&Ju(S.value,nn,kt)&&($t=!0):Ju(S.value,nn,kt)&&($t=!0),Jt+=Ft(Nn(nn,Pe))}),$t&&t.emit("selection-change",S.value?S.value.slice():[]),t.emit("select-all",S.value)},ht=()=>{const ft=Yr(S.value,i.value);s.value.forEach(xt=>{const kt=Nn(xt,i.value),$t=ft[kt];$t&&(S.value[$t.index]=xt)})},Nt=()=>{var ft,xt,kt;if(((ft=s.value)==null?void 0:ft.length)===0){E.value=!1;return}let $t;i.value&&($t=Yr(S.value,i.value));const Jt=function(on){return $t?!!$t[Nn(on,i.value)]:S.value.indexOf(on)!==-1};let Pe=!0,nn=0,rn=0;for(let on=0,xe=(s.value||[]).length;on<xe;on++){const $e=(kt=(xt=t==null?void 0:t.store)==null?void 0:xt.states)==null?void 0:kt.rowKey.value,Es=on+rn,aa=s.value[on],Il=p.value&&p.value.call(null,aa,Es);if(Jt(aa))nn++;else if(!p.value||Il){Pe=!1;break}rn+=Ft(Nn(aa,$e))}nn===0&&(Pe=!1),E.value=Pe},Ft=ft=>{var xt;if(!t||!t.store)return 0;const{treeData:kt}=t.store.states;let $t=0;const Jt=(xt=kt.value[ft])==null?void 0:xt.children;return Jt&&($t+=Jt.length,Jt.forEach(Pe=>{$t+=Ft(Pe)})),$t},Ot=(ft,xt)=>{Array.isArray(ft)||(ft=[ft]);const kt={};return ft.forEach($t=>{A.value[$t.id]=xt,kt[$t.columnKey||$t.id]=xt}),kt},jt=(ft,xt,kt)=>{F.value&&F.value!==ft&&(F.value.order=null),F.value=ft,H.value=xt,_.value=kt},ie=()=>{let ft=Le(r);Object.keys(A.value).forEach(xt=>{const kt=A.value[xt];if(!kt||kt.length===0)return;const $t=C1({columns:c.value},xt);$t&&$t.filterMethod&&(ft=ft.filter(Jt=>kt.some(Pe=>$t.filterMethod.call(null,Pe,Jt,$t))))}),k.value=ft},Mt=()=>{s.value=j7(k.value,{sortingColumn:F.value,sortProp:H.value,sortOrder:_.value})},qt=(ft=void 0)=>{ft&&ft.filter||ie(),Mt()},ye=ft=>{const{tableHeader:xt,fixedTableHeader:kt,rightFixedTableHeader:$t}=t.refs;let Jt={};xt&&(Jt=Object.assign(Jt,xt.filterPanels)),kt&&(Jt=Object.assign(Jt,kt.filterPanels)),$t&&(Jt=Object.assign(Jt,$t.filterPanels));const Pe=Object.keys(Jt);if(!!Pe.length)if(typeof ft=="string"&&(ft=[ft]),Array.isArray(ft)){const nn=ft.map(rn=>D7({columns:c.value},rn));Pe.forEach(rn=>{const on=nn.find(xe=>xe.id===rn);on&&(on.filteredValue=[])}),t.store.commit("filterChange",{column:nn,values:[],silent:!0,multi:!0})}else Pe.forEach(nn=>{const rn=c.value.find(on=>on.id===nn);rn&&(rn.filteredValue=[])}),A.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Ae=()=>{!F.value||(jt(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Gn,toggleRowExpansion:ni,updateExpandRows:N,states:B,isRowExpanded:Z}=I7({data:s,rowKey:i}),{updateTreeExpandKeys:X,toggleTreeExpansion:et,updateTreeData:gt,loadOrToggle:vt,states:dt}=R7({data:s,rowKey:i}),{updateCurrentRowData:pt,updateCurrentRow:ct,setCurrentRowKey:Dt,states:Ct}=_7({data:s,rowKey:i});return{assertRowKey:Y,updateColumns:nt,scheduleLayout:G,isSelected:q,clearSelection:Q,cleanSelection:st,toggleRowSelection:Tt,_toggleAllSelection:Ut,toggleAllSelection:null,updateSelectionByRowKey:ht,updateAllSelected:Nt,updateFilters:Ot,updateCurrentRow:ct,updateSort:jt,execFilter:ie,execSort:Mt,execQuery:qt,clearFilter:ye,clearSort:Ae,toggleRowExpansion:ni,setExpandRowKeysAdapter:ft=>{Gn(ft),X(ft)},setCurrentRowKey:Dt,toggleRowExpansionAdapter:(ft,xt)=>{c.value.some(({type:$t})=>$t==="expand")?ni(ft,xt):et(ft,xt)},isRowExpanded:Z,updateExpandRows:N,updateCurrentRowData:pt,loadOrToggle:vt,updateTreeData:gt,states:vn(vn(vn({tableSize:e,rowKey:i,data:s,_data:r,isComplex:o,_columns:a,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:h,leafColumns:f,fixedLeafColumns:g,rightFixedLeafColumns:b,leafColumnsLength:y,fixedLeafColumnsLength:w,rightFixedLeafColumnsLength:C,isAllSelected:E,selection:S,reserveSelection:T,selectOnIndeterminate:$,selectable:p,filters:A,filteredData:k,sortingColumn:F,sortProp:H,sortOrder:_,hoverRow:I},B),dt),Ct)}}function Ig(n,t){return n.map(e=>{var i;return e.id===t.id?t:(((i=e.children)==null?void 0:i.length)&&(e.children=Ig(e.children,t)),e)})}function S1(n){n.forEach(t=>{var e,i;t.no=(e=t.getColumnIndex)==null?void 0:e.call(t),((i=t.children)==null?void 0:i.length)&&S1(t.children)}),n.sort((t,e)=>t.no-e.no)}function B7(){const n=Oe(),t=z7(),e={setData(r,o){const a=Le(r.data)!==o;r.data.value=o,r._data.value=o,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),Le(r.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):a?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(r,o,a){const l=Le(r._columns);let c=[];a?(a&&!a.children&&(a.children=[]),a.children.push(o),c=Ig(l,a)):(l.push(o),c=l),S1(c),r._columns.value=c,o.type==="selection"&&(r.selectable.value=o.selectable,r.reserveSelection.value=o.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},removeColumn(r,o,a){const l=Le(r._columns)||[];if(a)a.children.splice(a.children.findIndex(c=>c.id===o.id),1),a.children.length===0&&delete a.children,r._columns.value=Ig(l,a);else{const c=l.indexOf(o);c>-1&&(l.splice(c,1),r._columns.value=l)}n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(r,o){const{prop:a,order:l,init:c}=o;if(a){const u=Le(r.columns).find(h=>h.property===a);u&&(u.order=l,n.store.updateSort(u,a,l),n.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(r,o){const{sortingColumn:a,sortProp:l,sortOrder:c}=r;Le(c)===null&&(r.sortingColumn.value=null,r.sortProp.value=null);const u={filter:!0};n.store.execQuery(u),(!o||!(o.silent||o.init))&&n.emit("sort-change",{column:Le(a),prop:Le(l),order:Le(c)}),n.store.updateTableScrollY()},filterChange(r,o){const{column:a,values:l,silent:c}=o,u=n.store.updateFilters(a,l);n.store.execQuery(),c||n.emit("filter-change",u),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(r,o){n.store.toggleRowSelection(o),n.store.updateAllSelected()},setHoverRow(r,o){r.hoverRow.value=o},setCurrentRow(r,o){n.store.updateCurrentRow(o)}},i=function(r,...o){const a=n.store.mutations;if(a[r])a[r].apply(n,[n.store.states].concat(o));else throw new Error(`Action not found: ${r}`)},s=function(){On(()=>n.layout.updateScrollY.apply(n.layout))};return to(vn({},t),{mutations:e,commit:i,updateTableScrollY:s})}const Fl={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function H7(n,t){if(!n)throw new Error("Table is required.");const e=B7();return e.toggleAllSelection=Nl(e._toggleAllSelection,10),Object.keys(Fl).forEach(i=>{E1(A1(t,i),i,e)}),V7(e,t),e}function V7(n,t){Object.keys(Fl).forEach(e=>{ve(()=>A1(t,e),i=>{E1(i,e,n)})})}function E1(n,t,e){let i=n,s=Fl[t];typeof Fl[t]=="object"&&(s=s.key,i=i||Fl[t].default),e.states[s].value=i}function A1(n,t){if(t.includes(".")){const e=t.split(".");let i=n;return e.forEach(s=>{i=i[s]}),i}else return n[t]}class G7{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ot(null),this.scrollX=ot(!1),this.scrollY=ot(!1),this.bodyWidth=ot(null),this.fixedWidth=ot(null),this.rightFixedWidth=ot(null),this.tableHeight=ot(null),this.headerHeight=ot(44),this.appendHeight=ot(0),this.footerHeight=ot(44),this.viewportHeight=ot(null),this.bodyHeight=ot(null),this.fixedBodyHeight=ot(null),this.gutterWidth=fC();for(const e in t)ce(t,e)&&(cn(this[e])?this[e].value=t[e]:this[e]=t[e]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const e=this.table.refs.bodyWrapper;if(this.table.vnode.el&&e){let i=!0;const s=this.scrollY.value;return this.bodyHeight.value===null?i=!1:i=e.querySelector(".el-table__body").offsetHeight>this.bodyHeight.value,this.scrollY.value=i,s!==i}return!1}setHeight(t,e="height"){if(kn)return;const i=this.table.vnode.el;if(t=Fg(t),this.height.value=Number(t),!i&&(t||t===0))return On(()=>this.setHeight(t,e));typeof t=="number"?(i.style[e]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(i.style[e]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?t.push.apply(t,i.columns):t.push(i)}),t}updateElsHeight(){if(!this.table.$ready)return On(()=>this.updateElsHeight());const{headerWrapper:t,appendWrapper:e,footerWrapper:i}=this.table.refs;if(this.appendHeight.value=e?e.offsetHeight:0,this.showHeader&&!t)return;const s=t?t.querySelector(".el-table__header tr"):null,r=this.headerDisplayNone(s),o=this.headerHeight.value=this.showHeader?t.offsetHeight:0;if(this.showHeader&&!r&&t.offsetWidth>0&&(this.table.store.states.columns.value||[]).length>0&&o<2)return On(()=>this.updateElsHeight());const a=this.tableHeight.value=this.table.vnode.el.clientHeight,l=this.footerHeight.value=i?i.offsetHeight:0;this.height.value!==null&&(this.bodyHeight.value=a-o-l+(i?1:0)),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?a-this.gutterWidth:a,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let e=t;for(;e.tagName!=="DIV";){if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}updateColumnsWidth(){if(kn)return;const t=this.fit,e=this.table.vnode.el.clientWidth;let i=0;const s=this.getFlattenColumns(),r=s.filter(l=>typeof l.width!="number");if(s.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),r.length>0&&t){s.forEach(c=>{i+=Number(c.width||c.minWidth||80)});const l=this.scrollY.value?this.gutterWidth:0;if(i<=e-l){this.scrollX.value=!1;const c=e-l-i;if(r.length===1)r[0].realWidth=Number(r[0].minWidth||80)+c;else{const u=r.reduce((g,b)=>g+Number(b.minWidth||80),0),h=c/u;let f=0;r.forEach((g,b)=>{if(b===0)return;const y=Math.floor(Number(g.minWidth||80)*h);f+=y,g.realWidth=Number(g.minWidth||80)+y}),r[0].realWidth=Number(r[0].minWidth||80)+c-f}}else this.scrollX.value=!0,r.forEach(function(c){c.realWidth=Number(c.minWidth)});this.bodyWidth.value=Math.max(i,e),this.table.state.resizeState.value.width=this.bodyWidth.value}else s.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),i+=l.realWidth}),this.scrollX.value=i>e,this.bodyWidth.value=i;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(function(c){l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let l=0;a.forEach(function(c){l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);e!==-1&&this.observers.splice(e,1)}notifyObservers(t){this.observers.forEach(i=>{var s,r;switch(t){case"columns":(s=i.state)==null||s.onColumnsChange(this);break;case"scrollable":(r=i.state)==null||r.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:W7}=oa;var _g=Ee({name:"ElTableFilterPanel",components:{ElCheckbox:oa,ElCheckboxGroup:W7,ElScrollbar:xB,ElPopper:kB,ElIcon:Xr,ArrowDown:wv,ArrowUp:Sv},directives:{ClickOutside:WC},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(n){const t=Oe(),{t:e}=dC(),i=t.parent;i.filterPanels.value[n.column.id]||(i.filterPanels.value[n.column.id]=t);const s=ot(!1),r=ot(null),o=wt(()=>n.column&&n.column.filters),a=wt({get:()=>(n.column.filteredValue||[])[0],set:S=>{l.value&&(typeof S!="undefined"&&S!==null?l.value.splice(0,1,S):l.value.splice(0,1))}}),l=wt({get(){return n.column?n.column.filteredValue||[]:[]},set(S){n.column&&n.upDataColumn("filteredValue",S)}}),c=wt(()=>n.column?n.column.filterMultiple:!0),u=S=>S.value===a.value,h=()=>{s.value=!1},f=S=>{S.stopPropagation(),s.value=!s.value},g=()=>{s.value=!1},b=()=>{C(l.value),h()},y=()=>{l.value=[],C(l.value),h()},w=S=>{a.value=S,C(typeof S!="undefined"&&S!==null?l.value:[]),h()},C=S=>{n.store.commit("filterChange",{column:n.column,values:S}),n.store.updateAllSelected()};ve(s,S=>{n.column&&n.upDataColumn("filterOpened",S)},{immediate:!0});const E=wt(()=>{var S;return(S=r.value)==null?void 0:S.popperRef});return{tooltipVisible:s,multiple:c,filteredValue:l,filterValue:a,filters:o,handleConfirm:b,handleReset:y,handleSelect:w,isActive:u,t:e,showFilterPanel:f,hideFilterPanel:g,popperPaneRef:E,tooltip:r,Effect:f1}}});const U7={key:0},q7={class:"el-table-filter__content"},X7={class:"el-table-filter__bottom"},Y7=["disabled"],K7={key:1,class:"el-table-filter__list"},J7=["label","onClick"];function Z7(n,t,e,i,s,r){const o=We("el-checkbox"),a=We("el-checkbox-group"),l=We("el-scrollbar"),c=We("arrow-up"),u=We("arrow-down"),h=We("el-icon"),f=We("el-popper"),g=pc("click-outside");return mt(),ze(f,{ref:"tooltip",visible:n.tooltipVisible,"onUpdate:visible":t[5]||(t[5]=b=>n.tooltipVisible=b),offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,effect:n.Effect.LIGHT,pure:"","manual-mode":"","popper-class":"el-table-filter","append-to-body":""},{default:Je(()=>[n.multiple?(mt(),Lt("div",U7,[ne("div",q7,[ue(l,{"wrap-class":"el-table-filter__wrap"},{default:Je(()=>[ue(a,{modelValue:n.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=b=>n.filteredValue=b),class:"el-table-filter__checkbox-group"},{default:Je(()=>[(mt(!0),Lt(Ze,null,L2(n.filters,b=>(mt(),ze(o,{key:b.value,label:b.value},{default:Je(()=>[Ta(Xn(b.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),ne("div",X7,[ne("button",{class:ln({"is-disabled":n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...b)=>n.handleConfirm&&n.handleConfirm(...b))},Xn(n.t("el.table.confirmFilter")),11,Y7),ne("button",{type:"button",onClick:t[2]||(t[2]=(...b)=>n.handleReset&&n.handleReset(...b))},Xn(n.t("el.table.resetFilter")),1)])])):(mt(),Lt("ul",K7,[ne("li",{class:ln([{"is-active":n.filterValue===void 0||n.filterValue===null},"el-table-filter__list-item"]),onClick:t[3]||(t[3]=b=>n.handleSelect(null))},Xn(n.t("el.table.clearFilter")),3),(mt(!0),Lt(Ze,null,L2(n.filters,b=>(mt(),Lt("li",{key:b.value,class:ln([{"is-active":n.isActive(b)},"el-table-filter__list-item"]),label:b.value,onClick:y=>n.handleSelect(b.value)},Xn(b.text),11,J7))),128))]))]),trigger:Je(()=>[un(ne("span",{class:"el-table__column-filter-trigger el-none-outline",onClick:t[4]||(t[4]=(...b)=>n.showFilterPanel&&n.showFilterPanel(...b))},[ue(h,null,{default:Je(()=>[n.column.filterOpened?(mt(),ze(c,{key:0})):(mt(),ze(u,{key:1}))]),_:1})],512),[[g,n.hideFilterPanel,n.popperPaneRef]])]),_:1},8,["visible","placement","effect"])}_g.render=Z7;_g.__file="packages/components/table/src/filter-panel.vue";function M1(n){const t=Oe();Wh(()=>{e.value.addObserver(t)}),ki(()=>{i(e.value),s(e.value)}),wa(()=>{i(e.value),s(e.value)}),Sa(()=>{e.value.removeObserver(t)});const e=wt(()=>{const r=n.layout;if(!r)throw new Error("Can not find table layout.");return r}),i=r=>{var o;const a=((o=n.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const l=r.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,h=a.length;u<h;u++){const f=a[u],g=f.getAttribute("name"),b=c[g];b&&f.setAttribute("width",b.realWidth||b.width)}},s=r=>{const o=n.vnode.el.querySelectorAll("colgroup > col[name=gutter]");for(let l=0,c=o.length;l<c;l++)o[l].setAttribute("width",r.scrollY.value?r.gutterWidth:"0");const a=n.vnode.el.querySelectorAll("th.gutter");for(let l=0,c=a.length;l<c;l++){const u=a[l];u.style.width=r.scrollY.value?`${r.gutterWidth}px`:"0",u.style.display=r.scrollY.value?"":"none"}};return{tableLayout:e.value,onColumnsChange:i,onScrollableChange:s}}function T1(){return Xt("col",{name:"gutter"})}function Rg(n,t=!1){return Xt("colgroup",{},[...n.map(e=>Xt("col",{name:e.id,key:e.id})),t&&T1()])}function Q7(n,t){const e=Oe(),i=e.parent,s=y=>{y.stopPropagation()},r=(y,w)=>{!w.filters&&w.sortable?b(y,w,!1):w.filterable&&!w.sortable&&s(y),i.emit("header-click",w,y)},o=(y,w)=>{i.emit("header-contextmenu",w,y)},a=ot(null),l=ot(!1),c=ot({}),u=(y,w)=>{if(!kn&&!(w.children&&w.children.length>0)&&a.value&&n.border){l.value=!0;const C=i;t("set-drag-visible",!0);const S=C.vnode.el.getBoundingClientRect().left,T=e.vnode.el.querySelector(`th.${w.id}`),$=T.getBoundingClientRect(),p=$.left-S+30;Hr(T,"noclick"),c.value={startMouseLeft:y.clientX,startLeft:$.right-S,startColumnLeft:$.left-S,tableLeft:S};const A=C.refs.resizeProxy;A.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=H=>{const _=H.clientX-c.value.startMouseLeft,I=c.value.startLeft+_;A.style.left=`${Math.max(p,I)}px`},F=()=>{if(l.value){const{startColumnLeft:H,startLeft:_}=c.value,Y=parseInt(A.style.left,10)-H;w.width=w.realWidth=Y,C.emit("header-dragend",w.width,_-H,w,y),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,a.value=null,c.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",F),document.onselectstart=null,document.ondragstart=null,setTimeout(function(){Vr(T,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",F)}},h=(y,w)=>{if(w.children&&w.children.length>0)return;let C=y.target;for(;C&&C.tagName!=="TH";)C=C.parentNode;if(!(!w||!w.resizable)&&!l.value&&n.border){const E=C.getBoundingClientRect(),S=document.body.style;E.width>12&&E.right-y.pageX<8?(S.cursor="col-resize",Zo(C,"is-sortable")&&(C.style.cursor="col-resize"),a.value=w):l.value||(S.cursor="",Zo(C,"is-sortable")&&(C.style.cursor="pointer"),a.value=null)}},f=()=>{kn||(document.body.style.cursor="")},g=({order:y,sortOrders:w})=>{if(y==="")return w[0];const C=w.indexOf(y||null);return w[C>w.length-2?0:C+1]},b=(y,w,C)=>{y.stopPropagation();const E=w.order===C?null:C||g(w);let S=y.target;for(;S&&S.tagName!=="TH";)S=S.parentNode;if(S&&S.tagName==="TH"&&Zo(S,"noclick")){Vr(S,"noclick");return}if(!w.sortable)return;const T=n.store.states;let $=T.sortProp.value,p;const A=T.sortingColumn.value;(A!==w||A===w&&A.order===null)&&(A&&(A.order=null),T.sortingColumn.value=w,$=w.property),E?p=w.order=E:p=w.order=null,T.sortProp.value=$,T.sortOrder.value=p,i.store.commit("changeSortCondition")};return{handleHeaderClick:r,handleHeaderContextMenu:o,handleMouseDown:u,handleMouseMove:h,handleMouseOut:f,handleSortClick:b,handleFilterClick:s}}function t9(n){const e=Oe().parent,i=e.store.states,s=(c,u)=>{let h=0;for(let g=0;g<c;g++)h+=u[g].colSpan;const f=h+u[c].colSpan-1;return n.fixed==="left"?f>=i.fixedLeafColumnsLength.value:n.fixed==="right"?h<i.columns.value.length-i.rightFixedLeafColumnsLength.value:f<i.fixedLeafColumnsLength.value||h>=i.columns.value.length-i.rightFixedLeafColumnsLength.value};return{getHeaderRowStyle:c=>{const u=e.props.headerRowStyle;return typeof u=="function"?u.call(null,{rowIndex:c}):u},getHeaderRowClass:c=>{const u=[],h=e.props.headerRowClassName;return typeof h=="string"?u.push(h):typeof h=="function"&&u.push(h.call(null,{rowIndex:c})),u.join(" ")},getHeaderCellStyle:(c,u,h,f)=>{const g=e.props.headerCellStyle;return typeof g=="function"?g.call(null,{rowIndex:c,columnIndex:u,row:h,column:f}):g},getHeaderCellClass:(c,u,h,f)=>{const g=[f.id,f.order,f.headerAlign,f.className,f.labelClassName];c===0&&s(u,h)&&g.push("is-hidden"),f.children||g.push("is-leaf"),f.sortable&&g.push("is-sortable");const b=e.props.headerCellClassName;return typeof b=="string"?g.push(b):typeof b=="function"&&g.push(b.call(null,{rowIndex:c,columnIndex:u,row:h,column:f})),g.push("el-table__cell"),g.join(" ")}}}const O1=n=>{const t=[];return n.forEach(e=>{e.children?(t.push(e),t.push.apply(t,O1(e.children))):t.push(e)}),t},e9=n=>{let t=1;const e=(r,o)=>{if(o&&(r.level=o.level+1,t<r.level&&(t=r.level)),r.children){let a=0;r.children.forEach(l=>{e(l,r),a+=l.colSpan}),r.colSpan=a}else r.colSpan=1};n.forEach(r=>{r.level=1,e(r,void 0)});const i=[];for(let r=0;r<t;r++)i.push([]);return O1(n).forEach(r=>{r.children?r.rowSpan=1:r.rowSpan=t-r.level+1,i[r.level-1].push(r)}),i};function n9(n){const e=Oe().parent,i=wt(()=>e9(n.store.states.originColumns.value));return{isGroup:wt(()=>{const o=i.value.length>1;return o&&(e.state.isGroup.value=!0),o}),toggleAllSelection:o=>{o.stopPropagation(),e.store.commit("toggleAllSelection")},columnRows:i}}var i9=Ee({name:"ElTableHeader",components:{ElCheckbox:oa},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n,{emit:t}){const e=Oe(),i=e.parent,s=i.store.states,r=ot({}),{tableLayout:o,onColumnsChange:a,onScrollableChange:l}=M1(i),c=wt(()=>!n.fixed&&o.gutterWidth);ki(()=>{On(()=>{const{prop:k,order:F}=n.defaultSort,H=!0;i.store.commit("sort",{prop:k,order:F,init:H})})});const{handleHeaderClick:u,handleHeaderContextMenu:h,handleMouseDown:f,handleMouseMove:g,handleMouseOut:b,handleSortClick:y,handleFilterClick:w}=Q7(n,t),{getHeaderRowStyle:C,getHeaderRowClass:E,getHeaderCellStyle:S,getHeaderCellClass:T}=t9(n),{isGroup:$,toggleAllSelection:p,columnRows:A}=n9(n);return e.state={onColumnsChange:a,onScrollableChange:l},e.filterPanels=r,{columns:s.columns,filterPanels:r,hasGutter:c,onColumnsChange:a,onScrollableChange:l,columnRows:A,getHeaderRowClass:E,getHeaderRowStyle:C,getHeaderCellClass:T,getHeaderCellStyle:S,handleHeaderClick:u,handleHeaderContextMenu:h,handleMouseDown:f,handleMouseMove:g,handleMouseOut:b,handleSortClick:y,handleFilterClick:w,isGroup:$,toggleAllSelection:p}},render(){return Xt("table",{border:"0",cellpadding:"0",cellspacing:"0",class:"el-table__header"},[Rg(this.columns,this.hasGutter),Xt("thead",{class:{"is-group":this.isGroup,"has-gutter":this.hasGutter}},this.columnRows.map((n,t)=>Xt("tr",{class:this.getHeaderRowClass(t),key:t,style:this.getHeaderRowStyle(t)},n.map((e,i)=>Xt("th",{class:this.getHeaderCellClass(t,i,n,e),colspan:e.colSpan,key:`${e.id}-thead`,rowSpan:e.rowSpan,style:this.getHeaderCellStyle(t,i,n,e),onClick:s=>this.handleHeaderClick(s,e),onContextmenu:s=>this.handleHeaderContextMenu(s,e),onMousedown:s=>this.handleMouseDown(s,e),onMousemove:s=>this.handleMouseMove(s,e),onMouseout:this.handleMouseOut},[Xt("div",{class:["cell",e.filteredValue&&e.filteredValue.length>0?"highlight":"",e.labelClassName]},[e.renderHeader?e.renderHeader({column:e,$index:i,store:this.store,_self:this.$parent}):e.label,e.sortable&&Xt("span",{onClick:s=>this.handleSortClick(s,e),class:"caret-wrapper"},[Xt("i",{onClick:s=>this.handleSortClick(s,e,"ascending"),class:"sort-caret ascending"}),Xt("i",{onClick:s=>this.handleSortClick(s,e,"descending"),class:"sort-caret descending"})]),e.filterable&&Xt(_g,{store:this.$parent.store,placement:e.filterPlacement||"bottom-start",column:e,upDataColumn:(s,r)=>{e[s]=r}})])])))))])}});function s9(n){const e=Oe().parent,i=ot(""),s=ot(Xt("div")),r=(g,b,y)=>{const w=e,C=Ng(g);let E;C&&(E=w1({columns:n.store.states.columns.value},C),E&&w.emit(`cell-${y}`,b,E,C,g)),w.emit(`row-${y}`,b,E,g)},o=(g,b)=>{r(g,b,"dblclick")},a=(g,b)=>{n.store.commit("setCurrentRow",b),r(g,b,"click")},l=(g,b)=>{r(g,b,"contextmenu")},c=Nl(function(g){n.store.commit("setHoverRow",g)},30),u=Nl(function(){n.store.commit("setHoverRow",null)},30);return{handleDoubleClick:o,handleClick:a,handleContextMenu:l,handleMouseEnter:c,handleMouseLeave:u,handleCellMouseEnter:(g,b)=>{const y=e,w=Ng(g);if(w){const $=w1({columns:n.store.states.columns.value},w),p=y.hoverState={cell:w,column:$,row:b};y.emit("cell-mouse-enter",p.row,p.column,p.cell,g)}const C=g.target.querySelector(".cell");if(!(Zo(C,"el-tooltip")&&C.childNodes.length))return;const E=document.createRange();E.setStart(C,0),E.setEnd(C,C.childNodes.length);const S=E.getBoundingClientRect().width,T=(parseInt(Fu(C,"paddingLeft"),10)||0)+(parseInt(Fu(C,"paddingRight"),10)||0);(S+T>C.offsetWidth||C.scrollWidth>C.offsetWidth)&&F7(w,w.innerText||w.textContent,{placement:"top",strategy:"fixed"},b.tooltipEffect)},handleCellMouseLeave:g=>{if(!Ng(g))return;const y=e.hoverState;e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,g)},tooltipContent:i,tooltipTrigger:s}}function r9(n){const e=Oe().parent,i=u=>n.fixed==="left"?u>=n.store.states.fixedLeafColumnsLength.value:n.fixed==="right"?u<n.store.states.columns.value.length-n.store.states.rightFixedLeafColumnsLength.value:u<n.store.states.fixedLeafColumnsLength.value||u>=n.store.states.columns.value.length-n.store.states.rightFixedLeafColumnsLength.value;return{getRowStyle:(u,h)=>{const f=e.props.rowStyle;return typeof f=="function"?f.call(null,{row:u,rowIndex:h}):f||null},getRowClass:(u,h)=>{const f=["el-table__row"];e.props.highlightCurrentRow&&u===n.store.states.currentRow.value&&f.push("current-row"),n.stripe&&h%2==1&&f.push("el-table__row--striped");const g=e.props.rowClassName;return typeof g=="string"?f.push(g):typeof g=="function"&&f.push(g.call(null,{row:u,rowIndex:h})),n.store.states.expandRows.value.indexOf(u)>-1&&f.push("expanded"),f},getCellStyle:(u,h,f,g)=>{const b=e.props.cellStyle;return typeof b=="function"?b.call(null,{rowIndex:u,columnIndex:h,row:f,column:g}):b},getCellClass:(u,h,f,g)=>{const b=[g.id,g.align,g.className];i(h)&&b.push("is-hidden");const y=e.props.cellClassName;return typeof y=="string"?b.push(y):typeof y=="function"&&b.push(y.call(null,{rowIndex:u,columnIndex:h,row:f,column:g})),b.push("el-table__cell"),b.join(" ")},getSpan:(u,h,f,g)=>{let b=1,y=1;const w=e.props.spanMethod;if(typeof w=="function"){const C=w({row:u,column:h,rowIndex:f,columnIndex:g});Array.isArray(C)?(b=C[0],y=C[1]):typeof C=="object"&&(b=C.rowspan,y=C.colspan)}return{rowspan:b,colspan:y}},getColspanRealWidth:(u,h,f)=>{if(h<1)return u[f].realWidth;const g=u.map(({realWidth:b,width:y})=>b||y).slice(f,f+h);return Number(g.reduce((b,y)=>Number(b)+Number(y),-1))},isColumnHidden:i}}function o9(n){const e=Oe().parent,{handleDoubleClick:i,handleClick:s,handleContextMenu:r,handleMouseEnter:o,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:h}=s9(n),{getRowStyle:f,getRowClass:g,getCellStyle:b,getCellClass:y,getSpan:w,getColspanRealWidth:C}=r9(n),E=wt(()=>n.store.states.columns.value.findIndex(({type:A})=>A==="default")),S=(A,k)=>{const F=e.props.rowKey;return F?Nn(A,F):k},T=(A,k,F)=>{const{tooltipEffect:H,store:_}=n,{indent:I,columns:Y}=_.states,nt=g(A,k);let G=!0;return F&&(nt.push(`el-table__row--level-${F.level}`),G=F.display),Xt("tr",{style:[G?null:{display:"none"},f(A,k)],class:nt,key:S(A,k),onDblclick:Q=>i(Q,A),onClick:Q=>s(Q,A),onContextmenu:Q=>r(Q,A),onMouseenter:()=>o(k),onMouseleave:a},Y.value.map((Q,st)=>{const{rowspan:Tt,colspan:Ut}=w(A,Q,k,st);if(!Tt||!Ut)return null;const ht=vn({},Q);ht.realWidth=C(Y.value,Ut,st);const Nt={store:n.store,_self:n.context||e,column:ht,row:A,$index:k};st===E.value&&F&&(Nt.treeNode={indent:F.level*I.value,level:F.level},typeof F.expanded=="boolean"&&(Nt.treeNode.expanded=F.expanded,"loading"in F&&(Nt.treeNode.loading=F.loading),"noLazyChildren"in F&&(Nt.treeNode.noLazyChildren=F.noLazyChildren)));const Ft=`${k},${st}`,Ot=ht.columnKey||ht.rawColumnKey||"",jt=$(st,Q,Nt);return Xt("td",{style:b(k,st,A,Q),class:y(k,st,A,Q),key:`${Ot}${Ft}`,rowspan:Tt,colspan:Ut,onMouseenter:ie=>l(ie,to(vn({},A),{tooltipEffect:H})),onMouseleave:c},[jt])}))},$=(A,k,F)=>k.renderCell(F);return{wrappedRowRender:(A,k)=>{const F=n.store,{isRowExpanded:H,assertRowKey:_}=F,{treeData:I,lazyTreeNodeMap:Y,childrenColumnName:nt,rowKey:G}=F.states;if(F.states.columns.value.some(({type:Q})=>Q==="expand")&&H(A)){const Q=e.renderExpanded,st=T(A,k,void 0);return Q?[[st,Xt("tr",{key:`expanded-row__${st.key}`},[Xt("td",{colspan:F.states.columns.value.length,class:"el-table__cell el-table__expanded-cell"},[Q({row:A,$index:k,store:F})])])]]:(console.error("[Element Error]renderExpanded is required."),st)}else if(Object.keys(I.value).length){_();const Q=Nn(A,G.value);let st=I.value[Q],Tt=null;st&&(Tt={expanded:st.expanded,level:st.level,display:!0},typeof st.lazy=="boolean"&&(typeof st.loaded=="boolean"&&st.loaded&&(Tt.noLazyChildren=!(st.children&&st.children.length)),Tt.loading=st.loading));const Ut=[T(A,k,Tt)];if(st){let ht=0;const Nt=(Ot,jt)=>{!(Ot&&Ot.length&&jt)||Ot.forEach(ie=>{const Mt={display:jt.display&&jt.expanded,level:jt.level+1,expanded:!1,noLazyChildren:!1,loading:!1},qt=Nn(ie,G.value);if(qt==null)throw new Error("For nested data item, row-key is required.");if(st=vn({},I.value[qt]),st&&(Mt.expanded=st.expanded,st.level=st.level||Mt.level,st.display=!!(st.expanded&&Mt.display),typeof st.lazy=="boolean"&&(typeof st.loaded=="boolean"&&st.loaded&&(Mt.noLazyChildren=!(st.children&&st.children.length)),Mt.loading=st.loading)),ht++,Ut.push(T(ie,k+ht,Mt)),st){const ye=Y.value[qt]||ie[nt.value];Nt(ye,st)}})};st.display=!0;const Ft=Y.value[Q]||A[nt.value];Nt(Ft,st)}return Ut}else return T(A,k,void 0)},tooltipContent:u,tooltipTrigger:h}}const a9={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var l9=Ee({name:"ElTableBody",props:a9,setup(n){const t=Oe(),e=t.parent,{wrappedRowRender:i,tooltipContent:s,tooltipTrigger:r}=o9(n),{onColumnsChange:o,onScrollableChange:a}=M1(e);return ve(n.store.states.hoverRow,(l,c)=>{if(!n.store.states.isComplex.value||kn)return;let u=window.requestAnimationFrame;u||(u=h=>window.setTimeout(h,16)),u(()=>{const h=t.vnode.el.querySelectorAll(".el-table__row"),f=h[c],g=h[l];f&&Vr(f,"hover-row"),g&&Hr(g,"hover-row")})}),Sa(()=>{var l;(l=Zu)==null||l()}),wa(()=>{var l;(l=Zu)==null||l()}),{onColumnsChange:o,onScrollableChange:a,wrappedRowRender:i,tooltipContent:s,tooltipTrigger:r}},render(){const n=this.store.states.data.value||[];return Xt("table",{class:"el-table__body",cellspacing:"0",cellpadding:"0",border:"0"},[Rg(this.store.states.columns.value),Xt("tbody",{},[n.reduce((t,e)=>t.concat(this.wrappedRowRender(e,t.length)),[])])])}});function c9(){const e=Oe().parent.store,i=wt(()=>e.states.fixedLeafColumnsLength.value),s=wt(()=>e.states.rightFixedColumns.value.length),r=wt(()=>e.states.columns.value.length),o=wt(()=>e.states.fixedColumns.value.length),a=wt(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:i,rightFixedLeafCount:s,columnsCount:r,leftFixedCount:o,rightFixedCount:a,columns:e.states.columns}}function u9(n){const e=Oe().parent,i=e.store,{leftFixedLeafCount:s,rightFixedLeafCount:r,columnsCount:o,leftFixedCount:a,rightFixedCount:l,columns:c}=c9(),u=wt(()=>!n.fixed&&!e.layout.gutterWidth),h=(g,b,y)=>{if(n.fixed||n.fixed==="left")return g>=s.value;if(n.fixed==="right"){let w=0;for(let C=0;C<g;C++)w+=b[C].colSpan;return w<o.value-r.value}else return!n.fixed&&y.fixed?!0:g<a.value||g>=o.value-l.value};return{hasGutter:u,getRowClasses:(g,b)=>{const y=[g.id,g.align,g.labelClassName];return g.className&&y.push(g.className),h(b,i.states.columns.value,g)&&y.push("is-hidden"),g.children||y.push("is-leaf"),y},columns:c}}var h9=Ee({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{hasGutter:t,getRowClasses:e,columns:i}=u9(n);return{getRowClasses:e,hasGutter:t,columns:i}},render(){let n=[];return this.summaryMethod?n=this.summaryMethod({columns:this.columns,data:this.store.states.data.value}):this.columns.forEach((t,e)=>{if(e===0){n[e]=this.sumText;return}const i=this.store.states.data.value.map(a=>Number(a[t.property])),s=[];let r=!0;i.forEach(a=>{if(!isNaN(a)){r=!1;const l=`${a}`.split(".")[1];s.push(l?l.length:0)}});const o=Math.max.apply(null,s);r?n[e]="":n[e]=i.reduce((a,l)=>{const c=Number(l);return isNaN(c)?a:parseFloat((a+l).toFixed(Math.min(o,20)))},0)}),Xt("table",{class:"el-table__footer",cellspacing:"0",cellpadding:"0",border:"0"},[Rg(this.columns,this.hasGutter),Xt("tbody",{class:[{"has-gutter":this.hasGutter}]},[Xt("tr",{},[...this.columns.map((t,e)=>Xt("td",{key:e,colspan:t.colSpan,rowspan:t.rowSpan,class:[...this.getRowClasses(t,e),"el-table__cell"]},[Xt("div",{class:["cell",t.labelClassName]},[n[e]])])),this.hasGutter&&T1()])])])}});function d9(n){return{setCurrentRow:c=>{n.commit("setCurrentRow",c)},toggleRowSelection:(c,u)=>{n.toggleRowSelection(c,u,!1),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:c=>{n.clearFilter(c)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(c,u)=>{n.toggleRowExpansionAdapter(c,u)},clearSort:()=>{n.clearSort()},sort:(c,u)=>{n.commit("sort",{prop:c,order:u})}}}function f9(n,t,e,i){const s=ot(!1),r=ot(null),o=ot(!1),a=_=>{o.value=_},l=ot({width:null,height:null}),c=ot(!1);Na(()=>{t.setHeight(n.height)}),Na(()=>{t.setMaxHeight(n.maxHeight)}),ve(()=>[n.currentRowKey,e.states.rowKey],([_,I])=>{!Le(I)||e.setCurrentRowKey(`${_}`)},{immediate:!0}),ve(()=>n.data,_=>{i.store.commit("setData",_)},{immediate:!0,deep:!0}),Na(()=>{n.expandRowKeys&&e.setExpandRowKeysAdapter(n.expandRowKeys)});const u=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},h=(_,I)=>{const{pixelX:Y,pixelY:nt}=I;Math.abs(Y)>=Math.abs(nt)&&(i.refs.bodyWrapper.scrollLeft+=I.pixelX/5)},f=wt(()=>n.height||n.maxHeight||e.states.fixedColumns.value.length>0||e.states.rightFixedColumns.value.length>0),g=()=>{f.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(w)};ki(async()=>{y("is-scrolling-left"),e.updateColumns(),await On(),C(),requestAnimationFrame(g),l.value={width:i.vnode.el.offsetWidth,height:i.vnode.el.offsetHeight},e.states.columns.value.forEach(_=>{_.filteredValue&&_.filteredValue.length&&i.store.commit("filterChange",{column:_,values:_.filteredValue,silent:!0})}),i.$ready=!0});const b=(_,I)=>{if(!_)return;const Y=Array.from(_.classList).filter(nt=>!nt.startsWith("is-scrolling-"));Y.push(t.scrollX.value?I:"is-scrolling-none"),_.className=Y.join(" ")},y=_=>{const{bodyWrapper:I}=i.refs;b(I,_)},w=XB(function(){if(!i.refs.bodyWrapper)return;const{scrollLeft:_,scrollTop:I,offsetWidth:Y,scrollWidth:nt}=i.refs.bodyWrapper,{headerWrapper:G,footerWrapper:q,fixedBodyWrapper:Q,rightFixedBodyWrapper:st}=i.refs;G&&(G.scrollLeft=_),q&&(q.scrollLeft=_),Q&&(Q.scrollTop=I),st&&(st.scrollTop=I);const Tt=nt-Y-1;_>=Tt?y("is-scrolling-right"):y(_===0?"is-scrolling-left":"is-scrolling-middle")},10),C=()=>{i.refs.bodyWrapper.addEventListener("scroll",w,{passive:!0}),n.fit?hz(i.vnode.el,S):Bi(window,"resize",g)};Sa(()=>{E()});const E=()=>{var _;(_=i.refs.bodyWrapper)==null||_.removeEventListener("scroll",w,!0),n.fit?dz(i.vnode.el,S):El(window,"resize",g)},S=()=>{if(!i.$ready)return;let _=!1;const I=i.vnode.el,{width:Y,height:nt}=l.value,G=I.offsetWidth;Y!==G&&(_=!0);const q=I.offsetHeight;(n.height||f.value)&&nt!==q&&(_=!0),_&&(l.value={width:G,height:q},g())},T=Br(),$=wt(()=>{const{bodyWidth:_,scrollY:I,gutterWidth:Y}=t;return _.value?`${_.value-(I.value?Y:0)}px`:""}),p=wt(()=>{const _=t.headerHeight.value||0,I=t.bodyHeight.value,Y=t.footerHeight.value||0;if(n.height)return{height:I?`${I}px`:""};if(n.maxHeight){const nt=Fg(n.maxHeight);if(typeof nt=="number")return{"max-height":`${nt-Y-(n.showHeader?_:0)}px`}}return{}}),A=wt(()=>{if(n.data&&n.data.length)return null;let _="100%";return t.appendHeight.value&&(_=`calc(100% - ${t.appendHeight.value}px)`),{width:$.value,height:_}}),k=(_,I)=>{const Y=i.refs.bodyWrapper;if(Math.abs(I.spinY)>0){const nt=Y.scrollTop;I.pixelY<0&&nt!==0&&_.preventDefault(),I.pixelY>0&&Y.scrollHeight-Y.clientHeight>nt&&_.preventDefault(),Y.scrollTop+=Math.ceil(I.pixelY/5)}else Y.scrollLeft+=Math.ceil(I.pixelX/5)},F=wt(()=>n.maxHeight?n.showSummary?{bottom:0}:{bottom:t.scrollX.value&&n.data.length?`${t.gutterWidth}px`:""}:n.showSummary?{height:t.tableHeight.value?`${t.tableHeight.value}px`:""}:{height:t.viewportHeight.value?`${t.viewportHeight.value}px`:""}),H=wt(()=>{if(n.height)return{height:t.fixedBodyHeight.value?`${t.fixedBodyHeight.value}px`:""};if(n.maxHeight){let _=Fg(n.maxHeight);if(typeof _=="number")return _=t.scrollX.value?_-t.gutterWidth:_,n.showHeader&&(_-=t.headerHeight.value),_-=t.footerHeight.value,{"max-height":`${_}px`}}return{}});return{isHidden:s,renderExpanded:r,setDragVisible:a,isGroup:c,handleMouseLeave:u,handleHeaderFooterMousewheel:h,tableSize:T,bodyHeight:p,emptyBlockStyle:A,handleFixedMousewheel:k,fixedHeight:F,fixedBodyHeight:H,resizeProxyVisible:o,bodyWidth:$,resizeState:l,doLayout:g}}var g9={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""}};let p9=1;var jg=Ee({name:"ElTable",directives:{Mousewheel:cz},components:{TableHeader:i9,TableBody:l9,TableFooter:h9},props:g9,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(n){const{t}=dC(),e=Oe(),i=H7(e,n);e.store=i;const s=new G7({store:e.store,table:e,fit:n.fit,showHeader:n.showHeader});e.layout=s;const r=wt(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,toggleRowSelection:a,clearSelection:l,clearFilter:c,toggleAllSelection:u,toggleRowExpansion:h,clearSort:f,sort:g}=d9(i),{isHidden:b,renderExpanded:y,setDragVisible:w,isGroup:C,handleMouseLeave:E,handleHeaderFooterMousewheel:S,tableSize:T,bodyHeight:$,emptyBlockStyle:p,handleFixedMousewheel:A,fixedHeight:k,fixedBodyHeight:F,resizeProxyVisible:H,bodyWidth:_,resizeState:I,doLayout:Y}=f9(n,s,i,e),nt=Nl(Y,50),G=`el-table_${p9++}`;return e.tableId=G,e.state={isGroup:C,resizeState:I,doLayout:Y,debouncedUpdateLayout:nt},{layout:s,store:i,handleHeaderFooterMousewheel:S,handleMouseLeave:E,tableId:G,tableSize:T,isHidden:b,isEmpty:r,renderExpanded:y,resizeProxyVisible:H,resizeState:I,isGroup:C,bodyWidth:_,bodyHeight:$,emptyBlockStyle:p,debouncedUpdateLayout:nt,handleFixedMousewheel:A,fixedHeight:k,fixedBodyHeight:F,setCurrentRow:o,toggleRowSelection:a,clearSelection:l,clearFilter:c,toggleAllSelection:u,toggleRowExpansion:h,clearSort:f,doLayout:Y,sort:g,t,setDragVisible:w,context:e}}});const m9={ref:"hiddenColumns",class:"hidden-columns"},b9={key:0,ref:"headerWrapper",class:"el-table__header-wrapper"},y9={class:"el-table__empty-text"},v9={key:1,ref:"appendWrapper",class:"el-table__append-wrapper"},C9={key:1,ref:"footerWrapper",class:"el-table__footer-wrapper"},w9={key:0,ref:"fixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},x9={key:1,ref:"fixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},S9={key:0,ref:"rightFixedHeaderWrapper",class:"el-table__fixed-header-wrapper"},E9={key:1,ref:"rightFixedFooterWrapper",class:"el-table__fixed-footer-wrapper"},A9={ref:"resizeProxy",class:"el-table__column-resize-proxy"};function M9(n,t,e,i,s,r){const o=We("table-header"),a=We("table-body"),l=We("table-footer"),c=pc("mousewheel");return mt(),Lt("div",{class:ln([{"el-table--fit":n.fit,"el-table--striped":n.stripe,"el-table--border":n.border||n.isGroup,"el-table--hidden":n.isHidden,"el-table--group":n.isGroup,"el-table--fluid-height":n.maxHeight,"el-table--scrollable-x":n.layout.scrollX.value,"el-table--scrollable-y":n.layout.scrollY.value,"el-table--enable-row-hover":!n.store.states.isComplex.value,"el-table--enable-row-transition":(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100},n.tableSize?`el-table--${n.tableSize}`:"",n.className,"el-table"]),style:Me(n.style),onMouseleave:t[0]||(t[0]=u=>n.handleMouseLeave())},[ne("div",m9,[hn(n.$slots,"default")],512),n.showHeader?un((mt(),Lt("div",b9,[ue(o,{ref:"tableHeader",border:n.border,"default-sort":n.defaultSort,store:n.store,style:Me({width:n.layout.bodyWidth.value?n.layout.bodyWidth.value+"px":""}),onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","style","onSetDragVisible"])],512)),[[c,n.handleHeaderFooterMousewheel]]):Zt("v-if",!0),ne("div",{ref:"bodyWrapper",style:Me([n.bodyHeight]),class:"el-table__body-wrapper"},[ue(a,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"row-style":n.rowStyle,store:n.store,stripe:n.stripe,style:Me({width:n.bodyWidth})},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),n.isEmpty?(mt(),Lt("div",{key:0,ref:"emptyBlock",style:Me(n.emptyBlockStyle),class:"el-table__empty-block"},[ne("span",y9,[hn(n.$slots,"empty",{},()=>[Ta(Xn(n.emptyText||n.t("el.table.emptyText")),1)])])],4)):Zt("v-if",!0),n.$slots.append?(mt(),Lt("div",v9,[hn(n.$slots,"append")],512)):Zt("v-if",!0)],4),n.showSummary?un((mt(),Lt("div",C9,[ue(l,{border:n.border,"default-sort":n.defaultSort,store:n.store,style:Me({width:n.layout.bodyWidth.value?n.layout.bodyWidth.value+"px":""}),"sum-text":n.sumText||n.t("el.table.sumText"),"summary-method":n.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],512)),[[Ls,!n.isEmpty],[c,n.handleHeaderFooterMousewheel]]):Zt("v-if",!0),n.store.states.fixedColumns.value.length>0?un((mt(),Lt("div",{key:2,ref:"fixedWrapper",style:Me([{width:n.layout.fixedWidth.value?n.layout.fixedWidth.value+"px":""},n.fixedHeight]),class:"el-table__fixed"},[n.showHeader?(mt(),Lt("div",w9,[ue(o,{ref:"fixedTableHeader",border:n.border,store:n.store,style:Me({width:n.bodyWidth}),fixed:"left",onSetDragVisible:n.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Zt("v-if",!0),ne("div",{ref:"fixedBodyWrapper",style:Me([{top:n.layout.headerHeight.value+"px"},n.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[ue(a,{highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"row-style":n.rowStyle,store:n.store,stripe:n.stripe,style:Me({width:n.bodyWidth}),fixed:"left"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),n.$slots.append?(mt(),Lt("div",{key:0,style:Me({height:n.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):Zt("v-if",!0)],4),n.showSummary?un((mt(),Lt("div",x9,[ue(l,{border:n.border,store:n.store,style:Me({width:n.bodyWidth}),"sum-text":n.sumText||n.t("el.table.sumText"),"summary-method":n.summaryMethod,fixed:"left"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Ls,!n.isEmpty]]):Zt("v-if",!0)],4)),[[c,n.handleFixedMousewheel]]):Zt("v-if",!0),n.store.states.rightFixedColumns.value.length>0?un((mt(),Lt("div",{key:3,ref:"rightFixedWrapper",style:Me([{width:n.layout.rightFixedWidth.value?n.layout.rightFixedWidth.value+"px":"",right:n.layout.scrollY.value?(n.border?n.layout.gutterWidth:n.layout.gutterWidth||0)+"px":""},n.fixedHeight]),class:"el-table__fixed-right"},[n.showHeader?(mt(),Lt("div",S9,[ue(o,{ref:"rightFixedTableHeader",border:n.border,store:n.store,style:Me({width:n.bodyWidth}),fixed:"right",onSetDragVisible:n.setDragVisible},null,8,["border","store","style","onSetDragVisible"])],512)):Zt("v-if",!0),ne("div",{ref:"rightFixedBodyWrapper",style:Me([{top:n.layout.headerHeight.value+"px"},n.fixedBodyHeight]),class:"el-table__fixed-body-wrapper"},[ue(a,{highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"row-style":n.rowStyle,store:n.store,stripe:n.stripe,style:Me({width:n.bodyWidth}),fixed:"right"},null,8,["highlight","row-class-name","tooltip-effect","row-style","store","stripe","style"]),n.$slots.append?(mt(),Lt("div",{key:0,style:Me({height:n.layout.appendHeight.value+"px"}),class:"el-table__append-gutter"},null,4)):Zt("v-if",!0)],4),n.showSummary?un((mt(),Lt("div",E9,[ue(l,{border:n.border,store:n.store,style:Me({width:n.bodyWidth}),"sum-text":n.sumText||n.t("el.table.sumText"),"summary-method":n.summaryMethod,fixed:"right"},null,8,["border","store","style","sum-text","summary-method"])],512)),[[Ls,!n.isEmpty]]):Zt("v-if",!0)],4)),[[c,n.handleFixedMousewheel]]):Zt("v-if",!0),n.store.states.rightFixedColumns.value.length>0?(mt(),Lt("div",{key:4,ref:"rightFixedPatch",style:Me({width:n.layout.scrollY.value?n.layout.gutterWidth+"px":"0",height:n.layout.headerHeight.value+"px"}),class:"el-table__fixed-right-patch"},null,4)):Zt("v-if",!0),un(ne("div",A9,null,512),[[Ls,n.resizeProxyVisible]])],38)}jg.render=M9;jg.__file="packages/components/table/src/table.vue";const T9={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:"",className:"el-table-column--selection"},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},O9={selection:{renderHeader({store:n}){function t(){return n.states.data.value&&n.states.data.value.length===0}return Xt(oa,{disabled:t(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value})},renderCell({row:n,column:t,store:e,$index:i}){return Xt(oa,{disabled:t.selectable?!t.selectable.call(null,n,i):!1,size:e.states.tableSize.value,onChange:()=>{e.commit("rowSelectedChanged",n)},onClick:s=>s.stopPropagation(),modelValue:e.isSelected(n)})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:t}){let e=t+1;const i=n.index;return typeof i=="number"?e=t+i:typeof i=="function"&&(e=i(t)),Xt("div",{},[e])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:t}){const e=["el-table__expand-icon"];return t.states.expandRows.value.indexOf(n)>-1&&e.push("el-table__expand-icon--expanded"),Xt("div",{class:e,onClick:function(s){s.stopPropagation(),t.toggleRowExpansion(n)}},{default:()=>[Xt(Xr,null,{default:()=>[Xt(xv)]})]})},sortable:!1,resizable:!1,className:"el-table__expand-column"}};function P9({row:n,column:t,$index:e}){var i;const s=t.property,r=s&&TR(n,s,!1).v;return t&&t.formatter?t.formatter(n,t,r,e):((i=r==null?void 0:r.toString)==null?void 0:i.call(r))||""}function $9({row:n,treeNode:t,store:e}){if(!t)return null;const i=[],s=function(r){r.stopPropagation(),e.loadOrToggle(n)};if(t.indent&&i.push(Xt("span",{class:"el-table__indent",style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const r=["el-table__expand-icon",t.expanded?"el-table__expand-icon--expanded":""];let o=xv;t.loading&&(o=zf),i.push(Xt("div",{class:r,onClick:s},{default:()=>[Xt(Xr,{class:{"is-loading":t.loading}},{default:()=>[Xt(o)]})]}))}else i.push(Xt("span",{class:"el-table__placeholder"}));return i}function D9(n,t){const e=Oe();return{registerComplexWatchers:()=>{const r=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},a=r.reduce((l,c)=>(l[c]=c,l),o);Object.keys(a).forEach(l=>{const c=o[l];ce(t,c)&&ve(()=>t[c],u=>{let h=u;c==="width"&&l==="realWidth"&&(h=Lg(u)),c==="minWidth"&&l==="realMinWidth"&&(h=x1(u)),e.columnConfig.value[c]=h,e.columnConfig.value[l]=h;const f=c==="fixed";n.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const r=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=r.reduce((l,c)=>(l[c]=c,l),o);Object.keys(a).forEach(l=>{const c=o[l];ce(t,c)&&ve(()=>t[c],u=>{e.columnConfig.value[l]=u})})}}}function k9(n,t,e){const i=Oe(),s=ot(""),r=ot(!1),o=ot(),a=ot();Na(()=>{o.value=n.align?`is-${n.align}`:null,o.value}),Na(()=>{a.value=n.headerAlign?`is-${n.headerAlign}`:o.value,a.value});const l=wt(()=>{let C=i.vnode.vParent||i.parent;for(;C&&!C.tableId&&!C.columnId;)C=C.vnode.vParent||C.parent;return C}),c=ot(Lg(n.width)),u=ot(x1(n.minWidth)),h=C=>(c.value&&(C.width=c.value),u.value&&(C.minWidth=u.value),C.minWidth||(C.minWidth=80),C.realWidth=Number(C.width===void 0?C.minWidth:C.width),C),f=C=>{const E=C.type,S=O9[E]||{};return Object.keys(S).forEach(T=>{const $=S[T];$!==void 0&&(C[T]=T==="className"?`${C[T]} ${$}`:$)}),C},g=C=>{C instanceof Array?C.forEach(S=>E(S)):E(C);function E(S){var T;((T=S==null?void 0:S.type)==null?void 0:T.name)==="ElTableColumn"&&(S.vParent=i)}};return{columnId:s,realAlign:o,isSubColumn:r,realHeaderAlign:a,columnOrTableParent:l,setColumnWidth:h,setColumnForcedProps:f,setColumnRenders:C=>{n.renderHeader||C.type!=="selection"&&(C.renderHeader=S=>{i.columnConfig.value.label;const T=t.header;return T?T(S):C.label});let E=C.renderCell;return C.type==="expand"?(C.renderCell=S=>Xt("div",{class:"cell"},[E(S)]),e.value.renderExpanded=S=>t.default?t.default(S):t.default):(E=E||P9,C.renderCell=S=>{let T=null;t.default?T=t.default(S):T=E(S);const $=$9(S),p={class:"cell",style:{}};return C.showOverflowTooltip&&(p.class+=" el-tooltip",p.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),g(T),Xt("div",p,[$,T])}),C},getPropsData:(...C)=>C.reduce((E,S)=>(Array.isArray(S)&&S.forEach(T=>{E[T]=n[T]}),E),{}),getColumnElIndex:(C,E)=>[].indexOf.call(C,E)}}var N9={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(t=>["ascending","descending",null].indexOf(t)>-1)}};let L9=1;var P1=Ee({name:"ElTableColumn",components:{ElCheckbox:oa},props:N9,setup(n,{slots:t}){const e=Oe(),i=ot({}),s=wt(()=>{let E=e.parent;for(;E&&!E.tableId;)E=E.parent;return E}),{registerNormalWatchers:r,registerComplexWatchers:o}=D9(s,n),{columnId:a,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:f,setColumnRenders:g,getPropsData:b,getColumnElIndex:y,realAlign:w}=k9(n,t,s),C=u.value;a.value=`${C.tableId||C.columnId}_column_${L9++}`,Wh(()=>{l.value=s.value!==C;const E=n.type||"default",S=n.sortable===""?!0:n.sortable,T=to(vn({},T9[E]),{id:a.value,type:E,property:n.prop||n.property,align:w,headerAlign:c,showOverflowTooltip:n.showOverflowTooltip||n.showTooltipWhenOverflow,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,filterOpened:!1,sortable:S,index:n.index,rawColumnKey:e.vnode.key});let F=b(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);F=k7(T,F),F=N7(g,h,f)(F),i.value=F,r(),o()}),ki(()=>{var E;const S=u.value,T=l.value?S.vnode.el.children:(E=S.refs.hiddenColumns)==null?void 0:E.children,$=()=>y(T||[],e.vnode.el);i.value.getColumnIndex=$,$()>-1&&s.value.store.commit("insertColumn",i.value,l.value?S.columnConfig.value:null)}),xa(()=>{s.value.store.commit("removeColumn",i.value,l.value?C.columnConfig.value:null)}),e.columnId=a.value,e.columnConfig=i},render(){var n,t,e;let i=[];try{const s=(t=(n=this.$slots).default)==null?void 0:t.call(n,{row:{},column:{},$index:-1});if(s instanceof Array)for(const r of s)((e=r.type)==null?void 0:e.name)==="ElTableColumn"||r.shapeFlag&2?i.push(r):r.type===Ze&&r.children instanceof Array&&i.push(...r.children)}catch{i=[]}return Xt("div",i)}});const q9=Zs(jg,{TableColumn:P1}),X9=qu(P1);export{gb as A,cn as B,xa as C,uc as D,G9 as E,Ze as F,pe as G,un as H,Ls as I,Ma as J,On as K,jn as L,Xr as M,I9 as N,iF as O,q9 as P,X9 as Q,H9 as R,Mu as S,O2 as T,_9 as a,ue as b,qe as c,Ee as d,ot as e,R9 as f,yx as g,z9 as h,wt as i,We as j,Ta as k,V9 as l,W9 as m,Xt as n,ki as o,sb as p,U9 as q,j9 as r,B9 as s,fB as t,ur as u,xB as v,ve as w,Lt as x,Le as y,mt as z};
