function cc(i,t){const e=Object.create(null),n=i.split(",");for(let s=0;s<n.length;s++)e[n[s]]=!0;return t?s=>!!e[s.toLowerCase()]:s=>!!e[s]}const Hb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gb=cc(Hb);function Mf(i){return!!i||i===""}function Ys(i){if(Bt(i)){const t={};for(let e=0;e<i.length;e++){const n=i[e],s=Ie(n)?Wb(n):Ys(n);if(s)for(const r in s)t[r]=s[r]}return t}else{if(Ie(i))return i;if(Ue(i))return i}}const Ub=/;(?![^(]*\))/g,qb=/:(.+)/;function Wb(i){const t={};return i.split(Ub).forEach(e=>{if(e){const n=e.split(qb);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Ks(i){let t="";if(Ie(i))t=i;else if(Bt(i))for(let e=0;e<i.length;e++){const n=Ks(i[e]);n&&(t+=n+" ")}else if(Ue(i))for(const e in i)i[e]&&(t+=e+" ");return t.trim()}const ge={},Js=[],qn=()=>{},Xb=()=>!1,Yb=/^on[^a-z]/,ga=i=>Yb.test(i),hc=i=>i.startsWith("onUpdate:"),Je=Object.assign,uc=(i,t)=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)},Kb=Object.prototype.hasOwnProperty,ne=(i,t)=>Kb.call(i,t),Bt=Array.isArray,to=i=>pa(i)==="[object Map]",Jb=i=>pa(i)==="[object Set]",_t=i=>typeof i=="function",Ie=i=>typeof i=="string",fc=i=>typeof i=="symbol",Ue=i=>i!==null&&typeof i=="object",Tf=i=>Ue(i)&&_t(i.then)&&_t(i.catch),Zb=Object.prototype.toString,pa=i=>Zb.call(i),Qb=i=>pa(i).slice(8,-1),ty=i=>pa(i)==="[object Object]",dc=i=>Ie(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,ma=cc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ba=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},ey=/-(\w)/g,ei=ba(i=>i.replace(ey,(t,e)=>e?e.toUpperCase():"")),ny=/\B([A-Z])/g,Zs=ba(i=>i.replace(ny,"-$1").toLowerCase()),ya=ba(i=>i.charAt(0).toUpperCase()+i.slice(1)),gc=ba(i=>i?`on${ya(i)}`:""),eo=(i,t)=>!Object.is(i,t),pc=(i,t)=>{for(let e=0;e<i.length;e++)i[e](t)},Ca=(i,t,e)=>{Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value:e})},Of=i=>{const t=parseFloat(i);return isNaN(t)?i:t};let Pf;const iy=()=>Pf||(Pf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ni;const va=[];class sy{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&ni&&(this.parent=ni,this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}run(t){if(this.active)try{return this.on(),t()}finally{this.off()}}on(){this.active&&(va.push(this),ni=this)}off(){this.active&&(va.pop(),ni=va[va.length-1])}stop(t){if(this.active){if(this.effects.forEach(e=>e.stop()),this.cleanups.forEach(e=>e()),this.scopes&&this.scopes.forEach(e=>e.stop(!0)),this.parent&&!t){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function ry(i,t){t=t||ni,t&&t.active&&t.effects.push(i)}function oy(){return ni}function ay(i){ni&&ni.cleanups.push(i)}const mc=i=>{const t=new Set(i);return t.w=0,t.n=0,t},Df=i=>(i.w&Fi)>0,kf=i=>(i.n&Fi)>0,ly=({deps:i})=>{if(i.length)for(let t=0;t<i.length;t++)i[t].w|=Fi},cy=i=>{const{deps:t}=i;if(t.length){let e=0;for(let n=0;n<t.length;n++){const s=t[n];Df(s)&&!kf(s)?s.delete(i):t[e++]=s,s.w&=~Fi,s.n&=~Fi}t.length=e}},bc=new WeakMap;let no=0,Fi=1;const yc=30,io=[];let fs;const ds=Symbol(""),Cc=Symbol("");class vc{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],ry(this,n)}run(){if(!this.active)return this.fn();if(!io.includes(this))try{return io.push(fs=this),hy(),Fi=1<<++no,no<=yc?ly(this):Nf(this),this.fn()}finally{no<=yc&&cy(this),Fi=1<<--no,ji(),io.pop();const t=io.length;fs=t>0?io[t-1]:void 0}}stop(){this.active&&(Nf(this),this.onStop&&this.onStop(),this.active=!1)}}function Nf(i){const{deps:t}=i;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(i);t.length=0}}let Qs=!0;const xc=[];function gs(){xc.push(Qs),Qs=!1}function hy(){xc.push(Qs),Qs=!0}function ji(){const i=xc.pop();Qs=i===void 0?!0:i}function An(i,t,e){if(!$f())return;let n=bc.get(i);n||bc.set(i,n=new Map);let s=n.get(e);s||n.set(e,s=mc()),Lf(s)}function $f(){return Qs&&fs!==void 0}function Lf(i,t){let e=!1;no<=yc?kf(i)||(i.n|=Fi,e=!Df(i)):e=!i.has(fs),e&&(i.add(fs),fs.deps.push(i))}function mi(i,t,e,n,s,r){const o=bc.get(i);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&Bt(i))o.forEach((l,c)=>{(c==="length"||c>=n)&&a.push(l)});else switch(e!==void 0&&a.push(o.get(e)),t){case"add":Bt(i)?dc(e)&&a.push(o.get("length")):(a.push(o.get(ds)),to(i)&&a.push(o.get(Cc)));break;case"delete":Bt(i)||(a.push(o.get(ds)),to(i)&&a.push(o.get(Cc)));break;case"set":to(i)&&a.push(o.get(ds));break}if(a.length===1)a[0]&&wc(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);wc(mc(l))}}function wc(i,t){for(const e of Bt(i)?i:[...i])(e!==fs||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const uy=cc("__proto__,__v_isRef,__isVue"),Ff=new Set(Object.getOwnPropertyNames(Symbol).map(i=>Symbol[i]).filter(fc)),fy=Sc(),dy=Sc(!1,!0),gy=Sc(!0),jf=py();function py(){const i={};return["includes","indexOf","lastIndexOf"].forEach(t=>{i[t]=function(...e){const n=ee(this);for(let r=0,o=this.length;r<o;r++)An(n,"get",r+"");const s=n[t](...e);return s===-1||s===!1?n[t](...e.map(ee)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{i[t]=function(...e){gs();const n=ee(this)[t].apply(this,e);return ji(),n}}),i}function Sc(i=!1,t=!1){return function(n,s,r){if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_raw"&&r===(i?t?ky:Uf:t?Gf:Hf).get(n))return n;const o=Bt(n);if(!i&&o&&ne(jf,s))return Reflect.get(jf,s,r);const a=Reflect.get(n,s,r);return(fc(s)?Ff.has(s):uy(s))||(i||An(n,"get",s),t)?a:Ze(a)?!o||!dc(s)?a.value:a:Ue(a)?i?qf(a):Ta(a):a}}const my=If(),by=If(!0);function If(i=!1){return function(e,n,s,r){let o=e[n];if(!i&&!Tc(s)&&(s=ee(s),o=ee(o),!Bt(e)&&Ze(o)&&!Ze(s)))return o.value=s,!0;const a=Bt(e)&&dc(n)?Number(n)<e.length:ne(e,n),l=Reflect.set(e,n,s,r);return e===ee(r)&&(a?eo(s,o)&&mi(e,"set",n,s):mi(e,"add",n,s)),l}}function yy(i,t){const e=ne(i,t);i[t];const n=Reflect.deleteProperty(i,t);return n&&e&&mi(i,"delete",t,void 0),n}function Cy(i,t){const e=Reflect.has(i,t);return(!fc(t)||!Ff.has(t))&&An(i,"has",t),e}function vy(i){return An(i,"iterate",Bt(i)?"length":ds),Reflect.ownKeys(i)}const zf={get:fy,set:my,deleteProperty:yy,has:Cy,ownKeys:vy},xy={get:gy,set(i,t){return!0},deleteProperty(i,t){return!0}},wy=Je({},zf,{get:dy,set:by}),Ec=i=>i,xa=i=>Reflect.getPrototypeOf(i);function wa(i,t,e=!1,n=!1){i=i.__v_raw;const s=ee(i),r=ee(t);t!==r&&!e&&An(s,"get",t),!e&&An(s,"get",r);const{has:o}=xa(s),a=n?Ec:e?Oc:so;if(o.call(s,t))return a(i.get(t));if(o.call(s,r))return a(i.get(r));i!==s&&i.get(t)}function Sa(i,t=!1){const e=this.__v_raw,n=ee(e),s=ee(i);return i!==s&&!t&&An(n,"has",i),!t&&An(n,"has",s),i===s?e.has(i):e.has(i)||e.has(s)}function Ea(i,t=!1){return i=i.__v_raw,!t&&An(ee(i),"iterate",ds),Reflect.get(i,"size",i)}function Rf(i){i=ee(i);const t=ee(this);return xa(t).has.call(t,i)||(t.add(i),mi(t,"add",i,i)),this}function Bf(i,t){t=ee(t);const e=ee(this),{has:n,get:s}=xa(e);let r=n.call(e,i);r||(i=ee(i),r=n.call(e,i));const o=s.call(e,i);return e.set(i,t),r?eo(t,o)&&mi(e,"set",i,t):mi(e,"add",i,t),this}function _f(i){const t=ee(this),{has:e,get:n}=xa(t);let s=e.call(t,i);s||(i=ee(i),s=e.call(t,i)),n&&n.call(t,i);const r=t.delete(i);return s&&mi(t,"delete",i,void 0),r}function Vf(){const i=ee(this),t=i.size!==0,e=i.clear();return t&&mi(i,"clear",void 0,void 0),e}function Aa(i,t){return function(n,s){const r=this,o=r.__v_raw,a=ee(o),l=t?Ec:i?Oc:so;return!i&&An(a,"iterate",ds),o.forEach((c,h)=>n.call(s,l(c),l(h),r))}}function Ma(i,t,e){return function(...n){const s=this.__v_raw,r=ee(s),o=to(r),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=s[i](...n),h=e?Ec:t?Oc:so;return!t&&An(r,"iterate",l?Cc:ds),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:a?[h(f[0]),h(f[1])]:h(f),done:d}},[Symbol.iterator](){return this}}}}function Ii(i){return function(...t){return i==="delete"?!1:this}}function Sy(){const i={get(r){return wa(this,r)},get size(){return Ea(this)},has:Sa,add:Rf,set:Bf,delete:_f,clear:Vf,forEach:Aa(!1,!1)},t={get(r){return wa(this,r,!1,!0)},get size(){return Ea(this)},has:Sa,add:Rf,set:Bf,delete:_f,clear:Vf,forEach:Aa(!1,!0)},e={get(r){return wa(this,r,!0)},get size(){return Ea(this,!0)},has(r){return Sa.call(this,r,!0)},add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear"),forEach:Aa(!0,!1)},n={get(r){return wa(this,r,!0,!0)},get size(){return Ea(this,!0)},has(r){return Sa.call(this,r,!0)},add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear"),forEach:Aa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Ma(r,!1,!1),e[r]=Ma(r,!0,!1),t[r]=Ma(r,!1,!0),n[r]=Ma(r,!0,!0)}),[i,e,t,n]}const[Ey,Ay,My,Ty]=Sy();function Ac(i,t){const e=t?i?Ty:My:i?Ay:Ey;return(n,s,r)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?n:Reflect.get(ne(e,s)&&s in n?e:n,s,r)}const Oy={get:Ac(!1,!1)},Py={get:Ac(!1,!0)},Dy={get:Ac(!0,!1)},Hf=new WeakMap,Gf=new WeakMap,Uf=new WeakMap,ky=new WeakMap;function Ny(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $y(i){return i.__v_skip||!Object.isExtensible(i)?0:Ny(Qb(i))}function Ta(i){return i&&i.__v_isReadonly?i:Mc(i,!1,zf,Oy,Hf)}function Ly(i){return Mc(i,!1,wy,Py,Gf)}function qf(i){return Mc(i,!0,xy,Dy,Uf)}function Mc(i,t,e,n,s){if(!Ue(i)||i.__v_raw&&!(t&&i.__v_isReactive))return i;const r=s.get(i);if(r)return r;const o=$y(i);if(o===0)return i;const a=new Proxy(i,o===2?n:e);return s.set(i,a),a}function tr(i){return Tc(i)?tr(i.__v_raw):!!(i&&i.__v_isReactive)}function Tc(i){return!!(i&&i.__v_isReadonly)}function Wf(i){return tr(i)||Tc(i)}function ee(i){const t=i&&i.__v_raw;return t?ee(t):i}function Xf(i){return Ca(i,"__v_skip",!0),i}const so=i=>Ue(i)?Ta(i):i,Oc=i=>Ue(i)?qf(i):i;function Yf(i){$f()&&(i=ee(i),i.dep||(i.dep=mc()),Lf(i.dep))}function Kf(i,t){i=ee(i),i.dep&&wc(i.dep)}function Ze(i){return Boolean(i&&i.__v_isRef===!0)}function Mn(i){return Fy(i,!1)}function Fy(i,t){return Ze(i)?i:new jy(i,t)}class jy{constructor(t,e){this._shallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:ee(t),this._value=e?t:so(t)}get value(){return Yf(this),this._value}set value(t){t=this._shallow?t:ee(t),eo(t,this._rawValue)&&(this._rawValue=t,this._value=this._shallow?t:so(t),Kf(this))}}function Pc(i){return Ze(i)?i.value:i}const Iy={get:(i,t,e)=>Pc(Reflect.get(i,t,e)),set:(i,t,e,n)=>{const s=i[t];return Ze(s)&&!Ze(e)?(s.value=e,!0):Reflect.set(i,t,e,n)}};function Jf(i){return tr(i)?i:new Proxy(i,Iy)}class zy{constructor(t,e,n){this._object=t,this._key=e,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function Zf(i,t,e){const n=i[t];return Ze(n)?n:new zy(i,t,e)}class Ry{constructor(t,e,n){this._setter=e,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new vc(t,()=>{this._dirty||(this._dirty=!0,Kf(this))}),this.__v_isReadonly=n}get value(){const t=ee(this);return Yf(t),t._dirty&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function ro(i,t){let e,n;const s=_t(i);return s?(e=i,n=qn):(e=i.get,n=i.set),new Ry(e,n,s||!n)}Promise.resolve();function By(i,t,...e){const n=i.vnode.props||ge;let s=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in n){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:d}=n[h]||ge;d?s=e.map(p=>p.trim()):f&&(s=e.map(Of))}let a,l=n[a=gc(t)]||n[a=gc(ei(t))];!l&&r&&(l=n[a=gc(Zs(t))]),l&&Ln(l,i,6,s);const c=n[a+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,Ln(c,i,6,s)}}function Qf(i,t,e=!1){const n=t.emitsCache,s=n.get(i);if(s!==void 0)return s;const r=i.emits;let o={},a=!1;if(!_t(i)){const l=c=>{const h=Qf(c,t,!0);h&&(a=!0,Je(o,h))};!e&&t.mixins.length&&t.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!r&&!a?(n.set(i,null),null):(Bt(r)?r.forEach(l=>o[l]=null):Je(o,r),n.set(i,o),o)}function Dc(i,t){return!i||!ga(t)?!1:(t=t.slice(2).replace(/Once$/,""),ne(i,t[0].toLowerCase()+t.slice(1))||ne(i,Zs(t))||ne(i,t))}let Tn=null,td=null;function Oa(i){const t=Tn;return Tn=i,td=i&&i.type.__scopeId||null,t}function kc(i,t=Tn,e){if(!t||i._n)return i;const n=(...s)=>{n._d&&Od(-1);const r=Oa(t),o=i(...s);return Oa(r),n._d&&Od(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function Nc(i){const{type:t,vnode:e,proxy:n,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:h,renderCache:f,data:d,setupState:p,ctx:y,inheritAttrs:v}=i;let x,w;const M=Oa(i);try{if(e.shapeFlag&4){const D=s||n;x=ii(h.call(D,D,f,r,p,d,y)),w=l}else{const D=t;x=ii(D.length>1?D(r,{attrs:l,slots:a,emit:c}):D(r,null)),w=t.props?l:_y(l)}}catch(D){ao.length=0,_a(D,i,1),x=sn(Wn)}let A=x;if(w&&v!==!1){const D=Object.keys(w),{shapeFlag:N}=A;D.length&&N&(1|6)&&(o&&D.some(hc)&&(w=Vy(w,o)),A=nr(A,w))}return e.dirs&&(A.dirs=A.dirs?A.dirs.concat(e.dirs):e.dirs),e.transition&&(A.transition=e.transition),x=A,Oa(M),x}const _y=i=>{let t;for(const e in i)(e==="class"||e==="style"||ga(e))&&((t||(t={}))[e]=i[e]);return t},Vy=(i,t)=>{const e={};for(const n in i)(!hc(n)||!(n.slice(9)in t))&&(e[n]=i[n]);return e};function Hy(i,t,e){const{props:n,children:s,component:r}=i,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return n?ed(n,o,c):!!o;if(l&8){const h=t.dynamicProps;for(let f=0;f<h.length;f++){const d=h[f];if(o[d]!==n[d]&&!Dc(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?ed(n,o,c):!0:!!o;return!1}function ed(i,t,e){const n=Object.keys(t);if(n.length!==Object.keys(i).length)return!0;for(let s=0;s<n.length;s++){const r=n[s];if(t[r]!==i[r]&&!Dc(e,r))return!0}return!1}function Gy({vnode:i,parent:t},e){for(;t&&t.subTree===i;)(i=t.vnode).el=e,t=t.parent}const Uy=i=>i.__isSuspense;function qy(i,t){t&&t.pendingBranch?Bt(i)?t.effects.push(...i):t.effects.push(i):t1(i)}function nd(i,t){if(qe){let e=qe.provides;const n=qe.parent&&qe.parent.provides;n===e&&(e=qe.provides=Object.create(n)),e[i]=t}}function Pa(i,t,e=!1){const n=qe||Tn;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&i in s)return s[i];if(arguments.length>1)return e&&_t(t)?t.call(n.proxy):t}}function Wy(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ic(()=>{i.isMounted=!0}),zc(()=>{i.isUnmounting=!0}),i}const $n=[Function,Array],Xy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$n,onEnter:$n,onAfterEnter:$n,onEnterCancelled:$n,onBeforeLeave:$n,onLeave:$n,onAfterLeave:$n,onLeaveCancelled:$n,onBeforeAppear:$n,onAppear:$n,onAfterAppear:$n,onAppearCancelled:$n},setup(i,{slots:t}){const e=IC(),n=Wy();let s;return()=>{const r=t.default&&od(t.default(),!0);if(!r||!r.length)return;const o=ee(i),{mode:a}=o,l=r[0];if(n.isLeaving)return Lc(l);const c=rd(l);if(!c)return Lc(l);const h=$c(c,o,n,e);Fc(c,h);const f=e.subTree,d=f&&rd(f);let p=!1;const{getTransitionKey:y}=c.type;if(y){const v=y();s===void 0?s=v:v!==s&&(s=v,p=!0)}if(d&&d.type!==Wn&&(!Cs(c,d)||p)){const v=$c(d,o,n,e);if(Fc(d,v),a==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,e.update()},Lc(l);a==="in-out"&&c.type!==Wn&&(v.delayLeave=(x,w,M)=>{const A=sd(n,d);A[String(d.key)]=d,x._leaveCb=()=>{w(),x._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=M})}return l}}},id=Xy;function sd(i,t){const{leavingVNodes:e}=i;let n=e.get(t.type);return n||(n=Object.create(null),e.set(t.type,n)),n}function $c(i,t,e,n){const{appear:s,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:y,onBeforeAppear:v,onAppear:x,onAfterAppear:w,onAppearCancelled:M}=t,A=String(i.key),D=sd(e,i),N=(P,$)=>{P&&Ln(P,n,9,$)},m={mode:r,persisted:o,beforeEnter(P){let $=a;if(!e.isMounted)if(s)$=v||a;else return;P._leaveCb&&P._leaveCb(!0);const V=D[A];V&&Cs(i,V)&&V.el._leaveCb&&V.el._leaveCb(),N($,[P])},enter(P){let $=l,V=c,G=h;if(!e.isMounted)if(s)$=x||l,V=w||c,G=M||h;else return;let X=!1;const H=P._enterCb=ft=>{X||(X=!0,ft?N(G,[P]):N(V,[P]),m.delayedLeave&&m.delayedLeave(),P._enterCb=void 0)};$?($(P,H),$.length<=1&&H()):H()},leave(P,$){const V=String(i.key);if(P._enterCb&&P._enterCb(!0),e.isUnmounting)return $();N(f,[P]);let G=!1;const X=P._leaveCb=H=>{G||(G=!0,$(),H?N(y,[P]):N(p,[P]),P._leaveCb=void 0,D[V]===i&&delete D[V])};D[V]=i,d?(d(P,X),d.length<=1&&X()):X()},clone(P){return $c(P,t,e,n)}};return m}function Lc(i){if(Da(i))return i=nr(i),i.children=null,i}function rd(i){return Da(i)?i.children?i.children[0]:void 0:i}function Fc(i,t){i.shapeFlag&6&&i.component?Fc(i.component.subTree,t):i.shapeFlag&128?(i.ssContent.transition=t.clone(i.ssContent),i.ssFallback.transition=t.clone(i.ssFallback)):i.transition=t}function od(i,t=!1){let e=[],n=0;for(let s=0;s<i.length;s++){const r=i[s];r.type===On?(r.patchFlag&128&&n++,e=e.concat(od(r.children,t))):(t||r.type!==Wn)&&e.push(r)}if(n>1)for(let s=0;s<e.length;s++)e[s].patchFlag=-2;return e}function ad(i){return _t(i)?{setup:i,name:i.name}:i}const jc=i=>!!i.type.__asyncLoader,Da=i=>i.type.__isKeepAlive;function Yy(i,t){ld(i,"a",t)}function Ky(i,t){ld(i,"da",t)}function ld(i,t,e=qe){const n=i.__wdc||(i.__wdc=()=>{let s=e;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(ka(t,n,e),e){let s=e.parent;for(;s&&s.parent;)Da(s.parent.vnode)&&Jy(n,t,e,s),s=s.parent}}function Jy(i,t,e,n){const s=ka(t,i,n,!0);cd(()=>{uc(n[t],s)},e)}function ka(i,t,e=qe,n=!1){if(e){const s=e[i]||(e[i]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;gs(),ir(e);const a=Ln(t,e,i,o);return vs(),ji(),a});return n?s.unshift(r):s.push(r),r}}const bi=i=>(t,e=qe)=>(!Ba||i==="sp")&&ka(i,t,e),Zy=bi("bm"),Ic=bi("m"),Qy=bi("bu"),tC=bi("u"),zc=bi("bum"),cd=bi("um"),eC=bi("sp"),nC=bi("rtg"),iC=bi("rtc");function sC(i,t=qe){ka("ec",i,t)}let Rc=!0;function rC(i){const t=fd(i),e=i.proxy,n=i.ctx;Rc=!1,t.beforeCreate&&hd(t.beforeCreate,i,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:f,mounted:d,beforeUpdate:p,updated:y,activated:v,deactivated:x,beforeDestroy:w,beforeUnmount:M,destroyed:A,unmounted:D,render:N,renderTracked:m,renderTriggered:P,errorCaptured:$,serverPrefetch:V,expose:G,inheritAttrs:X,components:H,directives:ft,filters:yt}=t;if(c&&oC(c,n,null,i.appContext.config.unwrapInjectedRef),o)for(const ot in o){const vt=o[ot];_t(vt)&&(n[ot]=vt.bind(e))}if(s){const ot=s.call(e,e);Ue(ot)&&(i.data=Ta(ot))}if(Rc=!0,r)for(const ot in r){const vt=r[ot],It=_t(vt)?vt.bind(e,e):_t(vt.get)?vt.get.bind(e,e):qn,ie=!_t(vt)&&_t(vt.set)?vt.set.bind(e):qn,ht=ro({get:It,set:ie});Object.defineProperty(n,ot,{enumerable:!0,configurable:!0,get:()=>ht.value,set:jt=>ht.value=jt})}if(a)for(const ot in a)ud(a[ot],n,e,ot);if(l){const ot=_t(l)?l.call(e):l;Reflect.ownKeys(ot).forEach(vt=>{nd(vt,ot[vt])})}h&&hd(h,i,"c");function K(ot,vt){Bt(vt)?vt.forEach(It=>ot(It.bind(e))):vt&&ot(vt.bind(e))}if(K(Zy,f),K(Ic,d),K(Qy,p),K(tC,y),K(Yy,v),K(Ky,x),K(sC,$),K(iC,m),K(nC,P),K(zc,M),K(cd,D),K(eC,V),Bt(G))if(G.length){const ot=i.exposed||(i.exposed={});G.forEach(vt=>{Object.defineProperty(ot,vt,{get:()=>e[vt],set:It=>e[vt]=It})})}else i.exposed||(i.exposed={});N&&i.render===qn&&(i.render=N),X!=null&&(i.inheritAttrs=X),H&&(i.components=H),ft&&(i.directives=ft)}function oC(i,t,e=qn,n=!1){Bt(i)&&(i=Bc(i));for(const s in i){const r=i[s];let o;Ue(r)?"default"in r?o=Pa(r.from||s,r.default,!0):o=Pa(r.from||s):o=Pa(r),Ze(o)&&n?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):t[s]=o}}function hd(i,t,e){Ln(Bt(i)?i.map(n=>n.bind(t.proxy)):i.bind(t.proxy),t,e)}function ud(i,t,e,n){const s=n.includes(".")?Yd(e,n):()=>e[n];if(Ie(i)){const r=t[i];_t(r)&&or(s,r)}else if(_t(i))or(s,i.bind(e));else if(Ue(i))if(Bt(i))i.forEach(r=>ud(r,t,e,n));else{const r=_t(i.handler)?i.handler.bind(e):t[i.handler];_t(r)&&or(s,r,i)}}function fd(i){const t=i.type,{mixins:e,extends:n}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=i.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!e&&!n?l=t:(l={},s.length&&s.forEach(c=>Na(l,c,o,!0)),Na(l,t,o)),r.set(t,l),l}function Na(i,t,e,n=!1){const{mixins:s,extends:r}=t;r&&Na(i,r,e,!0),s&&s.forEach(o=>Na(i,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const a=aC[o]||e&&e[o];i[o]=a?a(i[o],t[o]):t[o]}return i}const aC={data:dd,props:ps,emits:ps,methods:ps,computed:ps,beforeCreate:ln,created:ln,beforeMount:ln,mounted:ln,beforeUpdate:ln,updated:ln,beforeDestroy:ln,beforeUnmount:ln,destroyed:ln,unmounted:ln,activated:ln,deactivated:ln,errorCaptured:ln,serverPrefetch:ln,components:ps,directives:ps,watch:cC,provide:dd,inject:lC};function dd(i,t){return t?i?function(){return Je(_t(i)?i.call(this,this):i,_t(t)?t.call(this,this):t)}:t:i}function lC(i,t){return ps(Bc(i),Bc(t))}function Bc(i){if(Bt(i)){const t={};for(let e=0;e<i.length;e++)t[i[e]]=i[e];return t}return i}function ln(i,t){return i?[...new Set([].concat(i,t))]:t}function ps(i,t){return i?Je(Je(Object.create(null),i),t):t}function cC(i,t){if(!i)return t;if(!t)return i;const e=Je(Object.create(null),i);for(const n in t)e[n]=ln(i[n],t[n]);return e}function hC(i,t,e,n=!1){const s={},r={};Ca(r,Ia,1),i.propsDefaults=Object.create(null),gd(i,t,s,r);for(const o in i.propsOptions[0])o in s||(s[o]=void 0);e?i.props=n?s:Ly(s):i.type.props?i.props=s:i.props=r,i.attrs=r}function uC(i,t,e,n){const{props:s,attrs:r,vnode:{patchFlag:o}}=i,a=ee(s),[l]=i.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=i.vnode.dynamicProps;for(let f=0;f<h.length;f++){let d=h[f];const p=t[d];if(l)if(ne(r,d))p!==r[d]&&(r[d]=p,c=!0);else{const y=ei(d);s[y]=_c(l,a,y,p,i,!1)}else p!==r[d]&&(r[d]=p,c=!0)}}}else{gd(i,t,s,r)&&(c=!0);let h;for(const f in a)(!t||!ne(t,f)&&((h=Zs(f))===f||!ne(t,h)))&&(l?e&&(e[f]!==void 0||e[h]!==void 0)&&(s[f]=_c(l,a,f,void 0,i,!0)):delete s[f]);if(r!==a)for(const f in r)(!t||!ne(t,f))&&(delete r[f],c=!0)}c&&mi(i,"set","$attrs")}function gd(i,t,e,n){const[s,r]=i.propsOptions;let o=!1,a;if(t)for(let l in t){if(ma(l))continue;const c=t[l];let h;s&&ne(s,h=ei(l))?!r||!r.includes(h)?e[h]=c:(a||(a={}))[h]=c:Dc(i.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=ee(e),c=a||ge;for(let h=0;h<r.length;h++){const f=r[h];e[f]=_c(s,l,f,c[f],i,!ne(c,f))}}return o}function _c(i,t,e,n,s,r){const o=i[e];if(o!=null){const a=ne(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&_t(l)){const{propsDefaults:c}=s;e in c?n=c[e]:(ir(s),n=c[e]=l.call(null,t),vs())}else n=l}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===Zs(e))&&(n=!0))}return n}function pd(i,t,e=!1){const n=t.propsCache,s=n.get(i);if(s)return s;const r=i.props,o={},a=[];let l=!1;if(!_t(i)){const h=f=>{l=!0;const[d,p]=pd(f,t,!0);Je(o,d),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}if(!r&&!l)return n.set(i,Js),Js;if(Bt(r))for(let h=0;h<r.length;h++){const f=ei(r[h]);md(f)&&(o[f]=ge)}else if(r)for(const h in r){const f=ei(h);if(md(f)){const d=r[h],p=o[f]=Bt(d)||_t(d)?{type:d}:d;if(p){const y=Cd(Boolean,p.type),v=Cd(String,p.type);p[0]=y>-1,p[1]=v<0||y<v,(y>-1||ne(p,"default"))&&a.push(f)}}}const c=[o,a];return n.set(i,c),c}function md(i){return i[0]!=="$"}function bd(i){const t=i&&i.toString().match(/^\s*function (\w+)/);return t?t[1]:i===null?"null":""}function yd(i,t){return bd(i)===bd(t)}function Cd(i,t){return Bt(t)?t.findIndex(e=>yd(e,i)):_t(t)&&yd(t,i)?0:-1}const vd=i=>i[0]==="_"||i==="$stable",Vc=i=>Bt(i)?i.map(ii):[ii(i)],fC=(i,t,e)=>{const n=kc((...s)=>Vc(t(...s)),e);return n._c=!1,n},xd=(i,t,e)=>{const n=i._ctx;for(const s in i){if(vd(s))continue;const r=i[s];if(_t(r))t[s]=fC(s,r,n);else if(r!=null){const o=Vc(r);t[s]=()=>o}}},wd=(i,t)=>{const e=Vc(t);i.slots.default=()=>e},dC=(i,t)=>{if(i.vnode.shapeFlag&32){const e=t._;e?(i.slots=ee(t),Ca(t,"_",e)):xd(t,i.slots={})}else i.slots={},t&&wd(i,t);Ca(i.slots,Ia,1)},gC=(i,t,e)=>{const{vnode:n,slots:s}=i;let r=!0,o=ge;if(n.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:(Je(s,t),!e&&a===1&&delete s._):(r=!t.$stable,xd(t,s)),o=t}else t&&(wd(i,t),o={default:1});if(r)for(const a in s)!vd(a)&&!(a in o)&&delete s[a]};function pC(i,t){const e=Tn;if(e===null)return i;const n=e.proxy,s=i.dirs||(i.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=ge]=t[r];_t(o)&&(o={mounted:o,updated:o}),o.deep&&xs(a),s.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c})}return i}function ms(i,t,e,n){const s=i.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(gs(),Ln(l,e,8,[i.el,a,i,t]),ji())}}function Sd(){return{app:null,config:{isNativeTag:Xb,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mC=0;function bC(i,t){return function(n,s=null){s!=null&&!Ue(s)&&(s=null);const r=Sd(),o=new Set;let a=!1;const l=r.app={_uid:mC++,_component:n,_props:s,_container:null,_context:r,_instance:null,version:i1,get config(){return r.config},set config(c){},use(c,...h){return o.has(c)||(c&&_t(c.install)?(o.add(c),c.install(l,...h)):_t(c)&&(o.add(c),c(l,...h))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,h){return h?(r.components[c]=h,l):r.components[c]},directive(c,h){return h?(r.directives[c]=h,l):r.directives[c]},mount(c,h,f){if(!a){const d=sn(n,s);return d.appContext=r,h&&t?t(d,c):i(d,c,f),a=!0,l._container=c,c.__vue_app__=l,Jc(d.component)||d.component.proxy}},unmount(){a&&(i(null,l._container),delete l._container.__vue_app__)},provide(c,h){return r.provides[c]=h,l}};return l}}function Hc(i,t,e,n,s=!1){if(Bt(i)){i.forEach((d,p)=>Hc(d,t&&(Bt(t)?t[p]:t),e,n,s));return}if(jc(n)&&!s)return;const r=n.shapeFlag&4?Jc(n.component)||n.component.proxy:n.el,o=s?null:r,{i:a,r:l}=i,c=t&&t.r,h=a.refs===ge?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==l&&(Ie(c)?(h[c]=null,ne(f,c)&&(f[c]=null)):Ze(c)&&(c.value=null)),_t(l))yi(l,a,12,[o,h]);else{const d=Ie(l),p=Ze(l);if(d||p){const y=()=>{if(i.f){const v=d?h[l]:l.value;s?Bt(v)&&uc(v,r):Bt(v)?v.includes(r)||v.push(r):d?h[l]=[r]:(l.value=[r],i.k&&(h[i.k]=l.value))}else d?(h[l]=o,ne(f,l)&&(f[l]=o)):Ze(l)&&(l.value=o,i.k&&(h[i.k]=o))};o?(y.id=-1,pn(y,e)):y()}}}const pn=qy;function yC(i){return CC(i)}function CC(i,t){const e=iy();e.__VUE__=!0;const{insert:n,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:f,nextSibling:d,setScopeId:p=qn,cloneNode:y,insertStaticContent:v}=i,x=(j,R,J,q=null,tt=null,lt=null,pt=!1,at=null,ct=!!R.dynamicChildren)=>{if(j===R)return;j&&!Cs(j,R)&&(q=le(j),$t(j,tt,lt,!0),j=null),R.patchFlag===-2&&(ct=!1,R.dynamicChildren=null);const{type:rt,ref:wt,shapeFlag:Ct}=R;switch(rt){case Wc:w(j,R,J,q);break;case Wn:M(j,R,J,q);break;case Xc:j==null&&A(R,J,q,pt);break;case On:ft(j,R,J,q,tt,lt,pt,at,ct);break;default:Ct&1?m(j,R,J,q,tt,lt,pt,at,ct):Ct&6?yt(j,R,J,q,tt,lt,pt,at,ct):(Ct&64||Ct&128)&&rt.process(j,R,J,q,tt,lt,pt,at,ct,Se)}wt!=null&&tt&&Hc(wt,j&&j.ref,lt,R||j,!R)},w=(j,R,J,q)=>{if(j==null)n(R.el=a(R.children),J,q);else{const tt=R.el=j.el;R.children!==j.children&&c(tt,R.children)}},M=(j,R,J,q)=>{j==null?n(R.el=l(R.children||""),J,q):R.el=j.el},A=(j,R,J,q)=>{[j.el,j.anchor]=v(j.children,R,J,q)},D=({el:j,anchor:R},J,q)=>{let tt;for(;j&&j!==R;)tt=d(j),n(j,J,q),j=tt;n(R,J,q)},N=({el:j,anchor:R})=>{let J;for(;j&&j!==R;)J=d(j),s(j),j=J;s(R)},m=(j,R,J,q,tt,lt,pt,at,ct)=>{pt=pt||R.type==="svg",j==null?P(R,J,q,tt,lt,pt,at,ct):G(j,R,tt,lt,pt,at,ct)},P=(j,R,J,q,tt,lt,pt,at)=>{let ct,rt;const{type:wt,props:Ct,shapeFlag:xt,transition:Tt,patchFlag:Xt,dirs:ce}=j;if(j.el&&y!==void 0&&Xt===-1)ct=j.el=y(j.el);else{if(ct=j.el=o(j.type,lt,Ct&&Ct.is,Ct),xt&8?h(ct,j.children):xt&16&&V(j.children,ct,null,q,tt,lt&&wt!=="foreignObject",pt,at),ce&&ms(j,null,q,"created"),Ct){for(const he in Ct)he!=="value"&&!ma(he)&&r(ct,he,null,Ct[he],lt,j.children,q,tt,Dt);"value"in Ct&&r(ct,"value",null,Ct.value),(rt=Ct.onVnodeBeforeMount)&&si(rt,q,j)}$(ct,j,j.scopeId,pt,q)}ce&&ms(j,null,q,"beforeMount");const oe=(!tt||tt&&!tt.pendingBranch)&&Tt&&!Tt.persisted;oe&&Tt.beforeEnter(ct),n(ct,R,J),((rt=Ct&&Ct.onVnodeMounted)||oe||ce)&&pn(()=>{rt&&si(rt,q,j),oe&&Tt.enter(ct),ce&&ms(j,null,q,"mounted")},tt)},$=(j,R,J,q,tt)=>{if(J&&p(j,J),q)for(let lt=0;lt<q.length;lt++)p(j,q[lt]);if(tt){let lt=tt.subTree;if(R===lt){const pt=tt.vnode;$(j,pt,pt.scopeId,pt.slotScopeIds,tt.parent)}}},V=(j,R,J,q,tt,lt,pt,at,ct=0)=>{for(let rt=ct;rt<j.length;rt++){const wt=j[rt]=at?zi(j[rt]):ii(j[rt]);x(null,wt,R,J,q,tt,lt,pt,at)}},G=(j,R,J,q,tt,lt,pt)=>{const at=R.el=j.el;let{patchFlag:ct,dynamicChildren:rt,dirs:wt}=R;ct|=j.patchFlag&16;const Ct=j.props||ge,xt=R.props||ge;let Tt;J&&bs(J,!1),(Tt=xt.onVnodeBeforeUpdate)&&si(Tt,J,R,j),wt&&ms(R,j,J,"beforeUpdate"),J&&bs(J,!0);const Xt=tt&&R.type!=="foreignObject";if(rt?X(j.dynamicChildren,rt,at,J,q,Xt,lt):pt||It(j,R,at,null,J,q,Xt,lt,!1),ct>0){if(ct&16)H(at,R,Ct,xt,J,q,tt);else if(ct&2&&Ct.class!==xt.class&&r(at,"class",null,xt.class,tt),ct&4&&r(at,"style",Ct.style,xt.style,tt),ct&8){const ce=R.dynamicProps;for(let oe=0;oe<ce.length;oe++){const he=ce[oe],Cn=Ct[he],vn=xt[he];(vn!==Cn||he==="value")&&r(at,he,Cn,vn,tt,j.children,J,q,Dt)}}ct&1&&j.children!==R.children&&h(at,R.children)}else!pt&&rt==null&&H(at,R,Ct,xt,J,q,tt);((Tt=xt.onVnodeUpdated)||wt)&&pn(()=>{Tt&&si(Tt,J,R,j),wt&&ms(R,j,J,"updated")},q)},X=(j,R,J,q,tt,lt,pt)=>{for(let at=0;at<R.length;at++){const ct=j[at],rt=R[at],wt=ct.el&&(ct.type===On||!Cs(ct,rt)||ct.shapeFlag&(6|64))?f(ct.el):J;x(ct,rt,wt,null,q,tt,lt,pt,!0)}},H=(j,R,J,q,tt,lt,pt)=>{if(J!==q){for(const at in q){if(ma(at))continue;const ct=q[at],rt=J[at];ct!==rt&&at!=="value"&&r(j,at,rt,ct,pt,R.children,tt,lt,Dt)}if(J!==ge)for(const at in J)!ma(at)&&!(at in q)&&r(j,at,J[at],null,pt,R.children,tt,lt,Dt);"value"in q&&r(j,"value",J.value,q.value)}},ft=(j,R,J,q,tt,lt,pt,at,ct)=>{const rt=R.el=j?j.el:a(""),wt=R.anchor=j?j.anchor:a("");let{patchFlag:Ct,dynamicChildren:xt,slotScopeIds:Tt}=R;Tt&&(at=at?at.concat(Tt):Tt),j==null?(n(rt,J,q),n(wt,J,q),V(R.children,J,wt,tt,lt,pt,at,ct)):Ct>0&&Ct&64&&xt&&j.dynamicChildren?(X(j.dynamicChildren,xt,J,tt,lt,pt,at),(R.key!=null||tt&&R===tt.subTree)&&Gc(j,R,!0)):It(j,R,J,wt,tt,lt,pt,at,ct)},yt=(j,R,J,q,tt,lt,pt,at,ct)=>{R.slotScopeIds=at,j==null?R.shapeFlag&512?tt.ctx.activate(R,J,q,pt,ct):U(R,J,q,tt,lt,pt,ct):K(j,R,ct)},U=(j,R,J,q,tt,lt,pt)=>{const at=j.component=jC(j,q,tt);if(Da(j)&&(at.ctx.renderer=Se),zC(at),at.asyncDep){if(tt&&tt.registerDep(at,ot),!j.el){const ct=at.subTree=sn(Wn);M(null,ct,R,J)}return}ot(at,j,R,J,tt,lt,pt)},K=(j,R,J)=>{const q=R.component=j.component;if(Hy(j,R,J))if(q.asyncDep&&!q.asyncResolved){vt(q,R,J);return}else q.next=R,ZC(q.update),q.update();else R.component=j.component,R.el=j.el,q.vnode=R},ot=(j,R,J,q,tt,lt,pt)=>{const at=()=>{if(j.isMounted){let{next:wt,bu:Ct,u:xt,parent:Tt,vnode:Xt}=j,ce=wt,oe;bs(j,!1),wt?(wt.el=Xt.el,vt(j,wt,pt)):wt=Xt,Ct&&pc(Ct),(oe=wt.props&&wt.props.onVnodeBeforeUpdate)&&si(oe,Tt,wt,Xt),bs(j,!0);const he=Nc(j),Cn=j.subTree;j.subTree=he,x(Cn,he,f(Cn.el),le(Cn),j,tt,lt),wt.el=he.el,ce===null&&Gy(j,he.el),xt&&pn(xt,tt),(oe=wt.props&&wt.props.onVnodeUpdated)&&pn(()=>si(oe,Tt,wt,Xt),tt)}else{let wt;const{el:Ct,props:xt}=R,{bm:Tt,m:Xt,parent:ce}=j,oe=jc(R);if(bs(j,!1),Tt&&pc(Tt),!oe&&(wt=xt&&xt.onVnodeBeforeMount)&&si(wt,ce,R),bs(j,!0),Ct&&ss){const he=()=>{j.subTree=Nc(j),ss(Ct,j.subTree,j,tt,null)};oe?R.type.__asyncLoader().then(()=>!j.isUnmounted&&he()):he()}else{const he=j.subTree=Nc(j);x(null,he,J,q,j,tt,lt),R.el=he.el}if(Xt&&pn(Xt,tt),!oe&&(wt=xt&&xt.onVnodeMounted)){const he=R;pn(()=>si(wt,ce,he),tt)}R.shapeFlag&256&&j.a&&pn(j.a,tt),j.isMounted=!0,R=J=q=null}},ct=j.effect=new vc(at,()=>Vd(j.update),j.scope),rt=j.update=ct.run.bind(ct);rt.id=j.uid,bs(j,!0),rt()},vt=(j,R,J)=>{R.component=j;const q=j.vnode.props;j.vnode=R,j.next=null,uC(j,R.props,q,J),gC(j,R.children,J),gs(),eh(void 0,j.update),ji()},It=(j,R,J,q,tt,lt,pt,at,ct=!1)=>{const rt=j&&j.children,wt=j?j.shapeFlag:0,Ct=R.children,{patchFlag:xt,shapeFlag:Tt}=R;if(xt>0){if(xt&128){ht(rt,Ct,J,q,tt,lt,pt,at,ct);return}else if(xt&256){ie(rt,Ct,J,q,tt,lt,pt,at,ct);return}}Tt&8?(wt&16&&Dt(rt,tt,lt),Ct!==rt&&h(J,Ct)):wt&16?Tt&16?ht(rt,Ct,J,q,tt,lt,pt,at,ct):Dt(rt,tt,lt,!0):(wt&8&&h(J,""),Tt&16&&V(Ct,J,q,tt,lt,pt,at,ct))},ie=(j,R,J,q,tt,lt,pt,at,ct)=>{j=j||Js,R=R||Js;const rt=j.length,wt=R.length,Ct=Math.min(rt,wt);let xt;for(xt=0;xt<Ct;xt++){const Tt=R[xt]=ct?zi(R[xt]):ii(R[xt]);x(j[xt],Tt,J,null,tt,lt,pt,at,ct)}rt>wt?Dt(j,tt,lt,!0,!1,Ct):V(R,J,q,tt,lt,pt,at,ct,Ct)},ht=(j,R,J,q,tt,lt,pt,at,ct)=>{let rt=0;const wt=R.length;let Ct=j.length-1,xt=wt-1;for(;rt<=Ct&&rt<=xt;){const Tt=j[rt],Xt=R[rt]=ct?zi(R[rt]):ii(R[rt]);if(Cs(Tt,Xt))x(Tt,Xt,J,null,tt,lt,pt,at,ct);else break;rt++}for(;rt<=Ct&&rt<=xt;){const Tt=j[Ct],Xt=R[xt]=ct?zi(R[xt]):ii(R[xt]);if(Cs(Tt,Xt))x(Tt,Xt,J,null,tt,lt,pt,at,ct);else break;Ct--,xt--}if(rt>Ct){if(rt<=xt){const Tt=xt+1,Xt=Tt<wt?R[Tt].el:q;for(;rt<=xt;)x(null,R[rt]=ct?zi(R[rt]):ii(R[rt]),J,Xt,tt,lt,pt,at,ct),rt++}}else if(rt>xt)for(;rt<=Ct;)$t(j[rt],tt,lt,!0),rt++;else{const Tt=rt,Xt=rt,ce=new Map;for(rt=Xt;rt<=xt;rt++){const me=R[rt]=ct?zi(R[rt]):ii(R[rt]);me.key!=null&&ce.set(me.key,rt)}let oe,he=0;const Cn=xt-Xt+1;let vn=!1,ki=0;const Ni=new Array(Cn);for(rt=0;rt<Cn;rt++)Ni[rt]=0;for(rt=Tt;rt<=Ct;rt++){const me=j[rt];if(he>=Cn){$t(me,tt,lt,!0);continue}let Ce;if(me.key!=null)Ce=ce.get(me.key);else for(oe=Xt;oe<=xt;oe++)if(Ni[oe-Xt]===0&&Cs(me,R[oe])){Ce=oe;break}Ce===void 0?$t(me,tt,lt,!0):(Ni[Ce-Xt]=rt+1,Ce>=ki?ki=Ce:vn=!0,x(me,R[Ce],J,null,tt,lt,pt,at,ct),he++)}const Ur=vn?vC(Ni):Js;for(oe=Ur.length-1,rt=Cn-1;rt>=0;rt--){const me=Xt+rt,Ce=R[me],Gs=me+1<wt?R[me+1].el:q;Ni[rt]===0?x(null,Ce,J,Gs,tt,lt,pt,at,ct):vn&&(oe<0||rt!==Ur[oe]?jt(Ce,J,Gs,2):oe--)}}},jt=(j,R,J,q,tt=null)=>{const{el:lt,type:pt,transition:at,children:ct,shapeFlag:rt}=j;if(rt&6){jt(j.component.subTree,R,J,q);return}if(rt&128){j.suspense.move(R,J,q);return}if(rt&64){pt.move(j,R,J,Se);return}if(pt===On){n(lt,R,J);for(let Ct=0;Ct<ct.length;Ct++)jt(ct[Ct],R,J,q);n(j.anchor,R,J);return}if(pt===Xc){D(j,R,J);return}if(q!==2&&rt&1&&at)if(q===0)at.beforeEnter(lt),n(lt,R,J),pn(()=>at.enter(lt),tt);else{const{leave:Ct,delayLeave:xt,afterLeave:Tt}=at,Xt=()=>n(lt,R,J),ce=()=>{Ct(lt,()=>{Xt(),Tt&&Tt()})};xt?xt(lt,Xt,ce):ce()}else n(lt,R,J)},$t=(j,R,J,q=!1,tt=!1)=>{const{type:lt,props:pt,ref:at,children:ct,dynamicChildren:rt,shapeFlag:wt,patchFlag:Ct,dirs:xt}=j;if(at!=null&&Hc(at,null,J,j,!0),wt&256){R.ctx.deactivate(j);return}const Tt=wt&1&&xt,Xt=!jc(j);let ce;if(Xt&&(ce=pt&&pt.onVnodeBeforeUnmount)&&si(ce,R,j),wt&6)Ae(j.component,J,q);else{if(wt&128){j.suspense.unmount(J,q);return}Tt&&ms(j,null,R,"beforeUnmount"),wt&64?j.type.remove(j,R,J,tt,Se,q):rt&&(lt!==On||Ct>0&&Ct&64)?Dt(rt,R,J,!1,!0):(lt===On&&Ct&(128|256)||!tt&&wt&16)&&Dt(ct,R,J),q&&Nt(j)}(Xt&&(ce=pt&&pt.onVnodeUnmounted)||Tt)&&pn(()=>{ce&&si(ce,R,j),Tt&&ms(j,null,R,"unmounted")},J)},Nt=j=>{const{type:R,el:J,anchor:q,transition:tt}=j;if(R===On){Kt(J,q);return}if(R===Xc){N(j);return}const lt=()=>{s(J),tt&&!tt.persisted&&tt.afterLeave&&tt.afterLeave()};if(j.shapeFlag&1&&tt&&!tt.persisted){const{leave:pt,delayLeave:at}=tt,ct=()=>pt(J,lt);at?at(j.el,lt,ct):ct()}else lt()},Kt=(j,R)=>{let J;for(;j!==R;)J=d(j),s(j),j=J;s(R)},Ae=(j,R,J)=>{const{bum:q,scope:tt,update:lt,subTree:pt,um:at}=j;q&&pc(q),tt.stop(),lt&&(lt.active=!1,$t(pt,j,R,J)),at&&pn(at,R),pn(()=>{j.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Dt=(j,R,J,q=!1,tt=!1,lt=0)=>{for(let pt=lt;pt<j.length;pt++)$t(j[pt],R,J,q,tt)},le=j=>j.shapeFlag&6?le(j.component.subTree):j.shapeFlag&128?j.suspense.next():d(j.anchor||j.el),ke=(j,R,J)=>{j==null?R._vnode&&$t(R._vnode,null,null,!0):x(R._vnode||null,j,R,null,null,null,J),Ud(),R._vnode=j},Se={p:x,um:$t,m:jt,r:Nt,mt:U,mc:V,pc:It,pbc:X,n:le,o:i};let is,ss;return t&&([is,ss]=t(Se)),{render:ke,hydrate:is,createApp:bC(ke,is)}}function bs({effect:i,update:t},e){i.allowRecurse=t.allowRecurse=e}function Gc(i,t,e=!1){const n=i.children,s=t.children;if(Bt(n)&&Bt(s))for(let r=0;r<n.length;r++){const o=n[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=zi(s[r]),a.el=o.el),e||Gc(o,a))}}function vC(i){const t=i.slice(),e=[0];let n,s,r,o,a;const l=i.length;for(n=0;n<l;n++){const c=i[n];if(c!==0){if(s=e[e.length-1],i[s]<c){t[n]=s,e.push(n);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,i[e[a]]<c?r=a+1:o=a;c<i[e[r]]&&(r>0&&(t[n]=e[r-1]),e[r]=n)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}const xC=i=>i.__isTeleport,oo=i=>i&&(i.disabled||i.disabled===""),Ed=i=>typeof SVGElement!="undefined"&&i instanceof SVGElement,Uc=(i,t)=>{const e=i&&i.to;return Ie(e)?t?t(e):null:e},wC={__isTeleport:!0,process(i,t,e,n,s,r,o,a,l,c){const{mc:h,pc:f,pbc:d,o:{insert:p,querySelector:y,createText:v,createComment:x}}=c,w=oo(t.props);let{shapeFlag:M,children:A,dynamicChildren:D}=t;if(i==null){const N=t.el=v(""),m=t.anchor=v("");p(N,e,n),p(m,e,n);const P=t.target=Uc(t.props,y),$=t.targetAnchor=v("");P&&(p($,P),o=o||Ed(P));const V=(G,X)=>{M&16&&h(A,G,X,s,r,o,a,l)};w?V(e,m):P&&V(P,$)}else{t.el=i.el;const N=t.anchor=i.anchor,m=t.target=i.target,P=t.targetAnchor=i.targetAnchor,$=oo(i.props),V=$?e:m,G=$?N:P;if(o=o||Ed(m),D?(d(i.dynamicChildren,D,V,s,r,o,a),Gc(i,t,!0)):l||f(i,t,V,G,s,r,o,a,!1),w)$||$a(t,e,N,c,1);else if((t.props&&t.props.to)!==(i.props&&i.props.to)){const X=t.target=Uc(t.props,y);X&&$a(t,X,null,c,0)}else $&&$a(t,m,P,c,1)}},remove(i,t,e,n,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:h,target:f,props:d}=i;if(f&&r(h),(o||!oo(d))&&(r(c),a&16))for(let p=0;p<l.length;p++){const y=l[p];s(y,t,e,!0,!!y.dynamicChildren)}},move:$a,hydrate:SC};function $a(i,t,e,{o:{insert:n},m:s},r=2){r===0&&n(i.targetAnchor,t,e);const{el:o,anchor:a,shapeFlag:l,children:c,props:h}=i,f=r===2;if(f&&n(o,t,e),(!f||oo(h))&&l&16)for(let d=0;d<c.length;d++)s(c[d],t,e,2);f&&n(a,t,e)}function SC(i,t,e,n,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const h=t.target=Uc(t.props,l);if(h){const f=h._lpa||h.firstChild;t.shapeFlag&16&&(oo(t.props)?(t.anchor=c(o(i),t,a(i),e,n,s,r),t.targetAnchor=f):(t.anchor=o(i),t.targetAnchor=c(f,t,h,e,n,s,r)),h._lpa=t.targetAnchor&&o(t.targetAnchor))}return t.anchor&&o(t.anchor)}const zN=wC,qc="components";function EC(i,t){return Md(qc,i,!0,t)||i}const Ad=Symbol();function AC(i){return Ie(i)?Md(qc,i,!1)||i:i||Ad}function Md(i,t,e=!0,n=!1){const s=Tn||qe;if(s){const r=s.type;if(i===qc){const a=Id(r);if(a&&(a===t||a===ei(t)||a===ya(ei(t))))return r}const o=Td(s[i]||r[i],t)||Td(s.appContext[i],t);return!o&&n?r:o}}function Td(i,t){return i&&(i[t]||i[ei(t)]||i[ya(ei(t))])}const On=Symbol(void 0),Wc=Symbol(void 0),Wn=Symbol(void 0),Xc=Symbol(void 0),ao=[];let ys=null;function er(i=!1){ao.push(ys=i?null:[])}function MC(){ao.pop(),ys=ao[ao.length-1]||null}let La=1;function Od(i){La+=i}function Pd(i){return i.dynamicChildren=La>0?ys||Js:null,MC(),La>0&&ys&&ys.push(i),i}function Dd(i,t,e,n,s,r){return Pd(lo(i,t,e,n,s,r,!0))}function Fa(i,t,e,n,s){return Pd(sn(i,t,e,n,s,!0))}function ja(i){return i?i.__v_isVNode===!0:!1}function Cs(i,t){return i.type===t.type&&i.key===t.key}const Ia="__vInternal",kd=({key:i})=>i!=null?i:null,za=({ref:i,ref_key:t,ref_for:e})=>i!=null?Ie(i)||Ze(i)||_t(i)?{i:Tn,r:i,k:t,f:!!e}:i:null;function lo(i,t=null,e=null,n=0,s=null,r=i===On?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:t,key:t&&kd(t),ref:t&&za(t),scopeId:td,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(Yc(l,e),r&128&&i.normalize(l)):e&&(l.shapeFlag|=Ie(e)?8:16),La>0&&!o&&ys&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&ys.push(l),l}const sn=TC;function TC(i,t=null,e=null,n=0,s=null,r=!1){if((!i||i===Ad)&&(i=Wn),ja(i)){const a=nr(i,t,!0);return e&&Yc(a,e),a}if(GC(i)&&(i=i.__vccOpts),t){t=OC(t);let{class:a,style:l}=t;a&&!Ie(a)&&(t.class=Ks(a)),Ue(l)&&(Wf(l)&&!Bt(l)&&(l=Je({},l)),t.style=Ys(l))}const o=Ie(i)?1:Uy(i)?128:xC(i)?64:Ue(i)?4:_t(i)?2:0;return lo(i,t,e,n,s,o,r,!0)}function OC(i){return i?Wf(i)||Ia in i?Je({},i):i:null}function nr(i,t,e=!1){const{props:n,ref:s,patchFlag:r,children:o}=i,a=t?kC(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:i.type,props:a,key:a&&kd(a),ref:t&&t.ref?e&&s?Bt(s)?s.concat(za(t)):[s,za(t)]:za(t):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o,target:i.target,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:t&&i.type!==On?r===-1?16:r|16:r,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:i.transition,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&nr(i.ssContent),ssFallback:i.ssFallback&&nr(i.ssFallback),el:i.el,anchor:i.anchor}}function PC(i=" ",t=0){return sn(Wc,null,i,t)}function DC(i="",t=!1){return t?(er(),Fa(Wn,null,i)):sn(Wn,null,i)}function ii(i){return i==null||typeof i=="boolean"?sn(Wn):Bt(i)?sn(On,null,i.slice()):typeof i=="object"?zi(i):sn(Wc,null,String(i))}function zi(i){return i.el===null||i.memo?i:nr(i)}function Yc(i,t){let e=0;const{shapeFlag:n}=i;if(t==null)t=null;else if(Bt(t))e=16;else if(typeof t=="object")if(n&(1|64)){const s=t.default;s&&(s._c&&(s._d=!1),Yc(i,s()),s._c&&(s._d=!0));return}else{e=32;const s=t._;!s&&!(Ia in t)?t._ctx=Tn:s===3&&Tn&&(Tn.slots._===1?t._=1:(t._=2,i.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:Tn},e=32):(t=String(t),n&64?(e=16,t=[PC(t)]):e=8);i.children=t,i.shapeFlag|=e}function kC(...i){const t={};for(let e=0;e<i.length;e++){const n=i[e];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Ks([t.class,n.class]));else if(s==="style")t.style=Ys([t.style,n.style]);else if(ga(s)){const r=t[s],o=n[s];r!==o&&!(Bt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=n[s])}return t}function si(i,t,e,n=null){Ln(i,t,7,[e,n])}function NC(i,t,e={},n,s){if(Tn.isCE)return sn("slot",t==="default"?null:{name:t},n&&n());let r=i[t];r&&r._c&&(r._d=!1),er();const o=r&&Nd(r(e)),a=Fa(On,{key:e.key||`_${t}`},o||(n?n():[]),o&&i._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Nd(i){return i.some(t=>ja(t)?!(t.type===Wn||t.type===On&&!Nd(t.children)):!0)?i:null}const Kc=i=>i?$d(i)?Jc(i)||i.proxy:Kc(i.parent):null,Ra=Je(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Kc(i.parent),$root:i=>Kc(i.root),$emit:i=>i.emit,$options:i=>fd(i),$forceUpdate:i=>()=>Vd(i.update),$nextTick:i=>_d.bind(i.proxy),$watch:i=>e1.bind(i)}),$C={get({_:i},t){const{ctx:e,setupState:n,data:s,props:r,accessCache:o,type:a,appContext:l}=i;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return s[t];case 4:return e[t];case 3:return r[t]}else{if(n!==ge&&ne(n,t))return o[t]=1,n[t];if(s!==ge&&ne(s,t))return o[t]=2,s[t];if((c=i.propsOptions[0])&&ne(c,t))return o[t]=3,r[t];if(e!==ge&&ne(e,t))return o[t]=4,e[t];Rc&&(o[t]=0)}}const h=Ra[t];let f,d;if(h)return t==="$attrs"&&An(i,"get",t),h(i);if((f=a.__cssModules)&&(f=f[t]))return f;if(e!==ge&&ne(e,t))return o[t]=4,e[t];if(d=l.config.globalProperties,ne(d,t))return d[t]},set({_:i},t,e){const{data:n,setupState:s,ctx:r}=i;if(s!==ge&&ne(s,t))s[t]=e;else if(n!==ge&&ne(n,t))n[t]=e;else if(ne(i.props,t))return!1;return t[0]==="$"&&t.slice(1)in i?!1:(r[t]=e,!0)},has({_:{data:i,setupState:t,accessCache:e,ctx:n,appContext:s,propsOptions:r}},o){let a;return!!e[o]||i!==ge&&ne(i,o)||t!==ge&&ne(t,o)||(a=r[0])&&ne(a,o)||ne(n,o)||ne(Ra,o)||ne(s.config.globalProperties,o)}},LC=Sd();let FC=0;function jC(i,t,e){const n=i.type,s=(t?t.appContext:i.appContext)||LC,r={uid:FC++,vnode:i,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new sy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pd(n,s),emitsOptions:Qf(n,s),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:n.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=By.bind(null,r),i.ce&&i.ce(r),r}let qe=null;const IC=()=>qe||Tn,ir=i=>{qe=i,i.scope.on()},vs=()=>{qe&&qe.scope.off(),qe=null};function $d(i){return i.vnode.shapeFlag&4}let Ba=!1;function zC(i,t=!1){Ba=t;const{props:e,children:n}=i.vnode,s=$d(i);hC(i,e,s,t),dC(i,n);const r=s?RC(i,t):void 0;return Ba=!1,r}function RC(i,t){const e=i.type;i.accessCache=Object.create(null),i.proxy=Xf(new Proxy(i.ctx,$C));const{setup:n}=e;if(n){const s=i.setupContext=n.length>1?_C(i):null;ir(i),gs();const r=yi(n,i,0,[i.props,s]);if(ji(),vs(),Tf(r)){if(r.then(vs,vs),t)return r.then(o=>{Ld(i,o,t)}).catch(o=>{_a(o,i,0)});i.asyncDep=r}else Ld(i,r,t)}else jd(i,t)}function Ld(i,t,e){_t(t)?i.type.__ssrInlineRender?i.ssrRender=t:i.render=t:Ue(t)&&(i.setupState=Jf(t)),jd(i,e)}let Fd;function jd(i,t,e){const n=i.type;if(!i.render){if(!t&&Fd&&!n.render){const s=n.template;if(s){const{isCustomElement:r,compilerOptions:o}=i.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Je(Je({isCustomElement:r,delimiters:a},o),l);n.render=Fd(s,c)}}i.render=n.render||qn}ir(i),gs(),rC(i),ji(),vs()}function BC(i){return new Proxy(i.attrs,{get(t,e){return An(i,"get","$attrs"),t[e]}})}function _C(i){const t=n=>{i.exposed=n||{}};let e;return{get attrs(){return e||(e=BC(i))},slots:i.slots,emit:i.emit,expose:t}}function Jc(i){if(i.exposed)return i.exposeProxy||(i.exposeProxy=new Proxy(Jf(Xf(i.exposed)),{get(t,e){if(e in t)return t[e];if(e in Ra)return Ra[e](i)}}))}const VC=/(?:^|[-_])(\w)/g,HC=i=>i.replace(VC,t=>t.toUpperCase()).replace(/[-_]/g,"");function Id(i){return _t(i)&&i.displayName||i.name}function zd(i,t,e=!1){let n=Id(t);if(!n&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(n=s[1])}if(!n&&i&&i.parent){const s=r=>{for(const o in r)if(r[o]===t)return o};n=s(i.components||i.parent.type.components)||s(i.appContext.components)}return n?HC(n):e?"App":"Anonymous"}function GC(i){return _t(i)&&"__vccOpts"in i}const co=[];function UC(i,...t){gs();const e=co.length?co[co.length-1].component:null,n=e&&e.appContext.config.warnHandler,s=qC();if(n)yi(n,e,11,[i+t.join(""),e&&e.proxy,s.map(({vnode:r})=>`at <${zd(e,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${i}`,...t];s.length&&r.push(`
`,...WC(s)),console.warn(...r)}ji()}function qC(){let i=co[co.length-1];if(!i)return[];const t=[];for(;i;){const e=t[0];e&&e.vnode===i?e.recurseCount++:t.push({vnode:i,recurseCount:0});const n=i.component&&i.component.parent;i=n&&n.vnode}return t}function WC(i){const t=[];return i.forEach((e,n)=>{t.push(...n===0?[]:[`
`],...XC(e))}),t}function XC({vnode:i,recurseCount:t}){const e=t>0?`... (${t} recursive calls)`:"",n=i.component?i.component.parent==null:!1,s=` at <${zd(i.component,i.type,n)}`,r=">"+e;return i.props?[s,...YC(i.props),r]:[s+r]}function YC(i){const t=[],e=Object.keys(i);return e.slice(0,3).forEach(n=>{t.push(...Rd(n,i[n]))}),e.length>3&&t.push(" ..."),t}function Rd(i,t,e){return Ie(t)?(t=JSON.stringify(t),e?t:[`${i}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?e?t:[`${i}=${t}`]:Ze(t)?(t=Rd(i,ee(t.value),!0),e?t:[`${i}=Ref<`,t,">"]):_t(t)?[`${i}=fn${t.name?`<${t.name}>`:""}`]:(t=ee(t),e?t:[`${i}=`,t])}function yi(i,t,e,n){let s;try{s=n?i(...n):i()}catch(r){_a(r,t,e)}return s}function Ln(i,t,e,n){if(_t(i)){const r=yi(i,t,e,n);return r&&Tf(r)&&r.catch(o=>{_a(o,t,e)}),r}const s=[];for(let r=0;r<i.length;r++)s.push(Ln(i[r],t,e,n));return s}function _a(i,t,e,n=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=e;for(;r;){const c=r.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](i,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){yi(l,null,10,[i,o,a]);return}}KC(i,e,s,n)}function KC(i,t,e,n=!0){console.error(i)}let Va=!1,Zc=!1;const Pn=[];let Ci=0;const ho=[];let uo=null,sr=0;const fo=[];let Ri=null,rr=0;const Bd=Promise.resolve();let Qc=null,th=null;function _d(i){const t=Qc||Bd;return i?t.then(this?i.bind(this):i):t}function JC(i){let t=Ci+1,e=Pn.length;for(;t<e;){const n=t+e>>>1;go(Pn[n])<i?t=n+1:e=n}return t}function Vd(i){(!Pn.length||!Pn.includes(i,Va&&i.allowRecurse?Ci+1:Ci))&&i!==th&&(i.id==null?Pn.push(i):Pn.splice(JC(i.id),0,i),Hd())}function Hd(){!Va&&!Zc&&(Zc=!0,Qc=Bd.then(qd))}function ZC(i){const t=Pn.indexOf(i);t>Ci&&Pn.splice(t,1)}function Gd(i,t,e,n){Bt(i)?e.push(...i):(!t||!t.includes(i,i.allowRecurse?n+1:n))&&e.push(i),Hd()}function QC(i){Gd(i,uo,ho,sr)}function t1(i){Gd(i,Ri,fo,rr)}function eh(i,t=null){if(ho.length){for(th=t,uo=[...new Set(ho)],ho.length=0,sr=0;sr<uo.length;sr++)uo[sr]();uo=null,sr=0,th=null,eh(i,t)}}function Ud(i){if(fo.length){const t=[...new Set(fo)];if(fo.length=0,Ri){Ri.push(...t);return}for(Ri=t,Ri.sort((e,n)=>go(e)-go(n)),rr=0;rr<Ri.length;rr++)Ri[rr]();Ri=null,rr=0}}const go=i=>i.id==null?1/0:i.id;function qd(i){Zc=!1,Va=!0,eh(i),Pn.sort((e,n)=>go(e)-go(n));const t=qn;try{for(Ci=0;Ci<Pn.length;Ci++){const e=Pn[Ci];e&&e.active!==!1&&yi(e,null,14)}}finally{Ci=0,Pn.length=0,Ud(),Va=!1,Qc=null,(Pn.length||ho.length||fo.length)&&qd(i)}}const Wd={};function or(i,t,e){return Xd(i,t,e)}function Xd(i,t,{immediate:e,deep:n,flush:s,onTrack:r,onTrigger:o}=ge){const a=qe;let l,c=!1,h=!1;if(Ze(i)?(l=()=>i.value,c=!!i._shallow):tr(i)?(l=()=>i,n=!0):Bt(i)?(h=!0,c=i.some(tr),l=()=>i.map(w=>{if(Ze(w))return w.value;if(tr(w))return xs(w);if(_t(w))return yi(w,a,2)})):_t(i)?t?l=()=>yi(i,a,2):l=()=>{if(!(a&&a.isUnmounted))return f&&f(),Ln(i,a,3,[d])}:l=qn,t&&n){const w=l;l=()=>xs(w())}let f,d=w=>{f=x.onStop=()=>{yi(w,a,4)}};if(Ba)return d=qn,t?e&&Ln(t,a,3,[l(),h?[]:void 0,d]):l(),qn;let p=h?[]:Wd;const y=()=>{if(!!x.active)if(t){const w=x.run();(n||c||(h?w.some((M,A)=>eo(M,p[A])):eo(w,p)))&&(f&&f(),Ln(t,a,3,[w,p===Wd?void 0:p,d]),p=w)}else x.run()};y.allowRecurse=!!t;let v;s==="sync"?v=y:s==="post"?v=()=>pn(y,a&&a.suspense):v=()=>{!a||a.isMounted?QC(y):y()};const x=new vc(l,v);return t?e?y():p=x.run():s==="post"?pn(x.run.bind(x),a&&a.suspense):x.run(),()=>{x.stop(),a&&a.scope&&uc(a.scope.effects,x)}}function e1(i,t,e){const n=this.proxy,s=Ie(i)?i.includes(".")?Yd(n,i):()=>n[i]:i.bind(n,n);let r;_t(t)?r=t:(r=t.handler,e=t);const o=qe;ir(this);const a=Xd(s,r.bind(n),e);return o?ir(o):vs(),a}function Yd(i,t){const e=t.split(".");return()=>{let n=i;for(let s=0;s<e.length&&n;s++)n=n[e[s]];return n}}function xs(i,t){if(!Ue(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),Ze(i))xs(i.value,t);else if(Bt(i))for(let e=0;e<i.length;e++)xs(i[e],t);else if(Jb(i)||to(i))i.forEach(e=>{xs(e,t)});else if(ty(i))for(const e in i)xs(i[e],t);return i}function n1(i,t,e){const n=arguments.length;return n===2?Ue(t)&&!Bt(t)?ja(t)?sn(i,null,[t]):sn(i,t):sn(i,null,t):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&ja(e)&&(e=[e]),sn(i,t,e))}const i1="3.2.26",s1="http://www.w3.org/2000/svg",ar=typeof document!="undefined"?document:null,Kd=new Map,r1={insert:(i,t,e)=>{t.insertBefore(i,e||null)},remove:i=>{const t=i.parentNode;t&&t.removeChild(i)},createElement:(i,t,e,n)=>{const s=t?ar.createElementNS(s1,i):ar.createElement(i,e?{is:e}:void 0);return i==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:i=>ar.createTextNode(i),createComment:i=>ar.createComment(i),setText:(i,t)=>{i.nodeValue=t},setElementText:(i,t)=>{i.textContent=t},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>ar.querySelector(i),setScopeId(i,t){i.setAttribute(t,"")},cloneNode(i){const t=i.cloneNode(!0);return"_value"in i&&(t._value=i._value),t},insertStaticContent(i,t,e,n){const s=e?e.previousSibling:t.lastChild;let r=Kd.get(i);if(!r){const o=ar.createElement("template");if(o.innerHTML=n?`<svg>${i}</svg>`:i,r=o.content,n){const a=r.firstChild;for(;a.firstChild;)r.appendChild(a.firstChild);r.removeChild(a)}Kd.set(i,r)}return t.insertBefore(r.cloneNode(!0),e),[s?s.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}};function o1(i,t,e){const n=i._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?i.removeAttribute("class"):e?i.setAttribute("class",t):i.className=t}function a1(i,t,e){const n=i.style,s=Ie(e);if(e&&!s){for(const r in e)nh(n,r,e[r]);if(t&&!Ie(t))for(const r in t)e[r]==null&&nh(n,r,"")}else{const r=n.display;s?t!==e&&(n.cssText=e):t&&i.removeAttribute("style"),"_vod"in i&&(n.display=r)}}const Jd=/\s*!important$/;function nh(i,t,e){if(Bt(e))e.forEach(n=>nh(i,t,n));else if(t.startsWith("--"))i.setProperty(t,e);else{const n=l1(i,t);Jd.test(e)?i.setProperty(Zs(n),e.replace(Jd,""),"important"):i[n]=e}}const Zd=["Webkit","Moz","ms"],ih={};function l1(i,t){const e=ih[t];if(e)return e;let n=ei(t);if(n!=="filter"&&n in i)return ih[t]=n;n=ya(n);for(let s=0;s<Zd.length;s++){const r=Zd[s]+n;if(r in i)return ih[t]=r}return t}const Qd="http://www.w3.org/1999/xlink";function c1(i,t,e,n,s){if(n&&t.startsWith("xlink:"))e==null?i.removeAttributeNS(Qd,t.slice(6,t.length)):i.setAttributeNS(Qd,t,e);else{const r=Gb(t);e==null||r&&!Mf(e)?i.removeAttribute(t):i.setAttribute(t,r?"":e)}}function h1(i,t,e,n,s,r,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,r),i[t]=e==null?"":e;return}if(t==="value"&&i.tagName!=="PROGRESS"&&!i.tagName.includes("-")){i._value=e;const a=e==null?"":e;(i.value!==a||i.tagName==="OPTION")&&(i.value=a),e==null&&i.removeAttribute(t);return}if(e===""||e==null){const a=typeof i[t];if(a==="boolean"){i[t]=Mf(e);return}else if(e==null&&a==="string"){i[t]="",i.removeAttribute(t);return}else if(a==="number"){try{i[t]=0}catch{}i.removeAttribute(t);return}}try{i[t]=e}catch{}}let Ha=Date.now,tg=!1;if(typeof window!="undefined"){Ha()>document.createEvent("Event").timeStamp&&(Ha=()=>performance.now());const i=navigator.userAgent.match(/firefox\/(\d+)/i);tg=!!(i&&Number(i[1])<=53)}let sh=0;const u1=Promise.resolve(),f1=()=>{sh=0},d1=()=>sh||(u1.then(f1),sh=Ha());function g1(i,t,e,n){i.addEventListener(t,e,n)}function p1(i,t,e,n){i.removeEventListener(t,e,n)}function m1(i,t,e,n,s=null){const r=i._vei||(i._vei={}),o=r[t];if(n&&o)o.value=n;else{const[a,l]=b1(t);if(n){const c=r[t]=y1(n,s);g1(i,a,c,l)}else o&&(p1(i,a,o,l),r[t]=void 0)}}const eg=/(?:Once|Passive|Capture)$/;function b1(i){let t;if(eg.test(i)){t={};let e;for(;e=i.match(eg);)i=i.slice(0,i.length-e[0].length),t[e[0].toLowerCase()]=!0}return[Zs(i.slice(2)),t]}function y1(i,t){const e=n=>{const s=n.timeStamp||Ha();(tg||s>=e.attached-1)&&Ln(C1(n,e.value),t,5,[n])};return e.value=i,e.attached=d1(),e}function C1(i,t){if(Bt(t)){const e=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{e.call(i),i._stopped=!0},t.map(n=>s=>!s._stopped&&n(s))}else return t}const ng=/^on[a-z]/,v1=(i,t,e,n,s=!1,r,o,a,l)=>{t==="class"?o1(i,n,s):t==="style"?a1(i,e,n):ga(t)?hc(t)||m1(i,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):x1(i,t,n,s))?h1(i,t,n,r,o,a,l):(t==="true-value"?i._trueValue=n:t==="false-value"&&(i._falseValue=n),c1(i,t,n,s))};function x1(i,t,e,n){return n?!!(t==="innerHTML"||t==="textContent"||t in i&&ng.test(t)&&_t(e)):t==="spellcheck"||t==="draggable"||t==="form"||t==="list"&&i.tagName==="INPUT"||t==="type"&&i.tagName==="TEXTAREA"||ng.test(t)&&Ie(e)?!1:t in i}const Bi="transition",po="animation",rh=(i,{slots:t})=>n1(id,w1(i),t);rh.displayName="Transition";const ig={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};rh.props=Je({},id.props,ig);const ws=(i,t=[])=>{Bt(i)?i.forEach(e=>e(...t)):i&&i(...t)},sg=i=>i?Bt(i)?i.some(t=>t.length>1):i.length>1:!1;function w1(i){const t={};for(const H in i)H in ig||(t[H]=i[H]);if(i.css===!1)return t;const{name:e="v",type:n,duration:s,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:f=`${e}-leave-from`,leaveActiveClass:d=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=i,y=S1(s),v=y&&y[0],x=y&&y[1],{onBeforeEnter:w,onEnter:M,onEnterCancelled:A,onLeave:D,onLeaveCancelled:N,onBeforeAppear:m=w,onAppear:P=M,onAppearCancelled:$=A}=t,V=(H,ft,yt)=>{lr(H,ft?h:a),lr(H,ft?c:o),yt&&yt()},G=(H,ft)=>{lr(H,p),lr(H,d),ft&&ft()},X=H=>(ft,yt)=>{const U=H?P:M,K=()=>V(ft,H,yt);ws(U,[ft,K]),rg(()=>{lr(ft,H?l:r),_i(ft,H?h:a),sg(U)||og(ft,n,v,K)})};return Je(t,{onBeforeEnter(H){ws(w,[H]),_i(H,r),_i(H,o)},onBeforeAppear(H){ws(m,[H]),_i(H,l),_i(H,c)},onEnter:X(!1),onAppear:X(!0),onLeave(H,ft){const yt=()=>G(H,ft);_i(H,f),M1(),_i(H,d),rg(()=>{lr(H,f),_i(H,p),sg(D)||og(H,n,x,yt)}),ws(D,[H,yt])},onEnterCancelled(H){V(H,!1),ws(A,[H])},onAppearCancelled(H){V(H,!0),ws($,[H])},onLeaveCancelled(H){G(H),ws(N,[H])}})}function S1(i){if(i==null)return null;if(Ue(i))return[oh(i.enter),oh(i.leave)];{const t=oh(i);return[t,t]}}function oh(i){return Of(i)}function _i(i,t){t.split(/\s+/).forEach(e=>e&&i.classList.add(e)),(i._vtc||(i._vtc=new Set)).add(t)}function lr(i,t){t.split(/\s+/).forEach(n=>n&&i.classList.remove(n));const{_vtc:e}=i;e&&(e.delete(t),e.size||(i._vtc=void 0))}function rg(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let E1=0;function og(i,t,e,n){const s=i._endId=++E1,r=()=>{s===i._endId&&n()};if(e)return setTimeout(r,e);const{type:o,timeout:a,propCount:l}=A1(i,t);if(!o)return n();const c=o+"end";let h=0;const f=()=>{i.removeEventListener(c,d),r()},d=p=>{p.target===i&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),i.addEventListener(c,d)}function A1(i,t){const e=window.getComputedStyle(i),n=y=>(e[y]||"").split(", "),s=n(Bi+"Delay"),r=n(Bi+"Duration"),o=ag(s,r),a=n(po+"Delay"),l=n(po+"Duration"),c=ag(a,l);let h=null,f=0,d=0;t===Bi?o>0&&(h=Bi,f=o,d=r.length):t===po?c>0&&(h=po,f=c,d=l.length):(f=Math.max(o,c),h=f>0?o>c?Bi:po:null,d=h?h===Bi?r.length:l.length:0);const p=h===Bi&&/\b(transform|all)(,|$)/.test(e[Bi+"Property"]);return{type:h,timeout:f,propCount:d,hasTransform:p}}function ag(i,t){for(;i.length<t.length;)i=i.concat(i);return Math.max(...t.map((e,n)=>lg(e)+lg(i[n])))}function lg(i){return Number(i.slice(0,-1).replace(",","."))*1e3}function M1(){return document.body.offsetHeight}const T1={beforeMount(i,{value:t},{transition:e}){i._vod=i.style.display==="none"?"":i.style.display,e&&t?e.beforeEnter(i):mo(i,t)},mounted(i,{value:t},{transition:e}){e&&t&&e.enter(i)},updated(i,{value:t,oldValue:e},{transition:n}){!t!=!e&&(n?t?(n.beforeEnter(i),mo(i,!0),n.enter(i)):n.leave(i,()=>{mo(i,!1)}):mo(i,t))},beforeUnmount(i,{value:t}){mo(i,t)}};function mo(i,t){i.style.display=t?i._vod:"none"}const O1=Je({patchProp:v1},r1);let cg;function P1(){return cg||(cg=yC(O1))}const RN=(...i)=>{const t=P1().createApp(...i),{mount:e}=t;return t.mount=n=>{const s=D1(n);if(!s)return;const r=t._component;!_t(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=e(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function D1(i){return Ie(i)?document.querySelector(i):i}var bo=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},hg={exports:{}};/*!
 * jQuery JavaScript Library v3.6.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2021-03-02T17:08Z
 */(function(i){(function(t,e){i.exports=t.document?e(t,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return e(n)}})(typeof window!="undefined"?window:bo,function(t,e){var n=[],s=Object.getPrototypeOf,r=n.slice,o=n.flat?function(u){return n.flat.call(u)}:function(u){return n.concat.apply([],u)},a=n.push,l=n.indexOf,c={},h=c.toString,f=c.hasOwnProperty,d=f.toString,p=d.call(Object),y={},v=function(g){return typeof g=="function"&&typeof g.nodeType!="number"&&typeof g.item!="function"},x=function(g){return g!=null&&g===g.window},w=t.document,M={type:!0,src:!0,nonce:!0,noModule:!0};function A(u,g,b){b=b||w;var C,S,E=b.createElement("script");if(E.text=u,g)for(C in M)S=g[C]||g.getAttribute&&g.getAttribute(C),S&&E.setAttribute(C,S);b.head.appendChild(E).parentNode.removeChild(E)}function D(u){return u==null?u+"":typeof u=="object"||typeof u=="function"?c[h.call(u)]||"object":typeof u}var N="3.6.0",m=function(u,g){return new m.fn.init(u,g)};m.fn=m.prototype={jquery:N,constructor:m,length:0,toArray:function(){return r.call(this)},get:function(u){return u==null?r.call(this):u<0?this[u+this.length]:this[u]},pushStack:function(u){var g=m.merge(this.constructor(),u);return g.prevObject=this,g},each:function(u){return m.each(this,u)},map:function(u){return this.pushStack(m.map(this,function(g,b){return u.call(g,b,g)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(m.grep(this,function(u,g){return(g+1)%2}))},odd:function(){return this.pushStack(m.grep(this,function(u,g){return g%2}))},eq:function(u){var g=this.length,b=+u+(u<0?g:0);return this.pushStack(b>=0&&b<g?[this[b]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},m.extend=m.fn.extend=function(){var u,g,b,C,S,E,T=arguments[0]||{},F=1,I=arguments.length,B=!1;for(typeof T=="boolean"&&(B=T,T=arguments[F]||{},F++),typeof T!="object"&&!v(T)&&(T={}),F===I&&(T=this,F--);F<I;F++)if((u=arguments[F])!=null)for(g in u)C=u[g],!(g==="__proto__"||T===C)&&(B&&C&&(m.isPlainObject(C)||(S=Array.isArray(C)))?(b=T[g],S&&!Array.isArray(b)?E=[]:!S&&!m.isPlainObject(b)?E={}:E=b,S=!1,T[g]=m.extend(B,E,C)):C!==void 0&&(T[g]=C));return T},m.extend({expando:"jQuery"+(N+Math.random()).replace(/\D/g,""),isReady:!0,error:function(u){throw new Error(u)},noop:function(){},isPlainObject:function(u){var g,b;return!u||h.call(u)!=="[object Object]"?!1:(g=s(u),g?(b=f.call(g,"constructor")&&g.constructor,typeof b=="function"&&d.call(b)===p):!0)},isEmptyObject:function(u){var g;for(g in u)return!1;return!0},globalEval:function(u,g,b){A(u,{nonce:g&&g.nonce},b)},each:function(u,g){var b,C=0;if(P(u))for(b=u.length;C<b&&g.call(u[C],C,u[C])!==!1;C++);else for(C in u)if(g.call(u[C],C,u[C])===!1)break;return u},makeArray:function(u,g){var b=g||[];return u!=null&&(P(Object(u))?m.merge(b,typeof u=="string"?[u]:u):a.call(b,u)),b},inArray:function(u,g,b){return g==null?-1:l.call(g,u,b)},merge:function(u,g){for(var b=+g.length,C=0,S=u.length;C<b;C++)u[S++]=g[C];return u.length=S,u},grep:function(u,g,b){for(var C,S=[],E=0,T=u.length,F=!b;E<T;E++)C=!g(u[E],E),C!==F&&S.push(u[E]);return S},map:function(u,g,b){var C,S,E=0,T=[];if(P(u))for(C=u.length;E<C;E++)S=g(u[E],E,b),S!=null&&T.push(S);else for(E in u)S=g(u[E],E,b),S!=null&&T.push(S);return o(T)},guid:1,support:y}),typeof Symbol=="function"&&(m.fn[Symbol.iterator]=n[Symbol.iterator]),m.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(u,g){c["[object "+g+"]"]=g.toLowerCase()});function P(u){var g=!!u&&"length"in u&&u.length,b=D(u);return v(u)||x(u)?!1:b==="array"||g===0||typeof g=="number"&&g>0&&g-1 in u}var $=function(u){var g,b,C,S,E,T,F,I,B,Y,nt,W,Z,Et,Ft,At,Ve,je,xn,ue="sizzle"+1*new Date,Lt=u.document,dn=0,te=0,Me=ha(),Kr=ha(),aa=ha(),wn=ha(),as=function(O,L){return O===L&&(nt=!0),0},ls={}.hasOwnProperty,gn=[],$i=gn.pop,Nn=gn.push,Li=gn.push,bf=gn.slice,cs=function(O,L){for(var z=0,Q=O.length;z<Q;z++)if(O[z]===L)return z;return-1},ec="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ae="[\\x20\\t\\r\\n\\f]",hs="(?:\\\\[\\da-fA-F]{1,6}"+ae+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",yf="\\["+ae+"*("+hs+")(?:"+ae+"*([*^$|!~]?=)"+ae+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+hs+"))|)"+ae+"*\\]",nc=":("+hs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+yf+")*)|.*)\\)|)",Pb=new RegExp(ae+"+","g"),la=new RegExp("^"+ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ae+"+$","g"),Db=new RegExp("^"+ae+"*,"+ae+"*"),Cf=new RegExp("^"+ae+"*([>+~]|"+ae+")"+ae+"*"),kb=new RegExp(ae+"|>"),Nb=new RegExp(nc),$b=new RegExp("^"+hs+"$"),ca={ID:new RegExp("^#("+hs+")"),CLASS:new RegExp("^\\.("+hs+")"),TAG:new RegExp("^("+hs+"|[*])"),ATTR:new RegExp("^"+yf),PSEUDO:new RegExp("^"+nc),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ae+"*(even|odd|(([+-]|)(\\d*)n|)"+ae+"*(?:([+-]|)"+ae+"*(\\d+)|))"+ae+"*\\)|)","i"),bool:new RegExp("^(?:"+ec+")$","i"),needsContext:new RegExp("^"+ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ae+"*((?:-\\d)?\\d*)"+ae+"*\\)|)(?=[^-]|$)","i")},Lb=/HTML$/i,Fb=/^(?:input|select|textarea|button)$/i,jb=/^h\d$/i,Jr=/^[^{]+\{\s*\[native \w/,Ib=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ic=/[+~]/,gi=new RegExp("\\\\[\\da-fA-F]{1,6}"+ae+"?|\\\\([^\\r\\n\\f])","g"),pi=function(O,L){var z="0x"+O.slice(1)-65536;return L||(z<0?String.fromCharCode(z+65536):String.fromCharCode(z>>10|55296,z&1023|56320))},vf=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xf=function(O,L){return L?O==="\0"?"\uFFFD":O.slice(0,-1)+"\\"+O.charCodeAt(O.length-1).toString(16)+" ":"\\"+O},wf=function(){W()},zb=fa(function(O){return O.disabled===!0&&O.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Li.apply(gn=bf.call(Lt.childNodes),Lt.childNodes),gn[Lt.childNodes.length].nodeType}catch{Li={apply:gn.length?function(L,z){Nn.apply(L,bf.call(z))}:function(L,z){for(var Q=L.length,_=0;L[Q++]=z[_++];);L.length=Q-1}}}function fe(O,L,z,Q){var _,et,it,ut,gt,Ot,Mt,kt=L&&L.ownerDocument,qt=L?L.nodeType:9;if(z=z||[],typeof O!="string"||!O||qt!==1&&qt!==9&&qt!==11)return z;if(!Q&&(W(L),L=L||Z,Ft)){if(qt!==11&&(gt=Ib.exec(O)))if(_=gt[1]){if(qt===9)if(it=L.getElementById(_)){if(it.id===_)return z.push(it),z}else return z;else if(kt&&(it=kt.getElementById(_))&&xn(L,it)&&it.id===_)return z.push(it),z}else{if(gt[2])return Li.apply(z,L.getElementsByTagName(O)),z;if((_=gt[3])&&b.getElementsByClassName&&L.getElementsByClassName)return Li.apply(z,L.getElementsByClassName(_)),z}if(b.qsa&&!wn[O+" "]&&(!At||!At.test(O))&&(qt!==1||L.nodeName.toLowerCase()!=="object")){if(Mt=O,kt=L,qt===1&&(kb.test(O)||Cf.test(O))){for(kt=ic.test(O)&&rc(L.parentNode)||L,(kt!==L||!b.scope)&&((ut=L.getAttribute("id"))?ut=ut.replace(vf,xf):L.setAttribute("id",ut=ue)),Ot=T(O),et=Ot.length;et--;)Ot[et]=(ut?"#"+ut:":scope")+" "+ua(Ot[et]);Mt=Ot.join(",")}try{return Li.apply(z,kt.querySelectorAll(Mt)),z}catch{wn(O,!0)}finally{ut===ue&&L.removeAttribute("id")}}}return I(O.replace(la,"$1"),L,z,Q)}function ha(){var O=[];function L(z,Q){return O.push(z+" ")>C.cacheLength&&delete L[O.shift()],L[z+" "]=Q}return L}function Gn(O){return O[ue]=!0,O}function Un(O){var L=Z.createElement("fieldset");try{return!!O(L)}catch{return!1}finally{L.parentNode&&L.parentNode.removeChild(L),L=null}}function sc(O,L){for(var z=O.split("|"),Q=z.length;Q--;)C.attrHandle[z[Q]]=L}function Sf(O,L){var z=L&&O,Q=z&&O.nodeType===1&&L.nodeType===1&&O.sourceIndex-L.sourceIndex;if(Q)return Q;if(z){for(;z=z.nextSibling;)if(z===L)return-1}return O?1:-1}function Rb(O){return function(L){var z=L.nodeName.toLowerCase();return z==="input"&&L.type===O}}function Bb(O){return function(L){var z=L.nodeName.toLowerCase();return(z==="input"||z==="button")&&L.type===O}}function Ef(O){return function(L){return"form"in L?L.parentNode&&L.disabled===!1?"label"in L?"label"in L.parentNode?L.parentNode.disabled===O:L.disabled===O:L.isDisabled===O||L.isDisabled!==!O&&zb(L)===O:L.disabled===O:"label"in L?L.disabled===O:!1}}function us(O){return Gn(function(L){return L=+L,Gn(function(z,Q){for(var _,et=O([],z.length,L),it=et.length;it--;)z[_=et[it]]&&(z[_]=!(Q[_]=z[_]))})})}function rc(O){return O&&typeof O.getElementsByTagName!="undefined"&&O}b=fe.support={},E=fe.isXML=function(O){var L=O&&O.namespaceURI,z=O&&(O.ownerDocument||O).documentElement;return!Lb.test(L||z&&z.nodeName||"HTML")},W=fe.setDocument=function(O){var L,z,Q=O?O.ownerDocument||O:Lt;return Q==Z||Q.nodeType!==9||!Q.documentElement||(Z=Q,Et=Z.documentElement,Ft=!E(Z),Lt!=Z&&(z=Z.defaultView)&&z.top!==z&&(z.addEventListener?z.addEventListener("unload",wf,!1):z.attachEvent&&z.attachEvent("onunload",wf)),b.scope=Un(function(_){return Et.appendChild(_).appendChild(Z.createElement("div")),typeof _.querySelectorAll!="undefined"&&!_.querySelectorAll(":scope fieldset div").length}),b.attributes=Un(function(_){return _.className="i",!_.getAttribute("className")}),b.getElementsByTagName=Un(function(_){return _.appendChild(Z.createComment("")),!_.getElementsByTagName("*").length}),b.getElementsByClassName=Jr.test(Z.getElementsByClassName),b.getById=Un(function(_){return Et.appendChild(_).id=ue,!Z.getElementsByName||!Z.getElementsByName(ue).length}),b.getById?(C.filter.ID=function(_){var et=_.replace(gi,pi);return function(it){return it.getAttribute("id")===et}},C.find.ID=function(_,et){if(typeof et.getElementById!="undefined"&&Ft){var it=et.getElementById(_);return it?[it]:[]}}):(C.filter.ID=function(_){var et=_.replace(gi,pi);return function(it){var ut=typeof it.getAttributeNode!="undefined"&&it.getAttributeNode("id");return ut&&ut.value===et}},C.find.ID=function(_,et){if(typeof et.getElementById!="undefined"&&Ft){var it,ut,gt,Ot=et.getElementById(_);if(Ot){if(it=Ot.getAttributeNode("id"),it&&it.value===_)return[Ot];for(gt=et.getElementsByName(_),ut=0;Ot=gt[ut++];)if(it=Ot.getAttributeNode("id"),it&&it.value===_)return[Ot]}return[]}}),C.find.TAG=b.getElementsByTagName?function(_,et){if(typeof et.getElementsByTagName!="undefined")return et.getElementsByTagName(_);if(b.qsa)return et.querySelectorAll(_)}:function(_,et){var it,ut=[],gt=0,Ot=et.getElementsByTagName(_);if(_==="*"){for(;it=Ot[gt++];)it.nodeType===1&&ut.push(it);return ut}return Ot},C.find.CLASS=b.getElementsByClassName&&function(_,et){if(typeof et.getElementsByClassName!="undefined"&&Ft)return et.getElementsByClassName(_)},Ve=[],At=[],(b.qsa=Jr.test(Z.querySelectorAll))&&(Un(function(_){var et;Et.appendChild(_).innerHTML="<a id='"+ue+"'></a><select id='"+ue+"-\r\\' msallowcapture=''><option selected=''></option></select>",_.querySelectorAll("[msallowcapture^='']").length&&At.push("[*^$]="+ae+`*(?:''|"")`),_.querySelectorAll("[selected]").length||At.push("\\["+ae+"*(?:value|"+ec+")"),_.querySelectorAll("[id~="+ue+"-]").length||At.push("~="),et=Z.createElement("input"),et.setAttribute("name",""),_.appendChild(et),_.querySelectorAll("[name='']").length||At.push("\\["+ae+"*name"+ae+"*="+ae+`*(?:''|"")`),_.querySelectorAll(":checked").length||At.push(":checked"),_.querySelectorAll("a#"+ue+"+*").length||At.push(".#.+[+~]"),_.querySelectorAll("\\\f"),At.push("[\\r\\n\\f]")}),Un(function(_){_.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var et=Z.createElement("input");et.setAttribute("type","hidden"),_.appendChild(et).setAttribute("name","D"),_.querySelectorAll("[name=d]").length&&At.push("name"+ae+"*[*^$|!~]?="),_.querySelectorAll(":enabled").length!==2&&At.push(":enabled",":disabled"),Et.appendChild(_).disabled=!0,_.querySelectorAll(":disabled").length!==2&&At.push(":enabled",":disabled"),_.querySelectorAll("*,:x"),At.push(",.*:")})),(b.matchesSelector=Jr.test(je=Et.matches||Et.webkitMatchesSelector||Et.mozMatchesSelector||Et.oMatchesSelector||Et.msMatchesSelector))&&Un(function(_){b.disconnectedMatch=je.call(_,"*"),je.call(_,"[s!='']:x"),Ve.push("!=",nc)}),At=At.length&&new RegExp(At.join("|")),Ve=Ve.length&&new RegExp(Ve.join("|")),L=Jr.test(Et.compareDocumentPosition),xn=L||Jr.test(Et.contains)?function(_,et){var it=_.nodeType===9?_.documentElement:_,ut=et&&et.parentNode;return _===ut||!!(ut&&ut.nodeType===1&&(it.contains?it.contains(ut):_.compareDocumentPosition&&_.compareDocumentPosition(ut)&16))}:function(_,et){if(et){for(;et=et.parentNode;)if(et===_)return!0}return!1},as=L?function(_,et){if(_===et)return nt=!0,0;var it=!_.compareDocumentPosition-!et.compareDocumentPosition;return it||(it=(_.ownerDocument||_)==(et.ownerDocument||et)?_.compareDocumentPosition(et):1,it&1||!b.sortDetached&&et.compareDocumentPosition(_)===it?_==Z||_.ownerDocument==Lt&&xn(Lt,_)?-1:et==Z||et.ownerDocument==Lt&&xn(Lt,et)?1:Y?cs(Y,_)-cs(Y,et):0:it&4?-1:1)}:function(_,et){if(_===et)return nt=!0,0;var it,ut=0,gt=_.parentNode,Ot=et.parentNode,Mt=[_],kt=[et];if(!gt||!Ot)return _==Z?-1:et==Z?1:gt?-1:Ot?1:Y?cs(Y,_)-cs(Y,et):0;if(gt===Ot)return Sf(_,et);for(it=_;it=it.parentNode;)Mt.unshift(it);for(it=et;it=it.parentNode;)kt.unshift(it);for(;Mt[ut]===kt[ut];)ut++;return ut?Sf(Mt[ut],kt[ut]):Mt[ut]==Lt?-1:kt[ut]==Lt?1:0}),Z},fe.matches=function(O,L){return fe(O,null,null,L)},fe.matchesSelector=function(O,L){if(W(O),b.matchesSelector&&Ft&&!wn[L+" "]&&(!Ve||!Ve.test(L))&&(!At||!At.test(L)))try{var z=je.call(O,L);if(z||b.disconnectedMatch||O.document&&O.document.nodeType!==11)return z}catch{wn(L,!0)}return fe(L,Z,null,[O]).length>0},fe.contains=function(O,L){return(O.ownerDocument||O)!=Z&&W(O),xn(O,L)},fe.attr=function(O,L){(O.ownerDocument||O)!=Z&&W(O);var z=C.attrHandle[L.toLowerCase()],Q=z&&ls.call(C.attrHandle,L.toLowerCase())?z(O,L,!Ft):void 0;return Q!==void 0?Q:b.attributes||!Ft?O.getAttribute(L):(Q=O.getAttributeNode(L))&&Q.specified?Q.value:null},fe.escape=function(O){return(O+"").replace(vf,xf)},fe.error=function(O){throw new Error("Syntax error, unrecognized expression: "+O)},fe.uniqueSort=function(O){var L,z=[],Q=0,_=0;if(nt=!b.detectDuplicates,Y=!b.sortStable&&O.slice(0),O.sort(as),nt){for(;L=O[_++];)L===O[_]&&(Q=z.push(_));for(;Q--;)O.splice(z[Q],1)}return Y=null,O},S=fe.getText=function(O){var L,z="",Q=0,_=O.nodeType;if(_){if(_===1||_===9||_===11){if(typeof O.textContent=="string")return O.textContent;for(O=O.firstChild;O;O=O.nextSibling)z+=S(O)}else if(_===3||_===4)return O.nodeValue}else for(;L=O[Q++];)z+=S(L);return z},C=fe.selectors={cacheLength:50,createPseudo:Gn,match:ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(O){return O[1]=O[1].replace(gi,pi),O[3]=(O[3]||O[4]||O[5]||"").replace(gi,pi),O[2]==="~="&&(O[3]=" "+O[3]+" "),O.slice(0,4)},CHILD:function(O){return O[1]=O[1].toLowerCase(),O[1].slice(0,3)==="nth"?(O[3]||fe.error(O[0]),O[4]=+(O[4]?O[5]+(O[6]||1):2*(O[3]==="even"||O[3]==="odd")),O[5]=+(O[7]+O[8]||O[3]==="odd")):O[3]&&fe.error(O[0]),O},PSEUDO:function(O){var L,z=!O[6]&&O[2];return ca.CHILD.test(O[0])?null:(O[3]?O[2]=O[4]||O[5]||"":z&&Nb.test(z)&&(L=T(z,!0))&&(L=z.indexOf(")",z.length-L)-z.length)&&(O[0]=O[0].slice(0,L),O[2]=z.slice(0,L)),O.slice(0,3))}},filter:{TAG:function(O){var L=O.replace(gi,pi).toLowerCase();return O==="*"?function(){return!0}:function(z){return z.nodeName&&z.nodeName.toLowerCase()===L}},CLASS:function(O){var L=Me[O+" "];return L||(L=new RegExp("(^|"+ae+")"+O+"("+ae+"|$)"))&&Me(O,function(z){return L.test(typeof z.className=="string"&&z.className||typeof z.getAttribute!="undefined"&&z.getAttribute("class")||"")})},ATTR:function(O,L,z){return function(Q){var _=fe.attr(Q,O);return _==null?L==="!=":L?(_+="",L==="="?_===z:L==="!="?_!==z:L==="^="?z&&_.indexOf(z)===0:L==="*="?z&&_.indexOf(z)>-1:L==="$="?z&&_.slice(-z.length)===z:L==="~="?(" "+_.replace(Pb," ")+" ").indexOf(z)>-1:L==="|="?_===z||_.slice(0,z.length+1)===z+"-":!1):!0}},CHILD:function(O,L,z,Q,_){var et=O.slice(0,3)!=="nth",it=O.slice(-4)!=="last",ut=L==="of-type";return Q===1&&_===0?function(gt){return!!gt.parentNode}:function(gt,Ot,Mt){var kt,qt,de,Pt,He,nn,Sn=et!==it?"nextSibling":"previousSibling",Ee=gt.parentNode,Zr=ut&&gt.nodeName.toLowerCase(),Qr=!Mt&&!ut,En=!1;if(Ee){if(et){for(;Sn;){for(Pt=gt;Pt=Pt[Sn];)if(ut?Pt.nodeName.toLowerCase()===Zr:Pt.nodeType===1)return!1;nn=Sn=O==="only"&&!nn&&"nextSibling"}return!0}if(nn=[it?Ee.firstChild:Ee.lastChild],it&&Qr){for(Pt=Ee,de=Pt[ue]||(Pt[ue]={}),qt=de[Pt.uniqueID]||(de[Pt.uniqueID]={}),kt=qt[O]||[],He=kt[0]===dn&&kt[1],En=He&&kt[2],Pt=He&&Ee.childNodes[He];Pt=++He&&Pt&&Pt[Sn]||(En=He=0)||nn.pop();)if(Pt.nodeType===1&&++En&&Pt===gt){qt[O]=[dn,He,En];break}}else if(Qr&&(Pt=gt,de=Pt[ue]||(Pt[ue]={}),qt=de[Pt.uniqueID]||(de[Pt.uniqueID]={}),kt=qt[O]||[],He=kt[0]===dn&&kt[1],En=He),En===!1)for(;(Pt=++He&&Pt&&Pt[Sn]||(En=He=0)||nn.pop())&&!((ut?Pt.nodeName.toLowerCase()===Zr:Pt.nodeType===1)&&++En&&(Qr&&(de=Pt[ue]||(Pt[ue]={}),qt=de[Pt.uniqueID]||(de[Pt.uniqueID]={}),qt[O]=[dn,En]),Pt===gt)););return En-=_,En===Q||En%Q==0&&En/Q>=0}}},PSEUDO:function(O,L){var z,Q=C.pseudos[O]||C.setFilters[O.toLowerCase()]||fe.error("unsupported pseudo: "+O);return Q[ue]?Q(L):Q.length>1?(z=[O,O,"",L],C.setFilters.hasOwnProperty(O.toLowerCase())?Gn(function(_,et){for(var it,ut=Q(_,L),gt=ut.length;gt--;)it=cs(_,ut[gt]),_[it]=!(et[it]=ut[gt])}):function(_){return Q(_,0,z)}):Q}},pseudos:{not:Gn(function(O){var L=[],z=[],Q=F(O.replace(la,"$1"));return Q[ue]?Gn(function(_,et,it,ut){for(var gt,Ot=Q(_,null,ut,[]),Mt=_.length;Mt--;)(gt=Ot[Mt])&&(_[Mt]=!(et[Mt]=gt))}):function(_,et,it){return L[0]=_,Q(L,null,it,z),L[0]=null,!z.pop()}}),has:Gn(function(O){return function(L){return fe(O,L).length>0}}),contains:Gn(function(O){return O=O.replace(gi,pi),function(L){return(L.textContent||S(L)).indexOf(O)>-1}}),lang:Gn(function(O){return $b.test(O||"")||fe.error("unsupported lang: "+O),O=O.replace(gi,pi).toLowerCase(),function(L){var z;do if(z=Ft?L.lang:L.getAttribute("xml:lang")||L.getAttribute("lang"))return z=z.toLowerCase(),z===O||z.indexOf(O+"-")===0;while((L=L.parentNode)&&L.nodeType===1);return!1}}),target:function(O){var L=u.location&&u.location.hash;return L&&L.slice(1)===O.id},root:function(O){return O===Et},focus:function(O){return O===Z.activeElement&&(!Z.hasFocus||Z.hasFocus())&&!!(O.type||O.href||~O.tabIndex)},enabled:Ef(!1),disabled:Ef(!0),checked:function(O){var L=O.nodeName.toLowerCase();return L==="input"&&!!O.checked||L==="option"&&!!O.selected},selected:function(O){return O.parentNode&&O.parentNode.selectedIndex,O.selected===!0},empty:function(O){for(O=O.firstChild;O;O=O.nextSibling)if(O.nodeType<6)return!1;return!0},parent:function(O){return!C.pseudos.empty(O)},header:function(O){return jb.test(O.nodeName)},input:function(O){return Fb.test(O.nodeName)},button:function(O){var L=O.nodeName.toLowerCase();return L==="input"&&O.type==="button"||L==="button"},text:function(O){var L;return O.nodeName.toLowerCase()==="input"&&O.type==="text"&&((L=O.getAttribute("type"))==null||L.toLowerCase()==="text")},first:us(function(){return[0]}),last:us(function(O,L){return[L-1]}),eq:us(function(O,L,z){return[z<0?z+L:z]}),even:us(function(O,L){for(var z=0;z<L;z+=2)O.push(z);return O}),odd:us(function(O,L){for(var z=1;z<L;z+=2)O.push(z);return O}),lt:us(function(O,L,z){for(var Q=z<0?z+L:z>L?L:z;--Q>=0;)O.push(Q);return O}),gt:us(function(O,L,z){for(var Q=z<0?z+L:z;++Q<L;)O.push(Q);return O})}},C.pseudos.nth=C.pseudos.eq;for(g in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[g]=Rb(g);for(g in{submit:!0,reset:!0})C.pseudos[g]=Bb(g);function Af(){}Af.prototype=C.filters=C.pseudos,C.setFilters=new Af,T=fe.tokenize=function(O,L){var z,Q,_,et,it,ut,gt,Ot=Kr[O+" "];if(Ot)return L?0:Ot.slice(0);for(it=O,ut=[],gt=C.preFilter;it;){(!z||(Q=Db.exec(it)))&&(Q&&(it=it.slice(Q[0].length)||it),ut.push(_=[])),z=!1,(Q=Cf.exec(it))&&(z=Q.shift(),_.push({value:z,type:Q[0].replace(la," ")}),it=it.slice(z.length));for(et in C.filter)(Q=ca[et].exec(it))&&(!gt[et]||(Q=gt[et](Q)))&&(z=Q.shift(),_.push({value:z,type:et,matches:Q}),it=it.slice(z.length));if(!z)break}return L?it.length:it?fe.error(O):Kr(O,ut).slice(0)};function ua(O){for(var L=0,z=O.length,Q="";L<z;L++)Q+=O[L].value;return Q}function fa(O,L,z){var Q=L.dir,_=L.next,et=_||Q,it=z&&et==="parentNode",ut=te++;return L.first?function(gt,Ot,Mt){for(;gt=gt[Q];)if(gt.nodeType===1||it)return O(gt,Ot,Mt);return!1}:function(gt,Ot,Mt){var kt,qt,de,Pt=[dn,ut];if(Mt){for(;gt=gt[Q];)if((gt.nodeType===1||it)&&O(gt,Ot,Mt))return!0}else for(;gt=gt[Q];)if(gt.nodeType===1||it)if(de=gt[ue]||(gt[ue]={}),qt=de[gt.uniqueID]||(de[gt.uniqueID]={}),_&&_===gt.nodeName.toLowerCase())gt=gt[Q]||gt;else{if((kt=qt[et])&&kt[0]===dn&&kt[1]===ut)return Pt[2]=kt[2];if(qt[et]=Pt,Pt[2]=O(gt,Ot,Mt))return!0}return!1}}function oc(O){return O.length>1?function(L,z,Q){for(var _=O.length;_--;)if(!O[_](L,z,Q))return!1;return!0}:O[0]}function _b(O,L,z){for(var Q=0,_=L.length;Q<_;Q++)fe(O,L[Q],z);return z}function da(O,L,z,Q,_){for(var et,it=[],ut=0,gt=O.length,Ot=L!=null;ut<gt;ut++)(et=O[ut])&&(!z||z(et,Q,_))&&(it.push(et),Ot&&L.push(ut));return it}function ac(O,L,z,Q,_,et){return Q&&!Q[ue]&&(Q=ac(Q)),_&&!_[ue]&&(_=ac(_,et)),Gn(function(it,ut,gt,Ot){var Mt,kt,qt,de=[],Pt=[],He=ut.length,nn=it||_b(L||"*",gt.nodeType?[gt]:gt,[]),Sn=O&&(it||!L)?da(nn,de,O,gt,Ot):nn,Ee=z?_||(it?O:He||Q)?[]:ut:Sn;if(z&&z(Sn,Ee,gt,Ot),Q)for(Mt=da(Ee,Pt),Q(Mt,[],gt,Ot),kt=Mt.length;kt--;)(qt=Mt[kt])&&(Ee[Pt[kt]]=!(Sn[Pt[kt]]=qt));if(it){if(_||O){if(_){for(Mt=[],kt=Ee.length;kt--;)(qt=Ee[kt])&&Mt.push(Sn[kt]=qt);_(null,Ee=[],Mt,Ot)}for(kt=Ee.length;kt--;)(qt=Ee[kt])&&(Mt=_?cs(it,qt):de[kt])>-1&&(it[Mt]=!(ut[Mt]=qt))}}else Ee=da(Ee===ut?Ee.splice(He,Ee.length):Ee),_?_(null,ut,Ee,Ot):Li.apply(ut,Ee)})}function lc(O){for(var L,z,Q,_=O.length,et=C.relative[O[0].type],it=et||C.relative[" "],ut=et?1:0,gt=fa(function(kt){return kt===L},it,!0),Ot=fa(function(kt){return cs(L,kt)>-1},it,!0),Mt=[function(kt,qt,de){var Pt=!et&&(de||qt!==B)||((L=qt).nodeType?gt(kt,qt,de):Ot(kt,qt,de));return L=null,Pt}];ut<_;ut++)if(z=C.relative[O[ut].type])Mt=[fa(oc(Mt),z)];else{if(z=C.filter[O[ut].type].apply(null,O[ut].matches),z[ue]){for(Q=++ut;Q<_&&!C.relative[O[Q].type];Q++);return ac(ut>1&&oc(Mt),ut>1&&ua(O.slice(0,ut-1).concat({value:O[ut-2].type===" "?"*":""})).replace(la,"$1"),z,ut<Q&&lc(O.slice(ut,Q)),Q<_&&lc(O=O.slice(Q)),Q<_&&ua(O))}Mt.push(z)}return oc(Mt)}function Vb(O,L){var z=L.length>0,Q=O.length>0,_=function(et,it,ut,gt,Ot){var Mt,kt,qt,de=0,Pt="0",He=et&&[],nn=[],Sn=B,Ee=et||Q&&C.find.TAG("*",Ot),Zr=dn+=Sn==null?1:Math.random()||.1,Qr=Ee.length;for(Ot&&(B=it==Z||it||Ot);Pt!==Qr&&(Mt=Ee[Pt])!=null;Pt++){if(Q&&Mt){for(kt=0,!it&&Mt.ownerDocument!=Z&&(W(Mt),ut=!Ft);qt=O[kt++];)if(qt(Mt,it||Z,ut)){gt.push(Mt);break}Ot&&(dn=Zr)}z&&((Mt=!qt&&Mt)&&de--,et&&He.push(Mt))}if(de+=Pt,z&&Pt!==de){for(kt=0;qt=L[kt++];)qt(He,nn,it,ut);if(et){if(de>0)for(;Pt--;)He[Pt]||nn[Pt]||(nn[Pt]=$i.call(gt));nn=da(nn)}Li.apply(gt,nn),Ot&&!et&&nn.length>0&&de+L.length>1&&fe.uniqueSort(gt)}return Ot&&(dn=Zr,B=Sn),He};return z?Gn(_):_}return F=fe.compile=function(O,L){var z,Q=[],_=[],et=aa[O+" "];if(!et){for(L||(L=T(O)),z=L.length;z--;)et=lc(L[z]),et[ue]?Q.push(et):_.push(et);et=aa(O,Vb(_,Q)),et.selector=O}return et},I=fe.select=function(O,L,z,Q){var _,et,it,ut,gt,Ot=typeof O=="function"&&O,Mt=!Q&&T(O=Ot.selector||O);if(z=z||[],Mt.length===1){if(et=Mt[0]=Mt[0].slice(0),et.length>2&&(it=et[0]).type==="ID"&&L.nodeType===9&&Ft&&C.relative[et[1].type]){if(L=(C.find.ID(it.matches[0].replace(gi,pi),L)||[])[0],L)Ot&&(L=L.parentNode);else return z;O=O.slice(et.shift().value.length)}for(_=ca.needsContext.test(O)?0:et.length;_--&&(it=et[_],!C.relative[ut=it.type]);)if((gt=C.find[ut])&&(Q=gt(it.matches[0].replace(gi,pi),ic.test(et[0].type)&&rc(L.parentNode)||L))){if(et.splice(_,1),O=Q.length&&ua(et),!O)return Li.apply(z,Q),z;break}}return(Ot||F(O,Mt))(Q,L,!Ft,z,!L||ic.test(O)&&rc(L.parentNode)||L),z},b.sortStable=ue.split("").sort(as).join("")===ue,b.detectDuplicates=!!nt,W(),b.sortDetached=Un(function(O){return O.compareDocumentPosition(Z.createElement("fieldset"))&1}),Un(function(O){return O.innerHTML="<a href='#'></a>",O.firstChild.getAttribute("href")==="#"})||sc("type|href|height|width",function(O,L,z){if(!z)return O.getAttribute(L,L.toLowerCase()==="type"?1:2)}),(!b.attributes||!Un(function(O){return O.innerHTML="<input/>",O.firstChild.setAttribute("value",""),O.firstChild.getAttribute("value")===""}))&&sc("value",function(O,L,z){if(!z&&O.nodeName.toLowerCase()==="input")return O.defaultValue}),Un(function(O){return O.getAttribute("disabled")==null})||sc(ec,function(O,L,z){var Q;if(!z)return O[L]===!0?L.toLowerCase():(Q=O.getAttributeNode(L))&&Q.specified?Q.value:null}),fe}(t);m.find=$,m.expr=$.selectors,m.expr[":"]=m.expr.pseudos,m.uniqueSort=m.unique=$.uniqueSort,m.text=$.getText,m.isXMLDoc=$.isXML,m.contains=$.contains,m.escapeSelector=$.escape;var V=function(u,g,b){for(var C=[],S=b!==void 0;(u=u[g])&&u.nodeType!==9;)if(u.nodeType===1){if(S&&m(u).is(b))break;C.push(u)}return C},G=function(u,g){for(var b=[];u;u=u.nextSibling)u.nodeType===1&&u!==g&&b.push(u);return b},X=m.expr.match.needsContext;function H(u,g){return u.nodeName&&u.nodeName.toLowerCase()===g.toLowerCase()}var ft=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function yt(u,g,b){return v(g)?m.grep(u,function(C,S){return!!g.call(C,S,C)!==b}):g.nodeType?m.grep(u,function(C){return C===g!==b}):typeof g!="string"?m.grep(u,function(C){return l.call(g,C)>-1!==b}):m.filter(g,u,b)}m.filter=function(u,g,b){var C=g[0];return b&&(u=":not("+u+")"),g.length===1&&C.nodeType===1?m.find.matchesSelector(C,u)?[C]:[]:m.find.matches(u,m.grep(g,function(S){return S.nodeType===1}))},m.fn.extend({find:function(u){var g,b,C=this.length,S=this;if(typeof u!="string")return this.pushStack(m(u).filter(function(){for(g=0;g<C;g++)if(m.contains(S[g],this))return!0}));for(b=this.pushStack([]),g=0;g<C;g++)m.find(u,S[g],b);return C>1?m.uniqueSort(b):b},filter:function(u){return this.pushStack(yt(this,u||[],!1))},not:function(u){return this.pushStack(yt(this,u||[],!0))},is:function(u){return!!yt(this,typeof u=="string"&&X.test(u)?m(u):u||[],!1).length}});var U,K=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,ot=m.fn.init=function(u,g,b){var C,S;if(!u)return this;if(b=b||U,typeof u=="string")if(u[0]==="<"&&u[u.length-1]===">"&&u.length>=3?C=[null,u,null]:C=K.exec(u),C&&(C[1]||!g))if(C[1]){if(g=g instanceof m?g[0]:g,m.merge(this,m.parseHTML(C[1],g&&g.nodeType?g.ownerDocument||g:w,!0)),ft.test(C[1])&&m.isPlainObject(g))for(C in g)v(this[C])?this[C](g[C]):this.attr(C,g[C]);return this}else return S=w.getElementById(C[2]),S&&(this[0]=S,this.length=1),this;else return!g||g.jquery?(g||b).find(u):this.constructor(g).find(u);else{if(u.nodeType)return this[0]=u,this.length=1,this;if(v(u))return b.ready!==void 0?b.ready(u):u(m)}return m.makeArray(u,this)};ot.prototype=m.fn,U=m(w);var vt=/^(?:parents|prev(?:Until|All))/,It={children:!0,contents:!0,next:!0,prev:!0};m.fn.extend({has:function(u){var g=m(u,this),b=g.length;return this.filter(function(){for(var C=0;C<b;C++)if(m.contains(this,g[C]))return!0})},closest:function(u,g){var b,C=0,S=this.length,E=[],T=typeof u!="string"&&m(u);if(!X.test(u)){for(;C<S;C++)for(b=this[C];b&&b!==g;b=b.parentNode)if(b.nodeType<11&&(T?T.index(b)>-1:b.nodeType===1&&m.find.matchesSelector(b,u))){E.push(b);break}}return this.pushStack(E.length>1?m.uniqueSort(E):E)},index:function(u){return u?typeof u=="string"?l.call(m(u),this[0]):l.call(this,u.jquery?u[0]:u):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(u,g){return this.pushStack(m.uniqueSort(m.merge(this.get(),m(u,g))))},addBack:function(u){return this.add(u==null?this.prevObject:this.prevObject.filter(u))}});function ie(u,g){for(;(u=u[g])&&u.nodeType!==1;);return u}m.each({parent:function(u){var g=u.parentNode;return g&&g.nodeType!==11?g:null},parents:function(u){return V(u,"parentNode")},parentsUntil:function(u,g,b){return V(u,"parentNode",b)},next:function(u){return ie(u,"nextSibling")},prev:function(u){return ie(u,"previousSibling")},nextAll:function(u){return V(u,"nextSibling")},prevAll:function(u){return V(u,"previousSibling")},nextUntil:function(u,g,b){return V(u,"nextSibling",b)},prevUntil:function(u,g,b){return V(u,"previousSibling",b)},siblings:function(u){return G((u.parentNode||{}).firstChild,u)},children:function(u){return G(u.firstChild)},contents:function(u){return u.contentDocument!=null&&s(u.contentDocument)?u.contentDocument:(H(u,"template")&&(u=u.content||u),m.merge([],u.childNodes))}},function(u,g){m.fn[u]=function(b,C){var S=m.map(this,g,b);return u.slice(-5)!=="Until"&&(C=b),C&&typeof C=="string"&&(S=m.filter(C,S)),this.length>1&&(It[u]||m.uniqueSort(S),vt.test(u)&&S.reverse()),this.pushStack(S)}});var ht=/[^\x20\t\r\n\f]+/g;function jt(u){var g={};return m.each(u.match(ht)||[],function(b,C){g[C]=!0}),g}m.Callbacks=function(u){u=typeof u=="string"?jt(u):m.extend({},u);var g,b,C,S,E=[],T=[],F=-1,I=function(){for(S=S||u.once,C=g=!0;T.length;F=-1)for(b=T.shift();++F<E.length;)E[F].apply(b[0],b[1])===!1&&u.stopOnFalse&&(F=E.length,b=!1);u.memory||(b=!1),g=!1,S&&(b?E=[]:E="")},B={add:function(){return E&&(b&&!g&&(F=E.length-1,T.push(b)),function Y(nt){m.each(nt,function(W,Z){v(Z)?(!u.unique||!B.has(Z))&&E.push(Z):Z&&Z.length&&D(Z)!=="string"&&Y(Z)})}(arguments),b&&!g&&I()),this},remove:function(){return m.each(arguments,function(Y,nt){for(var W;(W=m.inArray(nt,E,W))>-1;)E.splice(W,1),W<=F&&F--}),this},has:function(Y){return Y?m.inArray(Y,E)>-1:E.length>0},empty:function(){return E&&(E=[]),this},disable:function(){return S=T=[],E=b="",this},disabled:function(){return!E},lock:function(){return S=T=[],!b&&!g&&(E=b=""),this},locked:function(){return!!S},fireWith:function(Y,nt){return S||(nt=nt||[],nt=[Y,nt.slice?nt.slice():nt],T.push(nt),g||I()),this},fire:function(){return B.fireWith(this,arguments),this},fired:function(){return!!C}};return B};function $t(u){return u}function Nt(u){throw u}function Kt(u,g,b,C){var S;try{u&&v(S=u.promise)?S.call(u).done(g).fail(b):u&&v(S=u.then)?S.call(u,g,b):g.apply(void 0,[u].slice(C))}catch(E){b.apply(void 0,[E])}}m.extend({Deferred:function(u){var g=[["notify","progress",m.Callbacks("memory"),m.Callbacks("memory"),2],["resolve","done",m.Callbacks("once memory"),m.Callbacks("once memory"),0,"resolved"],["reject","fail",m.Callbacks("once memory"),m.Callbacks("once memory"),1,"rejected"]],b="pending",C={state:function(){return b},always:function(){return S.done(arguments).fail(arguments),this},catch:function(E){return C.then(null,E)},pipe:function(){var E=arguments;return m.Deferred(function(T){m.each(g,function(F,I){var B=v(E[I[4]])&&E[I[4]];S[I[1]](function(){var Y=B&&B.apply(this,arguments);Y&&v(Y.promise)?Y.promise().progress(T.notify).done(T.resolve).fail(T.reject):T[I[0]+"With"](this,B?[Y]:arguments)})}),E=null}).promise()},then:function(E,T,F){var I=0;function B(Y,nt,W,Z){return function(){var Et=this,Ft=arguments,At=function(){var je,xn;if(!(Y<I)){if(je=W.apply(Et,Ft),je===nt.promise())throw new TypeError("Thenable self-resolution");xn=je&&(typeof je=="object"||typeof je=="function")&&je.then,v(xn)?Z?xn.call(je,B(I,nt,$t,Z),B(I,nt,Nt,Z)):(I++,xn.call(je,B(I,nt,$t,Z),B(I,nt,Nt,Z),B(I,nt,$t,nt.notifyWith))):(W!==$t&&(Et=void 0,Ft=[je]),(Z||nt.resolveWith)(Et,Ft))}},Ve=Z?At:function(){try{At()}catch(je){m.Deferred.exceptionHook&&m.Deferred.exceptionHook(je,Ve.stackTrace),Y+1>=I&&(W!==Nt&&(Et=void 0,Ft=[je]),nt.rejectWith(Et,Ft))}};Y?Ve():(m.Deferred.getStackHook&&(Ve.stackTrace=m.Deferred.getStackHook()),t.setTimeout(Ve))}}return m.Deferred(function(Y){g[0][3].add(B(0,Y,v(F)?F:$t,Y.notifyWith)),g[1][3].add(B(0,Y,v(E)?E:$t)),g[2][3].add(B(0,Y,v(T)?T:Nt))}).promise()},promise:function(E){return E!=null?m.extend(E,C):C}},S={};return m.each(g,function(E,T){var F=T[2],I=T[5];C[T[1]]=F.add,I&&F.add(function(){b=I},g[3-E][2].disable,g[3-E][3].disable,g[0][2].lock,g[0][3].lock),F.add(T[3].fire),S[T[0]]=function(){return S[T[0]+"With"](this===S?void 0:this,arguments),this},S[T[0]+"With"]=F.fireWith}),C.promise(S),u&&u.call(S,S),S},when:function(u){var g=arguments.length,b=g,C=Array(b),S=r.call(arguments),E=m.Deferred(),T=function(F){return function(I){C[F]=this,S[F]=arguments.length>1?r.call(arguments):I,--g||E.resolveWith(C,S)}};if(g<=1&&(Kt(u,E.done(T(b)).resolve,E.reject,!g),E.state()==="pending"||v(S[b]&&S[b].then)))return E.then();for(;b--;)Kt(S[b],T(b),E.reject);return E.promise()}});var Ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;m.Deferred.exceptionHook=function(u,g){t.console&&t.console.warn&&u&&Ae.test(u.name)&&t.console.warn("jQuery.Deferred exception: "+u.message,u.stack,g)},m.readyException=function(u){t.setTimeout(function(){throw u})};var Dt=m.Deferred();m.fn.ready=function(u){return Dt.then(u).catch(function(g){m.readyException(g)}),this},m.extend({isReady:!1,readyWait:1,ready:function(u){(u===!0?--m.readyWait:m.isReady)||(m.isReady=!0,!(u!==!0&&--m.readyWait>0)&&Dt.resolveWith(w,[m]))}}),m.ready.then=Dt.then;function le(){w.removeEventListener("DOMContentLoaded",le),t.removeEventListener("load",le),m.ready()}w.readyState==="complete"||w.readyState!=="loading"&&!w.documentElement.doScroll?t.setTimeout(m.ready):(w.addEventListener("DOMContentLoaded",le),t.addEventListener("load",le));var ke=function(u,g,b,C,S,E,T){var F=0,I=u.length,B=b==null;if(D(b)==="object"){S=!0;for(F in b)ke(u,g,F,b[F],!0,E,T)}else if(C!==void 0&&(S=!0,v(C)||(T=!0),B&&(T?(g.call(u,C),g=null):(B=g,g=function(Y,nt,W){return B.call(m(Y),W)})),g))for(;F<I;F++)g(u[F],b,T?C:C.call(u[F],F,g(u[F],b)));return S?u:B?g.call(u):I?g(u[0],b):E},Se=/^-ms-/,is=/-([a-z])/g;function ss(u,g){return g.toUpperCase()}function j(u){return u.replace(Se,"ms-").replace(is,ss)}var R=function(u){return u.nodeType===1||u.nodeType===9||!+u.nodeType};function J(){this.expando=m.expando+J.uid++}J.uid=1,J.prototype={cache:function(u){var g=u[this.expando];return g||(g={},R(u)&&(u.nodeType?u[this.expando]=g:Object.defineProperty(u,this.expando,{value:g,configurable:!0}))),g},set:function(u,g,b){var C,S=this.cache(u);if(typeof g=="string")S[j(g)]=b;else for(C in g)S[j(C)]=g[C];return S},get:function(u,g){return g===void 0?this.cache(u):u[this.expando]&&u[this.expando][j(g)]},access:function(u,g,b){return g===void 0||g&&typeof g=="string"&&b===void 0?this.get(u,g):(this.set(u,g,b),b!==void 0?b:g)},remove:function(u,g){var b,C=u[this.expando];if(C!==void 0){if(g!==void 0)for(Array.isArray(g)?g=g.map(j):(g=j(g),g=g in C?[g]:g.match(ht)||[]),b=g.length;b--;)delete C[g[b]];(g===void 0||m.isEmptyObject(C))&&(u.nodeType?u[this.expando]=void 0:delete u[this.expando])}},hasData:function(u){var g=u[this.expando];return g!==void 0&&!m.isEmptyObject(g)}};var q=new J,tt=new J,lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,pt=/[A-Z]/g;function at(u){return u==="true"?!0:u==="false"?!1:u==="null"?null:u===+u+""?+u:lt.test(u)?JSON.parse(u):u}function ct(u,g,b){var C;if(b===void 0&&u.nodeType===1)if(C="data-"+g.replace(pt,"-$&").toLowerCase(),b=u.getAttribute(C),typeof b=="string"){try{b=at(b)}catch{}tt.set(u,g,b)}else b=void 0;return b}m.extend({hasData:function(u){return tt.hasData(u)||q.hasData(u)},data:function(u,g,b){return tt.access(u,g,b)},removeData:function(u,g){tt.remove(u,g)},_data:function(u,g,b){return q.access(u,g,b)},_removeData:function(u,g){q.remove(u,g)}}),m.fn.extend({data:function(u,g){var b,C,S,E=this[0],T=E&&E.attributes;if(u===void 0){if(this.length&&(S=tt.get(E),E.nodeType===1&&!q.get(E,"hasDataAttrs"))){for(b=T.length;b--;)T[b]&&(C=T[b].name,C.indexOf("data-")===0&&(C=j(C.slice(5)),ct(E,C,S[C])));q.set(E,"hasDataAttrs",!0)}return S}return typeof u=="object"?this.each(function(){tt.set(this,u)}):ke(this,function(F){var I;if(E&&F===void 0)return I=tt.get(E,u),I!==void 0||(I=ct(E,u),I!==void 0)?I:void 0;this.each(function(){tt.set(this,u,F)})},null,g,arguments.length>1,null,!0)},removeData:function(u){return this.each(function(){tt.remove(this,u)})}}),m.extend({queue:function(u,g,b){var C;if(u)return g=(g||"fx")+"queue",C=q.get(u,g),b&&(!C||Array.isArray(b)?C=q.access(u,g,m.makeArray(b)):C.push(b)),C||[]},dequeue:function(u,g){g=g||"fx";var b=m.queue(u,g),C=b.length,S=b.shift(),E=m._queueHooks(u,g),T=function(){m.dequeue(u,g)};S==="inprogress"&&(S=b.shift(),C--),S&&(g==="fx"&&b.unshift("inprogress"),delete E.stop,S.call(u,T,E)),!C&&E&&E.empty.fire()},_queueHooks:function(u,g){var b=g+"queueHooks";return q.get(u,b)||q.access(u,b,{empty:m.Callbacks("once memory").add(function(){q.remove(u,[g+"queue",b])})})}}),m.fn.extend({queue:function(u,g){var b=2;return typeof u!="string"&&(g=u,u="fx",b--),arguments.length<b?m.queue(this[0],u):g===void 0?this:this.each(function(){var C=m.queue(this,u,g);m._queueHooks(this,u),u==="fx"&&C[0]!=="inprogress"&&m.dequeue(this,u)})},dequeue:function(u){return this.each(function(){m.dequeue(this,u)})},clearQueue:function(u){return this.queue(u||"fx",[])},promise:function(u,g){var b,C=1,S=m.Deferred(),E=this,T=this.length,F=function(){--C||S.resolveWith(E,[E])};for(typeof u!="string"&&(g=u,u=void 0),u=u||"fx";T--;)b=q.get(E[T],u+"queueHooks"),b&&b.empty&&(C++,b.empty.add(F));return F(),S.promise(g)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),Ct=["Top","Right","Bottom","Left"],xt=w.documentElement,Tt=function(u){return m.contains(u.ownerDocument,u)},Xt={composed:!0};xt.getRootNode&&(Tt=function(u){return m.contains(u.ownerDocument,u)||u.getRootNode(Xt)===u.ownerDocument});var ce=function(u,g){return u=g||u,u.style.display==="none"||u.style.display===""&&Tt(u)&&m.css(u,"display")==="none"};function oe(u,g,b,C){var S,E,T=20,F=C?function(){return C.cur()}:function(){return m.css(u,g,"")},I=F(),B=b&&b[3]||(m.cssNumber[g]?"":"px"),Y=u.nodeType&&(m.cssNumber[g]||B!=="px"&&+I)&&wt.exec(m.css(u,g));if(Y&&Y[3]!==B){for(I=I/2,B=B||Y[3],Y=+I||1;T--;)m.style(u,g,Y+B),(1-E)*(1-(E=F()/I||.5))<=0&&(T=0),Y=Y/E;Y=Y*2,m.style(u,g,Y+B),b=b||[]}return b&&(Y=+Y||+I||0,S=b[1]?Y+(b[1]+1)*b[2]:+b[2],C&&(C.unit=B,C.start=Y,C.end=S)),S}var he={};function Cn(u){var g,b=u.ownerDocument,C=u.nodeName,S=he[C];return S||(g=b.body.appendChild(b.createElement(C)),S=m.css(g,"display"),g.parentNode.removeChild(g),S==="none"&&(S="block"),he[C]=S,S)}function vn(u,g){for(var b,C,S=[],E=0,T=u.length;E<T;E++)C=u[E],!!C.style&&(b=C.style.display,g?(b==="none"&&(S[E]=q.get(C,"display")||null,S[E]||(C.style.display="")),C.style.display===""&&ce(C)&&(S[E]=Cn(C))):b!=="none"&&(S[E]="none",q.set(C,"display",b)));for(E=0;E<T;E++)S[E]!=null&&(u[E].style.display=S[E]);return u}m.fn.extend({show:function(){return vn(this,!0)},hide:function(){return vn(this)},toggle:function(u){return typeof u=="boolean"?u?this.show():this.hide():this.each(function(){ce(this)?m(this).show():m(this).hide()})}});var ki=/^(?:checkbox|radio)$/i,Ni=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ur=/^$|^module$|\/(?:java|ecma)script/i;(function(){var u=w.createDocumentFragment(),g=u.appendChild(w.createElement("div")),b=w.createElement("input");b.setAttribute("type","radio"),b.setAttribute("checked","checked"),b.setAttribute("name","t"),g.appendChild(b),y.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,g.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue,g.innerHTML="<option></option>",y.option=!!g.lastChild})();var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,y.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);function Ce(u,g){var b;return typeof u.getElementsByTagName!="undefined"?b=u.getElementsByTagName(g||"*"):typeof u.querySelectorAll!="undefined"?b=u.querySelectorAll(g||"*"):b=[],g===void 0||g&&H(u,g)?m.merge([u],b):b}function Gs(u,g){for(var b=0,C=u.length;b<C;b++)q.set(u[b],"globalEval",!g||q.get(g[b],"globalEval"))}var Wm=/<|&#?\w+;/;function Gu(u,g,b,C,S){for(var E,T,F,I,B,Y,nt=g.createDocumentFragment(),W=[],Z=0,Et=u.length;Z<Et;Z++)if(E=u[Z],E||E===0)if(D(E)==="object")m.merge(W,E.nodeType?[E]:E);else if(!Wm.test(E))W.push(g.createTextNode(E));else{for(T=T||nt.appendChild(g.createElement("div")),F=(Ni.exec(E)||["",""])[1].toLowerCase(),I=me[F]||me._default,T.innerHTML=I[1]+m.htmlPrefilter(E)+I[2],Y=I[0];Y--;)T=T.lastChild;m.merge(W,T.childNodes),T=nt.firstChild,T.textContent=""}for(nt.textContent="",Z=0;E=W[Z++];){if(C&&m.inArray(E,C)>-1){S&&S.push(E);continue}if(B=Tt(E),T=Ce(nt.appendChild(E),"script"),B&&Gs(T),b)for(Y=0;E=T[Y++];)Ur.test(E.type||"")&&b.push(E)}return nt}var Uu=/^([^.]*)(?:\.(.+)|)/;function Us(){return!0}function qs(){return!1}function Xm(u,g){return u===Ym()==(g==="focus")}function Ym(){try{return w.activeElement}catch{}}function Hl(u,g,b,C,S,E){var T,F;if(typeof g=="object"){typeof b!="string"&&(C=C||b,b=void 0);for(F in g)Hl(u,F,b,C,g[F],E);return u}if(C==null&&S==null?(S=b,C=b=void 0):S==null&&(typeof b=="string"?(S=C,C=void 0):(S=C,C=b,b=void 0)),S===!1)S=qs;else if(!S)return u;return E===1&&(T=S,S=function(I){return m().off(I),T.apply(this,arguments)},S.guid=T.guid||(T.guid=m.guid++)),u.each(function(){m.event.add(this,g,S,C,b)})}m.event={global:{},add:function(u,g,b,C,S){var E,T,F,I,B,Y,nt,W,Z,Et,Ft,At=q.get(u);if(!!R(u))for(b.handler&&(E=b,b=E.handler,S=E.selector),S&&m.find.matchesSelector(xt,S),b.guid||(b.guid=m.guid++),(I=At.events)||(I=At.events=Object.create(null)),(T=At.handle)||(T=At.handle=function(Ve){return typeof m!="undefined"&&m.event.triggered!==Ve.type?m.event.dispatch.apply(u,arguments):void 0}),g=(g||"").match(ht)||[""],B=g.length;B--;)F=Uu.exec(g[B])||[],Z=Ft=F[1],Et=(F[2]||"").split(".").sort(),!!Z&&(nt=m.event.special[Z]||{},Z=(S?nt.delegateType:nt.bindType)||Z,nt=m.event.special[Z]||{},Y=m.extend({type:Z,origType:Ft,data:C,handler:b,guid:b.guid,selector:S,needsContext:S&&m.expr.match.needsContext.test(S),namespace:Et.join(".")},E),(W=I[Z])||(W=I[Z]=[],W.delegateCount=0,(!nt.setup||nt.setup.call(u,C,Et,T)===!1)&&u.addEventListener&&u.addEventListener(Z,T)),nt.add&&(nt.add.call(u,Y),Y.handler.guid||(Y.handler.guid=b.guid)),S?W.splice(W.delegateCount++,0,Y):W.push(Y),m.event.global[Z]=!0)},remove:function(u,g,b,C,S){var E,T,F,I,B,Y,nt,W,Z,Et,Ft,At=q.hasData(u)&&q.get(u);if(!(!At||!(I=At.events))){for(g=(g||"").match(ht)||[""],B=g.length;B--;){if(F=Uu.exec(g[B])||[],Z=Ft=F[1],Et=(F[2]||"").split(".").sort(),!Z){for(Z in I)m.event.remove(u,Z+g[B],b,C,!0);continue}for(nt=m.event.special[Z]||{},Z=(C?nt.delegateType:nt.bindType)||Z,W=I[Z]||[],F=F[2]&&new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"),T=E=W.length;E--;)Y=W[E],(S||Ft===Y.origType)&&(!b||b.guid===Y.guid)&&(!F||F.test(Y.namespace))&&(!C||C===Y.selector||C==="**"&&Y.selector)&&(W.splice(E,1),Y.selector&&W.delegateCount--,nt.remove&&nt.remove.call(u,Y));T&&!W.length&&((!nt.teardown||nt.teardown.call(u,Et,At.handle)===!1)&&m.removeEvent(u,Z,At.handle),delete I[Z])}m.isEmptyObject(I)&&q.remove(u,"handle events")}},dispatch:function(u){var g,b,C,S,E,T,F=new Array(arguments.length),I=m.event.fix(u),B=(q.get(this,"events")||Object.create(null))[I.type]||[],Y=m.event.special[I.type]||{};for(F[0]=I,g=1;g<arguments.length;g++)F[g]=arguments[g];if(I.delegateTarget=this,!(Y.preDispatch&&Y.preDispatch.call(this,I)===!1)){for(T=m.event.handlers.call(this,I,B),g=0;(S=T[g++])&&!I.isPropagationStopped();)for(I.currentTarget=S.elem,b=0;(E=S.handlers[b++])&&!I.isImmediatePropagationStopped();)(!I.rnamespace||E.namespace===!1||I.rnamespace.test(E.namespace))&&(I.handleObj=E,I.data=E.data,C=((m.event.special[E.origType]||{}).handle||E.handler).apply(S.elem,F),C!==void 0&&(I.result=C)===!1&&(I.preventDefault(),I.stopPropagation()));return Y.postDispatch&&Y.postDispatch.call(this,I),I.result}},handlers:function(u,g){var b,C,S,E,T,F=[],I=g.delegateCount,B=u.target;if(I&&B.nodeType&&!(u.type==="click"&&u.button>=1)){for(;B!==this;B=B.parentNode||this)if(B.nodeType===1&&!(u.type==="click"&&B.disabled===!0)){for(E=[],T={},b=0;b<I;b++)C=g[b],S=C.selector+" ",T[S]===void 0&&(T[S]=C.needsContext?m(S,this).index(B)>-1:m.find(S,this,null,[B]).length),T[S]&&E.push(C);E.length&&F.push({elem:B,handlers:E})}}return B=this,I<g.length&&F.push({elem:B,handlers:g.slice(I)}),F},addProp:function(u,g){Object.defineProperty(m.Event.prototype,u,{enumerable:!0,configurable:!0,get:v(g)?function(){if(this.originalEvent)return g(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[u]},set:function(b){Object.defineProperty(this,u,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(u){return u[m.expando]?u:new m.Event(u)},special:{load:{noBubble:!0},click:{setup:function(u){var g=this||u;return ki.test(g.type)&&g.click&&H(g,"input")&&ia(g,"click",Us),!1},trigger:function(u){var g=this||u;return ki.test(g.type)&&g.click&&H(g,"input")&&ia(g,"click"),!0},_default:function(u){var g=u.target;return ki.test(g.type)&&g.click&&H(g,"input")&&q.get(g,"click")||H(g,"a")}},beforeunload:{postDispatch:function(u){u.result!==void 0&&u.originalEvent&&(u.originalEvent.returnValue=u.result)}}}};function ia(u,g,b){if(!b){q.get(u,g)===void 0&&m.event.add(u,g,Us);return}q.set(u,g,!1),m.event.add(u,g,{namespace:!1,handler:function(C){var S,E,T=q.get(this,g);if(C.isTrigger&1&&this[g]){if(T.length)(m.event.special[g]||{}).delegateType&&C.stopPropagation();else if(T=r.call(arguments),q.set(this,g,T),S=b(this,g),this[g](),E=q.get(this,g),T!==E||S?q.set(this,g,!1):E={},T!==E)return C.stopImmediatePropagation(),C.preventDefault(),E&&E.value}else T.length&&(q.set(this,g,{value:m.event.trigger(m.extend(T[0],m.Event.prototype),T.slice(1),this)}),C.stopImmediatePropagation())}})}m.removeEvent=function(u,g,b){u.removeEventListener&&u.removeEventListener(g,b)},m.Event=function(u,g){if(!(this instanceof m.Event))return new m.Event(u,g);u&&u.type?(this.originalEvent=u,this.type=u.type,this.isDefaultPrevented=u.defaultPrevented||u.defaultPrevented===void 0&&u.returnValue===!1?Us:qs,this.target=u.target&&u.target.nodeType===3?u.target.parentNode:u.target,this.currentTarget=u.currentTarget,this.relatedTarget=u.relatedTarget):this.type=u,g&&m.extend(this,g),this.timeStamp=u&&u.timeStamp||Date.now(),this[m.expando]=!0},m.Event.prototype={constructor:m.Event,isDefaultPrevented:qs,isPropagationStopped:qs,isImmediatePropagationStopped:qs,isSimulated:!1,preventDefault:function(){var u=this.originalEvent;this.isDefaultPrevented=Us,u&&!this.isSimulated&&u.preventDefault()},stopPropagation:function(){var u=this.originalEvent;this.isPropagationStopped=Us,u&&!this.isSimulated&&u.stopPropagation()},stopImmediatePropagation:function(){var u=this.originalEvent;this.isImmediatePropagationStopped=Us,u&&!this.isSimulated&&u.stopImmediatePropagation(),this.stopPropagation()}},m.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},m.event.addProp),m.each({focus:"focusin",blur:"focusout"},function(u,g){m.event.special[u]={setup:function(){return ia(this,u,Xm),!1},trigger:function(){return ia(this,u),!0},_default:function(){return!0},delegateType:g}}),m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(u,g){m.event.special[u]={delegateType:g,bindType:g,handle:function(b){var C,S=this,E=b.relatedTarget,T=b.handleObj;return(!E||E!==S&&!m.contains(S,E))&&(b.type=T.origType,C=T.handler.apply(this,arguments),b.type=g),C}}}),m.fn.extend({on:function(u,g,b,C){return Hl(this,u,g,b,C)},one:function(u,g,b,C){return Hl(this,u,g,b,C,1)},off:function(u,g,b){var C,S;if(u&&u.preventDefault&&u.handleObj)return C=u.handleObj,m(u.delegateTarget).off(C.namespace?C.origType+"."+C.namespace:C.origType,C.selector,C.handler),this;if(typeof u=="object"){for(S in u)this.off(S,g,u[S]);return this}return(g===!1||typeof g=="function")&&(b=g,g=void 0),b===!1&&(b=qs),this.each(function(){m.event.remove(this,u,b,g)})}});var Km=/<script|<style|<link/i,Jm=/checked\s*(?:[^=]|=\s*.checked.)/i,Zm=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function qu(u,g){return H(u,"table")&&H(g.nodeType!==11?g:g.firstChild,"tr")&&m(u).children("tbody")[0]||u}function Qm(u){return u.type=(u.getAttribute("type")!==null)+"/"+u.type,u}function tb(u){return(u.type||"").slice(0,5)==="true/"?u.type=u.type.slice(5):u.removeAttribute("type"),u}function Wu(u,g){var b,C,S,E,T,F,I;if(g.nodeType===1){if(q.hasData(u)&&(E=q.get(u),I=E.events,I)){q.remove(g,"handle events");for(S in I)for(b=0,C=I[S].length;b<C;b++)m.event.add(g,S,I[S][b])}tt.hasData(u)&&(T=tt.access(u),F=m.extend({},T),tt.set(g,F))}}function eb(u,g){var b=g.nodeName.toLowerCase();b==="input"&&ki.test(u.type)?g.checked=u.checked:(b==="input"||b==="textarea")&&(g.defaultValue=u.defaultValue)}function Ws(u,g,b,C){g=o(g);var S,E,T,F,I,B,Y=0,nt=u.length,W=nt-1,Z=g[0],Et=v(Z);if(Et||nt>1&&typeof Z=="string"&&!y.checkClone&&Jm.test(Z))return u.each(function(Ft){var At=u.eq(Ft);Et&&(g[0]=Z.call(this,Ft,At.html())),Ws(At,g,b,C)});if(nt&&(S=Gu(g,u[0].ownerDocument,!1,u,C),E=S.firstChild,S.childNodes.length===1&&(S=E),E||C)){for(T=m.map(Ce(S,"script"),Qm),F=T.length;Y<nt;Y++)I=S,Y!==W&&(I=m.clone(I,!0,!0),F&&m.merge(T,Ce(I,"script"))),b.call(u[Y],I,Y);if(F)for(B=T[T.length-1].ownerDocument,m.map(T,tb),Y=0;Y<F;Y++)I=T[Y],Ur.test(I.type||"")&&!q.access(I,"globalEval")&&m.contains(B,I)&&(I.src&&(I.type||"").toLowerCase()!=="module"?m._evalUrl&&!I.noModule&&m._evalUrl(I.src,{nonce:I.nonce||I.getAttribute("nonce")},B):A(I.textContent.replace(Zm,""),I,B))}return u}function Xu(u,g,b){for(var C,S=g?m.filter(g,u):u,E=0;(C=S[E])!=null;E++)!b&&C.nodeType===1&&m.cleanData(Ce(C)),C.parentNode&&(b&&Tt(C)&&Gs(Ce(C,"script")),C.parentNode.removeChild(C));return u}m.extend({htmlPrefilter:function(u){return u},clone:function(u,g,b){var C,S,E,T,F=u.cloneNode(!0),I=Tt(u);if(!y.noCloneChecked&&(u.nodeType===1||u.nodeType===11)&&!m.isXMLDoc(u))for(T=Ce(F),E=Ce(u),C=0,S=E.length;C<S;C++)eb(E[C],T[C]);if(g)if(b)for(E=E||Ce(u),T=T||Ce(F),C=0,S=E.length;C<S;C++)Wu(E[C],T[C]);else Wu(u,F);return T=Ce(F,"script"),T.length>0&&Gs(T,!I&&Ce(u,"script")),F},cleanData:function(u){for(var g,b,C,S=m.event.special,E=0;(b=u[E])!==void 0;E++)if(R(b)){if(g=b[q.expando]){if(g.events)for(C in g.events)S[C]?m.event.remove(b,C):m.removeEvent(b,C,g.handle);b[q.expando]=void 0}b[tt.expando]&&(b[tt.expando]=void 0)}}}),m.fn.extend({detach:function(u){return Xu(this,u,!0)},remove:function(u){return Xu(this,u)},text:function(u){return ke(this,function(g){return g===void 0?m.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=g)})},null,u,arguments.length)},append:function(){return Ws(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=qu(this,u);g.appendChild(u)}})},prepend:function(){return Ws(this,arguments,function(u){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var g=qu(this,u);g.insertBefore(u,g.firstChild)}})},before:function(){return Ws(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this)})},after:function(){return Ws(this,arguments,function(u){this.parentNode&&this.parentNode.insertBefore(u,this.nextSibling)})},empty:function(){for(var u,g=0;(u=this[g])!=null;g++)u.nodeType===1&&(m.cleanData(Ce(u,!1)),u.textContent="");return this},clone:function(u,g){return u=u==null?!1:u,g=g==null?u:g,this.map(function(){return m.clone(this,u,g)})},html:function(u){return ke(this,function(g){var b=this[0]||{},C=0,S=this.length;if(g===void 0&&b.nodeType===1)return b.innerHTML;if(typeof g=="string"&&!Km.test(g)&&!me[(Ni.exec(g)||["",""])[1].toLowerCase()]){g=m.htmlPrefilter(g);try{for(;C<S;C++)b=this[C]||{},b.nodeType===1&&(m.cleanData(Ce(b,!1)),b.innerHTML=g);b=0}catch{}}b&&this.empty().append(g)},null,u,arguments.length)},replaceWith:function(){var u=[];return Ws(this,arguments,function(g){var b=this.parentNode;m.inArray(this,u)<0&&(m.cleanData(Ce(this)),b&&b.replaceChild(g,this))},u)}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(u,g){m.fn[u]=function(b){for(var C,S=[],E=m(b),T=E.length-1,F=0;F<=T;F++)C=F===T?this:this.clone(!0),m(E[F])[g](C),a.apply(S,C.get());return this.pushStack(S)}});var Gl=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),sa=function(u){var g=u.ownerDocument.defaultView;return(!g||!g.opener)&&(g=t),g.getComputedStyle(u)},Yu=function(u,g,b){var C,S,E={};for(S in g)E[S]=u.style[S],u.style[S]=g[S];C=b.call(u);for(S in g)u.style[S]=E[S];return C},nb=new RegExp(Ct.join("|"),"i");(function(){function u(){if(!!B){I.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",B.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",xt.appendChild(I).appendChild(B);var Y=t.getComputedStyle(B);b=Y.top!=="1%",F=g(Y.marginLeft)===12,B.style.right="60%",E=g(Y.right)===36,C=g(Y.width)===36,B.style.position="absolute",S=g(B.offsetWidth/3)===12,xt.removeChild(I),B=null}}function g(Y){return Math.round(parseFloat(Y))}var b,C,S,E,T,F,I=w.createElement("div"),B=w.createElement("div");!B.style||(B.style.backgroundClip="content-box",B.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle=B.style.backgroundClip==="content-box",m.extend(y,{boxSizingReliable:function(){return u(),C},pixelBoxStyles:function(){return u(),E},pixelPosition:function(){return u(),b},reliableMarginLeft:function(){return u(),F},scrollboxSize:function(){return u(),S},reliableTrDimensions:function(){var Y,nt,W,Z;return T==null&&(Y=w.createElement("table"),nt=w.createElement("tr"),W=w.createElement("div"),Y.style.cssText="position:absolute;left:-11111px;border-collapse:separate",nt.style.cssText="border:1px solid",nt.style.height="1px",W.style.height="9px",W.style.display="block",xt.appendChild(Y).appendChild(nt).appendChild(W),Z=t.getComputedStyle(nt),T=parseInt(Z.height,10)+parseInt(Z.borderTopWidth,10)+parseInt(Z.borderBottomWidth,10)===nt.offsetHeight,xt.removeChild(Y)),T}}))})();function qr(u,g,b){var C,S,E,T,F=u.style;return b=b||sa(u),b&&(T=b.getPropertyValue(g)||b[g],T===""&&!Tt(u)&&(T=m.style(u,g)),!y.pixelBoxStyles()&&Gl.test(T)&&nb.test(g)&&(C=F.width,S=F.minWidth,E=F.maxWidth,F.minWidth=F.maxWidth=F.width=T,T=b.width,F.width=C,F.minWidth=S,F.maxWidth=E)),T!==void 0?T+"":T}function Ku(u,g){return{get:function(){if(u()){delete this.get;return}return(this.get=g).apply(this,arguments)}}}var Ju=["Webkit","Moz","ms"],Zu=w.createElement("div").style,Qu={};function ib(u){for(var g=u[0].toUpperCase()+u.slice(1),b=Ju.length;b--;)if(u=Ju[b]+g,u in Zu)return u}function Ul(u){var g=m.cssProps[u]||Qu[u];return g||(u in Zu?u:Qu[u]=ib(u)||u)}var sb=/^(none|table(?!-c[ea]).+)/,tf=/^--/,rb={position:"absolute",visibility:"hidden",display:"block"},ef={letterSpacing:"0",fontWeight:"400"};function nf(u,g,b){var C=wt.exec(g);return C?Math.max(0,C[2]-(b||0))+(C[3]||"px"):g}function ql(u,g,b,C,S,E){var T=g==="width"?1:0,F=0,I=0;if(b===(C?"border":"content"))return 0;for(;T<4;T+=2)b==="margin"&&(I+=m.css(u,b+Ct[T],!0,S)),C?(b==="content"&&(I-=m.css(u,"padding"+Ct[T],!0,S)),b!=="margin"&&(I-=m.css(u,"border"+Ct[T]+"Width",!0,S))):(I+=m.css(u,"padding"+Ct[T],!0,S),b!=="padding"?I+=m.css(u,"border"+Ct[T]+"Width",!0,S):F+=m.css(u,"border"+Ct[T]+"Width",!0,S));return!C&&E>=0&&(I+=Math.max(0,Math.ceil(u["offset"+g[0].toUpperCase()+g.slice(1)]-E-I-F-.5))||0),I}function sf(u,g,b){var C=sa(u),S=!y.boxSizingReliable()||b,E=S&&m.css(u,"boxSizing",!1,C)==="border-box",T=E,F=qr(u,g,C),I="offset"+g[0].toUpperCase()+g.slice(1);if(Gl.test(F)){if(!b)return F;F="auto"}return(!y.boxSizingReliable()&&E||!y.reliableTrDimensions()&&H(u,"tr")||F==="auto"||!parseFloat(F)&&m.css(u,"display",!1,C)==="inline")&&u.getClientRects().length&&(E=m.css(u,"boxSizing",!1,C)==="border-box",T=I in u,T&&(F=u[I])),F=parseFloat(F)||0,F+ql(u,g,b||(E?"border":"content"),T,C,F)+"px"}m.extend({cssHooks:{opacity:{get:function(u,g){if(g){var b=qr(u,"opacity");return b===""?"1":b}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(u,g,b,C){if(!(!u||u.nodeType===3||u.nodeType===8||!u.style)){var S,E,T,F=j(g),I=tf.test(g),B=u.style;if(I||(g=Ul(F)),T=m.cssHooks[g]||m.cssHooks[F],b!==void 0){if(E=typeof b,E==="string"&&(S=wt.exec(b))&&S[1]&&(b=oe(u,g,S),E="number"),b==null||b!==b)return;E==="number"&&!I&&(b+=S&&S[3]||(m.cssNumber[F]?"":"px")),!y.clearCloneStyle&&b===""&&g.indexOf("background")===0&&(B[g]="inherit"),(!T||!("set"in T)||(b=T.set(u,b,C))!==void 0)&&(I?B.setProperty(g,b):B[g]=b)}else return T&&"get"in T&&(S=T.get(u,!1,C))!==void 0?S:B[g]}},css:function(u,g,b,C){var S,E,T,F=j(g),I=tf.test(g);return I||(g=Ul(F)),T=m.cssHooks[g]||m.cssHooks[F],T&&"get"in T&&(S=T.get(u,!0,b)),S===void 0&&(S=qr(u,g,C)),S==="normal"&&g in ef&&(S=ef[g]),b===""||b?(E=parseFloat(S),b===!0||isFinite(E)?E||0:S):S}}),m.each(["height","width"],function(u,g){m.cssHooks[g]={get:function(b,C,S){if(C)return sb.test(m.css(b,"display"))&&(!b.getClientRects().length||!b.getBoundingClientRect().width)?Yu(b,rb,function(){return sf(b,g,S)}):sf(b,g,S)},set:function(b,C,S){var E,T=sa(b),F=!y.scrollboxSize()&&T.position==="absolute",I=F||S,B=I&&m.css(b,"boxSizing",!1,T)==="border-box",Y=S?ql(b,g,S,B,T):0;return B&&F&&(Y-=Math.ceil(b["offset"+g[0].toUpperCase()+g.slice(1)]-parseFloat(T[g])-ql(b,g,"border",!1,T)-.5)),Y&&(E=wt.exec(C))&&(E[3]||"px")!=="px"&&(b.style[g]=C,C=m.css(b,g)),nf(b,C,Y)}}}),m.cssHooks.marginLeft=Ku(y.reliableMarginLeft,function(u,g){if(g)return(parseFloat(qr(u,"marginLeft"))||u.getBoundingClientRect().left-Yu(u,{marginLeft:0},function(){return u.getBoundingClientRect().left}))+"px"}),m.each({margin:"",padding:"",border:"Width"},function(u,g){m.cssHooks[u+g]={expand:function(b){for(var C=0,S={},E=typeof b=="string"?b.split(" "):[b];C<4;C++)S[u+Ct[C]+g]=E[C]||E[C-2]||E[0];return S}},u!=="margin"&&(m.cssHooks[u+g].set=nf)}),m.fn.extend({css:function(u,g){return ke(this,function(b,C,S){var E,T,F={},I=0;if(Array.isArray(C)){for(E=sa(b),T=C.length;I<T;I++)F[C[I]]=m.css(b,C[I],!1,E);return F}return S!==void 0?m.style(b,C,S):m.css(b,C)},u,g,arguments.length>1)}});function fn(u,g,b,C,S){return new fn.prototype.init(u,g,b,C,S)}m.Tween=fn,fn.prototype={constructor:fn,init:function(u,g,b,C,S,E){this.elem=u,this.prop=b,this.easing=S||m.easing._default,this.options=g,this.start=this.now=this.cur(),this.end=C,this.unit=E||(m.cssNumber[b]?"":"px")},cur:function(){var u=fn.propHooks[this.prop];return u&&u.get?u.get(this):fn.propHooks._default.get(this)},run:function(u){var g,b=fn.propHooks[this.prop];return this.options.duration?this.pos=g=m.easing[this.easing](u,this.options.duration*u,0,1,this.options.duration):this.pos=g=u,this.now=(this.end-this.start)*g+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):fn.propHooks._default.set(this),this}},fn.prototype.init.prototype=fn.prototype,fn.propHooks={_default:{get:function(u){var g;return u.elem.nodeType!==1||u.elem[u.prop]!=null&&u.elem.style[u.prop]==null?u.elem[u.prop]:(g=m.css(u.elem,u.prop,""),!g||g==="auto"?0:g)},set:function(u){m.fx.step[u.prop]?m.fx.step[u.prop](u):u.elem.nodeType===1&&(m.cssHooks[u.prop]||u.elem.style[Ul(u.prop)]!=null)?m.style(u.elem,u.prop,u.now+u.unit):u.elem[u.prop]=u.now}}},fn.propHooks.scrollTop=fn.propHooks.scrollLeft={set:function(u){u.elem.nodeType&&u.elem.parentNode&&(u.elem[u.prop]=u.now)}},m.easing={linear:function(u){return u},swing:function(u){return .5-Math.cos(u*Math.PI)/2},_default:"swing"},m.fx=fn.prototype.init,m.fx.step={};var Xs,ra,ob=/^(?:toggle|show|hide)$/,ab=/queueHooks$/;function Wl(){ra&&(w.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Wl):t.setTimeout(Wl,m.fx.interval),m.fx.tick())}function rf(){return t.setTimeout(function(){Xs=void 0}),Xs=Date.now()}function oa(u,g){var b,C=0,S={height:u};for(g=g?1:0;C<4;C+=2-g)b=Ct[C],S["margin"+b]=S["padding"+b]=u;return g&&(S.opacity=S.width=u),S}function of(u,g,b){for(var C,S=(Hn.tweeners[g]||[]).concat(Hn.tweeners["*"]),E=0,T=S.length;E<T;E++)if(C=S[E].call(b,g,u))return C}function lb(u,g,b){var C,S,E,T,F,I,B,Y,nt="width"in g||"height"in g,W=this,Z={},Et=u.style,Ft=u.nodeType&&ce(u),At=q.get(u,"fxshow");b.queue||(T=m._queueHooks(u,"fx"),T.unqueued==null&&(T.unqueued=0,F=T.empty.fire,T.empty.fire=function(){T.unqueued||F()}),T.unqueued++,W.always(function(){W.always(function(){T.unqueued--,m.queue(u,"fx").length||T.empty.fire()})}));for(C in g)if(S=g[C],ob.test(S)){if(delete g[C],E=E||S==="toggle",S===(Ft?"hide":"show"))if(S==="show"&&At&&At[C]!==void 0)Ft=!0;else continue;Z[C]=At&&At[C]||m.style(u,C)}if(I=!m.isEmptyObject(g),!(!I&&m.isEmptyObject(Z))){nt&&u.nodeType===1&&(b.overflow=[Et.overflow,Et.overflowX,Et.overflowY],B=At&&At.display,B==null&&(B=q.get(u,"display")),Y=m.css(u,"display"),Y==="none"&&(B?Y=B:(vn([u],!0),B=u.style.display||B,Y=m.css(u,"display"),vn([u]))),(Y==="inline"||Y==="inline-block"&&B!=null)&&m.css(u,"float")==="none"&&(I||(W.done(function(){Et.display=B}),B==null&&(Y=Et.display,B=Y==="none"?"":Y)),Et.display="inline-block")),b.overflow&&(Et.overflow="hidden",W.always(function(){Et.overflow=b.overflow[0],Et.overflowX=b.overflow[1],Et.overflowY=b.overflow[2]})),I=!1;for(C in Z)I||(At?"hidden"in At&&(Ft=At.hidden):At=q.access(u,"fxshow",{display:B}),E&&(At.hidden=!Ft),Ft&&vn([u],!0),W.done(function(){Ft||vn([u]),q.remove(u,"fxshow");for(C in Z)m.style(u,C,Z[C])})),I=of(Ft?At[C]:0,C,W),C in At||(At[C]=I.start,Ft&&(I.end=I.start,I.start=0))}}function cb(u,g){var b,C,S,E,T;for(b in u)if(C=j(b),S=g[C],E=u[b],Array.isArray(E)&&(S=E[1],E=u[b]=E[0]),b!==C&&(u[C]=E,delete u[b]),T=m.cssHooks[C],T&&"expand"in T){E=T.expand(E),delete u[C];for(b in E)b in u||(u[b]=E[b],g[b]=S)}else g[C]=S}function Hn(u,g,b){var C,S,E=0,T=Hn.prefilters.length,F=m.Deferred().always(function(){delete I.elem}),I=function(){if(S)return!1;for(var nt=Xs||rf(),W=Math.max(0,B.startTime+B.duration-nt),Z=W/B.duration||0,Et=1-Z,Ft=0,At=B.tweens.length;Ft<At;Ft++)B.tweens[Ft].run(Et);return F.notifyWith(u,[B,Et,W]),Et<1&&At?W:(At||F.notifyWith(u,[B,1,0]),F.resolveWith(u,[B]),!1)},B=F.promise({elem:u,props:m.extend({},g),opts:m.extend(!0,{specialEasing:{},easing:m.easing._default},b),originalProperties:g,originalOptions:b,startTime:Xs||rf(),duration:b.duration,tweens:[],createTween:function(nt,W){var Z=m.Tween(u,B.opts,nt,W,B.opts.specialEasing[nt]||B.opts.easing);return B.tweens.push(Z),Z},stop:function(nt){var W=0,Z=nt?B.tweens.length:0;if(S)return this;for(S=!0;W<Z;W++)B.tweens[W].run(1);return nt?(F.notifyWith(u,[B,1,0]),F.resolveWith(u,[B,nt])):F.rejectWith(u,[B,nt]),this}}),Y=B.props;for(cb(Y,B.opts.specialEasing);E<T;E++)if(C=Hn.prefilters[E].call(B,u,Y,B.opts),C)return v(C.stop)&&(m._queueHooks(B.elem,B.opts.queue).stop=C.stop.bind(C)),C;return m.map(Y,of,B),v(B.opts.start)&&B.opts.start.call(u,B),B.progress(B.opts.progress).done(B.opts.done,B.opts.complete).fail(B.opts.fail).always(B.opts.always),m.fx.timer(m.extend(I,{elem:u,anim:B,queue:B.opts.queue})),B}m.Animation=m.extend(Hn,{tweeners:{"*":[function(u,g){var b=this.createTween(u,g);return oe(b.elem,u,wt.exec(g),b),b}]},tweener:function(u,g){v(u)?(g=u,u=["*"]):u=u.match(ht);for(var b,C=0,S=u.length;C<S;C++)b=u[C],Hn.tweeners[b]=Hn.tweeners[b]||[],Hn.tweeners[b].unshift(g)},prefilters:[lb],prefilter:function(u,g){g?Hn.prefilters.unshift(u):Hn.prefilters.push(u)}}),m.speed=function(u,g,b){var C=u&&typeof u=="object"?m.extend({},u):{complete:b||!b&&g||v(u)&&u,duration:u,easing:b&&g||g&&!v(g)&&g};return m.fx.off?C.duration=0:typeof C.duration!="number"&&(C.duration in m.fx.speeds?C.duration=m.fx.speeds[C.duration]:C.duration=m.fx.speeds._default),(C.queue==null||C.queue===!0)&&(C.queue="fx"),C.old=C.complete,C.complete=function(){v(C.old)&&C.old.call(this),C.queue&&m.dequeue(this,C.queue)},C},m.fn.extend({fadeTo:function(u,g,b,C){return this.filter(ce).css("opacity",0).show().end().animate({opacity:g},u,b,C)},animate:function(u,g,b,C){var S=m.isEmptyObject(u),E=m.speed(g,b,C),T=function(){var F=Hn(this,m.extend({},u),E);(S||q.get(this,"finish"))&&F.stop(!0)};return T.finish=T,S||E.queue===!1?this.each(T):this.queue(E.queue,T)},stop:function(u,g,b){var C=function(S){var E=S.stop;delete S.stop,E(b)};return typeof u!="string"&&(b=g,g=u,u=void 0),g&&this.queue(u||"fx",[]),this.each(function(){var S=!0,E=u!=null&&u+"queueHooks",T=m.timers,F=q.get(this);if(E)F[E]&&F[E].stop&&C(F[E]);else for(E in F)F[E]&&F[E].stop&&ab.test(E)&&C(F[E]);for(E=T.length;E--;)T[E].elem===this&&(u==null||T[E].queue===u)&&(T[E].anim.stop(b),S=!1,T.splice(E,1));(S||!b)&&m.dequeue(this,u)})},finish:function(u){return u!==!1&&(u=u||"fx"),this.each(function(){var g,b=q.get(this),C=b[u+"queue"],S=b[u+"queueHooks"],E=m.timers,T=C?C.length:0;for(b.finish=!0,m.queue(this,u,[]),S&&S.stop&&S.stop.call(this,!0),g=E.length;g--;)E[g].elem===this&&E[g].queue===u&&(E[g].anim.stop(!0),E.splice(g,1));for(g=0;g<T;g++)C[g]&&C[g].finish&&C[g].finish.call(this);delete b.finish})}}),m.each(["toggle","show","hide"],function(u,g){var b=m.fn[g];m.fn[g]=function(C,S,E){return C==null||typeof C=="boolean"?b.apply(this,arguments):this.animate(oa(g,!0),C,S,E)}}),m.each({slideDown:oa("show"),slideUp:oa("hide"),slideToggle:oa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(u,g){m.fn[u]=function(b,C,S){return this.animate(g,b,C,S)}}),m.timers=[],m.fx.tick=function(){var u,g=0,b=m.timers;for(Xs=Date.now();g<b.length;g++)u=b[g],!u()&&b[g]===u&&b.splice(g--,1);b.length||m.fx.stop(),Xs=void 0},m.fx.timer=function(u){m.timers.push(u),m.fx.start()},m.fx.interval=13,m.fx.start=function(){ra||(ra=!0,Wl())},m.fx.stop=function(){ra=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(u,g){return u=m.fx&&m.fx.speeds[u]||u,g=g||"fx",this.queue(g,function(b,C){var S=t.setTimeout(b,u);C.stop=function(){t.clearTimeout(S)}})},function(){var u=w.createElement("input"),g=w.createElement("select"),b=g.appendChild(w.createElement("option"));u.type="checkbox",y.checkOn=u.value!=="",y.optSelected=b.selected,u=w.createElement("input"),u.value="t",u.type="radio",y.radioValue=u.value==="t"}();var af,Wr=m.expr.attrHandle;m.fn.extend({attr:function(u,g){return ke(this,m.attr,u,g,arguments.length>1)},removeAttr:function(u){return this.each(function(){m.removeAttr(this,u)})}}),m.extend({attr:function(u,g,b){var C,S,E=u.nodeType;if(!(E===3||E===8||E===2)){if(typeof u.getAttribute=="undefined")return m.prop(u,g,b);if((E!==1||!m.isXMLDoc(u))&&(S=m.attrHooks[g.toLowerCase()]||(m.expr.match.bool.test(g)?af:void 0)),b!==void 0){if(b===null){m.removeAttr(u,g);return}return S&&"set"in S&&(C=S.set(u,b,g))!==void 0?C:(u.setAttribute(g,b+""),b)}return S&&"get"in S&&(C=S.get(u,g))!==null?C:(C=m.find.attr(u,g),C==null?void 0:C)}},attrHooks:{type:{set:function(u,g){if(!y.radioValue&&g==="radio"&&H(u,"input")){var b=u.value;return u.setAttribute("type",g),b&&(u.value=b),g}}}},removeAttr:function(u,g){var b,C=0,S=g&&g.match(ht);if(S&&u.nodeType===1)for(;b=S[C++];)u.removeAttribute(b)}}),af={set:function(u,g,b){return g===!1?m.removeAttr(u,b):u.setAttribute(b,b),b}},m.each(m.expr.match.bool.source.match(/\w+/g),function(u,g){var b=Wr[g]||m.find.attr;Wr[g]=function(C,S,E){var T,F,I=S.toLowerCase();return E||(F=Wr[I],Wr[I]=T,T=b(C,S,E)!=null?I:null,Wr[I]=F),T}});var hb=/^(?:input|select|textarea|button)$/i,ub=/^(?:a|area)$/i;m.fn.extend({prop:function(u,g){return ke(this,m.prop,u,g,arguments.length>1)},removeProp:function(u){return this.each(function(){delete this[m.propFix[u]||u]})}}),m.extend({prop:function(u,g,b){var C,S,E=u.nodeType;if(!(E===3||E===8||E===2))return(E!==1||!m.isXMLDoc(u))&&(g=m.propFix[g]||g,S=m.propHooks[g]),b!==void 0?S&&"set"in S&&(C=S.set(u,b,g))!==void 0?C:u[g]=b:S&&"get"in S&&(C=S.get(u,g))!==null?C:u[g]},propHooks:{tabIndex:{get:function(u){var g=m.find.attr(u,"tabindex");return g?parseInt(g,10):hb.test(u.nodeName)||ub.test(u.nodeName)&&u.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(m.propHooks.selected={get:function(u){var g=u.parentNode;return g&&g.parentNode&&g.parentNode.selectedIndex,null},set:function(u){var g=u.parentNode;g&&(g.selectedIndex,g.parentNode&&g.parentNode.selectedIndex)}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this});function rs(u){var g=u.match(ht)||[];return g.join(" ")}function os(u){return u.getAttribute&&u.getAttribute("class")||""}function Xl(u){return Array.isArray(u)?u:typeof u=="string"?u.match(ht)||[]:[]}m.fn.extend({addClass:function(u){var g,b,C,S,E,T,F,I=0;if(v(u))return this.each(function(B){m(this).addClass(u.call(this,B,os(this)))});if(g=Xl(u),g.length){for(;b=this[I++];)if(S=os(b),C=b.nodeType===1&&" "+rs(S)+" ",C){for(T=0;E=g[T++];)C.indexOf(" "+E+" ")<0&&(C+=E+" ");F=rs(C),S!==F&&b.setAttribute("class",F)}}return this},removeClass:function(u){var g,b,C,S,E,T,F,I=0;if(v(u))return this.each(function(B){m(this).removeClass(u.call(this,B,os(this)))});if(!arguments.length)return this.attr("class","");if(g=Xl(u),g.length){for(;b=this[I++];)if(S=os(b),C=b.nodeType===1&&" "+rs(S)+" ",C){for(T=0;E=g[T++];)for(;C.indexOf(" "+E+" ")>-1;)C=C.replace(" "+E+" "," ");F=rs(C),S!==F&&b.setAttribute("class",F)}}return this},toggleClass:function(u,g){var b=typeof u,C=b==="string"||Array.isArray(u);return typeof g=="boolean"&&C?g?this.addClass(u):this.removeClass(u):v(u)?this.each(function(S){m(this).toggleClass(u.call(this,S,os(this),g),g)}):this.each(function(){var S,E,T,F;if(C)for(E=0,T=m(this),F=Xl(u);S=F[E++];)T.hasClass(S)?T.removeClass(S):T.addClass(S);else(u===void 0||b==="boolean")&&(S=os(this),S&&q.set(this,"__className__",S),this.setAttribute&&this.setAttribute("class",S||u===!1?"":q.get(this,"__className__")||""))})},hasClass:function(u){var g,b,C=0;for(g=" "+u+" ";b=this[C++];)if(b.nodeType===1&&(" "+rs(os(b))+" ").indexOf(g)>-1)return!0;return!1}});var fb=/\r/g;m.fn.extend({val:function(u){var g,b,C,S=this[0];return arguments.length?(C=v(u),this.each(function(E){var T;this.nodeType===1&&(C?T=u.call(this,E,m(this).val()):T=u,T==null?T="":typeof T=="number"?T+="":Array.isArray(T)&&(T=m.map(T,function(F){return F==null?"":F+""})),g=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],(!g||!("set"in g)||g.set(this,T,"value")===void 0)&&(this.value=T))})):S?(g=m.valHooks[S.type]||m.valHooks[S.nodeName.toLowerCase()],g&&"get"in g&&(b=g.get(S,"value"))!==void 0?b:(b=S.value,typeof b=="string"?b.replace(fb,""):b==null?"":b)):void 0}}),m.extend({valHooks:{option:{get:function(u){var g=m.find.attr(u,"value");return g!=null?g:rs(m.text(u))}},select:{get:function(u){var g,b,C,S=u.options,E=u.selectedIndex,T=u.type==="select-one",F=T?null:[],I=T?E+1:S.length;for(E<0?C=I:C=T?E:0;C<I;C++)if(b=S[C],(b.selected||C===E)&&!b.disabled&&(!b.parentNode.disabled||!H(b.parentNode,"optgroup"))){if(g=m(b).val(),T)return g;F.push(g)}return F},set:function(u,g){for(var b,C,S=u.options,E=m.makeArray(g),T=S.length;T--;)C=S[T],(C.selected=m.inArray(m.valHooks.option.get(C),E)>-1)&&(b=!0);return b||(u.selectedIndex=-1),E}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(u,g){if(Array.isArray(g))return u.checked=m.inArray(m(u).val(),g)>-1}},y.checkOn||(m.valHooks[this].get=function(u){return u.getAttribute("value")===null?"on":u.value})}),y.focusin="onfocusin"in t;var lf=/^(?:focusinfocus|focusoutblur)$/,cf=function(u){u.stopPropagation()};m.extend(m.event,{trigger:function(u,g,b,C){var S,E,T,F,I,B,Y,nt,W=[b||w],Z=f.call(u,"type")?u.type:u,Et=f.call(u,"namespace")?u.namespace.split("."):[];if(E=nt=T=b=b||w,!(b.nodeType===3||b.nodeType===8)&&!lf.test(Z+m.event.triggered)&&(Z.indexOf(".")>-1&&(Et=Z.split("."),Z=Et.shift(),Et.sort()),I=Z.indexOf(":")<0&&"on"+Z,u=u[m.expando]?u:new m.Event(Z,typeof u=="object"&&u),u.isTrigger=C?2:3,u.namespace=Et.join("."),u.rnamespace=u.namespace?new RegExp("(^|\\.)"+Et.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u.result=void 0,u.target||(u.target=b),g=g==null?[u]:m.makeArray(g,[u]),Y=m.event.special[Z]||{},!(!C&&Y.trigger&&Y.trigger.apply(b,g)===!1))){if(!C&&!Y.noBubble&&!x(b)){for(F=Y.delegateType||Z,lf.test(F+Z)||(E=E.parentNode);E;E=E.parentNode)W.push(E),T=E;T===(b.ownerDocument||w)&&W.push(T.defaultView||T.parentWindow||t)}for(S=0;(E=W[S++])&&!u.isPropagationStopped();)nt=E,u.type=S>1?F:Y.bindType||Z,B=(q.get(E,"events")||Object.create(null))[u.type]&&q.get(E,"handle"),B&&B.apply(E,g),B=I&&E[I],B&&B.apply&&R(E)&&(u.result=B.apply(E,g),u.result===!1&&u.preventDefault());return u.type=Z,!C&&!u.isDefaultPrevented()&&(!Y._default||Y._default.apply(W.pop(),g)===!1)&&R(b)&&I&&v(b[Z])&&!x(b)&&(T=b[I],T&&(b[I]=null),m.event.triggered=Z,u.isPropagationStopped()&&nt.addEventListener(Z,cf),b[Z](),u.isPropagationStopped()&&nt.removeEventListener(Z,cf),m.event.triggered=void 0,T&&(b[I]=T)),u.result}},simulate:function(u,g,b){var C=m.extend(new m.Event,b,{type:u,isSimulated:!0});m.event.trigger(C,null,g)}}),m.fn.extend({trigger:function(u,g){return this.each(function(){m.event.trigger(u,g,this)})},triggerHandler:function(u,g){var b=this[0];if(b)return m.event.trigger(u,g,b,!0)}}),y.focusin||m.each({focus:"focusin",blur:"focusout"},function(u,g){var b=function(C){m.event.simulate(g,C.target,m.event.fix(C))};m.event.special[g]={setup:function(){var C=this.ownerDocument||this.document||this,S=q.access(C,g);S||C.addEventListener(u,b,!0),q.access(C,g,(S||0)+1)},teardown:function(){var C=this.ownerDocument||this.document||this,S=q.access(C,g)-1;S?q.access(C,g,S):(C.removeEventListener(u,b,!0),q.remove(C,g))}}});var Xr=t.location,hf={guid:Date.now()},Yl=/\?/;m.parseXML=function(u){var g,b;if(!u||typeof u!="string")return null;try{g=new t.DOMParser().parseFromString(u,"text/xml")}catch{}return b=g&&g.getElementsByTagName("parsererror")[0],(!g||b)&&m.error("Invalid XML: "+(b?m.map(b.childNodes,function(C){return C.textContent}).join(`
`):u)),g};var db=/\[\]$/,uf=/\r?\n/g,gb=/^(?:submit|button|image|reset|file)$/i,pb=/^(?:input|select|textarea|keygen)/i;function Kl(u,g,b,C){var S;if(Array.isArray(g))m.each(g,function(E,T){b||db.test(u)?C(u,T):Kl(u+"["+(typeof T=="object"&&T!=null?E:"")+"]",T,b,C)});else if(!b&&D(g)==="object")for(S in g)Kl(u+"["+S+"]",g[S],b,C);else C(u,g)}m.param=function(u,g){var b,C=[],S=function(E,T){var F=v(T)?T():T;C[C.length]=encodeURIComponent(E)+"="+encodeURIComponent(F==null?"":F)};if(u==null)return"";if(Array.isArray(u)||u.jquery&&!m.isPlainObject(u))m.each(u,function(){S(this.name,this.value)});else for(b in u)Kl(b,u[b],g,S);return C.join("&")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var u=m.prop(this,"elements");return u?m.makeArray(u):this}).filter(function(){var u=this.type;return this.name&&!m(this).is(":disabled")&&pb.test(this.nodeName)&&!gb.test(u)&&(this.checked||!ki.test(u))}).map(function(u,g){var b=m(this).val();return b==null?null:Array.isArray(b)?m.map(b,function(C){return{name:g.name,value:C.replace(uf,`\r
`)}}):{name:g.name,value:b.replace(uf,`\r
`)}}).get()}});var mb=/%20/g,bb=/#.*$/,yb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)$/mg,vb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xb=/^(?:GET|HEAD)$/,wb=/^\/\//,ff={},Jl={},df="*/".concat("*"),Zl=w.createElement("a");Zl.href=Xr.href;function gf(u){return function(g,b){typeof g!="string"&&(b=g,g="*");var C,S=0,E=g.toLowerCase().match(ht)||[];if(v(b))for(;C=E[S++];)C[0]==="+"?(C=C.slice(1)||"*",(u[C]=u[C]||[]).unshift(b)):(u[C]=u[C]||[]).push(b)}}function pf(u,g,b,C){var S={},E=u===Jl;function T(F){var I;return S[F]=!0,m.each(u[F]||[],function(B,Y){var nt=Y(g,b,C);if(typeof nt=="string"&&!E&&!S[nt])return g.dataTypes.unshift(nt),T(nt),!1;if(E)return!(I=nt)}),I}return T(g.dataTypes[0])||!S["*"]&&T("*")}function Ql(u,g){var b,C,S=m.ajaxSettings.flatOptions||{};for(b in g)g[b]!==void 0&&((S[b]?u:C||(C={}))[b]=g[b]);return C&&m.extend(!0,u,C),u}function Sb(u,g,b){for(var C,S,E,T,F=u.contents,I=u.dataTypes;I[0]==="*";)I.shift(),C===void 0&&(C=u.mimeType||g.getResponseHeader("Content-Type"));if(C){for(S in F)if(F[S]&&F[S].test(C)){I.unshift(S);break}}if(I[0]in b)E=I[0];else{for(S in b){if(!I[0]||u.converters[S+" "+I[0]]){E=S;break}T||(T=S)}E=E||T}if(E)return E!==I[0]&&I.unshift(E),b[E]}function Eb(u,g,b,C){var S,E,T,F,I,B={},Y=u.dataTypes.slice();if(Y[1])for(T in u.converters)B[T.toLowerCase()]=u.converters[T];for(E=Y.shift();E;)if(u.responseFields[E]&&(b[u.responseFields[E]]=g),!I&&C&&u.dataFilter&&(g=u.dataFilter(g,u.dataType)),I=E,E=Y.shift(),E){if(E==="*")E=I;else if(I!=="*"&&I!==E){if(T=B[I+" "+E]||B["* "+E],!T){for(S in B)if(F=S.split(" "),F[1]===E&&(T=B[I+" "+F[0]]||B["* "+F[0]],T)){T===!0?T=B[S]:B[S]!==!0&&(E=F[0],Y.unshift(F[1]));break}}if(T!==!0)if(T&&u.throws)g=T(g);else try{g=T(g)}catch(nt){return{state:"parsererror",error:T?nt:"No conversion from "+I+" to "+E}}}}return{state:"success",data:g}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Xr.href,type:"GET",isLocal:vb.test(Xr.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":df,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(u,g){return g?Ql(Ql(u,m.ajaxSettings),g):Ql(m.ajaxSettings,u)},ajaxPrefilter:gf(ff),ajaxTransport:gf(Jl),ajax:function(u,g){typeof u=="object"&&(g=u,u=void 0),g=g||{};var b,C,S,E,T,F,I,B,Y,nt,W=m.ajaxSetup({},g),Z=W.context||W,Et=W.context&&(Z.nodeType||Z.jquery)?m(Z):m.event,Ft=m.Deferred(),At=m.Callbacks("once memory"),Ve=W.statusCode||{},je={},xn={},ue="canceled",Lt={readyState:0,getResponseHeader:function(te){var Me;if(I){if(!E)for(E={};Me=Cb.exec(S);)E[Me[1].toLowerCase()+" "]=(E[Me[1].toLowerCase()+" "]||[]).concat(Me[2]);Me=E[te.toLowerCase()+" "]}return Me==null?null:Me.join(", ")},getAllResponseHeaders:function(){return I?S:null},setRequestHeader:function(te,Me){return I==null&&(te=xn[te.toLowerCase()]=xn[te.toLowerCase()]||te,je[te]=Me),this},overrideMimeType:function(te){return I==null&&(W.mimeType=te),this},statusCode:function(te){var Me;if(te)if(I)Lt.always(te[Lt.status]);else for(Me in te)Ve[Me]=[Ve[Me],te[Me]];return this},abort:function(te){var Me=te||ue;return b&&b.abort(Me),dn(0,Me),this}};if(Ft.promise(Lt),W.url=((u||W.url||Xr.href)+"").replace(wb,Xr.protocol+"//"),W.type=g.method||g.type||W.method||W.type,W.dataTypes=(W.dataType||"*").toLowerCase().match(ht)||[""],W.crossDomain==null){F=w.createElement("a");try{F.href=W.url,F.href=F.href,W.crossDomain=Zl.protocol+"//"+Zl.host!=F.protocol+"//"+F.host}catch{W.crossDomain=!0}}if(W.data&&W.processData&&typeof W.data!="string"&&(W.data=m.param(W.data,W.traditional)),pf(ff,W,g,Lt),I)return Lt;B=m.event&&W.global,B&&m.active++==0&&m.event.trigger("ajaxStart"),W.type=W.type.toUpperCase(),W.hasContent=!xb.test(W.type),C=W.url.replace(bb,""),W.hasContent?W.data&&W.processData&&(W.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(W.data=W.data.replace(mb,"+")):(nt=W.url.slice(C.length),W.data&&(W.processData||typeof W.data=="string")&&(C+=(Yl.test(C)?"&":"?")+W.data,delete W.data),W.cache===!1&&(C=C.replace(yb,"$1"),nt=(Yl.test(C)?"&":"?")+"_="+hf.guid+++nt),W.url=C+nt),W.ifModified&&(m.lastModified[C]&&Lt.setRequestHeader("If-Modified-Since",m.lastModified[C]),m.etag[C]&&Lt.setRequestHeader("If-None-Match",m.etag[C])),(W.data&&W.hasContent&&W.contentType!==!1||g.contentType)&&Lt.setRequestHeader("Content-Type",W.contentType),Lt.setRequestHeader("Accept",W.dataTypes[0]&&W.accepts[W.dataTypes[0]]?W.accepts[W.dataTypes[0]]+(W.dataTypes[0]!=="*"?", "+df+"; q=0.01":""):W.accepts["*"]);for(Y in W.headers)Lt.setRequestHeader(Y,W.headers[Y]);if(W.beforeSend&&(W.beforeSend.call(Z,Lt,W)===!1||I))return Lt.abort();if(ue="abort",At.add(W.complete),Lt.done(W.success),Lt.fail(W.error),b=pf(Jl,W,g,Lt),!b)dn(-1,"No Transport");else{if(Lt.readyState=1,B&&Et.trigger("ajaxSend",[Lt,W]),I)return Lt;W.async&&W.timeout>0&&(T=t.setTimeout(function(){Lt.abort("timeout")},W.timeout));try{I=!1,b.send(je,dn)}catch(te){if(I)throw te;dn(-1,te)}}function dn(te,Me,Kr,aa){var wn,as,ls,gn,$i,Nn=Me;I||(I=!0,T&&t.clearTimeout(T),b=void 0,S=aa||"",Lt.readyState=te>0?4:0,wn=te>=200&&te<300||te===304,Kr&&(gn=Sb(W,Lt,Kr)),!wn&&m.inArray("script",W.dataTypes)>-1&&m.inArray("json",W.dataTypes)<0&&(W.converters["text script"]=function(){}),gn=Eb(W,gn,Lt,wn),wn?(W.ifModified&&($i=Lt.getResponseHeader("Last-Modified"),$i&&(m.lastModified[C]=$i),$i=Lt.getResponseHeader("etag"),$i&&(m.etag[C]=$i)),te===204||W.type==="HEAD"?Nn="nocontent":te===304?Nn="notmodified":(Nn=gn.state,as=gn.data,ls=gn.error,wn=!ls)):(ls=Nn,(te||!Nn)&&(Nn="error",te<0&&(te=0))),Lt.status=te,Lt.statusText=(Me||Nn)+"",wn?Ft.resolveWith(Z,[as,Nn,Lt]):Ft.rejectWith(Z,[Lt,Nn,ls]),Lt.statusCode(Ve),Ve=void 0,B&&Et.trigger(wn?"ajaxSuccess":"ajaxError",[Lt,W,wn?as:ls]),At.fireWith(Z,[Lt,Nn]),B&&(Et.trigger("ajaxComplete",[Lt,W]),--m.active||m.event.trigger("ajaxStop")))}return Lt},getJSON:function(u,g,b){return m.get(u,g,b,"json")},getScript:function(u,g){return m.get(u,void 0,g,"script")}}),m.each(["get","post"],function(u,g){m[g]=function(b,C,S,E){return v(C)&&(E=E||S,S=C,C=void 0),m.ajax(m.extend({url:b,type:g,dataType:E,data:C,success:S},m.isPlainObject(b)&&b))}}),m.ajaxPrefilter(function(u){var g;for(g in u.headers)g.toLowerCase()==="content-type"&&(u.contentType=u.headers[g]||"")}),m._evalUrl=function(u,g,b){return m.ajax({url:u,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(C){m.globalEval(C,g,b)}})},m.fn.extend({wrapAll:function(u){var g;return this[0]&&(v(u)&&(u=u.call(this[0])),g=m(u,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&g.insertBefore(this[0]),g.map(function(){for(var b=this;b.firstElementChild;)b=b.firstElementChild;return b}).append(this)),this},wrapInner:function(u){return v(u)?this.each(function(g){m(this).wrapInner(u.call(this,g))}):this.each(function(){var g=m(this),b=g.contents();b.length?b.wrapAll(u):g.append(u)})},wrap:function(u){var g=v(u);return this.each(function(b){m(this).wrapAll(g?u.call(this,b):u)})},unwrap:function(u){return this.parent(u).not("body").each(function(){m(this).replaceWith(this.childNodes)}),this}}),m.expr.pseudos.hidden=function(u){return!m.expr.pseudos.visible(u)},m.expr.pseudos.visible=function(u){return!!(u.offsetWidth||u.offsetHeight||u.getClientRects().length)},m.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Ab={0:200,1223:204},Yr=m.ajaxSettings.xhr();y.cors=!!Yr&&"withCredentials"in Yr,y.ajax=Yr=!!Yr,m.ajaxTransport(function(u){var g,b;if(y.cors||Yr&&!u.crossDomain)return{send:function(C,S){var E,T=u.xhr();if(T.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(E in u.xhrFields)T[E]=u.xhrFields[E];u.mimeType&&T.overrideMimeType&&T.overrideMimeType(u.mimeType),!u.crossDomain&&!C["X-Requested-With"]&&(C["X-Requested-With"]="XMLHttpRequest");for(E in C)T.setRequestHeader(E,C[E]);g=function(F){return function(){g&&(g=b=T.onload=T.onerror=T.onabort=T.ontimeout=T.onreadystatechange=null,F==="abort"?T.abort():F==="error"?typeof T.status!="number"?S(0,"error"):S(T.status,T.statusText):S(Ab[T.status]||T.status,T.statusText,(T.responseType||"text")!=="text"||typeof T.responseText!="string"?{binary:T.response}:{text:T.responseText},T.getAllResponseHeaders()))}},T.onload=g(),b=T.onerror=T.ontimeout=g("error"),T.onabort!==void 0?T.onabort=b:T.onreadystatechange=function(){T.readyState===4&&t.setTimeout(function(){g&&b()})},g=g("abort");try{T.send(u.hasContent&&u.data||null)}catch(F){if(g)throw F}},abort:function(){g&&g()}}}),m.ajaxPrefilter(function(u){u.crossDomain&&(u.contents.script=!1)}),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(u){return m.globalEval(u),u}}}),m.ajaxPrefilter("script",function(u){u.cache===void 0&&(u.cache=!1),u.crossDomain&&(u.type="GET")}),m.ajaxTransport("script",function(u){if(u.crossDomain||u.scriptAttrs){var g,b;return{send:function(C,S){g=m("<script>").attr(u.scriptAttrs||{}).prop({charset:u.scriptCharset,src:u.url}).on("load error",b=function(E){g.remove(),b=null,E&&S(E.type==="error"?404:200,E.type)}),w.head.appendChild(g[0])},abort:function(){b&&b()}}}});var mf=[],tc=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var u=mf.pop()||m.expando+"_"+hf.guid++;return this[u]=!0,u}}),m.ajaxPrefilter("json jsonp",function(u,g,b){var C,S,E,T=u.jsonp!==!1&&(tc.test(u.url)?"url":typeof u.data=="string"&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&tc.test(u.data)&&"data");if(T||u.dataTypes[0]==="jsonp")return C=u.jsonpCallback=v(u.jsonpCallback)?u.jsonpCallback():u.jsonpCallback,T?u[T]=u[T].replace(tc,"$1"+C):u.jsonp!==!1&&(u.url+=(Yl.test(u.url)?"&":"?")+u.jsonp+"="+C),u.converters["script json"]=function(){return E||m.error(C+" was not called"),E[0]},u.dataTypes[0]="json",S=t[C],t[C]=function(){E=arguments},b.always(function(){S===void 0?m(t).removeProp(C):t[C]=S,u[C]&&(u.jsonpCallback=g.jsonpCallback,mf.push(C)),E&&v(S)&&S(E[0]),E=S=void 0}),"script"}),y.createHTMLDocument=function(){var u=w.implementation.createHTMLDocument("").body;return u.innerHTML="<form></form><form></form>",u.childNodes.length===2}(),m.parseHTML=function(u,g,b){if(typeof u!="string")return[];typeof g=="boolean"&&(b=g,g=!1);var C,S,E;return g||(y.createHTMLDocument?(g=w.implementation.createHTMLDocument(""),C=g.createElement("base"),C.href=w.location.href,g.head.appendChild(C)):g=w),S=ft.exec(u),E=!b&&[],S?[g.createElement(S[1])]:(S=Gu([u],g,E),E&&E.length&&m(E).remove(),m.merge([],S.childNodes))},m.fn.load=function(u,g,b){var C,S,E,T=this,F=u.indexOf(" ");return F>-1&&(C=rs(u.slice(F)),u=u.slice(0,F)),v(g)?(b=g,g=void 0):g&&typeof g=="object"&&(S="POST"),T.length>0&&m.ajax({url:u,type:S||"GET",dataType:"html",data:g}).done(function(I){E=arguments,T.html(C?m("<div>").append(m.parseHTML(I)).find(C):I)}).always(b&&function(I,B){T.each(function(){b.apply(this,E||[I.responseText,B,I])})}),this},m.expr.pseudos.animated=function(u){return m.grep(m.timers,function(g){return u===g.elem}).length},m.offset={setOffset:function(u,g,b){var C,S,E,T,F,I,B,Y=m.css(u,"position"),nt=m(u),W={};Y==="static"&&(u.style.position="relative"),F=nt.offset(),E=m.css(u,"top"),I=m.css(u,"left"),B=(Y==="absolute"||Y==="fixed")&&(E+I).indexOf("auto")>-1,B?(C=nt.position(),T=C.top,S=C.left):(T=parseFloat(E)||0,S=parseFloat(I)||0),v(g)&&(g=g.call(u,b,m.extend({},F))),g.top!=null&&(W.top=g.top-F.top+T),g.left!=null&&(W.left=g.left-F.left+S),"using"in g?g.using.call(u,W):nt.css(W)}},m.fn.extend({offset:function(u){if(arguments.length)return u===void 0?this:this.each(function(S){m.offset.setOffset(this,u,S)});var g,b,C=this[0];if(!!C)return C.getClientRects().length?(g=C.getBoundingClientRect(),b=C.ownerDocument.defaultView,{top:g.top+b.pageYOffset,left:g.left+b.pageXOffset}):{top:0,left:0}},position:function(){if(!!this[0]){var u,g,b,C=this[0],S={top:0,left:0};if(m.css(C,"position")==="fixed")g=C.getBoundingClientRect();else{for(g=this.offset(),b=C.ownerDocument,u=C.offsetParent||b.documentElement;u&&(u===b.body||u===b.documentElement)&&m.css(u,"position")==="static";)u=u.parentNode;u&&u!==C&&u.nodeType===1&&(S=m(u).offset(),S.top+=m.css(u,"borderTopWidth",!0),S.left+=m.css(u,"borderLeftWidth",!0))}return{top:g.top-S.top-m.css(C,"marginTop",!0),left:g.left-S.left-m.css(C,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var u=this.offsetParent;u&&m.css(u,"position")==="static";)u=u.offsetParent;return u||xt})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(u,g){var b=g==="pageYOffset";m.fn[u]=function(C){return ke(this,function(S,E,T){var F;if(x(S)?F=S:S.nodeType===9&&(F=S.defaultView),T===void 0)return F?F[g]:S[E];F?F.scrollTo(b?F.pageXOffset:T,b?T:F.pageYOffset):S[E]=T},u,C,arguments.length)}}),m.each(["top","left"],function(u,g){m.cssHooks[g]=Ku(y.pixelPosition,function(b,C){if(C)return C=qr(b,g),Gl.test(C)?m(b).position()[g]+"px":C})}),m.each({Height:"height",Width:"width"},function(u,g){m.each({padding:"inner"+u,content:g,"":"outer"+u},function(b,C){m.fn[C]=function(S,E){var T=arguments.length&&(b||typeof S!="boolean"),F=b||(S===!0||E===!0?"margin":"border");return ke(this,function(I,B,Y){var nt;return x(I)?C.indexOf("outer")===0?I["inner"+u]:I.document.documentElement["client"+u]:I.nodeType===9?(nt=I.documentElement,Math.max(I.body["scroll"+u],nt["scroll"+u],I.body["offset"+u],nt["offset"+u],nt["client"+u])):Y===void 0?m.css(I,B,F):m.style(I,B,Y,F)},g,T?S:void 0,T)}})}),m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(u,g){m.fn[g]=function(b){return this.on(g,b)}}),m.fn.extend({bind:function(u,g,b){return this.on(u,null,g,b)},unbind:function(u,g){return this.off(u,null,g)},delegate:function(u,g,b,C){return this.on(g,u,b,C)},undelegate:function(u,g,b){return arguments.length===1?this.off(u,"**"):this.off(g,u||"**",b)},hover:function(u,g){return this.mouseenter(u).mouseleave(g||u)}}),m.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(u,g){m.fn[g]=function(b,C){return arguments.length>0?this.on(g,null,b,C):this.trigger(g)}});var Mb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;m.proxy=function(u,g){var b,C,S;if(typeof g=="string"&&(b=u[g],g=u,u=b),!!v(u))return C=r.call(arguments,2),S=function(){return u.apply(g||this,C.concat(r.call(arguments)))},S.guid=u.guid=u.guid||m.guid++,S},m.holdReady=function(u){u?m.readyWait++:m.ready(!0)},m.isArray=Array.isArray,m.parseJSON=JSON.parse,m.nodeName=H,m.isFunction=v,m.isWindow=x,m.camelCase=j,m.type=D,m.now=Date.now,m.isNumeric=function(u){var g=m.type(u);return(g==="number"||g==="string")&&!isNaN(u-parseFloat(u))},m.trim=function(u){return u==null?"":(u+"").replace(Mb,"")};var Tb=t.jQuery,Ob=t.$;return m.noConflict=function(u){return t.$===m&&(t.$=Ob),u&&t.jQuery===m&&(t.jQuery=Tb),m},typeof e=="undefined"&&(t.jQuery=t.$=m),m})})(hg);var Ne=hg.exports,k1={exports:{}};/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */(function(i,t){(function(e){i.exports=e})(function(e){var n=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,o,a;if(e.event.fixHooks)for(var l=n.length;l;)e.event.fixHooks[n[--l]]=e.event.mouseHooks;var c=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var p=s.length;p;)this.addEventListener(s[--p],h,!1);else this.onmousewheel=h;e.data(this,"mousewheel-line-height",c.getLineHeight(this)),e.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var p=s.length;p;)this.removeEventListener(s[--p],h,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(p){var y=e(p),v=y["offsetParent"in e.fn?"offsetParent":"parent"]();return v.length||(v=e("body")),parseInt(v.css("fontSize"),10)||parseInt(y.css("fontSize"),10)||16},getPageHeight:function(p){return e(p).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(p){return p?this.bind("mousewheel",p):this.trigger("mousewheel")},unmousewheel:function(p){return this.unbind("mousewheel",p)}});function h(p){var y=p||window.event,v=r.call(arguments,1),x=0,w=0,M=0,A=0,D=0,N=0;if(p=e.event.fix(y),p.type="mousewheel","detail"in y&&(M=y.detail*-1),"wheelDelta"in y&&(M=y.wheelDelta),"wheelDeltaY"in y&&(M=y.wheelDeltaY),"wheelDeltaX"in y&&(w=y.wheelDeltaX*-1),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(w=M*-1,M=0),x=M===0?w:M,"deltaY"in y&&(M=y.deltaY*-1,x=M),"deltaX"in y&&(w=y.deltaX,M===0&&(x=w*-1)),!(M===0&&w===0)){if(y.deltaMode===1){var m=e.data(this,"mousewheel-line-height");x*=m,M*=m,w*=m}else if(y.deltaMode===2){var P=e.data(this,"mousewheel-page-height");x*=P,M*=P,w*=P}if(A=Math.max(Math.abs(M),Math.abs(w)),(!a||A<a)&&(a=A,d(y,A)&&(a/=40)),d(y,A)&&(x/=40,w/=40,M/=40),x=Math[x>=1?"floor":"ceil"](x/a),w=Math[w>=1?"floor":"ceil"](w/a),M=Math[M>=1?"floor":"ceil"](M/a),c.settings.normalizeOffset&&this.getBoundingClientRect){var $=this.getBoundingClientRect();D=p.clientX-$.left,N=p.clientY-$.top}return p.deltaX=w,p.deltaY=M,p.deltaFactor=a,p.offsetX=D,p.offsetY=N,p.deltaMode=0,v.unshift(p,x,w,M),o&&clearTimeout(o),o=setTimeout(f,200),(e.event.dispatch||e.event.handle).apply(this,v)}}function f(){a=null}function d(p,y){return c.settings.adjustOldDeltas&&p.type==="mousewheel"&&y%120==0}})})(k1);const rn=navigator.userAgent;var $e;(function(i){i.IS_MAC=navigator.appVersion.indexOf("Mac")>0,i.IS_IOS=!!rn.match(/(iPad|iPhone|iPod)/g),i.IS_WINDOWS=navigator.appVersion.indexOf("Win")>0,i.IS_IE=rn.indexOf("MSIE")>=0,i.IS_IE11=!!rn.match(/Trident\/7\./),i.IS_EDGE=!!rn.match(/Edge\//),i.IS_NETSCAPE=rn.indexOf("Mozilla/")>=0&&rn.indexOf("MSIE")<0&&rn.indexOf("Edge/")<0,i.IS_CHROME_APP=window.chrome!=null&&window.chrome.app!=null&&window.chrome.app.runtime!=null,i.IS_CHROME=rn.indexOf("Chrome/")>=0&&rn.indexOf("Edge/")<0,i.IS_OPERA=rn.indexOf("Opera/")>=0||rn.indexOf("OPR/")>=0,i.IS_FIREFOX=rn.indexOf("Firefox/")>=0,i.IS_SAFARI=rn.indexOf("AppleWebKit/")>=0&&rn.indexOf("Chrome/")<0&&rn.indexOf("Edge/")<0,i.SUPPORT_TOUCH="ontouchstart"in document.documentElement,i.SUPPORT_POINTER=window.PointerEvent!=null&&!i.IS_MAC,i.SUPPORT_PASSIVE=!1;try{const t=Object.defineProperty({},"passive",{get(){i.SUPPORT_PASSIVE=!0}}),e=document.createElement("div");e.addEventListener&&e.addEventListener("click",()=>{},t)}catch{}i.NO_FOREIGNOBJECT=!document.createElementNS||`${document.createElementNS("http://www.w3.org/2000/svg","foreignObject")}`!="[object SVGForeignObjectElement]"||rn.indexOf("Opera/")>=0,i.SUPPORT_FOREIGNOBJECT=!i.NO_FOREIGNOBJECT})($e||($e={}));(function(i){function t(){const r=window.module;return r!=null&&r.hot!=null&&r.hot.status!=null?r.hot.status():"unkonwn"}i.getHMRStatus=t;function e(){return t()==="apply"}i.isApplyingHMR=e;const n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function s(r){const o=document.createElement(n[r]||"div"),a=`on${r}`;let l=a in o;return l||(o.setAttribute(a,"return;"),l=typeof o[a]=="function"),l}i.isEventSupported=s})($e||($e={}));if($e.SUPPORT_PASSIVE){Ne.event.special.touchstart={setup(t,e,n){if(!this.addEventListener)return!1;this.addEventListener("touchstart",n,{passive:!0})}};const i=Ne.event.special.mousewheel;if(i){const t=i.setup;i.setup=function(){const e=this.addEventListener;if(!e)return!1;this.addEventListener=(n,s)=>{e.call(this,n,s,{passive:!0})},t.call(this),this.addEventListener=e}}}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);(function(i){i.forEach(t=>{Object.prototype.hasOwnProperty.call(t,"append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value(...e){const n=document.createDocumentFragment();e.forEach(s=>{const r=s instanceof Node;n.appendChild(r?s:document.createTextNode(String(s)))}),this.appendChild(n)}})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);var N1=typeof global=="object"&&global&&global.Object===Object&&global,ug=N1,$1=typeof self=="object"&&self&&self.Object===Object&&self,L1=ug||$1||Function("return this")(),Xn=L1,F1=Xn.Symbol,Fn=F1,fg=Object.prototype,j1=fg.hasOwnProperty,I1=fg.toString,yo=Fn?Fn.toStringTag:void 0;function z1(i){var t=j1.call(i,yo),e=i[yo];try{i[yo]=void 0;var n=!0}catch{}var s=I1.call(i);return n&&(t?i[yo]=e:delete i[yo]),s}var R1=Object.prototype,B1=R1.toString;function _1(i){return B1.call(i)}var V1="[object Null]",H1="[object Undefined]",dg=Fn?Fn.toStringTag:void 0;function vi(i){return i==null?i===void 0?H1:V1:dg&&dg in Object(i)?z1(i):_1(i)}function jn(i){return i!=null&&typeof i=="object"}var G1="[object Symbol]";function xi(i){return typeof i=="symbol"||jn(i)&&vi(i)==G1}function cr(i,t){for(var e=-1,n=i==null?0:i.length,s=Array(n);++e<n;)s[e]=t(i[e],e,i);return s}var U1=Array.isArray,on=U1,q1=1/0,gg=Fn?Fn.prototype:void 0,pg=gg?gg.toString:void 0;function mg(i){if(typeof i=="string")return i;if(on(i))return cr(i,mg)+"";if(xi(i))return pg?pg.call(i):"";var t=i+"";return t=="0"&&1/i==-q1?"-0":t}var W1=/\s/;function X1(i){for(var t=i.length;t--&&W1.test(i.charAt(t)););return t}var Y1=/^\s+/;function K1(i){return i&&i.slice(0,X1(i)+1).replace(Y1,"")}function Fe(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var bg=0/0,J1=/^[-+]0x[0-9a-f]+$/i,Z1=/^0b[01]+$/i,Q1=/^0o[0-7]+$/i,tv=parseInt;function Co(i){if(typeof i=="number")return i;if(xi(i))return bg;if(Fe(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=Fe(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=K1(i);var e=Z1.test(i);return e||Q1.test(i)?tv(i.slice(2),e?2:8):J1.test(i)?bg:+i}function vo(i){return i}var ev="[object AsyncFunction]",nv="[object Function]",iv="[object GeneratorFunction]",sv="[object Proxy]";function ah(i){if(!Fe(i))return!1;var t=vi(i);return t==nv||t==iv||t==ev||t==sv}var rv=Xn["__core-js_shared__"],lh=rv,yg=function(){var i=/[^.]+$/.exec(lh&&lh.keys&&lh.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function ov(i){return!!yg&&yg in i}var av=Function.prototype,lv=av.toString;function Ss(i){if(i!=null){try{return lv.call(i)}catch{}try{return i+""}catch{}}return""}var cv=/[\\^$.*+?()[\]{}|]/g,hv=/^\[object .+?Constructor\]$/,uv=Function.prototype,fv=Object.prototype,dv=uv.toString,gv=fv.hasOwnProperty,pv=RegExp("^"+dv.call(gv).replace(cv,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mv(i){if(!Fe(i)||ov(i))return!1;var t=ah(i)?pv:hv;return t.test(Ss(i))}function bv(i,t){return i==null?void 0:i[t]}function Es(i,t){var e=bv(i,t);return mv(e)?e:void 0}var yv=Es(Xn,"WeakMap"),ch=yv,Cg=Object.create,Cv=function(){function i(){}return function(t){if(!Fe(t))return{};if(Cg)return Cg(t);i.prototype=t;var e=new i;return i.prototype=void 0,e}}(),vv=Cv;function hh(i,t,e){switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2])}return i.apply(t,e)}function xv(){}function vg(i,t){var e=-1,n=i.length;for(t||(t=Array(n));++e<n;)t[e]=i[e];return t}var wv=800,Sv=16,Ev=Date.now;function Av(i){var t=0,e=0;return function(){var n=Ev(),s=Sv-(n-e);if(e=n,s>0){if(++t>=wv)return arguments[0]}else t=0;return i.apply(void 0,arguments)}}function Mv(i){return function(){return i}}var Tv=function(){try{var i=Es(Object,"defineProperty");return i({},"",{}),i}catch{}}(),Ga=Tv,Ov=Ga?function(i,t){return Ga(i,"toString",{configurable:!0,enumerable:!1,value:Mv(t),writable:!0})}:vo,Pv=Ov,Dv=Av(Pv),xg=Dv;function kv(i,t){for(var e=-1,n=i==null?0:i.length;++e<n&&t(i[e],e,i)!==!1;);return i}function Nv(i,t,e,n){for(var s=i.length,r=e+(n?1:-1);n?r--:++r<s;)if(t(i[r],r,i))return r;return-1}function $v(i){return i!==i}function Lv(i,t,e){for(var n=e-1,s=i.length;++n<s;)if(i[n]===t)return n;return-1}function Fv(i,t,e){return t===t?Lv(i,t,e):Nv(i,$v,e)}function wg(i,t){var e=i==null?0:i.length;return!!e&&Fv(i,t,0)>-1}var jv=9007199254740991,Iv=/^(?:0|[1-9]\d*)$/;function Ua(i,t){var e=typeof i;return t=t==null?jv:t,!!t&&(e=="number"||e!="symbol"&&Iv.test(i))&&i>-1&&i%1==0&&i<t}function qa(i,t,e){t=="__proto__"&&Ga?Ga(i,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):i[t]=e}function As(i,t){return i===t||i!==i&&t!==t}var zv=Object.prototype,Rv=zv.hasOwnProperty;function uh(i,t,e){var n=i[t];(!(Rv.call(i,t)&&As(n,e))||e===void 0&&!(t in i))&&qa(i,t,e)}function hr(i,t,e,n){var s=!e;e||(e={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=n?n(e[a],i[a],a,e,i):void 0;l===void 0&&(l=i[a]),s?qa(e,a,l):uh(e,a,l)}return e}var Sg=Math.max;function Eg(i,t,e){return t=Sg(t===void 0?i.length-1:t,0),function(){for(var n=arguments,s=-1,r=Sg(n.length-t,0),o=Array(r);++s<r;)o[s]=n[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=n[s];return a[t]=e(o),hh(i,this,a)}}function Vi(i,t){return xg(Eg(i,t,vo),i+"")}var Bv=9007199254740991;function fh(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=Bv}function Ms(i){return i!=null&&fh(i.length)&&!ah(i)}function xo(i,t,e){if(!Fe(e))return!1;var n=typeof t;return(n=="number"?Ms(e)&&Ua(t,e.length):n=="string"&&t in e)?As(e[t],i):!1}function dh(i){return Vi(function(t,e){var n=-1,s=e.length,r=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(r=i.length>3&&typeof r=="function"?(s--,r):void 0,o&&xo(e[0],e[1],o)&&(r=s<3?void 0:r,s=1),t=Object(t);++n<s;){var a=e[n];a&&i(t,a,n,r)}return t})}var _v=Object.prototype;function Wa(i){var t=i&&i.constructor,e=typeof t=="function"&&t.prototype||_v;return i===e}function Vv(i,t){for(var e=-1,n=Array(i);++e<i;)n[e]=t(e);return n}var Hv="[object Arguments]";function Ag(i){return jn(i)&&vi(i)==Hv}var Mg=Object.prototype,Gv=Mg.hasOwnProperty,Uv=Mg.propertyIsEnumerable,qv=Ag(function(){return arguments}())?Ag:function(i){return jn(i)&&Gv.call(i,"callee")&&!Uv.call(i,"callee")},ur=qv;function Wv(){return!1}var Tg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Og=Tg&&typeof module=="object"&&module&&!module.nodeType&&module,Xv=Og&&Og.exports===Tg,Pg=Xv?Xn.Buffer:void 0,Yv=Pg?Pg.isBuffer:void 0,Kv=Yv||Wv,fr=Kv,Jv="[object Arguments]",Zv="[object Array]",Qv="[object Boolean]",tx="[object Date]",ex="[object Error]",nx="[object Function]",ix="[object Map]",sx="[object Number]",rx="[object Object]",ox="[object RegExp]",ax="[object Set]",lx="[object String]",cx="[object WeakMap]",hx="[object ArrayBuffer]",ux="[object DataView]",fx="[object Float32Array]",dx="[object Float64Array]",gx="[object Int8Array]",px="[object Int16Array]",mx="[object Int32Array]",bx="[object Uint8Array]",yx="[object Uint8ClampedArray]",Cx="[object Uint16Array]",vx="[object Uint32Array]",ve={};ve[fx]=ve[dx]=ve[gx]=ve[px]=ve[mx]=ve[bx]=ve[yx]=ve[Cx]=ve[vx]=!0;ve[Jv]=ve[Zv]=ve[hx]=ve[Qv]=ve[ux]=ve[tx]=ve[ex]=ve[nx]=ve[ix]=ve[sx]=ve[rx]=ve[ox]=ve[ax]=ve[lx]=ve[cx]=!1;function xx(i){return jn(i)&&fh(i.length)&&!!ve[vi(i)]}function wo(i){return function(t){return i(t)}}var Dg=typeof exports=="object"&&exports&&!exports.nodeType&&exports,So=Dg&&typeof module=="object"&&module&&!module.nodeType&&module,wx=So&&So.exports===Dg,gh=wx&&ug.process,Sx=function(){try{var i=So&&So.require&&So.require("util").types;return i||gh&&gh.binding&&gh.binding("util")}catch{}}(),dr=Sx,kg=dr&&dr.isTypedArray,Ex=kg?wo(kg):xx,Xa=Ex,Ax=Object.prototype,Mx=Ax.hasOwnProperty;function Ng(i,t){var e=on(i),n=!e&&ur(i),s=!e&&!n&&fr(i),r=!e&&!n&&!s&&Xa(i),o=e||n||s||r,a=o?Vv(i.length,String):[],l=a.length;for(var c in i)(t||Mx.call(i,c))&&!(o&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ua(c,l)))&&a.push(c);return a}function $g(i,t){return function(e){return i(t(e))}}var Tx=$g(Object.keys,Object),Ox=Tx,Px=Object.prototype,Dx=Px.hasOwnProperty;function Lg(i){if(!Wa(i))return Ox(i);var t=[];for(var e in Object(i))Dx.call(i,e)&&e!="constructor"&&t.push(e);return t}function gr(i){return Ms(i)?Ng(i):Lg(i)}function kx(i){var t=[];if(i!=null)for(var e in Object(i))t.push(e);return t}var Nx=Object.prototype,$x=Nx.hasOwnProperty;function Lx(i){if(!Fe(i))return kx(i);var t=Wa(i),e=[];for(var n in i)n=="constructor"&&(t||!$x.call(i,n))||e.push(n);return e}function Ts(i){return Ms(i)?Ng(i,!0):Lx(i)}var Fx=dh(function(i,t,e,n){hr(t,Ts(t),i,n)}),Fg=Fx,jx=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ix=/^\w*$/;function ph(i,t){if(on(i))return!1;var e=typeof i;return e=="number"||e=="symbol"||e=="boolean"||i==null||xi(i)?!0:Ix.test(i)||!jx.test(i)||t!=null&&i in Object(t)}var zx=Es(Object,"create"),Eo=zx;function Rx(){this.__data__=Eo?Eo(null):{},this.size=0}function Bx(i){var t=this.has(i)&&delete this.__data__[i];return this.size-=t?1:0,t}var _x="__lodash_hash_undefined__",Vx=Object.prototype,Hx=Vx.hasOwnProperty;function Gx(i){var t=this.__data__;if(Eo){var e=t[i];return e===_x?void 0:e}return Hx.call(t,i)?t[i]:void 0}var Ux=Object.prototype,qx=Ux.hasOwnProperty;function Wx(i){var t=this.__data__;return Eo?t[i]!==void 0:qx.call(t,i)}var Xx="__lodash_hash_undefined__";function Yx(i,t){var e=this.__data__;return this.size+=this.has(i)?0:1,e[i]=Eo&&t===void 0?Xx:t,this}function Os(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Os.prototype.clear=Rx;Os.prototype.delete=Bx;Os.prototype.get=Gx;Os.prototype.has=Wx;Os.prototype.set=Yx;function Kx(){this.__data__=[],this.size=0}function Ya(i,t){for(var e=i.length;e--;)if(As(i[e][0],t))return e;return-1}var Jx=Array.prototype,Zx=Jx.splice;function Qx(i){var t=this.__data__,e=Ya(t,i);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():Zx.call(t,e,1),--this.size,!0}function tw(i){var t=this.__data__,e=Ya(t,i);return e<0?void 0:t[e][1]}function ew(i){return Ya(this.__data__,i)>-1}function nw(i,t){var e=this.__data__,n=Ya(e,i);return n<0?(++this.size,e.push([i,t])):e[n][1]=t,this}function wi(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}wi.prototype.clear=Kx;wi.prototype.delete=Qx;wi.prototype.get=tw;wi.prototype.has=ew;wi.prototype.set=nw;var iw=Es(Xn,"Map"),Ao=iw;function sw(){this.size=0,this.__data__={hash:new Os,map:new(Ao||wi),string:new Os}}function rw(i){var t=typeof i;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?i!=="__proto__":i===null}function Ka(i,t){var e=i.__data__;return rw(t)?e[typeof t=="string"?"string":"hash"]:e.map}function ow(i){var t=Ka(this,i).delete(i);return this.size-=t?1:0,t}function aw(i){return Ka(this,i).get(i)}function lw(i){return Ka(this,i).has(i)}function cw(i,t){var e=Ka(this,i),n=e.size;return e.set(i,t),this.size+=e.size==n?0:1,this}function Si(i){var t=-1,e=i==null?0:i.length;for(this.clear();++t<e;){var n=i[t];this.set(n[0],n[1])}}Si.prototype.clear=sw;Si.prototype.delete=ow;Si.prototype.get=aw;Si.prototype.has=lw;Si.prototype.set=cw;var hw="Expected a function";function mh(i,t){if(typeof i!="function"||t!=null&&typeof t!="function")throw new TypeError(hw);var e=function(){var n=arguments,s=t?t.apply(this,n):n[0],r=e.cache;if(r.has(s))return r.get(s);var o=i.apply(this,n);return e.cache=r.set(s,o)||r,o};return e.cache=new(mh.Cache||Si),e}mh.Cache=Si;var uw=500;function fw(i){var t=mh(i,function(n){return e.size===uw&&e.clear(),n}),e=t.cache;return t}var dw=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gw=/\\(\\)?/g,pw=fw(function(i){var t=[];return i.charCodeAt(0)===46&&t.push(""),i.replace(dw,function(e,n,s,r){t.push(s?r.replace(gw,"$1"):n||e)}),t}),mw=pw;function Hi(i){return i==null?"":mg(i)}function Ja(i,t){return on(i)?i:ph(i,t)?[i]:mw(Hi(i))}var bw=1/0;function Mo(i){if(typeof i=="string"||xi(i))return i;var t=i+"";return t=="0"&&1/i==-bw?"-0":t}function Za(i,t){t=Ja(t,i);for(var e=0,n=t.length;i!=null&&e<n;)i=i[Mo(t[e++])];return e&&e==n?i:void 0}function yw(i,t,e){var n=i==null?void 0:Za(i,t);return n===void 0?e:n}function bh(i,t){for(var e=-1,n=t.length,s=i.length;++e<n;)i[s+e]=t[e];return i}var jg=Fn?Fn.isConcatSpreadable:void 0;function Cw(i){return on(i)||ur(i)||!!(jg&&i&&i[jg])}function To(i,t,e,n,s){var r=-1,o=i.length;for(e||(e=Cw),s||(s=[]);++r<o;){var a=i[r];t>0&&e(a)?t>1?To(a,t-1,e,n,s):bh(s,a):n||(s[s.length]=a)}return s}function vw(i){var t=i==null?0:i.length;return t?To(i,1):[]}function xw(i){return xg(Eg(i,void 0,vw),i+"")}var ww=$g(Object.getPrototypeOf,Object),yh=ww,Sw="[object Object]",Ew=Function.prototype,Aw=Object.prototype,Ig=Ew.toString,Mw=Aw.hasOwnProperty,Tw=Ig.call(Object);function Dn(i){if(!jn(i)||vi(i)!=Sw)return!1;var t=yh(i);if(t===null)return!0;var e=Mw.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Ig.call(e)==Tw}var Ow="[object DOMException]",Pw="[object Error]";function zg(i){if(!jn(i))return!1;var t=vi(i);return t==Pw||t==Ow||typeof i.message=="string"&&typeof i.name=="string"&&!Dn(i)}var Dw=Vi(function(i,t){try{return hh(i,void 0,t)}catch(e){return zg(e)?e:new Error(e)}}),kw=Dw;function Nw(i,t,e){var n=-1,s=i.length;t<0&&(t=-t>s?0:s+t),e=e>s?s:e,e<0&&(e+=s),s=t>e?0:e-t>>>0,t>>>=0;for(var r=Array(s);++n<s;)r[n]=i[n+t];return r}function $w(i,t,e){var n=i.length;return e=e===void 0?n:e,!t&&e>=n?i:Nw(i,t,e)}var Lw="\\ud800-\\udfff",Fw="\\u0300-\\u036f",jw="\\ufe20-\\ufe2f",Iw="\\u20d0-\\u20ff",zw=Fw+jw+Iw,Rw="\\ufe0e\\ufe0f",Bw="\\u200d",_w=RegExp("["+Bw+Lw+zw+Rw+"]");function Rg(i){return _w.test(i)}function Vw(i){return i.split("")}var Bg="\\ud800-\\udfff",Hw="\\u0300-\\u036f",Gw="\\ufe20-\\ufe2f",Uw="\\u20d0-\\u20ff",qw=Hw+Gw+Uw,Ww="\\ufe0e\\ufe0f",Xw="["+Bg+"]",Ch="["+qw+"]",vh="\\ud83c[\\udffb-\\udfff]",Yw="(?:"+Ch+"|"+vh+")",_g="[^"+Bg+"]",Vg="(?:\\ud83c[\\udde6-\\uddff]){2}",Hg="[\\ud800-\\udbff][\\udc00-\\udfff]",Kw="\\u200d",Gg=Yw+"?",Ug="["+Ww+"]?",Jw="(?:"+Kw+"(?:"+[_g,Vg,Hg].join("|")+")"+Ug+Gg+")*",Zw=Ug+Gg+Jw,Qw="(?:"+[_g+Ch+"?",Ch,Vg,Hg,Xw].join("|")+")",t3=RegExp(vh+"(?="+vh+")|"+Qw+Zw,"g");function e3(i){return i.match(t3)||[]}function n3(i){return Rg(i)?e3(i):Vw(i)}function qg(i){return function(t){t=Hi(t);var e=Rg(t)?n3(t):void 0,n=e?e[0]:t.charAt(0),s=e?$w(e,1).join(""):t.slice(1);return n[i]()+s}}var i3=qg("toUpperCase"),Qa=i3;function s3(i){return Qa(Hi(i).toLowerCase())}function r3(i,t,e,n){var s=-1,r=i==null?0:i.length;for(n&&r&&(e=i[++s]);++s<r;)e=t(e,i[s],s,i);return e}function Wg(i){return function(t){return i==null?void 0:i[t]}}var o3={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},a3=Wg(o3),l3=a3,c3=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h3="\\u0300-\\u036f",u3="\\ufe20-\\ufe2f",f3="\\u20d0-\\u20ff",d3=h3+u3+f3,g3="["+d3+"]",p3=RegExp(g3,"g");function m3(i){return i=Hi(i),i&&i.replace(c3,l3).replace(p3,"")}var b3=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function y3(i){return i.match(b3)||[]}var C3=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function v3(i){return C3.test(i)}var Xg="\\ud800-\\udfff",x3="\\u0300-\\u036f",w3="\\ufe20-\\ufe2f",S3="\\u20d0-\\u20ff",E3=x3+w3+S3,Yg="\\u2700-\\u27bf",Kg="a-z\\xdf-\\xf6\\xf8-\\xff",A3="\\xac\\xb1\\xd7\\xf7",M3="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",T3="\\u2000-\\u206f",O3=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jg="A-Z\\xc0-\\xd6\\xd8-\\xde",P3="\\ufe0e\\ufe0f",Zg=A3+M3+T3+O3,Qg="['\u2019]",tp="["+Zg+"]",D3="["+E3+"]",ep="\\d+",k3="["+Yg+"]",np="["+Kg+"]",ip="[^"+Xg+Zg+ep+Yg+Kg+Jg+"]",N3="\\ud83c[\\udffb-\\udfff]",$3="(?:"+D3+"|"+N3+")",L3="[^"+Xg+"]",sp="(?:\\ud83c[\\udde6-\\uddff]){2}",rp="[\\ud800-\\udbff][\\udc00-\\udfff]",pr="["+Jg+"]",F3="\\u200d",op="(?:"+np+"|"+ip+")",j3="(?:"+pr+"|"+ip+")",ap="(?:"+Qg+"(?:d|ll|m|re|s|t|ve))?",lp="(?:"+Qg+"(?:D|LL|M|RE|S|T|VE))?",cp=$3+"?",hp="["+P3+"]?",I3="(?:"+F3+"(?:"+[L3,sp,rp].join("|")+")"+hp+cp+")*",z3="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",R3="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",B3=hp+cp+I3,_3="(?:"+[k3,sp,rp].join("|")+")"+B3,V3=RegExp([pr+"?"+np+"+"+ap+"(?="+[tp,pr,"$"].join("|")+")",j3+"+"+lp+"(?="+[tp,pr+op,"$"].join("|")+")",pr+"?"+op+"+"+ap,pr+"+"+lp,R3,z3,ep,_3].join("|"),"g");function H3(i){return i.match(V3)||[]}function G3(i,t,e){return i=Hi(i),t=e?void 0:t,t===void 0?v3(i)?H3(i):y3(i):i.match(t)||[]}var U3="['\u2019]",q3=RegExp(U3,"g");function up(i){return function(t){return r3(G3(m3(t).replace(q3,"")),i,"")}}var W3=up(function(i,t,e){return t=t.toLowerCase(),i+(e?s3(t):t)}),xh=W3;function X3(i,t,e){return i===i&&(e!==void 0&&(i=i<=e?i:e),t!==void 0&&(i=i>=t?i:t)),i}function cn(i,t,e){return e===void 0&&(e=t,t=void 0),e!==void 0&&(e=Co(e),e=e===e?e:0),t!==void 0&&(t=Co(t),t=t===t?t:0),X3(Co(i),t,e)}function Y3(){this.__data__=new wi,this.size=0}function K3(i){var t=this.__data__,e=t.delete(i);return this.size=t.size,e}function J3(i){return this.__data__.get(i)}function Z3(i){return this.__data__.has(i)}var Q3=200;function tS(i,t){var e=this.__data__;if(e instanceof wi){var n=e.__data__;if(!Ao||n.length<Q3-1)return n.push([i,t]),this.size=++e.size,this;e=this.__data__=new Si(n)}return e.set(i,t),this.size=e.size,this}function Yn(i){var t=this.__data__=new wi(i);this.size=t.size}Yn.prototype.clear=Y3;Yn.prototype.delete=K3;Yn.prototype.get=J3;Yn.prototype.has=Z3;Yn.prototype.set=tS;function eS(i,t){return i&&hr(t,gr(t),i)}function nS(i,t){return i&&hr(t,Ts(t),i)}var fp=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dp=fp&&typeof module=="object"&&module&&!module.nodeType&&module,iS=dp&&dp.exports===fp,gp=iS?Xn.Buffer:void 0,pp=gp?gp.allocUnsafe:void 0;function mp(i,t){if(t)return i.slice();var e=i.length,n=pp?pp(e):new i.constructor(e);return i.copy(n),n}function sS(i,t){for(var e=-1,n=i==null?0:i.length,s=0,r=[];++e<n;){var o=i[e];t(o,e,i)&&(r[s++]=o)}return r}function bp(){return[]}var rS=Object.prototype,oS=rS.propertyIsEnumerable,yp=Object.getOwnPropertySymbols,aS=yp?function(i){return i==null?[]:(i=Object(i),sS(yp(i),function(t){return oS.call(i,t)}))}:bp,wh=aS;function lS(i,t){return hr(i,wh(i),t)}var cS=Object.getOwnPropertySymbols,hS=cS?function(i){for(var t=[];i;)bh(t,wh(i)),i=yh(i);return t}:bp,Cp=hS;function uS(i,t){return hr(i,Cp(i),t)}function vp(i,t,e){var n=t(i);return on(i)?n:bh(n,e(i))}function Sh(i){return vp(i,gr,wh)}function fS(i){return vp(i,Ts,Cp)}var dS=Es(Xn,"DataView"),Eh=dS,gS=Es(Xn,"Promise"),Ah=gS,pS=Es(Xn,"Set"),mr=pS,xp="[object Map]",mS="[object Object]",wp="[object Promise]",Sp="[object Set]",Ep="[object WeakMap]",Ap="[object DataView]",bS=Ss(Eh),yS=Ss(Ao),CS=Ss(Ah),vS=Ss(mr),xS=Ss(ch),Ps=vi;(Eh&&Ps(new Eh(new ArrayBuffer(1)))!=Ap||Ao&&Ps(new Ao)!=xp||Ah&&Ps(Ah.resolve())!=wp||mr&&Ps(new mr)!=Sp||ch&&Ps(new ch)!=Ep)&&(Ps=function(i){var t=vi(i),e=t==mS?i.constructor:void 0,n=e?Ss(e):"";if(n)switch(n){case bS:return Ap;case yS:return xp;case CS:return wp;case vS:return Sp;case xS:return Ep}return t});var br=Ps,wS=Object.prototype,SS=wS.hasOwnProperty;function ES(i){var t=i.length,e=new i.constructor(t);return t&&typeof i[0]=="string"&&SS.call(i,"index")&&(e.index=i.index,e.input=i.input),e}var AS=Xn.Uint8Array,tl=AS;function Mh(i){var t=new i.constructor(i.byteLength);return new tl(t).set(new tl(i)),t}function MS(i,t){var e=t?Mh(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.byteLength)}var TS=/\w*$/;function OS(i){var t=new i.constructor(i.source,TS.exec(i));return t.lastIndex=i.lastIndex,t}var Mp=Fn?Fn.prototype:void 0,Tp=Mp?Mp.valueOf:void 0;function PS(i){return Tp?Object(Tp.call(i)):{}}function Op(i,t){var e=t?Mh(i.buffer):i.buffer;return new i.constructor(e,i.byteOffset,i.length)}var DS="[object Boolean]",kS="[object Date]",NS="[object Map]",$S="[object Number]",LS="[object RegExp]",FS="[object Set]",jS="[object String]",IS="[object Symbol]",zS="[object ArrayBuffer]",RS="[object DataView]",BS="[object Float32Array]",_S="[object Float64Array]",VS="[object Int8Array]",HS="[object Int16Array]",GS="[object Int32Array]",US="[object Uint8Array]",qS="[object Uint8ClampedArray]",WS="[object Uint16Array]",XS="[object Uint32Array]";function YS(i,t,e){var n=i.constructor;switch(t){case zS:return Mh(i);case DS:case kS:return new n(+i);case RS:return MS(i,e);case BS:case _S:case VS:case HS:case GS:case US:case qS:case WS:case XS:return Op(i,e);case NS:return new n;case $S:case jS:return new n(i);case LS:return OS(i);case FS:return new n;case IS:return PS(i)}}function Pp(i){return typeof i.constructor=="function"&&!Wa(i)?vv(yh(i)):{}}var KS="[object Map]";function JS(i){return jn(i)&&br(i)==KS}var Dp=dr&&dr.isMap,ZS=Dp?wo(Dp):JS,QS=ZS,tE="[object Set]";function eE(i){return jn(i)&&br(i)==tE}var kp=dr&&dr.isSet,nE=kp?wo(kp):eE,iE=nE,sE=1,rE=2,oE=4,Np="[object Arguments]",aE="[object Array]",lE="[object Boolean]",cE="[object Date]",hE="[object Error]",$p="[object Function]",uE="[object GeneratorFunction]",fE="[object Map]",dE="[object Number]",Lp="[object Object]",gE="[object RegExp]",pE="[object Set]",mE="[object String]",bE="[object Symbol]",yE="[object WeakMap]",CE="[object ArrayBuffer]",vE="[object DataView]",xE="[object Float32Array]",wE="[object Float64Array]",SE="[object Int8Array]",EE="[object Int16Array]",AE="[object Int32Array]",ME="[object Uint8Array]",TE="[object Uint8ClampedArray]",OE="[object Uint16Array]",PE="[object Uint32Array]",be={};be[Np]=be[aE]=be[CE]=be[vE]=be[lE]=be[cE]=be[xE]=be[wE]=be[SE]=be[EE]=be[AE]=be[fE]=be[dE]=be[Lp]=be[gE]=be[pE]=be[mE]=be[bE]=be[ME]=be[TE]=be[OE]=be[PE]=!0;be[hE]=be[$p]=be[yE]=!1;function Oo(i,t,e,n,s,r){var o,a=t&sE,l=t&rE,c=t&oE;if(e&&(o=s?e(i,n,s,r):e(i)),o!==void 0)return o;if(!Fe(i))return i;var h=on(i);if(h){if(o=ES(i),!a)return vg(i,o)}else{var f=br(i),d=f==$p||f==uE;if(fr(i))return mp(i,a);if(f==Lp||f==Np||d&&!s){if(o=l||d?{}:Pp(i),!a)return l?uS(i,nS(o,i)):lS(i,eS(o,i))}else{if(!be[f])return s?i:{};o=YS(i,f,a)}}r||(r=new Yn);var p=r.get(i);if(p)return p;r.set(i,o),iE(i)?i.forEach(function(x){o.add(Oo(x,t,e,x,i,r))}):QS(i)&&i.forEach(function(x,w){o.set(w,Oo(x,t,e,w,i,r))});var y=c?l?fS:Sh:l?Ts:gr,v=h?void 0:y(i);return kv(v||i,function(x,w){v&&(w=x,x=i[w]),uh(o,w,Oo(x,t,e,w,i,r))}),o}var DE=4;function Po(i){return Oo(i,DE)}var kE=1,NE=4;function Te(i){return Oo(i,kE|NE)}var $E="__lodash_hash_undefined__";function LE(i){return this.__data__.set(i,$E),this}function FE(i){return this.__data__.has(i)}function yr(i){var t=-1,e=i==null?0:i.length;for(this.__data__=new Si;++t<e;)this.add(i[t])}yr.prototype.add=yr.prototype.push=LE;yr.prototype.has=FE;function jE(i,t){for(var e=-1,n=i==null?0:i.length;++e<n;)if(t(i[e],e,i))return!0;return!1}function Th(i,t){return i.has(t)}var IE=1,zE=2;function Fp(i,t,e,n,s,r){var o=e&IE,a=i.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=r.get(i),h=r.get(t);if(c&&h)return c==t&&h==i;var f=-1,d=!0,p=e&zE?new yr:void 0;for(r.set(i,t),r.set(t,i);++f<a;){var y=i[f],v=t[f];if(n)var x=o?n(v,y,f,t,i,r):n(y,v,f,i,t,r);if(x!==void 0){if(x)continue;d=!1;break}if(p){if(!jE(t,function(w,M){if(!Th(p,M)&&(y===w||s(y,w,e,n,r)))return p.push(M)})){d=!1;break}}else if(!(y===v||s(y,v,e,n,r))){d=!1;break}}return r.delete(i),r.delete(t),d}function RE(i){var t=-1,e=Array(i.size);return i.forEach(function(n,s){e[++t]=[s,n]}),e}function Oh(i){var t=-1,e=Array(i.size);return i.forEach(function(n){e[++t]=n}),e}var BE=1,_E=2,VE="[object Boolean]",HE="[object Date]",GE="[object Error]",UE="[object Map]",qE="[object Number]",WE="[object RegExp]",XE="[object Set]",YE="[object String]",KE="[object Symbol]",JE="[object ArrayBuffer]",ZE="[object DataView]",jp=Fn?Fn.prototype:void 0,Ph=jp?jp.valueOf:void 0;function QE(i,t,e,n,s,r,o){switch(e){case ZE:if(i.byteLength!=t.byteLength||i.byteOffset!=t.byteOffset)return!1;i=i.buffer,t=t.buffer;case JE:return!(i.byteLength!=t.byteLength||!r(new tl(i),new tl(t)));case VE:case HE:case qE:return As(+i,+t);case GE:return i.name==t.name&&i.message==t.message;case WE:case YE:return i==t+"";case UE:var a=RE;case XE:var l=n&BE;if(a||(a=Oh),i.size!=t.size&&!l)return!1;var c=o.get(i);if(c)return c==t;n|=_E,o.set(i,t);var h=Fp(a(i),a(t),n,s,r,o);return o.delete(i),h;case KE:if(Ph)return Ph.call(i)==Ph.call(t)}return!1}var tA=1,eA=Object.prototype,nA=eA.hasOwnProperty;function iA(i,t,e,n,s,r){var o=e&tA,a=Sh(i),l=a.length,c=Sh(t),h=c.length;if(l!=h&&!o)return!1;for(var f=l;f--;){var d=a[f];if(!(o?d in t:nA.call(t,d)))return!1}var p=r.get(i),y=r.get(t);if(p&&y)return p==t&&y==i;var v=!0;r.set(i,t),r.set(t,i);for(var x=o;++f<l;){d=a[f];var w=i[d],M=t[d];if(n)var A=o?n(M,w,d,t,i,r):n(w,M,d,i,t,r);if(!(A===void 0?w===M||s(w,M,e,n,r):A)){v=!1;break}x||(x=d=="constructor")}if(v&&!x){var D=i.constructor,N=t.constructor;D!=N&&"constructor"in i&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof N=="function"&&N instanceof N)&&(v=!1)}return r.delete(i),r.delete(t),v}var sA=1,Ip="[object Arguments]",zp="[object Array]",el="[object Object]",rA=Object.prototype,Rp=rA.hasOwnProperty;function oA(i,t,e,n,s,r){var o=on(i),a=on(t),l=o?zp:br(i),c=a?zp:br(t);l=l==Ip?el:l,c=c==Ip?el:c;var h=l==el,f=c==el,d=l==c;if(d&&fr(i)){if(!fr(t))return!1;o=!0,h=!1}if(d&&!h)return r||(r=new Yn),o||Xa(i)?Fp(i,t,e,n,s,r):QE(i,t,l,e,n,s,r);if(!(e&sA)){var p=h&&Rp.call(i,"__wrapped__"),y=f&&Rp.call(t,"__wrapped__");if(p||y){var v=p?i.value():i,x=y?t.value():t;return r||(r=new Yn),s(v,x,e,n,r)}}return d?(r||(r=new Yn),iA(i,t,e,n,s,r)):!1}function nl(i,t,e,n,s){return i===t?!0:i==null||t==null||!jn(i)&&!jn(t)?i!==i&&t!==t:oA(i,t,e,n,nl,s)}var aA=1,lA=2;function cA(i,t,e,n){var s=e.length,r=s,o=!n;if(i==null)return!r;for(i=Object(i);s--;){var a=e[s];if(o&&a[2]?a[1]!==i[a[0]]:!(a[0]in i))return!1}for(;++s<r;){a=e[s];var l=a[0],c=i[l],h=a[1];if(o&&a[2]){if(c===void 0&&!(l in i))return!1}else{var f=new Yn;if(n)var d=n(c,h,l,i,t,f);if(!(d===void 0?nl(h,c,aA|lA,n,f):d))return!1}}return!0}function Bp(i){return i===i&&!Fe(i)}function hA(i){for(var t=gr(i),e=t.length;e--;){var n=t[e],s=i[n];t[e]=[n,s,Bp(s)]}return t}function _p(i,t){return function(e){return e==null?!1:e[i]===t&&(t!==void 0||i in Object(e))}}function uA(i){var t=hA(i);return t.length==1&&t[0][2]?_p(t[0][0],t[0][1]):function(e){return e===i||cA(e,i,t)}}function fA(i,t){return i!=null&&t in Object(i)}function Vp(i,t,e){t=Ja(t,i);for(var n=-1,s=t.length,r=!1;++n<s;){var o=Mo(t[n]);if(!(r=i!=null&&e(i,o)))break;i=i[o]}return r||++n!=s?r:(s=i==null?0:i.length,!!s&&fh(s)&&Ua(o,s)&&(on(i)||ur(i)))}function Hp(i,t){return i!=null&&Vp(i,t,fA)}var dA=1,gA=2;function pA(i,t){return ph(i)&&Bp(t)?_p(Mo(i),t):function(e){var n=yw(e,i);return n===void 0&&n===t?Hp(e,i):nl(t,n,dA|gA)}}function mA(i){return function(t){return t==null?void 0:t[i]}}function bA(i){return function(t){return Za(t,i)}}function yA(i){return ph(i)?mA(Mo(i)):bA(i)}function Dh(i){return typeof i=="function"?i:i==null?vo:typeof i=="object"?on(i)?pA(i[0],i[1]):uA(i):yA(i)}function CA(i,t,e,n){for(var s=-1,r=i==null?0:i.length;++s<r;){var o=i[s];t(n,o,e(o),i)}return n}function vA(i){return function(t,e,n){for(var s=-1,r=Object(t),o=n(t),a=o.length;a--;){var l=o[i?a:++s];if(e(r[l],l,r)===!1)break}return t}}var xA=vA(),Gp=xA;function wA(i,t){return i&&Gp(i,t,gr)}function SA(i,t){return function(e,n){if(e==null)return e;if(!Ms(e))return i(e,n);for(var s=e.length,r=t?s:-1,o=Object(e);(t?r--:++r<s)&&n(o[r],r,o)!==!1;);return e}}var EA=SA(wA),Up=EA;function AA(i,t,e,n){return Up(i,function(s,r,o){t(n,s,e(s),o)}),n}function MA(i,t){return function(e,n){var s=on(e)?CA:AA,r=t?t():{};return s(e,i,Dh(n),r)}}var TA=function(){return Xn.Date.now()},kh=TA,OA="Expected a function",PA=Math.max,DA=Math.min;function qp(i,t,e){var n,s,r,o,a,l,c=0,h=!1,f=!1,d=!0;if(typeof i!="function")throw new TypeError(OA);t=Co(t)||0,Fe(e)&&(h=!!e.leading,f="maxWait"in e,r=f?PA(Co(e.maxWait)||0,t):r,d="trailing"in e?!!e.trailing:d);function p(m){var P=n,$=s;return n=s=void 0,c=m,o=i.apply($,P),o}function y(m){return c=m,a=setTimeout(w,t),h?p(m):o}function v(m){var P=m-l,$=m-c,V=t-P;return f?DA(V,r-$):V}function x(m){var P=m-l,$=m-c;return l===void 0||P>=t||P<0||f&&$>=r}function w(){var m=kh();if(x(m))return M(m);a=setTimeout(w,v(m))}function M(m){return a=void 0,d&&n?p(m):(n=s=void 0,o)}function A(){a!==void 0&&clearTimeout(a),c=0,n=l=s=a=void 0}function D(){return a===void 0?o:M(kh())}function N(){var m=kh(),P=x(m);if(n=arguments,s=this,l=m,P){if(a===void 0)return y(l);if(f)return clearTimeout(a),a=setTimeout(w,t),p(l)}return a===void 0&&(a=setTimeout(w,t)),o}return N.cancel=A,N.flush=D,N}var Wp=Object.prototype,kA=Wp.hasOwnProperty,NA=Vi(function(i,t){i=Object(i);var e=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&xo(t[0],t[1],s)&&(n=1);++e<n;)for(var r=t[e],o=Ts(r),a=-1,l=o.length;++a<l;){var c=o[a],h=i[c];(h===void 0||As(h,Wp[c])&&!kA.call(i,c))&&(i[c]=r[c])}return i}),$A=NA;function Nh(i,t,e){(e!==void 0&&!As(i[t],e)||e===void 0&&!(t in i))&&qa(i,t,e)}function il(i){return jn(i)&&Ms(i)}function $h(i,t){if(!(t==="constructor"&&typeof i[t]=="function")&&t!="__proto__")return i[t]}function LA(i){return hr(i,Ts(i))}function FA(i,t,e,n,s,r,o){var a=$h(i,e),l=$h(t,e),c=o.get(l);if(c){Nh(i,e,c);return}var h=r?r(a,l,e+"",i,t,o):void 0,f=h===void 0;if(f){var d=on(l),p=!d&&fr(l),y=!d&&!p&&Xa(l);h=l,d||p||y?on(a)?h=a:il(a)?h=vg(a):p?(f=!1,h=mp(l,!0)):y?(f=!1,h=Op(l,!0)):h=[]:Dn(l)||ur(l)?(h=a,ur(a)?h=LA(a):(!Fe(a)||ah(a))&&(h=Pp(l))):f=!1}f&&(o.set(l,h),s(h,l,n,r,o),o.delete(l)),Nh(i,e,h)}function sl(i,t,e,n,s){i!==t&&Gp(t,function(r,o){if(s||(s=new Yn),Fe(r))FA(i,t,o,e,sl,n,s);else{var a=n?n($h(i,o),r,o+"",i,t,s):void 0;a===void 0&&(a=r),Nh(i,o,a)}},Ts)}function Xp(i,t,e,n,s,r){return Fe(i)&&Fe(t)&&(r.set(t,i),sl(i,t,void 0,Xp,r),r.delete(t)),i}var jA=dh(function(i,t,e,n){sl(i,t,e,n)}),IA=jA,zA=Vi(function(i){return i.push(void 0,Xp),hh(IA,void 0,i)}),Yp=zA,RA="Expected a function";function BA(i,t,e){if(typeof i!="function")throw new TypeError(RA);return setTimeout(function(){i.apply(void 0,e)},t)}var _A=Vi(function(i,t){return BA(i,1,t)}),VA=_A;function Kp(i,t,e){for(var n=-1,s=i==null?0:i.length;++n<s;)if(e(t,i[n]))return!0;return!1}var HA=200;function GA(i,t,e,n){var s=-1,r=wg,o=!0,a=i.length,l=[],c=t.length;if(!a)return l;e&&(t=cr(t,wo(e))),n?(r=Kp,o=!1):t.length>=HA&&(r=Th,o=!1,t=new yr(t));t:for(;++s<a;){var h=i[s],f=e==null?h:e(h);if(h=n||h!==0?h:0,o&&f===f){for(var d=c;d--;)if(t[d]===f)continue t;l.push(h)}else r(t,f,n)||l.push(h)}return l}var UA=Vi(function(i,t){return il(i)?GA(i,To(t,1,il,!0)):[]}),qA=UA,WA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},XA=Wg(WA),YA=XA,Jp=/[&<>"']/g,KA=RegExp(Jp.source);function JA(i){return i=Hi(i),i&&KA.test(i)?i.replace(Jp,YA):i}function ZA(i,t){var e=-1,n=Ms(i)?Array(i.length):[];return Up(i,function(s,r,o){n[++e]=t(s,r,o)}),n}var QA=Object.prototype,tM=QA.hasOwnProperty,eM=MA(function(i,t,e){tM.call(i,e)?i[e].push(t):qa(i,e,[t])}),nM=eM,iM=Object.prototype,sM=iM.hasOwnProperty;function rM(i,t){return i!=null&&sM.call(i,t)}function Do(i,t){return i!=null&&Vp(i,t,rM)}function oM(i,t){return cr(t,function(e){return i[e]})}var aM="[object Map]",lM="[object Set]",cM=Object.prototype,hM=cM.hasOwnProperty;function Zp(i){if(i==null)return!0;if(Ms(i)&&(on(i)||typeof i=="string"||typeof i.splice=="function"||fr(i)||Xa(i)||ur(i)))return!i.length;var t=br(i);if(t==aM||t==lM)return!i.size;if(Wa(i))return!Lg(i).length;for(var e in i)if(hM.call(i,e))return!1;return!0}function ri(i,t){return nl(i,t)}var uM="[object Number]";function Qp(i){return typeof i=="number"||jn(i)&&vi(i)==uM}var fM=qg("toLowerCase"),dM=fM,gM=dh(function(i,t,e){sl(i,t,e)}),pe=gM;function pM(i,t,e,n){if(!Fe(i))return i;t=Ja(t,i);for(var s=-1,r=t.length,o=r-1,a=i;a!=null&&++s<r;){var l=Mo(t[s]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return i;if(s!=o){var h=a[l];c=n?n(h,l,a):void 0,c===void 0&&(c=Fe(h)?h:Ua(t[s+1])?[]:{})}uh(a,l,c),a=a[l]}return i}function mM(i,t,e){for(var n=-1,s=t.length,r={};++n<s;){var o=t[n],a=Za(i,o);e(a,o)&&pM(r,Ja(o,i),a)}return r}function bM(i,t){var e=i.length;for(i.sort(t);e--;)i[e]=i[e].value;return i}function yM(i,t){if(i!==t){var e=i!==void 0,n=i===null,s=i===i,r=xi(i),o=t!==void 0,a=t===null,l=t===t,c=xi(t);if(!a&&!c&&!r&&i>t||r&&o&&l&&!a&&!c||n&&o&&l||!e&&l||!s)return 1;if(!n&&!r&&!c&&i<t||c&&e&&s&&!n&&!r||a&&e&&s||!o&&s||!l)return-1}return 0}function CM(i,t,e){for(var n=-1,s=i.criteria,r=t.criteria,o=s.length,a=e.length;++n<o;){var l=yM(s[n],r[n]);if(l){if(n>=a)return l;var c=e[n];return l*(c=="desc"?-1:1)}}return i.index-t.index}function vM(i,t,e){t.length?t=cr(t,function(r){return on(r)?function(o){return Za(o,r.length===1?r[0]:r)}:r}):t=[vo];var n=-1;t=cr(t,wo(Dh));var s=ZA(i,function(r,o,a){var l=cr(t,function(c){return c(r)});return{criteria:l,index:++n,value:r}});return bM(s,function(r,o){return CM(r,o,e)})}function xM(i,t){return mM(i,t,function(e,n){return Hp(i,n)})}var wM=xw(function(i,t){return i==null?{}:xM(i,t)}),t2=wM,SM=Vi(function(i,t){if(i==null)return[];var e=t.length;return e>1&&xo(i,t[0],t[1])?t=[]:e>2&&xo(t[0],t[1],t[2])&&(t=[t[0]]),vM(i,To(t,1),[])}),Lh=SM,EM=4294967295,AM=EM-1,MM=Math.floor,TM=Math.min;function e2(i,t,e,n){var s=0,r=i==null?0:i.length;if(r===0)return 0;t=e(t);for(var o=t!==t,a=t===null,l=xi(t),c=t===void 0;s<r;){var h=MM((s+r)/2),f=e(i[h]),d=f!==void 0,p=f===null,y=f===f,v=xi(f);if(o)var x=n||y;else c?x=y&&(n||d):a?x=y&&d&&(n||!p):l?x=y&&d&&!p&&(n||!v):p||v?x=!1:x=n?f<=t:f<t;x?s=h+1:r=h}return TM(r,AM)}var OM=4294967295,PM=OM>>>1;function DM(i,t,e){var n=0,s=i==null?n:i.length;if(typeof t=="number"&&t===t&&s<=PM){for(;n<s;){var r=n+s>>>1,o=i[r];o!==null&&!xi(o)&&(e?o<=t:o<t)?n=r+1:s=r}return s}return e2(i,t,vo,e)}function kM(i,t){return DM(i,t)}function NM(i,t,e){return e2(i,t,Dh(e))}var $M=up(function(i,t,e){return i+(e?" ":"")+Qa(t)}),LM=$M,n2=Object.prototype,FM=n2.hasOwnProperty;function i2(i,t,e,n){return i===void 0||As(i,n2[e])&&!FM.call(n,e)?t:i}var jM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function IM(i){return"\\"+jM[i]}var zM=/<%=([\s\S]+?)%>/g,s2=zM,RM=/<%-([\s\S]+?)%>/g,BM=RM,_M=/<%([\s\S]+?)%>/g,VM=_M,HM={escape:BM,evaluate:VM,interpolate:s2,variable:"",imports:{_:{escape:JA}}},r2=HM,GM="Invalid `variable` option passed into `_.template`",UM=/\b__p \+= '';/g,qM=/\b(__p \+=) '' \+/g,WM=/(__e\(.*?\)|\b__t\)) \+\n'';/g,XM=/[()=,{}\[\]\/\s]/,YM=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rl=/($^)/,KM=/['\n\r\u2028\u2029\\]/g,JM=Object.prototype,o2=JM.hasOwnProperty;function Cr(i,t,e){var n=r2.imports._.templateSettings||r2;e&&xo(i,t,e)&&(t=void 0),i=Hi(i),t=Fg({},t,n,i2);var s=Fg({},t.imports,n.imports,i2),r=gr(s),o=oM(s,r),a,l,c=0,h=t.interpolate||rl,f="__p += '",d=RegExp((t.escape||rl).source+"|"+h.source+"|"+(h===s2?YM:rl).source+"|"+(t.evaluate||rl).source+"|$","g"),p=o2.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";i.replace(d,function(x,w,M,A,D,N){return M||(M=A),f+=i.slice(c,N).replace(KM,IM),w&&(a=!0,f+=`' +
__e(`+w+`) +
'`),D&&(l=!0,f+=`';
`+D+`;
__p += '`),M&&(f+=`' +
((__t = (`+M+`)) == null ? '' : __t) +
'`),c=N+x.length,x}),f+=`';
`;var y=o2.call(t,"variable")&&t.variable;if(!y)f=`with (obj) {
`+f+`
}
`;else if(XM.test(y))throw new Error(GM);f=(l?f.replace(UM,""):f).replace(qM,"$1").replace(WM,"$1;"),f="function("+(y||"obj")+`) {
`+(y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+f+`return __p
}`;var v=kw(function(){return Function(r,p+"return "+f).apply(void 0,o)});if(v.source=f,zg(v))throw v;return v}var ZM=1/0,QM=mr&&1/Oh(new mr([,-0]))[1]==ZM?function(i){return new mr(i)}:xv,tT=QM,eT=200;function a2(i,t,e){var n=-1,s=wg,r=i.length,o=!0,a=[],l=a;if(e)o=!1,s=Kp;else if(r>=eT){var c=t?null:tT(i);if(c)return Oh(c);o=!1,s=Th,l=new yr}else l=t?[]:a;t:for(;++n<r;){var h=i[n],f=t?t(h):h;if(h=e||h!==0?h:0,o&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue t;t&&l.push(f),a.push(h)}else s(l,f,e)||(l!==a&&l.push(f),a.push(h))}return a}var nT=Vi(function(i){return a2(To(i,1,il,!0))}),l2=nT;function c2(i){return i&&i.length?a2(i):[]}var iT=0;function sT(i){var t=++iT;return Hi(i)+t}function h2(i,...t){t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(n=>{n!=="constructor"&&Object.defineProperty(i.prototype,n,Object.getOwnPropertyDescriptor(e.prototype,n))})})}const rT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,t){i.__proto__=t}||function(i,t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])};function oT(i,t){rT(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}class aT{}const lT=/^\s*class\s+/.test(`${aT}`)||/^\s*class\s*\{/.test(`${class{}}`);function Fh(i,t){let e;return lT?e=new Function("base",`return class ${i} extends base { }`)(t):(e=new Function("base",`return function ${i}() { return base.apply(this, arguments) }`)(t),oT(e,t)),e}function jh(i,t,e="/"){let n;const s=Array.isArray(t)?t:t.split(e);if(s.length)for(n=i;s.length;){const r=s.shift();if(Object(n)===n&&r&&r in n)n=n[r];else return}return n}function vr(i,t,e,n="/"){const s=Array.isArray(t)?t:t.split(n),r=s.pop();if(r){let o=i;s.forEach(a=>{o[a]==null&&(o[a]={}),o=o[a]}),o[r]=e}return i}function u2(i,t,e="/"){const n=Array.isArray(t)?t.slice():t.split(e),s=n.pop();if(s)if(n.length>0){const r=jh(i,n);r&&delete r[s]}else delete i[s];return i}const f2=i=>{const t=Object.create(null);return e=>t[e]||(t[e]=i(e))},d2=f2(i=>i.replace(/\B([A-Z])/g,"-$1").toLowerCase()),Ih=f2(i=>LM(xh(i)).replace(/ /g,""));function zh(i){let t=2166136261,e=!1,n=i;for(let s=0,r=n.length;s<r;s+=1){let o=n.charCodeAt(s);o>127&&!e&&(n=unescape(encodeURIComponent(n)),o=n.charCodeAt(s),e=!0),t^=o,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function Rh(){let i="";const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";for(let e=0,n=t.length;e<n;e+=1){const s=t[e],r=Math.random()*16|0;i+=(s==="x"?r:s==="y"?r&3|8:s).toString(16)}return i}function g2(i,t={}){const e=Ne.parseHTML(i,null,!1);return e.forEach(n=>{const s=n;if(s){const r=s.attributes;if(r)for(let o=0,a=r.length;o<a;o+=1){const l=r.item(o);if(l){const c=l.value.toLowerCase(),h=l.name.toLowerCase();(h.startsWith("on")||c.startsWith("javascript:")||c.startsWith("data:")||c.startsWith("vbscript:"))&&s.removeAttribute(h)}}}}),t.raw?e:Ne("<div/>").append(e).html()}function cT(i,t,e){const n=Math.min(2,Math.floor(i.length*.34));let s=Math.floor(i.length*.4)+1,r,o=!1;const a=i.toLowerCase();for(const l of t){const c=e(l);if(c!==void 0&&Math.abs(c.length-a.length)<=n){const h=c.toLowerCase();if(h===a){if(c===i)continue;return l}if(o||c.length<3)continue;const f=hT(a,h,s-1);if(f===void 0)continue;f<3?(o=!0,r=l):(s=f,r=l)}}return r}function hT(i,t,e){let n=new Array(t.length+1),s=new Array(t.length+1);const r=e+1;for(let a=0;a<=t.length;a+=1)n[a]=a;for(let a=1;a<=i.length;a+=1){const l=i.charCodeAt(a-1),c=a>e?a-e:1,h=t.length>e+a?e+a:t.length;s[0]=a;let f=a;for(let p=1;p<c;p+=1)s[p]=r;for(let p=c;p<=h;p+=1){const y=l===t.charCodeAt(p-1)?n[p-1]:Math.min(n[p]+1,s[p-1]+1,n[p-1]+2);s[p]=y,f=Math.min(f,y)}for(let p=h+1;p<=t.length;p+=1)s[p]=r;if(f>e)return;const d=n;n=s,s=d}const o=n[t.length];return o>e?void 0:o}function Kn(i){return typeof i=="string"&&i.slice(-1)==="%"}function oi(i,t){if(i==null)return 0;let e;if(typeof i=="string"){if(e=parseFloat(i),Kn(i)&&(e/=100,Number.isFinite(e)))return e*t}else e=i;return Number.isFinite(e)?e>0&&e<1?e*t:e:0}function uT(i,t){function e(o){const a=new RegExp(`(?:\\d+(?:\\.\\d+)*)(${o})$`).exec(i);return a?a[1]:null}const n=parseFloat(i);if(Number.isNaN(n))return null;let s;if(t==null)s="[A-Za-z]*";else if(Array.isArray(t)){if(t.length===0)return null;s=t.join("|")}else typeof t=="string"&&(s=t);const r=e(s);return r===null?null:{unit:r,value:n}}function mn(i){if(typeof i=="object"){let e=0,n=0,s=0,r=0;return i.vertical!=null&&Number.isFinite(i.vertical)&&(n=r=i.vertical),i.horizontal!=null&&Number.isFinite(i.horizontal)&&(s=e=i.horizontal),i.left!=null&&Number.isFinite(i.left)&&(e=i.left),i.top!=null&&Number.isFinite(i.top)&&(n=i.top),i.right!=null&&Number.isFinite(i.right)&&(s=i.right),i.bottom!=null&&Number.isFinite(i.bottom)&&(r=i.bottom),{top:n,right:s,bottom:r,left:e}}let t=0;return i!=null&&Number.isFinite(i)&&(t=i),{top:t,right:t,bottom:t,left:t}}function p2(i,t,e){if(e)switch(e.length){case 0:return i.call(t);case 1:return i.call(t,e[0]);case 2:return i.call(t,e[0],e[1]);case 3:return i.call(t,e[0],e[1],e[2]);case 4:return i.call(t,e[0],e[1],e[2],e[3]);case 5:return i.call(t,e[0],e[1],e[2],e[3],e[4]);case 6:return i.call(t,e[0],e[1],e[2],e[3],e[4],e[5]);default:return i.apply(t,e)}return i.call(t)}function dt(i,t,...e){return p2(i,t,e)}function fT(i){return typeof i=="object"&&i.then&&typeof i.then=="function"}function Bh(i){return i!=null&&(i instanceof Promise||fT(i))}function _h(...i){const t=[];if(i.forEach(n=>{Array.isArray(n)?t.push(...n):t.push(n)}),t.some(n=>Bh(n))){const n=t.map(s=>Bh(s)?s:Promise.resolve(s!==!1));return Promise.all(n).then(s=>s.reduce((r,o)=>o!==!1&&r,!0))}return t.every(n=>n!==!1)}function dT(...i){const t=_h(i);return typeof t=="boolean"?Promise.resolve(t):t}const Vh=/[\t\r\n\f]/g,Hh=/\S+/g,xr=i=>` ${i} `;function wr(i){return i&&i.getAttribute&&i.getAttribute("class")||""}function ol(i,t){if(i==null||t==null)return!1;const e=xr(wr(i)),n=xr(t);return i.nodeType===1?e.replace(Vh," ").includes(n):!1}function Jt(i,t){if(!(i==null||t==null)){if(typeof t=="function")return Jt(i,t(wr(i)));if(typeof t=="string"&&i.nodeType===1){const e=t.match(Hh)||[],n=xr(wr(i)).replace(Vh," ");let s=e.reduce((r,o)=>r.indexOf(xr(o))<0?`${r}${o} `:r,n);s=s.trim(),n!==s&&i.setAttribute("class",s)}}}function In(i,t){if(i!=null){if(typeof t=="function")return In(i,t(wr(i)));if((!t||typeof t=="string")&&i.nodeType===1){const e=(t||"").match(Hh)||[],n=xr(wr(i)).replace(Vh," ");let s=e.reduce((r,o)=>{const a=xr(o);return r.indexOf(a)>-1?r.replace(a," "):r},n);s=t?s.trim():"",n!==s&&i.setAttribute("class",s)}}}function m2(i,t,e){if(!(i==null||t==null)){if(e!=null&&typeof t=="string"){e?Jt(i,t):In(i,t);return}if(typeof t=="function")return m2(i,t(wr(i),e),e);typeof t=="string"&&(t.match(Hh)||[]).forEach(s=>{ol(i,s)?In(i,s):Jt(i,s)})}}let b2=0;function gT(){return b2+=1,`v${b2}`}function al(i){return(i.id==null||i.id==="")&&(i.id=gT()),i.id}function ko(i){return i==null?!1:typeof i.getScreenCTM=="function"&&i instanceof SVGElement}const ze={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},y2="1.1";function C2(i,t=document){return t.createElement(i)}function Gh(i,t=ze.xhtml,e=document){return e.createElementNS(t,i)}function bn(i,t=document){return Gh(i,ze.svg,t)}function ll(i){if(i){const e=`<svg xmlns="${ze.svg}" xmlns:xlink="${ze.xlink}" version="${y2}">${i}</svg>`,{documentElement:n}=v2(e,{async:!1});return n}const t=document.createElementNS(ze.svg,"svg");return t.setAttributeNS(ze.xmlns,"xmlns:xlink",ze.xlink),t.setAttribute("version",y2),t}function v2(i,t={}){let e;try{const n=new DOMParser;if(t.async!=null){const s=n;s.async=t.async}e=n.parseFromString(i,t.mimeType||"text/xml")}catch{e=void 0}if(!e||e.getElementsByTagName("parsererror").length)throw new Error(`Invalid XML: ${i}`);return e}function pT(i,t=!0){const e=i.nodeName;return t?e.toLowerCase():e.toUpperCase()}function Uh(i){let t=0,e=i.previousSibling;for(;e;)e.nodeType===1&&(t+=1),e=e.previousSibling;return t}function mT(i,t){return i.querySelectorAll(t)}function qh(i,t){return i.querySelector(t)}function x2(i,t,e){const n=i.ownerSVGElement;let s=i.parentNode;for(;s&&s!==e&&s!==n;){if(ol(s,t))return s;s=s.parentNode}return null}function Wh(i,t){const e=t&&t.parentNode;return i===e||!!(e&&e.nodeType===1&&i.compareDocumentPosition(e)&16)}function ai(i){i.parentNode&&i.parentNode.removeChild(i)}function Xh(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function No(i,t){(Array.isArray(t)?t:[t]).forEach(n=>{n!=null&&i.appendChild(n)})}function bT(i,t){const e=i.firstChild;return e?Yh(e,t):No(i,t)}function Yh(i,t){const e=i.parentNode;e&&(Array.isArray(t)?t:[t]).forEach(s=>{s!=null&&e.insertBefore(s,i)})}function yT(i,t){t!=null&&t.appendChild(i)}function Kh(i){try{return i instanceof HTMLElement}catch{return typeof i=="object"&&i.nodeType===1&&typeof i.style=="object"&&typeof i.ownerDocument=="object"}}function CT(i,t){return i.getAttribute(t)}function w2(i,t){const e=E2(t);e.ns?i.hasAttributeNS(e.ns,e.local)&&i.removeAttributeNS(e.ns,e.local):i.hasAttribute(t)&&i.removeAttribute(t)}function Jh(i,t,e){if(e==null)return w2(i,t);const n=E2(t);n.ns&&typeof e=="string"?i.setAttributeNS(n.ns,t,e):t==="id"?i.id=`${e}`:i.setAttribute(t,`${e}`)}function S2(i,t){Object.keys(t).forEach(e=>{Jh(i,e,t[e])})}function Zt(i,t,e){if(t==null){const n=i.attributes,s={};for(let r=0;r<n.length;r+=1)s[n[r].name]=n[r].value;return s}if(typeof t=="string"&&e===void 0)return i.getAttribute(t);typeof t=="object"?S2(i,t):Jh(i,t,e)}function E2(i){if(i.indexOf(":")!==-1){const t=i.split(":");return{ns:ze[t[0]],local:t[1]}}return{ns:null,local:i}}function $o(i){const t={};return Object.keys(i).forEach(e=>{const n=d2(e);t[n]=i[e]}),t}function cl(i){const t={};return i.split(";").forEach(n=>{const s=n.trim();if(s){const r=s.split("=");r.length&&(t[r[0].trim()]=r[1]?r[1].trim():"")}}),t}function Zh(i,t){return Object.keys(t).forEach(e=>{if(e==="class")i[e]=i[e]?`${i[e]} ${t[e]}`:t[e];else if(e==="style"){const n=typeof i[e]=="object",s=typeof t[e]=="object";let r,o;n&&s?(r=i[e],o=t[e]):n?(r=i[e],o=cl(t[e])):s?(r=cl(i[e]),o=t[e]):(r=cl(i[e]),o=cl(t[e])),i[e]=Zh(r,o)}else i[e]=t[e]}),i}function vT(i,t,e={}){const n=e.offset||0,s=[],r=[];let o,a,l=null;for(let c=0;c<i.length;c+=1){o=r[c]=i[c];for(let h=0,f=t.length;h<f;h+=1){const d=t[h],p=d.start+n,y=d.end+n;c>=p&&c<y&&(typeof o=="string"?o=r[c]={t:i[c],attrs:d.attrs}:o.attrs=Zh(Zh({},o.attrs),d.attrs),e.includeAnnotationIndices&&(o.annotations==null&&(o.annotations=[]),o.annotations.push(h)))}a=r[c-1],a?Fe(o)&&Fe(a)?(l=l,JSON.stringify(o.attrs)===JSON.stringify(a.attrs)?l.t+=o.t:(s.push(l),l=o)):Fe(o)||Fe(a)?(l=l,s.push(l),l=o):l=(l||"")+o:l=o}return l!=null&&s.push(l),s}function xT(i){return i.replace(/ /g,"\xA0")}var A2;(function(i){i.emptyObject=Object.freeze({}),i.emptyArray=Object.freeze([]);function t(h){return h==null||typeof h=="boolean"||typeof h=="number"||typeof h=="string"}i.isPrimitive=t;function e(h){return Array.isArray(h)}i.isArray=e;function n(h){return!t(h)&&!e(h)}i.isObject=n;function s(h,f){if(h===f)return!0;if(t(h)||t(f))return!1;const d=e(h),p=e(f);return d!==p?!1:d&&p?o(h,f):a(h,f)}i.deepEqual=s;function r(h){return t(h)?h:e(h)?l(h):c(h)}i.deepCopy=r;function o(h,f){if(h===f)return!0;if(h.length!==f.length)return!1;for(let d=0,p=h.length;d<p;d+=1)if(!s(h[d],f[d]))return!1;return!0}function a(h,f){if(h===f)return!0;for(const d in h)if(!(d in f))return!1;for(const d in f)if(!(d in h))return!1;for(const d in h)if(!s(h[d],f[d]))return!1;return!0}function l(h){const f=new Array(h.length);for(let d=0,p=h.length;d<p;d+=1)f[d]=r(h[d]);return f}function c(h){const f={};return Object.keys(h).forEach(d=>{f[d]=r(h[d])}),f}})(A2||(A2={}));var Qh;(function(i){function t(c){const h="data:";return c.substr(0,h.length)===h}i.isDataUrl=t;function e(c,h){if(!c||t(c)){setTimeout(()=>h(null,c));return}const f=()=>{h(new Error(`Failed to load image: ${c}`))},d=window.FileReader?y=>{if(y.status===200){const v=new FileReader;v.onload=x=>{const w=x.target.result;h(null,w)},v.onerror=f,v.readAsDataURL(y.response)}else f()}:y=>{const v=x=>{const w=32768,M=[];for(let A=0;A<x.length;A+=w)M.push(String.fromCharCode.apply(null,x.subarray(A,A+w)));return M.join("")};if(y.status===200){let x=c.split(".").pop()||"png";x==="svg"&&(x="svg+xml");const w=`data:image/${x};base64,`,M=new Uint8Array(y.response),A=w+btoa(v(M));h(null,A)}else f()},p=new XMLHttpRequest;p.responseType=window.FileReader?"blob":"arraybuffer",p.open("GET",c,!0),p.addEventListener("error",f),p.addEventListener("load",()=>d(p)),p.send()}i.imageToDataUri=e;function n(c){let h=c.replace(/\s/g,"");h=decodeURIComponent(h);const f=h.indexOf(","),d=h.slice(0,f),p=d.split(":")[1].split(";")[0],y=h.slice(f+1);let v;d.indexOf("base64")>=0?v=atob(y):v=unescape(encodeURIComponent(y));const x=new Uint8Array(v.length);for(let w=0;w<v.length;w+=1)x[w]=v.charCodeAt(w);return new Blob([x],{type:p})}i.dataUriToBlob=n;function s(c,h){const f=window.navigator.msSaveBlob;if(f)f(c,h);else{const d=window.URL.createObjectURL(c),p=document.createElement("a");p.href=d,p.download=h,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(d)}}i.downloadBlob=s;function r(c,h){const f=n(c);s(f,h)}i.downloadDataUri=r;function o(c){const h=c.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return h&&h[2]?h[2].replace(/\s+/," ").split(" "):null}function a(c){const h=parseFloat(c);return Number.isNaN(h)?null:h}function l(c,h={}){let f=null;const d=A=>(f==null&&(f=o(c)),f!=null?a(f[A]):null),p=A=>{const D=c.match(A);return D&&D[2]?a(D[2]):null};let y=h.width;if(y==null&&(y=p(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),y==null&&(y=d(2)),y==null)throw new Error("Can not parse width from svg string");let v=h.height;if(v==null&&(v=p(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),v==null&&(v=d(3)),v==null)throw new Error("Can not parse height from svg string");return`data:image/svg+xml,${encodeURIComponent(c).replace(/'/g,"%27").replace(/"/g,"%22")}`}i.svgToDataUrl=l})(Qh||(Qh={}));let Ds;const wT={px(i){return i},mm(i){return Ds*i},cm(i){return Ds*i*10},in(i){return Ds*i*25.4},pt(i){return Ds*(25.4*i/72)},pc(i){return Ds*(25.4*i/6)}};var tu;(function(i){function t(n,s,r){const o=Ne("<div/>").css({display:"inline-block",position:"absolute",left:-15e3,top:-15e3,width:n+(r||""),height:s+(r||"")}).appendTo(document.body),a={width:o.width()||0,height:o.height()||0};return o.remove(),a}i.measure=t;function e(n,s){Ds==null&&(Ds=t("1","1","mm").width);const r=s?wT[s]:null;return r?r(n):n}i.toPx=e})(tu||(tu={}));const eu=function(){let i;const t=window;if(t!=null&&(i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame,i!=null&&(i=i.bind(t))),i==null){let e=0;i=n=>{const s=new Date().getTime(),r=Math.max(0,16-(s-e)),o=setTimeout(()=>{n(s+r)},r);return e=s+r,o}}return i}(),nu=function(){let i;const t=window;return t!=null&&(i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.msCancelAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelAnimationFrame||t.oCancelRequestAnimationFrame||t.mozCancelAnimationFrame||t.mozCancelRequestAnimationFrame,i&&(i=i.bind(t))),i==null&&(i=clearTimeout),i}();document&&document.createElement("div").style;function M2(i,t){const e=i.ownerDocument&&i.ownerDocument.defaultView&&i.ownerDocument.defaultView.opener?i.ownerDocument.defaultView.getComputedStyle(i,null):window.getComputedStyle(i,null);return e&&t?e.getPropertyValue(t)||e[t]:e}var Vt;(function(i){function t(n){return 180*n/Math.PI%360}i.toDeg=t,i.toRad=function(n,s=!1){return(s?n:n%360)*Math.PI/180};function e(n){return n%360+(n<0?360:0)}i.normalize=e})(Vt||(Vt={}));function ks(i,t=0){return Number.isInteger(i)?i:+i.toFixed(t)}function T2(i,t){let e,n;if(t==null?(n=i==null?1:i,e=0):(n=t,e=i==null?0:i),n<e){const s=e;e=n,n=s}return Math.floor(Math.random()*(n-e+1)+e)}function Sr(i,t,e){return Number.isNaN(i)?NaN:Number.isNaN(t)||Number.isNaN(e)?0:t<e?i<t?t:i>e?e:i:i<e?e:i>t?t:i}function iu(i,t){return t*Math.round(i/t)}function O2(i,t){return t!=null&&i!=null&&t.x>=i.x&&t.x<=i.x+i.width&&t.y>=i.y&&t.y<=i.y+i.height}function P2(i,t){const e=i.x-t.x,n=i.y-t.y;return e*e+n*n}class Gi{valueOf(){return this.toJSON()}toString(){return JSON.stringify(this.toJSON())}}class k extends Gi{constructor(t,e){super();this.x=t==null?0:t,this.y=e==null?0:e}get[Symbol.toStringTag](){return k.toStringTag}round(t=0){return this.x=ks(this.x,t),this.y=ks(this.y,t),this}add(t,e){const n=k.create(t,e);return this.x+=n.x,this.y+=n.y,this}update(t,e){const n=k.create(t,e);return this.x=n.x,this.y=n.y,this}translate(t,e){const n=k.create(t,e);return this.x+=n.x,this.y+=n.y,this}rotate(t,e){const n=k.rotate(this,t,e);return this.x=n.x,this.y=n.y,this}scale(t,e,n=new k){const s=k.create(n);return this.x=s.x+t*(this.x-s.x),this.y=s.y+e*(this.y-s.y),this}closest(t){if(t.length===1)return k.create(t[0]);let e=null,n=1/0;return t.forEach(s=>{const r=this.squaredDistance(s);r<n&&(e=s,n=r)}),e?k.create(e):null}distance(t){return Math.sqrt(this.squaredDistance(t))}squaredDistance(t){const e=k.create(t),n=this.x-e.x,s=this.y-e.y;return n*n+s*s}manhattanDistance(t){const e=k.create(t);return Math.abs(e.x-this.x)+Math.abs(e.y-this.y)}magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}theta(t=new k){const e=k.create(t),n=-(e.y-this.y),s=e.x-this.x;let r=Math.atan2(n,s);return r<0&&(r=2*Math.PI+r),180*r/Math.PI}angleBetween(t,e){if(this.equals(t)||this.equals(e))return NaN;let n=this.theta(e)-this.theta(t);return n<0&&(n+=360),n}vectorAngle(t){return new k(0,0).angleBetween(this,t)}toPolar(t){return this.update(k.toPolar(this,t)),this}changeInAngle(t,e,n=new k){return this.clone().translate(-t,-e).theta(n)-this.theta(n)}adhereToRect(t){return O2(t,this)||(this.x=Math.min(Math.max(this.x,t.x),t.x+t.width),this.y=Math.min(Math.max(this.y,t.y),t.y+t.height)),this}bearing(t){const e=k.create(t),n=Vt.toRad(this.y),s=Vt.toRad(e.y),r=this.x,o=e.x,a=Vt.toRad(o-r),l=Math.sin(a)*Math.cos(s),c=Math.cos(n)*Math.sin(s)-Math.sin(n)*Math.cos(s)*Math.cos(a),h=Vt.toDeg(Math.atan2(l,c)),f=["NE","E","SE","S","SW","W","NW","N"];let d=h-22.5;return d<0&&(d+=360),d=parseInt(d/45,10),f[d]}cross(t,e){if(t!=null&&e!=null){const n=k.create(t),s=k.create(e);return(s.x-this.x)*(n.y-this.y)-(s.y-this.y)*(n.x-this.x)}return NaN}dot(t){const e=k.create(t);return this.x*e.x+this.y*e.y}diff(t,e){if(typeof t=="number")return new k(this.x-t,this.y-e);const n=k.create(t);return new k(this.x-n.x,this.y-n.y)}lerp(t,e){const n=k.create(t);return new k((1-e)*this.x+e*n.x,(1-e)*this.y+e*n.y)}normalize(t=1){const e=t/this.magnitude();return this.scale(e,e)}move(t,e){const n=k.create(t),s=Vt.toRad(n.theta(this));return this.translate(Math.cos(s)*e,-Math.sin(s)*e)}reflection(t){return k.create(t).move(this,this.distance(t))}snapToGrid(t,e){return this.x=iu(this.x,t),this.y=iu(this.y,e==null?t:e),this}equals(t){const e=k.create(t);return e!=null&&e.x===this.x&&e.y===this.y}clone(){return k.clone(this)}toJSON(){return k.toJSON(this)}serialize(){return`${this.x} ${this.y}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.toPolar=="function"}i.isPoint=t})(k||(k={}));(function(i){function t(n){return n!=null&&typeof n=="object"&&typeof n.x=="number"&&typeof n.y=="number"}i.isPointLike=t;function e(n){return n!=null&&Array.isArray(n)&&n.length===2&&typeof n[0]=="number"&&typeof n[1]=="number"}i.isPointData=e})(k||(k={}));(function(i){function t(f,d){return f==null||typeof f=="number"?new i(f,d):e(f)}i.create=t;function e(f){return i.isPoint(f)?new i(f.x,f.y):Array.isArray(f)?new i(f[0],f[1]):new i(f.x,f.y)}i.clone=e;function n(f){return i.isPoint(f)?{x:f.x,y:f.y}:Array.isArray(f)?{x:f[0],y:f[1]}:{x:f.x,y:f.y}}i.toJSON=n;function s(f,d,p=new i){let y=Math.abs(f*Math.cos(d)),v=Math.abs(f*Math.sin(d));const x=e(p),w=Vt.normalize(Vt.toDeg(d));return w<90?v=-v:w<180?(y=-y,v=-v):w<270&&(y=-y),new i(x.x+y,x.y+v)}i.fromPolar=s;function r(f,d=new i){const p=e(f),y=e(d),v=p.x-y.x,x=p.y-y.y;return new i(Math.sqrt(v*v+x*x),Vt.toRad(y.theta(p)))}i.toPolar=r;function o(f,d){return f===d?!0:f!=null&&d!=null?f.x===d.x&&f.y===d.y:!1}i.equals=o;function a(f,d){if(f==null&&d!=null||f!=null&&d==null||f!=null&&d!=null&&f.length!==d.length)return!1;if(f!=null&&d!=null){for(let p=0,y=f.length;p<y;p+=1)if(!o(f[p],d[p]))return!1}return!0}i.equalPoints=a;function l(f,d,p,y){return new i(T2(f,d),T2(p,y))}i.random=l;function c(f,d,p){const y=Vt.toRad(Vt.normalize(-d)),v=Math.sin(y),x=Math.cos(y);return h(f,x,v,p)}i.rotate=c;function h(f,d,p,y=new i){const v=e(f),x=e(y),w=v.x-x.x,M=v.y-x.y,A=w*d-M*p,D=M*d+w*p;return new i(A+x.x,D+x.y)}i.rotateEx=h})(k||(k={}));class st extends Gi{constructor(t,e,n,s){super();this.x=t==null?0:t,this.y=e==null?0:e,this.width=n==null?0:n,this.height=s==null?0:s}get[Symbol.toStringTag](){return st.toStringTag}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get origin(){return new k(this.x,this.y)}get topLeft(){return new k(this.x,this.y)}get topCenter(){return new k(this.x+this.width/2,this.y)}get topRight(){return new k(this.x+this.width,this.y)}get center(){return new k(this.x+this.width/2,this.y+this.height/2)}get bottomLeft(){return new k(this.x,this.y+this.height)}get bottomCenter(){return new k(this.x+this.width/2,this.y+this.height)}get bottomRight(){return new k(this.x+this.width,this.y+this.height)}get corner(){return new k(this.x+this.width,this.y+this.height)}get rightMiddle(){return new k(this.x+this.width,this.y+this.height/2)}get leftMiddle(){return new k(this.x,this.y+this.height/2)}get topLine(){return new bt(this.topLeft,this.topRight)}get rightLine(){return new bt(this.topRight,this.bottomRight)}get bottomLine(){return new bt(this.bottomLeft,this.bottomRight)}get leftLine(){return new bt(this.topLeft,this.bottomLeft)}getOrigin(){return this.origin}getTopLeft(){return this.topLeft}getTopCenter(){return this.topCenter}getTopRight(){return this.topRight}getCenter(){return this.center}getCenterX(){return this.x+this.width/2}getCenterY(){return this.y+this.height/2}getBottomLeft(){return this.bottomLeft}getBottomCenter(){return this.bottomCenter}getBottomRight(){return this.bottomRight}getCorner(){return this.corner}getRightMiddle(){return this.rightMiddle}getLeftMiddle(){return this.leftMiddle}getTopLine(){return this.topLine}getRightLine(){return this.rightLine}getBottomLine(){return this.bottomLine}getLeftLine(){return this.leftLine}bbox(t){if(!t)return this.clone();const e=Vt.toRad(t),n=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e)),r=this.width*s+this.height*n,o=this.width*n+this.height*s;return new st(this.x+(this.width-r)/2,this.y+(this.height-o)/2,r,o)}round(t=0){return this.x=ks(this.x,t),this.y=ks(this.y,t),this.width=ks(this.width,t),this.height=ks(this.height,t),this}add(t,e,n,s){const r=st.create(t,e,n,s),o=Math.min(this.x,r.x),a=Math.min(this.y,r.y),l=Math.max(this.x+this.width,r.x+r.width),c=Math.max(this.y+this.height,r.y+r.height);return this.x=o,this.y=a,this.width=l-o,this.height=c-a,this}update(t,e,n,s){const r=st.create(t,e,n,s);return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this}inflate(t,e){const n=t,s=e!=null?e:t;return this.x-=n,this.y-=s,this.width+=2*n,this.height+=2*s,this}snapToGrid(t,e){const n=this.origin.snapToGrid(t,e),s=this.corner.snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=s.x-n.x,this.height=s.y-n.y,this}translate(t,e){const n=k.create(t,e);return this.x+=n.x,this.y+=n.y,this}scale(t,e,n=new k){const s=this.origin.scale(t,e,n);return this.x=s.x,this.y=s.y,this.width*=t,this.height*=e,this}rotate(t,e=this.getCenter()){if(t!==0){const n=Vt.toRad(t),s=Math.cos(n),r=Math.sin(n);let o=this.getOrigin(),a=this.getTopRight(),l=this.getBottomRight(),c=this.getBottomLeft();o=k.rotateEx(o,s,r,e),a=k.rotateEx(a,s,r,e),l=k.rotateEx(l,s,r,e),c=k.rotateEx(c,s,r,e);const h=new st(o.x,o.y,0,0);h.add(a.x,a.y,0,0),h.add(l.x,l.y,0,0),h.add(c.x,c.y,0,0),this.update(h)}return this}rotate90(){const t=(this.width-this.height)/2;this.x+=t,this.y-=t;const e=this.width;return this.width=this.height,this.height=e,this}moveAndExpand(t){const e=st.clone(t);return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this}getMaxScaleToFit(t,e=this.center){const n=st.clone(t),s=e.x,r=e.y;let o=1/0,a=1/0,l=1/0,c=1/0,h=1/0,f=1/0,d=1/0,p=1/0;const y=n.topLeft;y.x<s&&(o=(this.x-s)/(y.x-s)),y.y<r&&(h=(this.y-r)/(y.y-r));const v=n.bottomRight;v.x>s&&(a=(this.x+this.width-s)/(v.x-s)),v.y>r&&(f=(this.y+this.height-r)/(v.y-r));const x=n.topRight;x.x>s&&(l=(this.x+this.width-s)/(x.x-s)),x.y<r&&(d=(this.y-r)/(x.y-r));const w=n.bottomLeft;return w.x<s&&(c=(this.x-s)/(w.x-s)),w.y>r&&(p=(this.y+this.height-r)/(w.y-r)),{sx:Math.min(o,a,l,c),sy:Math.min(h,f,d,p)}}getMaxUniformScaleToFit(t,e=this.center){const n=this.getMaxScaleToFit(t,e);return Math.min(n.sx,n.sy)}containsPoint(t,e){return O2(this,k.create(t,e))}containsRect(t,e,n,s){const r=st.create(t,e,n,s),o=this.x,a=this.y,l=this.width,c=this.height,h=r.x,f=r.y,d=r.width,p=r.height;return l===0||c===0||d===0||p===0?!1:h>=o&&f>=a&&h+d<=o+l&&f+p<=a+c}intersectsWithLine(t){const e=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],s=[];return e.forEach(r=>{const o=t.intersectsWithLine(r);o!==null&&s.indexOf(o.toString())<0&&(n.push(o),s.push(o.toString()))}),n.length>0?n:null}intersectsWithLineFromCenterToPoint(t,e){const n=k.clone(t),s=this.center;let r=null;e!=null&&e!==0&&n.rotate(e,s);const o=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],a=new bt(s,n);for(let l=o.length-1;l>=0;l-=1){const c=o[l].intersectsWithLine(a);if(c!==null){r=c;break}}return r&&e!=null&&e!==0&&r.rotate(-e,s),r}intersectsWithRect(t,e,n,s){const r=st.create(t,e,n,s);if(!this.isIntersectWithRect(r))return null;const o=this.origin,a=this.corner,l=r.origin,c=r.corner,h=Math.max(o.x,l.x),f=Math.max(o.y,l.y);return new st(h,f,Math.min(a.x,c.x)-h,Math.min(a.y,c.y)-f)}isIntersectWithRect(t,e,n,s){const r=st.create(t,e,n,s),o=this.origin,a=this.corner,l=r.origin,c=r.corner;return!(c.x<=o.x||c.y<=o.y||l.x>=a.x||l.y>=a.y)}normalize(){let t=this.x,e=this.y,n=this.width,s=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,s=-this.height),this.x=t,this.y=e,this.width=n,this.height=s,this}union(t){const e=st.clone(t),n=this.origin,s=this.corner,r=e.origin,o=e.corner,a=Math.min(n.x,r.x),l=Math.min(n.y,r.y),c=Math.max(s.x,o.x),h=Math.max(s.y,o.y);return new st(a,l,c-a,h-l)}getNearestSideToPoint(t){const e=k.clone(t),n=e.x-this.x,s=this.x+this.width-e.x,r=e.y-this.y,o=this.y+this.height-e.y;let a=n,l="left";return s<a&&(a=s,l="right"),r<a&&(a=r,l="top"),o<a&&(l="bottom"),l}getNearestPointToPoint(t){const e=k.clone(t);if(this.containsPoint(e))switch(this.getNearestSideToPoint(e)){case"right":return new k(this.x+this.width,e.y);case"left":return new k(this.x,e.y);case"bottom":return new k(e.x,this.y+this.height);case"top":return new k(e.x,this.y)}return e.adhereToRect(this)}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.width===this.width&&t.height===this.height}clone(){return new st(this.x,this.y,this.width,this.height)}toJSON(){return{x:this.x,y:this.y,width:this.width,height:this.height}}serialize(){return`${this.x} ${this.y} ${this.width} ${this.height}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.width=="number"&&typeof s.height=="number"&&typeof s.inflate=="function"&&typeof s.moveAndExpand=="function"}i.isRectangle=t})(st||(st={}));(function(i){function t(e){return e!=null&&typeof e=="object"&&typeof e.x=="number"&&typeof e.y=="number"&&typeof e.width=="number"&&typeof e.height=="number"}i.isRectangleLike=t})(st||(st={}));(function(i){function t(o,a,l,c){return o==null||typeof o=="number"?new i(o,a,l,c):e(o)}i.create=t;function e(o){return i.isRectangle(o)?o.clone():Array.isArray(o)?new i(o[0],o[1],o[2],o[3]):new i(o.x,o.y,o.width,o.height)}i.clone=e;function n(o){return new i(0,0,o.width,o.height)}i.fromSize=n;function s(o,a){return new i(o.x,o.y,a.width,a.height)}i.fromPositionAndSize=s;function r(o){return new i(o.x-o.a,o.y-o.b,2*o.a,2*o.b)}i.fromEllipse=r})(st||(st={}));class bt extends Gi{constructor(t,e,n,s){super();typeof t=="number"&&typeof e=="number"?(this.start=new k(t,e),this.end=new k(n,s)):(this.start=k.create(t),this.end=k.create(e))}get[Symbol.toStringTag](){return bt.toStringTag}get center(){return new k((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}getCenter(){return this.center}round(t=0){return this.start.round(t),this.end.round(t),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.end.translate(t)),this}rotate(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this}scale(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this}length(){return Math.sqrt(this.squaredLength())}squaredLength(){const t=this.start.x-this.end.x,e=this.start.y-this.end.y;return t*t+e*e}setLength(t){const e=this.length();if(!e)return this;const n=t/e;return this.scale(n,n,this.start)}parallel(t){const e=this.clone();if(!e.isDifferentiable())return e;const{start:n,end:s}=e,r=n.clone().rotate(270,s),o=s.clone().rotate(90,n);return n.move(o,t),s.move(r,t),e}vector(){return new k(this.end.x-this.start.x,this.end.y-this.start.y)}angle(){const t=new k(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)}bbox(){const t=Math.min(this.start.x,this.end.x),e=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),s=Math.max(this.start.y,this.end.y);return new st(t,e,n-t,s-e)}bearing(){return this.start.bearing(this.end)}closestPoint(t){return this.pointAt(this.closestPointNormalizedLength(t))}closestPointLength(t){return this.closestPointNormalizedLength(t)*this.length()}closestPointTangent(t){return this.tangentAt(this.closestPointNormalizedLength(t))}closestPointNormalizedLength(t){const e=this.vector().dot(new bt(this.start,t).vector()),n=Math.min(1,Math.max(0,e/this.squaredLength()));return Number.isNaN(n)?0:n}pointAt(t){const e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)}pointAtLength(t){const e=this.start,n=this.end;let s=!0;t<0&&(s=!1,t=-t);const r=this.length();if(t>=r)return s?n.clone():e.clone();const o=(s?t:r-t)/r;return this.pointAt(o)}divideAt(t){const e=this.pointAt(t);return[new bt(this.start,e),new bt(e,this.end)]}divideAtLength(t){const e=this.pointAtLength(t);return[new bt(this.start,e),new bt(e,this.end)]}containsPoint(t){const e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;const s=this.length();return!(new bt(e,t).length()>s||new bt(t,n).length()>s)}intersect(t,e){const n=t.intersectsWithLine(this,e);return n?Array.isArray(n)?n:[n]:null}intersectsWithLine(t){const e=new k(this.end.x-this.start.x,this.end.y-this.start.y),n=new k(t.end.x-t.start.x,t.end.y-t.start.y),s=e.x*n.y-e.y*n.x,r=new k(t.start.x-this.start.x,t.start.y-this.start.y),o=r.x*n.y-r.y*n.x,a=r.x*e.y-r.y*e.x;if(s===0||o*s<0||a*s<0)return null;if(s>0){if(o>s||a>s)return null}else if(o<s||a<s)return null;return new k(this.start.x+o*e.x/s,this.start.y+o*e.y/s)}isDifferentiable(){return!this.start.equals(this.end)}pointOffset(t){const e=k.clone(t),n=this.start,s=this.end;return((s.x-n.x)*(e.y-n.y)-(s.y-n.y)*(e.x-n.x))/this.length()}pointSquaredDistance(t,e){const n=k.create(t,e);return this.closestPoint(n).squaredDistance(n)}pointDistance(t,e){const n=k.create(t,e);return this.closestPoint(n).distance(n)}tangentAt(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,s=this.pointAt(t),r=new bt(e,n);return r.translate(s.x-e.x,s.y-e.y),r}tangentAtLength(t){if(!this.isDifferentiable())return null;const e=this.start,n=this.end,s=this.pointAtLength(t),r=new bt(e,n);return r.translate(s.x-e.x,s.y-e.y),r}relativeCcw(t,e){const n=k.create(t,e);let s=n.x-this.start.x,r=n.y-this.start.y;const o=this.end.x-this.start.x,a=this.end.y-this.start.y;let l=s*a-r*o;return l===0&&(l=s*o+r*a,l>0&&(s-=o,r-=a,l=s*o+r*a,l<0&&(l=0))),l<0?-1:l>0?1:0}equals(t){return t!=null&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y}clone(){return new bt(this.start,this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;try{if((n==null||n===i.toStringTag)&&k.isPoint(s.start)&&k.isPoint(s.end)&&typeof s.vector=="function"&&typeof s.bearing=="function"&&typeof s.parallel=="function"&&typeof s.intersect=="function")return!0}catch{return!1}return!1}i.isLine=t})(bt||(bt={}));class zn extends Gi{constructor(t,e,n,s){super();this.x=t==null?0:t,this.y=e==null?0:e,this.a=n==null?0:n,this.b=s==null?0:s}get[Symbol.toStringTag](){return zn.toStringTag}get center(){return new k(this.x,this.y)}bbox(){return st.fromEllipse(this)}getCenter(){return this.center}inflate(t,e){const n=t,s=e!=null?e:t;return this.a+=2*n,this.b+=2*s,this}normalizedDistance(t,e){const n=k.create(t,e),s=n.x-this.x,r=n.y-this.y,o=this.a,a=this.b;return s*s/(o*o)+r*r/(a*a)}containsPoint(t,e){return this.normalizedDistance(t,e)<=1}intersectsWithLine(t){const e=[],n=this.a,s=this.b,r=t.start,o=t.end,a=t.vector(),l=r.diff(new k(this.x,this.y)),c=new k(a.x/(n*n),a.y/(s*s)),h=new k(l.x/(n*n),l.y/(s*s)),f=a.dot(c),d=a.dot(h),p=l.dot(h)-1,y=d*d-f*p;if(y<0)return null;if(y>0){const v=Math.sqrt(y),x=(-d-v)/f,w=(-d+v)/f;if((x<0||x>1)&&(w<0||w>1))return null;x>=0&&x<=1&&e.push(r.lerp(o,x)),w>=0&&w<=1&&e.push(r.lerp(o,w))}else{const v=-d/f;if(v>=0&&v<=1)e.push(r.lerp(o,v));else return null}return e}intersectsWithLineFromCenterToPoint(t,e=0){const n=k.clone(t);e&&n.rotate(e,this.getCenter());const s=n.x-this.x,r=n.y-this.y;let o;if(s===0)return o=this.bbox().getNearestPointToPoint(n),e?o.rotate(-e,this.getCenter()):o;const a=r/s,l=a*a,c=this.a*this.a,h=this.b*this.b;let f=Math.sqrt(1/(1/c+l/h));f=s<0?-f:f;const d=a*f;return o=new k(this.x+f,this.y+d),e?o.rotate(-e,this.getCenter()):o}tangentTheta(t){const e=k.clone(t),n=e.x,s=e.y,r=this.a,o=this.b,a=this.bbox().center,l=a.x,c=a.y,h=30,f=n>a.x+r/2,d=n<a.x-r/2;let p,y;return f||d?(y=n>a.x?s-h:s+h,p=r*r/(n-l)-r*r*(s-c)*(y-c)/(o*o*(n-l))+l):(p=s>a.y?n+h:n-h,y=o*o/(s-c)-o*o*(n-l)*(p-l)/(r*r*(s-c))+c),new k(p,y).theta(e)}scale(t,e){return this.a*=t,this.b*=e,this}rotate(t,e){const n=st.fromEllipse(this);n.rotate(t,e);const s=zn.fromRect(n);return this.a=s.a,this.b=s.b,this.x=s.x,this.y=s.y,this}translate(t,e){const n=k.create(t,e);return this.x+=n.x,this.y+=n.y,this}equals(t){return t!=null&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b}clone(){return new zn(this.x,this.y,this.a,this.b)}toJSON(){return{x:this.x,y:this.y,a:this.a,b:this.b}}serialize(){return`${this.x} ${this.y} ${this.a} ${this.b}`}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.x=="number"&&typeof s.y=="number"&&typeof s.a=="number"&&typeof s.b=="number"&&typeof s.inflate=="function"&&typeof s.normalizedDistance=="function"}i.isEllipse=t})(zn||(zn={}));(function(i){function t(s,r,o,a){return s==null||typeof s=="number"?new i(s,r,o,a):e(s)}i.create=t;function e(s){return i.isEllipse(s)?s.clone():Array.isArray(s)?new i(s[0],s[1],s[2],s[3]):new i(s.x,s.y,s.a,s.b)}i.parse=e;function n(s){const r=s.center;return new i(r.x,r.y,s.width/2,s.height/2)}i.fromRect=n})(zn||(zn={}));class Re extends Gi{constructor(t){super();if(t!=null){if(typeof t=="string")return Re.parse(t);this.points=t.map(e=>k.create(e))}else this.points=[]}get[Symbol.toStringTag](){return Re.toStringTag}get start(){return this.points.length===0?null:this.points[0]}get end(){return this.points.length===0?null:this.points[this.points.length-1]}scale(t,e,n=new k){return this.points.forEach(s=>s.scale(t,e,n)),this}rotate(t,e){return this.points.forEach(n=>n.rotate(t,e)),this}translate(t,e){const n=k.create(t,e);return this.points.forEach(s=>s.translate(n.x,n.y)),this}bbox(){if(this.points.length===0)return new st;let t=1/0,e=-1/0,n=1/0,s=-1/0;const r=this.points;for(let o=0,a=r.length;o<a;o+=1){const l=r[o],c=l.x,h=l.y;c<t&&(t=c),c>e&&(e=c),h<n&&(n=h),h>s&&(s=h)}return new st(t,n,e-t,s-n)}closestPoint(t){const e=this.closestPointLength(t);return this.pointAtLength(e)}closestPointLength(t){const e=this.points,n=e.length;if(n===0||n===1)return 0;let s=0,r=0,o=1/0;for(let a=0,l=n-1;a<l;a+=1){const c=new bt(e[a],e[a+1]),h=c.length(),f=c.closestPointNormalizedLength(t),p=c.pointAt(f).squaredDistance(t);p<o&&(o=p,r=s+f*h),s+=h}return r}closestPointNormalizedLength(t){const e=this.closestPointLength(t);if(e===0)return 0;const n=this.length();return n===0?0:e/n}closestPointTangent(t){const e=this.closestPointLength(t);return this.tangentAtLength(e)}containsPoint(t){if(this.points.length===0)return!1;const e=k.clone(t),n=e.x,s=e.y,r=this.points,o=r.length;let a=o-1,l=0;for(let c=0;c<o;c+=1){const h=r[a],f=r[c];if(e.equals(h))return!0;const d=new bt(h,f);if(d.containsPoint(t))return!0;if(s<=h.y&&s>f.y||s>h.y&&s<=f.y){const p=h.x-n>f.x-n?h.x-n:f.x-n;if(p>=0){const y=new k(n+p,s),v=new bt(t,y);d.intersectsWithLine(v)&&(l+=1)}}a=c}return l%2==1}intersectsWithLine(t){const e=[];for(let n=0,s=this.points.length-1;n<s;n+=1){const r=this.points[n],o=this.points[n+1],a=t.intersectsWithLine(new bt(r,o));a&&e.push(a)}return e.length>0?e:null}isDifferentiable(){for(let t=0,e=this.points.length-1;t<e;t+=1){const n=this.points[t],s=this.points[t+1];if(new bt(n,s).isDifferentiable())return!0}return!1}length(){let t=0;for(let e=0,n=this.points.length-1;e<n;e+=1){const s=this.points[e],r=this.points[e+1];t+=s.distance(r)}return t}pointAt(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();const r=this.length()*t;return this.pointAtLength(r)}pointAtLength(t){const e=this.points,n=e.length;if(n===0)return null;if(n===1)return e[0].clone();let s=!0;t<0&&(s=!1,t=-t);let r=0;for(let a=0,l=n-1;a<l;a+=1){const c=s?a:l-1-a,h=e[c],f=e[c+1],d=new bt(h,f),p=h.distance(f);if(t<=r+p)return d.pointAtLength((s?1:-1)*(t-r));r+=p}return(s?e[n-1]:e[0]).clone()}tangentAt(t){const n=this.points.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);const r=this.length()*t;return this.tangentAtLength(r)}tangentAtLength(t){const e=this.points,n=e.length;if(n===0||n===1)return null;let s=!0;t<0&&(s=!1,t=-t);let r,o=0;for(let a=0,l=n-1;a<l;a+=1){const c=s?a:l-1-a,h=e[c],f=e[c+1],d=new bt(h,f),p=h.distance(f);if(d.isDifferentiable()){if(t<=o+p)return d.tangentAtLength((s?1:-1)*(t-o));r=d}o+=p}if(r){const a=s?1:0;return r.tangentAt(a)}return null}simplify(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let s=0;for(;e[s+2];){const r=s,o=s+1,a=s+2,l=e[r],c=e[o],h=e[a];new bt(l,h).closestPoint(c).distance(c)<=n?e.splice(o,1):s+=1}return this}toHull(){const t=this.points,e=t.length;if(e===0)return new Re;let n=t[0];for(let d=1;d<e;d+=1)(t[d].y<n.y||t[d].y===n.y&&t[d].x>n.x)&&(n=t[d]);const s=[];for(let d=0;d<e;d+=1){let p=n.theta(t[d]);p===0&&(p=360),s.push([t[d],d,p])}if(s.sort((d,p)=>{let y=d[2]-p[2];return y===0&&(y=p[1]-d[1]),y}),s.length>2){const d=s[s.length-1];s.unshift(d)}const r={},o=[],a=d=>`${d[0].toString()}@${d[1]}`;for(;s.length!==0;){const d=s.pop(),p=d[0];if(r[a(d)])continue;let y=!1;for(;!y;)if(o.length<2)o.push(d),y=!0;else{const v=o.pop(),x=v[0],w=o.pop(),M=w[0],A=M.cross(x,p);if(A<0)o.push(w),o.push(v),o.push(d),y=!0;else if(A===0){const D=1e-10,N=x.angleBetween(M,p);Math.abs(N-180)<D||x.equals(p)||M.equals(x)?(r[a(v)]=x,o.push(w)):Math.abs((N+1)%360-1)<D&&(o.push(w),s.push(v))}else r[a(v)]=x,o.push(w)}}o.length>2&&o.pop();let l,c=-1;for(let d=0,p=o.length;d<p;d+=1){const y=o[d][1];(l===void 0||y<l)&&(l=y,c=d)}let h=[];if(c>0){const d=o.slice(c),p=o.slice(0,c);h=d.concat(p)}else h=o;const f=[];for(let d=0,p=h.length;d<p;d+=1)f.push(h[d][0]);return new Re(f)}equals(t){return t==null||t.points.length!==this.points.length?!1:t.points.every((e,n)=>e.equals(this.points[n]))}clone(){return new Re(this.points.map(t=>t.clone()))}toJSON(){return this.points.map(t=>t.toJSON())}serialize(){return this.points.map(t=>`${t.x}, ${t.y}`).join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.toHull=="function"&&typeof s.simplify=="function"}i.isPolyline=t})(Re||(Re={}));(function(i){function t(e){const n=e.trim();if(n==="")return new i;const s=[],r=n.split(/\s*,\s*|\s+/);for(let o=0,a=r.length;o<a;o+=2)s.push({x:+r[o],y:+r[o+1]});return new i(s)}i.parse=t})(Re||(Re={}));class Oe extends Gi{constructor(t,e,n,s){super();this.PRECISION=3,this.start=k.create(t),this.controlPoint1=k.create(e),this.controlPoint2=k.create(n),this.end=k.create(s)}get[Symbol.toStringTag](){return Oe.toStringTag}bbox(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,s=this.end,r=t.x,o=t.y,a=e.x,l=e.y,c=n.x,h=n.y,f=s.x,d=s.y,p=[],y=[],v=[[],[]];let x,w,M,A,D,N,m,P;for(let ot=0;ot<2;ot+=1){if(ot===0?(w=6*r-12*a+6*c,x=-3*r+9*a-9*c+3*f,M=3*a-3*r):(w=6*o-12*l+6*h,x=-3*o+9*l-9*h+3*d,M=3*l-3*o),Math.abs(x)<1e-12){if(Math.abs(w)<1e-12)continue;A=-M/w,A>0&&A<1&&y.push(A);continue}m=w*w-4*M*x,P=Math.sqrt(m),!(m<0)&&(D=(-w+P)/(2*x),D>0&&D<1&&y.push(D),N=(-w-P)/(2*x),N>0&&N<1&&y.push(N))}let $,V,G,X=y.length;const H=X;for(;X;)X-=1,A=y[X],G=1-A,$=G*G*G*r+3*G*G*A*a+3*G*A*A*c+A*A*A*f,v[0][X]=$,V=G*G*G*o+3*G*G*A*l+3*G*A*A*h+A*A*A*d,v[1][X]=V,p[X]={X:$,Y:V};y[H]=0,y[H+1]=1,p[H]={X:r,Y:o},p[H+1]={X:f,Y:d},v[0][H]=r,v[1][H]=o,v[0][H+1]=f,v[1][H+1]=d,y.length=H+2,v[0].length=H+2,v[1].length=H+2,p.length=H+2;const ft=Math.min.apply(null,v[0]),yt=Math.min.apply(null,v[1]),U=Math.max.apply(null,v[0]),K=Math.max.apply(null,v[1]);return new st(ft,yt,U-ft,K-yt)}closestPoint(t,e={}){return this.pointAtT(this.closestPointT(t,e))}closestPointLength(t,e={}){const n=this.getOptions(e);return this.lengthAtT(this.closestPointT(t,n),n)}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),s=this.closestPointLength(t,n);if(!s)return 0;const r=this.length(n);return r===0?0:s/r}closestPointT(t,e={}){const n=this.getPrecision(e),s=this.getDivisions(e),r=Math.pow(10,-n);let o=null,a=0,l=0,c=0,h=0,f=0,d=null;const p=s.length;let y=p>0?1/p:0;for(s.forEach((v,x)=>{const w=v.start.distance(t),M=v.end.distance(t),A=w+M;(d==null||A<d)&&(o=v,a=x*y,l=(x+1)*y,c=w,h=M,d=A,f=v.endpointDistance())});;){const v=c?Math.abs(c-h)/c:0,x=h!=null?Math.abs(c-h)/h:0,w=v<r||x<r,M=c?c<f*r:!0,A=h?h<f*r:!0;if(w||(M||A))return c<=h?a:l;const N=o.divide(.5);y/=2;const m=N[0].start.distance(t),P=N[0].end.distance(t),$=m+P,V=N[1].start.distance(t),G=N[1].end.distance(t),X=V+G;$<=X?(o=N[0],l-=y,c=m,h=P):(o=N[1],a+=y,c=V,h=G)}}closestPointTangent(t,e={}){return this.tangentAtT(this.closestPointT(t,e))}containsPoint(t,e={}){return this.toPolyline(e).containsPoint(t)}divideAt(t,e={}){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);const n=this.tAt(t,e);return this.divideAtT(n)}divideAtLength(t,e={}){const n=this.tAtLength(t,e);return this.divideAtT(n)}divide(t){return this.divideAtT(t)}divideAtT(t){const e=this.start,n=this.controlPoint1,s=this.controlPoint2,r=this.end;if(t<=0)return[new Oe(e,e,e,e),new Oe(e,n,s,r)];if(t>=1)return[new Oe(e,n,s,r),new Oe(r,r,r,r)];const o=this.getSkeletonPoints(t),a=o.startControlPoint1,l=o.startControlPoint2,c=o.divider,h=o.dividerControlPoint1,f=o.dividerControlPoint2;return[new Oe(e,a,l,c),new Oe(c,h,f,r)]}endpointDistance(){return this.start.distance(this.end)}getSkeletonPoints(t){const e=this.start,n=this.controlPoint1,s=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:s.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:s.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};const o=new bt(e,n).pointAt(t),a=new bt(n,s).pointAt(t),l=new bt(s,r).pointAt(t),c=new bt(o,a).pointAt(t),h=new bt(a,l).pointAt(t),f=new bt(c,h).pointAt(t);return{startControlPoint1:o,startControlPoint2:c,divider:f,dividerControlPoint1:h,dividerControlPoint2:l}}getSubdivisions(t={}){const e=this.getPrecision(t);let n=[new Oe(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(e===0)return n;let s=this.endpointDistance();const r=Math.pow(10,-e);let o=0;for(;;){o+=1;const a=[];n.forEach(h=>{const f=h.divide(.5);a.push(f[0],f[1])});const l=a.reduce((h,f)=>h+f.endpointDistance(),0),c=l!==0?(l-s)/l:0;if(o>1&&c<r)return a;n=a,s=l}}length(t={}){return this.getDivisions(t).reduce((n,s)=>n+s.endpointDistance(),0)}lengthAtT(t,e={}){if(t<=0)return 0;const n=e.precision===void 0?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:n})}pointAt(t,e={}){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.tAt(t,e);return this.pointAtT(n)}pointAtLength(t,e={}){const n=this.tAtLength(t,e);return this.pointAtT(n)}pointAtT(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider}isDifferentiable(){const t=this.start,e=this.controlPoint1,n=this.controlPoint2,s=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(s))}tangentAt(t,e={}){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);const n=this.tAt(t,e);return this.tangentAtT(n)}tangentAtLength(t,e={}){if(!this.isDifferentiable())return null;const n=this.tAtLength(t,e);return this.tangentAtT(n)}tangentAtT(t){if(!this.isDifferentiable())return null;t<0&&(t=0),t>1&&(t=1);const e=this.getSkeletonPoints(t),n=e.startControlPoint2,s=e.dividerControlPoint1,r=e.divider,o=new bt(n,s);return o.translate(r.x-n.x,r.y-n.y),o}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getDivisions(t={}){if(t.subdivisions!=null)return t.subdivisions;const e=this.getPrecision(t);return this.getSubdivisions({precision:e})}getOptions(t={}){const e=this.getPrecision(t),n=this.getDivisions(t);return{precision:e,subdivisions:n}}tAt(t,e={}){if(t<=0)return 0;if(t>=1)return 1;const n=this.getOptions(e),r=this.length(n)*t;return this.tAtLength(r,n)}tAtLength(t,e={}){let n=!0;t<0&&(n=!1,t=-t);const s=this.getPrecision(e),r=this.getDivisions(e),o={precision:s,subdivisions:r};let a=null,l,c,h=0,f=0,d=0;const p=r.length;let y=p>0?1/p:0;for(let w=0;w<p;w+=1){const M=n?w:p-1-w,A=r[w],D=A.endpointDistance();if(t<=d+D){a=A,l=M*y,c=(M+1)*y,h=n?t-d:D+d-t,f=n?D+d-t:t-d;break}d+=D}if(a==null)return n?1:0;const v=this.length(o),x=Math.pow(10,-s);for(;;){let w;if(w=v!==0?h/v:0,w<x)return l;if(w=v!==0?f/v:0,w<x)return c;let M,A;const D=a.divide(.5);y/=2;const N=D[0].endpointDistance(),m=D[1].endpointDistance();h<=N?(a=D[0],c-=y,M=h,A=N-M):(a=D[1],l+=y,M=h-N,A=m-M),h=M,f=A}}toPoints(t={}){const e=this.getDivisions(t),n=[e[0].start.clone()];return e.forEach(s=>n.push(s.end.clone())),n}toPolyline(t={}){return new Re(this.toPoints(t))}scale(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.start.rotate(t,e),this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.start.translate(t),this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return t!=null&&this.start.equals(t.start)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)&&this.end.equals(t.end)}clone(){return new Oe(this.start,this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;try{if((n==null||n===i.toStringTag)&&k.isPoint(s.start)&&k.isPoint(s.controlPoint1)&&k.isPoint(s.controlPoint2)&&k.isPoint(s.end)&&typeof s.toPoints=="function"&&typeof s.toPolyline=="function")return!0}catch{return!1}return!1}i.isCurve=t})(Oe||(Oe={}));(function(i){function t(s){const r=s.length,o=[],a=[];let l=2;o[0]=s[0]/l;for(let c=1;c<r;c+=1)a[c]=1/l,l=(c<r-1?4:3.5)-a[c],o[c]=(s[c]-o[c-1])/l;for(let c=1;c<r;c+=1)o[r-c-1]-=a[r-c]*o[r-c];return o}function e(s){const r=s.map(d=>k.clone(d)),o=[],a=[],l=r.length-1;if(l===1)return o[0]=new k((2*r[0].x+r[1].x)/3,(2*r[0].y+r[1].y)/3),a[0]=new k(2*o[0].x-r[0].x,2*o[0].y-r[0].y),[o,a];const c=[];for(let d=1;d<l-1;d+=1)c[d]=4*r[d].x+2*r[d+1].x;c[0]=r[0].x+2*r[1].x,c[l-1]=(8*r[l-1].x+r[l].x)/2;const h=t(c);for(let d=1;d<l-1;d+=1)c[d]=4*r[d].y+2*r[d+1].y;c[0]=r[0].y+2*r[1].y,c[l-1]=(8*r[l-1].y+r[l].y)/2;const f=t(c);for(let d=0;d<l;d+=1)o.push(new k(h[d],f[d])),d<l-1?a.push(new k(2*r[d+1].x-h[d+1],2*r[d+1].y-f[d+1])):a.push(new k((r[l].x+h[l-1])/2,(r[l].y+f[l-1])/2));return[o,a]}function n(s){if(s==null||Array.isArray(s)&&s.length<2)throw new Error("At least 2 points are required");const r=e(s),o=[];for(let a=0,l=r[0].length;a<l;a+=1){const c=new k(r[0][a].x,r[0][a].y),h=new k(r[1][a].x,r[1][a].y);o.push(new i(s[a],c,h,s[a+1]))}return o}i.throughPoints=n})(Oe||(Oe={}));class hl extends Gi{constructor(){super(...arguments);this.isVisible=!0,this.isSegment=!0,this.isSubpathStart=!1}get end(){return this.endPoint}get start(){if(this.previousSegment==null)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}closestPointT(t,e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}lengthAtT(t,e){if(t<=0)return 0;const n=this.length();return t>=1?n:n*t}divideAtT(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}pointAtT(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}tangentAtT(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}class an extends hl{constructor(t,e){super();bt.isLine(t)?this.endPoint=t.end.clone().round(2):this.endPoint=k.create(t,e).round(2)}get type(){return"L"}get line(){return new bt(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[new an(e[0]),new an(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[new an(e[0]),new an(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return this.previousSegment==null?!1:!this.start.equals(this.end)}clone(){return new an(this.end)}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,s=e[0];if(bt.isLine(s))return new i(s);if(k.isPointLike(s))return n===1?new i(s):e.map(o=>new i(o));if(n===2)return new i(+e[0],+e[1]);const r=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];r.push(new i(a,l))}return r}i.create=t})(an||(an={}));class Er extends hl{get end(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}get type(){return"Z"}get line(){return new bt(this.start,this.end)}bbox(){return this.line.bbox()}closestPoint(t){return this.line.closestPoint(t)}closestPointLength(t){return this.line.closestPointLength(t)}closestPointNormalizedLength(t){return this.line.closestPointNormalizedLength(t)}closestPointTangent(t){return this.line.closestPointTangent(t)}length(){return this.line.length()}divideAt(t){const e=this.line.divideAt(t);return[e[1].isDifferentiable()?new an(e[0]):this.clone(),new an(e[1])]}divideAtLength(t){const e=this.line.divideAtLength(t);return[e[1].isDifferentiable()?new an(e[0]):this.clone(),new an(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.line.pointAt(t)}pointAtLength(t){return this.line.pointAtLength(t)}tangentAt(t){return this.line.tangentAt(t)}tangentAtLength(t){return this.line.tangentAtLength(t)}isDifferentiable(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)}scale(){return this}rotate(){return this}translate(){return this}equals(t){return this.type===t.type&&this.start.equals(t.start)&&this.end.equals(t.end)}clone(){return new Er}toJSON(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}serialize(){return this.type}}(function(i){function t(){return new i}i.create=t})(Er||(Er={}));class Ar extends hl{constructor(t,e){super();this.isVisible=!1,this.isSubpathStart=!0,bt.isLine(t)||Oe.isCurve(t)?this.endPoint=t.end.clone().round(2):this.endPoint=k.create(t,e).round(2)}get start(){throw new Error("Illegal access. Moveto segments should not need a start property.")}get type(){return"M"}bbox(){return null}closestPoint(){return this.end.clone()}closestPointLength(){return 0}closestPointNormalizedLength(){return 0}closestPointT(){return 1}closestPointTangent(){return null}length(){return 0}lengthAtT(){return 0}divideAt(){return[this.clone(),this.clone()]}divideAtLength(){return[this.clone(),this.clone()]}getSubdivisions(){return[]}pointAt(){return this.end.clone()}pointAtLength(){return this.end.clone()}pointAtT(){return this.end.clone()}tangentAt(){return null}tangentAtLength(){return null}tangentAtT(){return null}isDifferentiable(){return!1}scale(t,e,n){return this.end.scale(t,e,n),this}rotate(t,e){return this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?this.end.translate(t,e):this.end.translate(t),this}clone(){return new Ar(this.end)}equals(t){return this.type===t.type&&this.end.equals(t.end)}toJSON(){return{type:this.type,end:this.end.toJSON()}}serialize(){const t=this.end;return`${this.type} ${t.x} ${t.y}`}}(function(i){function t(...e){const n=e.length,s=e[0];if(bt.isLine(s))return new i(s);if(Oe.isCurve(s))return new i(s);if(k.isPointLike(s)){if(n===1)return new i(s);const o=[];for(let a=0;a<n;a+=1)a===0?o.push(new i(e[a])):o.push(new an(e[a]));return o}if(n===2)return new i(+e[0],+e[1]);const r=[];for(let o=0;o<n;o+=2){const a=+e[o],l=+e[o+1];o===0?r.push(new i(a,l)):r.push(new an(a,l))}return r}i.create=t})(Ar||(Ar={}));class Rn extends hl{constructor(t,e,n,s,r,o){super();Oe.isCurve(t)?(this.controlPoint1=t.controlPoint1.clone().round(2),this.controlPoint2=t.controlPoint2.clone().round(2),this.endPoint=t.end.clone().round(2)):typeof t=="number"?(this.controlPoint1=new k(t,e).round(2),this.controlPoint2=new k(n,s).round(2),this.endPoint=new k(r,o).round(2)):(this.controlPoint1=k.create(t).round(2),this.controlPoint2=k.create(e).round(2),this.endPoint=k.create(n).round(2))}get type(){return"C"}get curve(){return new Oe(this.start,this.controlPoint1,this.controlPoint2,this.end)}bbox(){return this.curve.bbox()}closestPoint(t){return this.curve.closestPoint(t)}closestPointLength(t){return this.curve.closestPointLength(t)}closestPointNormalizedLength(t){return this.curve.closestPointNormalizedLength(t)}closestPointTangent(t){return this.curve.closestPointTangent(t)}length(){return this.curve.length()}divideAt(t,e={}){const n=this.curve.divideAt(t,e);return[new Rn(n[0]),new Rn(n[1])]}divideAtLength(t,e={}){const n=this.curve.divideAtLength(t,e);return[new Rn(n[0]),new Rn(n[1])]}divideAtT(t){const e=this.curve.divideAtT(t);return[new Rn(e[0]),new Rn(e[1])]}getSubdivisions(){return[]}pointAt(t){return this.curve.pointAt(t)}pointAtLength(t){return this.curve.pointAtLength(t)}tangentAt(t){return this.curve.tangentAt(t)}tangentAtLength(t){return this.curve.tangentAtLength(t)}isDifferentiable(){if(!this.previousSegment)return!1;const t=this.start,e=this.controlPoint1,n=this.controlPoint2,s=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(s))}scale(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this}rotate(t,e){return this.controlPoint1.rotate(t,e),this.controlPoint2.rotate(t,e),this.end.rotate(t,e),this}translate(t,e){return typeof t=="number"?(this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e)):(this.controlPoint1.translate(t),this.controlPoint2.translate(t),this.end.translate(t)),this}equals(t){return this.start.equals(t.start)&&this.end.equals(t.end)&&this.controlPoint1.equals(t.controlPoint1)&&this.controlPoint2.equals(t.controlPoint2)}clone(){return new Rn(this.controlPoint1,this.controlPoint2,this.end)}toJSON(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}serialize(){const t=this.controlPoint1,e=this.controlPoint2,n=this.end;return[this.type,t.x,t.y,e.x,e.y,n.x,n.y].join(" ")}}(function(i){function t(...e){const n=e.length,s=e[0];if(Oe.isCurve(s))return new i(s);if(k.isPointLike(s)){if(n===3)return new i(e[0],e[1],e[2]);const o=[];for(let a=0;a<n;a+=3)o.push(new i(e[a],e[a+1],e[a+2]));return o}if(n===6)return new i(e[0],e[1],e[2],e[3],e[4],e[5]);const r=[];for(let o=0;o<n;o+=6)r.push(new i(e[o],e[o+1],e[o+2],e[o+3],e[o+4],e[o+5]));return r}i.create=t})(Rn||(Rn={}));function ul(i,t,e){return{x:i*Math.cos(e)-t*Math.sin(e),y:i*Math.sin(e)+t*Math.cos(e)}}function D2(i,t,e,n,s,r){const o=1/3,a=2/3;return[o*i+a*e,o*t+a*n,o*s+a*e,o*r+a*n,s,r]}function k2(i,t,e,n,s,r,o,a,l,c){const h=Math.PI*120/180,f=Math.PI/180*(+s||0);let d=[],p,y,v,x,w;if(c)y=c[0],v=c[1],x=c[2],w=c[3];else{p=ul(i,t,-f),i=p.x,t=p.y,p=ul(a,l,-f),a=p.x,l=p.y;const yt=(i-a)/2,U=(t-l)/2;let K=yt*yt/(e*e)+U*U/(n*n);K>1&&(K=Math.sqrt(K),e=K*e,n=K*n);const ot=e*e,vt=n*n,It=(r===o?-1:1)*Math.sqrt(Math.abs((ot*vt-ot*U*U-vt*yt*yt)/(ot*U*U+vt*yt*yt)));x=It*e*U/n+(i+a)/2,w=It*-n*yt/e+(t+l)/2,y=Math.asin((t-w)/n),v=Math.asin((l-w)/n),y=i<x?Math.PI-y:y,v=a<x?Math.PI-v:v,y<0&&(y=Math.PI*2+y),v<0&&(v=Math.PI*2+v),o&&y>v&&(y-=Math.PI*2),!o&&v>y&&(v-=Math.PI*2)}let M=v-y;if(Math.abs(M)>h){const yt=v,U=a,K=l;v=y+h*(o&&v>y?1:-1),a=x+e*Math.cos(v),l=w+n*Math.sin(v),d=k2(a,l,e,n,s,0,o,U,K,[v,yt,x,w])}M=v-y;const A=Math.cos(y),D=Math.sin(y),N=Math.cos(v),m=Math.sin(v),P=Math.tan(M/4),$=4/3*(e*P),V=4/3*(n*P),G=[i,t],X=[i+$*D,t-V*A],H=[a+$*m,l-V*N],ft=[a,l];if(X[0]=2*G[0]-X[0],X[1]=2*G[1]-X[1],c)return[X,H,ft].concat(d);{d=[X,H,ft].concat(d).join().split(",");const yt=[],U=d.length;for(let K=0;K<U;K+=1)yt[K]=K%2?ul(+d[K-1],+d[K],f).y:ul(+d[K],+d[K+1],f).x;return yt}}function ST(i){if(!i)return null;const t=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,e=new RegExp(`([a-z])[${t},]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[${t}]*,?[${t}]*)+)`,"ig"),n=new RegExp(`(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[${t}]*,?[${t}]*`,"ig"),s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=[];return i.replace(e,(o,a,l)=>{const c=[];let h=a.toLowerCase();l.replace(n,(d,p)=>(p&&c.push(+p),d)),h==="m"&&c.length>2&&(r.push([a,...c.splice(0,2)]),h="l",a=a==="m"?"l":"L");const f=s[h];for(;c.length>=f&&(r.push([a,...c.splice(0,f)]),!!f););return o}),r}function ET(i){const t=ST(i);if(!t||!t.length)return[["M",0,0]];let e=0,n=0,s=0,r=0;const o=[];for(let a=0,l=t.length;a<l;a+=1){const c=[];o.push(c);const h=t[a],f=h[0];if(f!==f.toUpperCase())switch(c[0]=f.toUpperCase(),c[0]){case"A":c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=+h[6]+e,c[7]=+h[7]+n;break;case"V":c[1]=+h[1]+n;break;case"H":c[1]=+h[1]+e;break;case"M":s=+h[1]+e,r=+h[2]+n;for(let d=1,p=h.length;d<p;d+=1)c[d]=+h[d]+(d%2?e:n);break;default:for(let d=1,p=h.length;d<p;d+=1)c[d]=+h[d]+(d%2?e:n);break}else for(let d=0,p=h.length;d<p;d+=1)c[d]=h[d];switch(c[0]){case"Z":e=+s,n=+r;break;case"H":e=c[1];break;case"V":n=c[1];break;case"M":s=c[c.length-2],r=c[c.length-1],e=c[c.length-2],n=c[c.length-1];break;default:e=c[c.length-2],n=c[c.length-1];break}}return o}function AT(i){const t=ET(i),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function n(l,c,h){let f,d;if(!l)return["C",c.x,c.y,c.x,c.y,c.x,c.y];switch(l[0]in{T:1,Q:1}||(c.qx=null,c.qy=null),l[0]){case"M":c.X=l[1],c.Y=l[2];break;case"A":return parseFloat(l[1])===0||parseFloat(l[2])===0?["L",l[6],l[7]]:["C"].concat(k2.apply(0,[c.x,c.y].concat(l.slice(1))));case"S":return h==="C"||h==="S"?(f=c.x*2-c.bx,d=c.y*2-c.by):(f=c.x,d=c.y),["C",f,d].concat(l.slice(1));case"T":return h==="Q"||h==="T"?(c.qx=c.x*2-c.qx,c.qy=c.y*2-c.qy):(c.qx=c.x,c.qy=c.y),["C"].concat(D2(c.x,c.y,c.qx,c.qy,l[1],l[2]));case"Q":return c.qx=l[1],c.qy=l[2],["C"].concat(D2(c.x,c.y,l[1],l[2],l[3],l[4]));case"H":return["L"].concat(l[1],c.y);case"V":return["L"].concat(c.x,l[1])}return l}function s(l,c){if(l[c].length>7){l[c].shift();const h=l[c];for(;h.length;)r[c]="A",c+=1,l.splice(c,0,["C"].concat(h.splice(0,6)));l.splice(c,1),a=t.length}}const r=[];let o="",a=t.length;for(let l=0;l<a;l+=1){let c="";t[l]&&(c=t[l][0]),c!=="C"&&(r[l]=c,l>0&&(o=r[l-1])),t[l]=n(t[l],e,o),r[l]!=="A"&&c==="C"&&(r[l]="C"),s(t,l);const h=t[l],f=h.length;e.x=h[f-2],e.y=h[f-1],e.bx=parseFloat(h[f-4])||e.x,e.by=parseFloat(h[f-3])||e.y}return(!t[0][0]||t[0][0]!=="M")&&t.unshift(["M",0,0]),t}function MT(i){return AT(i).map(t=>t.map(e=>typeof e=="string"?e:ks(e,2))).join(",").split(",").join(" ")}const TT=new RegExp("^[\\s\\dLMCZz,.]*$");function OT(i){return typeof i!="string"?!1:TT.test(i)}function su(i,t){return(i%t+t)%t}function PT(i,t,e,n,s){const r=[],o=i[i.length-1],a=t!=null&&t>0,l=t||0;if(n&&a){i=i.slice();const f=i[0],d=new k(o.x+(f.x-o.x)/2,o.y+(f.y-o.y)/2);i.splice(0,0,d)}let c=i[0],h=1;for(e?r.push("M",c.x,c.y):r.push("L",c.x,c.y);h<(n?i.length:i.length-1);){let f=i[su(h,i.length)],d=c.x-f.x,p=c.y-f.y;if(a&&(d!==0||p!==0)&&(s==null||s.indexOf(h-1)<0)){let y=Math.sqrt(d*d+p*p);const v=d*Math.min(l,y/2)/y,x=p*Math.min(l,y/2)/y,w=f.x+v,M=f.y+x;r.push("L",w,M);let A=i[su(h+1,i.length)];for(;h<i.length-2&&Math.round(A.x-f.x)===0&&Math.round(A.y-f.y)===0;)A=i[su(h+2,i.length)],h+=1;d=A.x-f.x,p=A.y-f.y,y=Math.max(1,Math.sqrt(d*d+p*p));const D=d*Math.min(l,y/2)/y,N=p*Math.min(l,y/2)/y,m=f.x+D,P=f.y+N;r.push("Q",f.x,f.y,m,P),f=new k(m,P)}else r.push("L",f.x,f.y);c=f,h+=1}return n?r.push("Z"):r.push("L",o.x,o.y),r.map(f=>typeof f=="string"?f:+f.toFixed(3)).join(" ")}function N2(i,t={}){const e=[];return i&&i.length&&i.forEach(n=>{Array.isArray(n)?e.push({x:n[0],y:n[1]}):e.push({x:n.x,y:n.y})}),PT(e,t.round,t.initialMove==null||t.initialMove,t.close,t.exclude)}function fl(i,t,e,n,s=0,r=0,o=0,a,l){if(e===0||n===0)return[];a-=i,l-=t,e=Math.abs(e),n=Math.abs(n);const c=-a/2,h=-l/2,f=Math.cos(s*Math.PI/180),d=Math.sin(s*Math.PI/180),p=f*c+d*h,y=-1*d*c+f*h,v=p*p,x=y*y,w=e*e,M=n*n,A=v/w+x/M;let D;if(A>1)e=Math.sqrt(A)*e,n=Math.sqrt(A)*n,D=0;else{let Dt=1;r===o&&(Dt=-1),D=Dt*Math.sqrt((w*M-w*x-M*v)/(w*x+M*v))}const N=D*e*y/n,m=-1*D*n*p/e,P=f*N-d*m+a/2,$=d*N+f*m+l/2;let V=Math.atan2((y-m)/n,(p-N)/e)-Math.atan2(0,1),G=V>=0?V:2*Math.PI+V;V=Math.atan2((-y-m)/n,(-p-N)/e)-Math.atan2((y-m)/n,(p-N)/e);let X=V>=0?V:2*Math.PI+V;o===0&&X>0?X-=2*Math.PI:o!==0&&X<0&&(X+=2*Math.PI);const H=X*2/Math.PI,ft=Math.ceil(H<0?-1*H:H),yt=X/ft,U=8/3*Math.sin(yt/4)*Math.sin(yt/4)/Math.sin(yt/2),K=f*e,ot=f*n,vt=d*e,It=d*n;let ie=Math.cos(G),ht=Math.sin(G),jt=-U*(K*ht+It*ie),$t=-U*(vt*ht-ot*ie),Nt=0,Kt=0;const Ae=[];for(let Dt=0;Dt<ft;Dt+=1){G+=yt,ie=Math.cos(G),ht=Math.sin(G),Nt=K*ie-It*ht+P,Kt=vt*ie+ot*ht+$;const le=-U*(K*ht+It*ie),ke=-U*(vt*ht-ot*ie),Se=Dt*6;Ae[Se]=Number(jt+i),Ae[Se+1]=Number($t+t),Ae[Se+2]=Number(Nt-le+i),Ae[Se+3]=Number(Kt-ke+t),Ae[Se+4]=Number(Nt+i),Ae[Se+5]=Number(Kt+t),jt=Nt+le,$t=Kt+ke}return Ae.map(Dt=>+Dt.toFixed(2))}function DT(i,t,e,n,s=0,r=0,o=0,a,l){const c=[],h=fl(i,t,e,n,s,r,o,a,l);if(h!=null)for(let f=0,d=h.length;f<d;f+=6)c.push("C",h[f],h[f+1],h[f+2],h[f+3],h[f+4],h[f+5]);return c.join(" ")}class St extends Gi{constructor(t){super();if(this.PRECISION=3,this.segments=[],Array.isArray(t))if(bt.isLine(t[0])||Oe.isCurve(t[0])){let e=null;t.forEach((s,r)=>{r===0&&this.appendSegment(St.createSegment("M",s.start)),e!=null&&!e.end.equals(s.start)&&this.appendSegment(St.createSegment("M",s.start)),bt.isLine(s)?this.appendSegment(St.createSegment("L",s.end)):Oe.isCurve(s)&&this.appendSegment(St.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),e=s})}else t.forEach(n=>{n.isSegment&&this.appendSegment(n)});else t!=null&&(bt.isLine(t)?(this.appendSegment(St.createSegment("M",t.start)),this.appendSegment(St.createSegment("L",t.end))):Oe.isCurve(t)?(this.appendSegment(St.createSegment("M",t.start)),this.appendSegment(St.createSegment("C",t.controlPoint1,t.controlPoint2,t.end))):Re.isPolyline(t)?t.points&&t.points.length&&t.points.forEach((e,n)=>{const s=n===0?St.createSegment("M",e):St.createSegment("L",e);this.appendSegment(s)}):t.isSegment&&this.appendSegment(t))}get[Symbol.toStringTag](){return St.toStringTag}get start(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=0;n<e;n+=1){const s=t[n];if(s.isVisible)return s.start}return t[e-1].end}get end(){const t=this.segments,e=t.length;if(e===0)return null;for(let n=e-1;n>=0;n-=1){const s=t[n];if(s.isVisible)return s.end}return t[e-1].end}moveTo(...t){return this.appendSegment(Ar.create.call(null,...t))}lineTo(...t){return this.appendSegment(an.create.call(null,...t))}curveTo(...t){return this.appendSegment(Rn.create.call(null,...t))}arcTo(t,e,n,s,r,o,a){const l=this.end||new k,c=typeof o=="number"?fl(l.x,l.y,t,e,n,s,r,o,a):fl(l.x,l.y,t,e,n,s,r,o.x,o.y);if(c!=null)for(let h=0,f=c.length;h<f;h+=6)this.curveTo(c[h],c[h+1],c[h+2],c[h+3],c[h+4],c[h+5]);return this}quadTo(t,e,n,s){const r=this.end||new k,o=["M",r.x,r.y];if(typeof t=="number")o.push("Q",t,e,n,s);else{const l=e;o.push("Q",t.x,t.y,l.x,l.y)}const a=St.parse(o.join(" "));return this.appendSegment(a.segments.slice(1)),this}close(){return this.appendSegment(Er.create())}drawPoints(t,e={}){const n=N2(t,e),s=St.parse(n);s&&s.segments&&this.appendSegment(s.segments)}bbox(){const t=this.segments,e=t.length;if(e===0)return null;let n;for(let r=0;r<e;r+=1){const o=t[r];if(o.isVisible){const a=o.bbox();a!=null&&(n=n?n.union(a):a)}}if(n!=null)return n;const s=t[e-1];return new st(s.end.x,s.end.y,0,0)}appendSegment(t){const e=this.segments.length;let n=e!==0?this.segments[e-1]:null,s;const r=null;if(Array.isArray(t))for(let o=0,a=t.length;o<a;o+=1){const l=t[o];s=this.prepareSegment(l,n,r),this.segments.push(s),n=s}else t!=null&&t.isSegment&&(s=this.prepareSegment(t,n,r),this.segments.push(s));return this}insertSegment(t,e){const n=this.segments.length;if(t<0&&(t=n+t+1),t>n||t<0)throw new Error("Index out of range.");let s,r=null,o=null;if(n!==0&&(t>=1?(r=this.segments[t-1],o=r.nextSegment):(r=null,o=this.segments[0])),!Array.isArray(e))s=this.prepareSegment(e,r,o),this.segments.splice(t,0,s);else for(let a=0,l=e.length;a<l;a+=1){const c=e[a];s=this.prepareSegment(c,r,o),this.segments.splice(t+a,0,s),r=s}return this}removeSegment(t){const e=this.fixIndex(t),n=this.segments.splice(e,1)[0],s=n.previousSegment,r=n.nextSegment;return s&&(s.nextSegment=r),r&&(r.previousSegment=s),n.isSubpathStart&&r&&this.updateSubpathStartSegment(r),n}replaceSegment(t,e){const n=this.fixIndex(t);let s;const r=this.segments[n];let o=r.previousSegment;const a=r.nextSegment;let l=r.isSubpathStart;if(!Array.isArray(e))s=this.prepareSegment(e,o,a),this.segments.splice(n,1,s),l&&s.isSubpathStart&&(l=!1);else{this.segments.splice(t,1);for(let c=0,h=e.length;c<h;c+=1){const f=e[c];s=this.prepareSegment(f,o,a),this.segments.splice(t+c,0,s),o=s,l&&s.isSubpathStart&&(l=!1)}}l&&a&&this.updateSubpathStartSegment(a)}getSegment(t){const e=this.fixIndex(t);return this.segments[e]}fixIndex(t){const e=this.segments.length;if(e===0)throw new Error("Path has no segments.");let n=t;for(;n<0;)n=e+n;if(n>=e||n<0)throw new Error("Index out of range.");return n}segmentAt(t,e={}){const n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null}segmentAtLength(t,e={}){const n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null}segmentIndexAt(t,e={}){if(this.segments.length===0)return null;const n=Sr(t,0,1),s=this.getOptions(e),o=this.length(s)*n;return this.segmentIndexAtLength(o,s)}segmentIndexAtLength(t,e={}){const n=this.segments.length;if(n===0)return null;let s=!0;t<0&&(s=!1,t=-t);const r=this.getPrecision(e),o=this.getSubdivisions(e);let a=0,l=null;for(let c=0;c<n;c+=1){const h=s?c:n-1-c,f=this.segments[h],d=o[h],p=f.length({precision:r,subdivisions:d});if(f.isVisible){if(t<=a+p)return h;l=h}a+=p}return l}getSegmentSubdivisions(t={}){const e=this.getPrecision(t),n=[];for(let s=0,r=this.segments.length;s<r;s+=1){const a=this.segments[s].getSubdivisions({precision:e});n.push(a)}return n}updateSubpathStartSegment(t){let e=t.previousSegment,n=t;for(;n&&!n.isSubpathStart;)e!=null?n.subpathStartSegment=e.subpathStartSegment:n.subpathStartSegment=null,e=n,n=n.nextSegment}prepareSegment(t,e,n){t.previousSegment=e,t.nextSegment=n,e!=null&&(e.nextSegment=t),n!=null&&(n.previousSegment=t);let s=t;return t.isSubpathStart&&(t.subpathStartSegment=t,s=n),s!=null&&this.updateSubpathStartSegment(s),t}closestPoint(t,e={}){const n=this.closestPointT(t,e);return n?this.pointAtT(n):null}closestPointLength(t,e={}){const n=this.getOptions(e),s=this.closestPointT(t,n);return s?this.lengthAtT(s,n):0}closestPointNormalizedLength(t,e={}){const n=this.getOptions(e),s=this.closestPointLength(t,n);if(s===0)return 0;const r=this.length(n);return r===0?0:s/r}closestPointT(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),s=this.getSubdivisions(e);let r,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],h=s[a];if(c.isVisible){const f=c.closestPointT(t,{precision:n,subdivisions:h}),d=c.pointAtT(f),p=P2(d,t);p<o&&(r={segmentIndex:a,value:f},o=p)}}return r||{segmentIndex:this.segments.length-1,value:1}}closestPointTangent(t,e={}){if(this.segments.length===0)return null;const n=this.getPrecision(e),s=this.getSubdivisions(e);let r,o=1/0;for(let a=0,l=this.segments.length;a<l;a+=1){const c=this.segments[a],h=s[a];if(c.isDifferentiable()){const f=c.closestPointT(t,{precision:n,subdivisions:h}),d=c.pointAtT(f),p=P2(d,t);p<o&&(r=c.tangentAtT(f),o=p)}}return r||null}containsPoint(t,e={}){const n=this.toPolylines(e);if(!n)return!1;let s=0;for(let r=0,o=n.length;r<o;r+=1)n[r].containsPoint(t)&&(s+=1);return s%2==1}pointAt(t,e={}){if(this.segments.length===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();const n=this.getOptions(e),r=this.length(n)*t;return this.pointAtLength(r,n)}pointAtLength(t,e={}){if(this.segments.length===0)return null;if(t===0)return this.start.clone();let n=!0;t<0&&(n=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let c=0,h=this.segments.length;c<h;c+=1){const f=n?c:h-1-c,d=this.segments[f],p=r[f],y=d.length({precision:s,subdivisions:p});if(d.isVisible){if(t<=a+y)return d.pointAtLength((n?1:-1)*(t-a),{precision:s,subdivisions:p});o=d}a+=y}return o?n?o.end:o.start:this.segments[this.segments.length-1].end.clone()}pointAtT(t){const e=this.segments,n=e.length;if(n===0)return null;const s=t.segmentIndex;if(s<0)return e[0].pointAtT(0);if(s>=n)return e[n-1].pointAtT(1);const r=Sr(t.value,0,1);return e[s].pointAtT(r)}divideAt(t,e={}){if(this.segments.length===0)return null;const n=Sr(t,0,1),s=this.getOptions(e),o=this.length(s)*n;return this.divideAtLength(o,s)}divideAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o=0,a,l,c,h,f;for(let N=0,m=this.segments.length;N<m;N+=1){const P=n?N:m-1-N,$=this.getSegment(P),V=r[P],G={precision:s,subdivisions:V},X=$.length(G);if($.isDifferentiable()&&(c=$,h=P,t<=o+X)){l=P,a=$.divideAtLength((n?1:-1)*(t-o),G);break}o+=X}if(!c)return null;a||(l=h,f=n?1:0,a=c.divideAtT(f));const d=this.clone(),p=l;d.replaceSegment(p,a);const y=p;let v=p+1,x=p+2;a[0].isDifferentiable()||(d.removeSegment(y),v-=1,x-=1);const w=d.getSegment(v).start;d.insertSegment(v,St.createSegment("M",w)),x+=1,a[1].isDifferentiable()||(d.removeSegment(x-1),x-=1);const M=x-y-1;for(let N=x,m=d.segments.length;N<m;N+=1){const P=this.getSegment(N-M),$=d.getSegment(N);if($.type==="Z"&&!P.subpathStartSegment.end.equals($.subpathStartSegment.end)){const V=St.createSegment("L",P.end);d.replaceSegment(N,V)}}const A=new St(d.segments.slice(0,v)),D=new St(d.segments.slice(v));return[A,D]}intersectsWithLine(t,e={}){const n=this.toPolylines(e);if(n==null)return null;let s=null;for(let r=0,o=n.length;r<o;r+=1){const a=n[r],l=t.intersect(a);l&&(s==null&&(s=[]),Array.isArray(l)?s.push(...l):s.push(l))}return s}isDifferentiable(){for(let t=0,e=this.segments.length;t<e;t+=1)if(this.segments[t].isDifferentiable())return!0;return!1}isValid(){const t=this.segments;return t.length===0||t[0].type==="M"}length(t={}){if(this.segments.length===0)return 0;const e=this.getSubdivisions(t);let n=0;for(let s=0,r=this.segments.length;s<r;s+=1){const o=this.segments[s],a=e[s];n+=o.length({subdivisions:a})}return n}lengthAtT(t,e={}){const n=this.segments.length;if(n===0)return 0;let s=t.segmentIndex;if(s<0)return 0;let r=Sr(t.value,0,1);s>=n&&(s=n-1,r=1);const o=this.getPrecision(e),a=this.getSubdivisions(e);let l=0;for(let f=0;f<s;f+=1){const d=this.segments[f],p=a[f];l+=d.length({precision:o,subdivisions:p})}const c=this.segments[s],h=a[s];return l+=c.lengthAtT(r,{precision:o,subdivisions:h}),l}tangentAt(t,e={}){if(this.segments.length===0)return null;const n=Sr(t,0,1),s=this.getOptions(e),o=this.length(s)*n;return this.tangentAtLength(o,s)}tangentAtLength(t,e={}){if(this.segments.length===0)return null;let n=!0;t<0&&(n=!1,t=-t);const s=this.getPrecision(e),r=this.getSubdivisions(e);let o,a=0;for(let l=0,c=this.segments.length;l<c;l+=1){const h=n?l:c-1-l,f=this.segments[h],d=r[h],p=f.length({precision:s,subdivisions:d});if(f.isDifferentiable()){if(t<=a+p)return f.tangentAtLength((n?1:-1)*(t-a),{precision:s,subdivisions:d});o=f}a+=p}if(o){const l=n?1:0;return o.tangentAtT(l)}return null}tangentAtT(t){const e=this.segments.length;if(e===0)return null;const n=t.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=e)return this.segments[e-1].tangentAtT(1);const s=Sr(t.value,0,1);return this.segments[n].tangentAtT(s)}getPrecision(t={}){return t.precision==null?this.PRECISION:t.precision}getSubdivisions(t={}){if(t.segmentSubdivisions==null){const e=this.getPrecision(t);return this.getSegmentSubdivisions({precision:e})}return t.segmentSubdivisions}getOptions(t={}){const e=this.getPrecision(t),n=this.getSubdivisions(t);return{precision:e,segmentSubdivisions:n}}toPoints(t={}){const e=this.segments,n=e.length;if(n===0)return null;const s=this.getSubdivisions(t),r=[];let o=[];for(let a=0;a<n;a+=1){const l=e[a];if(l.isVisible){const c=s[a];c.length>0?c.forEach(h=>o.push(h.start)):o.push(l.start)}else o.length>0&&(o.push(e[a-1].end),r.push(o),o=[])}return o.length>0&&(o.push(this.end),r.push(o)),r}toPolylines(t={}){const e=this.toPoints(t);return e?e.map(n=>new Re(n)):null}scale(t,e,n){return this.segments.forEach(s=>s.scale(t,e,n)),this}rotate(t,e){return this.segments.forEach(n=>n.rotate(t,e)),this}translate(t,e){return typeof t=="number"?this.segments.forEach(n=>n.translate(t,e)):this.segments.forEach(n=>n.translate(t)),this}clone(){const t=new St;return this.segments.forEach(e=>t.appendSegment(e.clone())),t}equals(t){if(t==null)return!1;const e=this.segments,n=t.segments,s=e.length;if(n.length!==s)return!1;for(let r=0;r<s;r+=1){const o=e[r],a=n[r];if(o.type!==a.type||!o.equals(a))return!1}return!0}toJSON(){return this.segments.map(t=>t.toJSON())}serialize(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map(t=>t.serialize()).join(" ")}toString(){return this.serialize()}}(function(i){i.toStringTag=`X6.Geometry.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return!!((n==null||n===i.toStringTag)&&Array.isArray(s.segments)&&typeof s.moveTo=="function"&&typeof s.lineTo=="function"&&typeof s.curveTo=="function")}i.isPath=t})(St||(St={}));(function(i){function t(n){if(!n)return new i;const s=new i,r=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,o=i.normalize(n).match(r);if(o!=null)for(let a=0,l=o.length;a<l;a+=1){const c=o[a],h=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,f=c.match(h);if(f!=null){const d=f[0],p=f.slice(1).map(v=>+v),y=e.call(null,d,...p);s.appendSegment(y)}}return s}i.parse=t;function e(n,...s){if(n==="M")return Ar.create.call(null,...s);if(n==="L")return an.create.call(null,...s);if(n==="C")return Rn.create.call(null,...s);if(n==="z"||n==="Z")return Er.create();throw new Error(`Invalid path segment type "${n}"`)}i.createSegment=e})(St||(St={}));(function(i){i.normalize=MT,i.isValid=OT,i.drawArc=DT,i.drawPoints=N2,i.arcToCurves=fl})(St||(St={}));class mt{constructor(t,e,n){if(!t)throw new TypeError("Invalid element to create vector");let s;if(mt.isVector(t))s=t.node;else if(typeof t=="string")if(t.toLowerCase()==="svg")s=ll();else if(t[0]==="<"){const r=ll(t);s=document.importNode(r.firstChild,!0)}else s=document.createElementNS(ze.svg,t);else s=t;this.node=s,e&&this.setAttributes(e),n&&this.append(n)}get[Symbol.toStringTag](){return mt.toStringTag}get type(){return this.node.nodeName}get id(){return this.node.id}set id(t){this.node.id=t}transform(t,e){return t==null?Tr(this.node):(Tr(this.node,t,e),this)}translate(t,e=0,n={}){return t==null?H2(this.node):(H2(this.node,t,e,n),this)}rotate(t,e,n,s={}){return t==null?au(this.node):(au(this.node,t,e,n,s),this)}scale(t,e){return t==null?Ui(this.node):(Ui(this.node,t,e),this)}getTransformToElement(t){const e=mt.toNode(t);return Mr(this.node,e)}removeAttribute(t){return w2(this.node,t),this}getAttribute(t){return CT(this.node,t)}setAttribute(t,e){return Jh(this.node,t,e),this}setAttributes(t){return S2(this.node,t),this}attr(t,e){return t==null?Zt(this.node):typeof t=="string"&&e===void 0?Zt(this.node,t):(typeof t=="object"?Zt(this.node,t):Zt(this.node,t,e),this)}svg(){return this.node instanceof SVGSVGElement?this:mt.create(this.node.ownerSVGElement)}defs(){const t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?mt.create(e):mt.create("defs").appendTo(t)}text(t,e={}){return L2(this.node,t,e),this}tagName(){return pT(this.node)}clone(){return mt.create(this.node.cloneNode(!0))}remove(){return ai(this.node),this}empty(){return Xh(this.node),this}append(t){return No(this.node,mt.toNodes(t)),this}appendTo(t){return yT(this.node,mt.isVector(t)?t.node:t),this}prepend(t){return bT(this.node,mt.toNodes(t)),this}before(t){return Yh(this.node,mt.toNodes(t)),this}replace(t){return this.node.parentNode&&this.node.parentNode.replaceChild(mt.toNode(t),this.node),mt.create(t)}first(){return this.node.firstChild?mt.create(this.node.firstChild):null}last(){return this.node.lastChild?mt.create(this.node.lastChild):null}get(t){const e=this.node.childNodes[t];return e?mt.create(e):null}indexOf(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(mt.toNode(t))}find(t){const e=[],n=mT(this.node,t);if(n)for(let s=0,r=n.length;s<r;s+=1)e.push(mt.create(n[s]));return e}findOne(t){const e=qh(this.node,t);return e?mt.create(e):null}findParentByClass(t,e){const n=x2(this.node,t,e);return n?mt.create(n):null}matches(t){const e=this.node;this.node.matches;const n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector||null;return n&&n.call(e,t)}contains(t){return Wh(this.node,mt.isVector(t)?t.node:t)}wrap(t){const e=mt.create(t),n=this.node.parentNode;return n!=null&&n.insertBefore(e.node,this.node),e.append(this)}parent(t){let e=this;if(e.node.parentNode==null)return null;if(e=mt.create(e.node.parentNode),t==null)return e;do if(typeof t=="string"?e.matches(t):e instanceof t)return e;while(e=mt.create(e.node.parentNode));return e}children(){const t=this.node.childNodes,e=[];for(let n=0;n<t.length;n+=1)t[n].nodeType===1&&e.push(mt.create(t[n]));return e}eachChild(t,e){const n=this.children();for(let s=0,r=n.length;s<r;s+=1)t.call(n[s],n[s],s,n),e&&n[s].eachChild(t,e);return this}index(){return Uh(this.node)}hasClass(t){return ol(this.node,t)}addClass(t){return Jt(this.node,t),this}removeClass(t){return In(this.node,t),this}toggleClass(t,e){return m2(this.node,t,e),this}toLocalPoint(t,e){return tO(this.node,t,e)}toGeometryShape(){return B2(this.node)}translateCenterToPoint(t){const n=this.getBBox({target:this.svg()}).getCenter();return this.translate(t.x-n.x,t.y-n.y),this}translateAndAutoOrient(t,e,n){return lu(this.node,t,e,n),this}animate(t){return eO(this.node,t)}animateTransform(t){return nO(this.node,t)}animateAlongPath(t,e){return iO(this.node,t,e)}normalizePath(){return this.tagName()==="path"&&this.attr("d",St.normalize(this.attr("d"))),this}bbox(t,e){return QT(this.node,t,e)}getBBox(t={}){return Xe(this.node,{recursive:t.recursive,target:t.target?mt.toNode(t.target):null})}sample(t=1){return this.node instanceof SVGPathElement?FT(this.node,t):[]}toPath(){return mt.create(VT(this.node))}toPathData(){return z2(this.node)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(o){if(o==null)return!1;if(o instanceof i)return!0;const a=o[Symbol.toStringTag],l=o;return(a==null||a===i.toStringTag)&&l.node instanceof SVGElement&&typeof l.animate=="function"&&typeof l.sample=="function"&&typeof l.normalizePath=="function"&&typeof l.toPath=="function"}i.isVector=t;function e(o,a,l){return new i(o,a,l)}i.create=e;function n(o){if(o[0]==="<"){const a=ll(o),l=[];for(let c=0,h=a.childNodes.length;c<h;c+=1){const f=a.childNodes[c];l.push(e(document.importNode(f,!0)))}return l}return[e(o)]}i.createVectors=n;function s(o){return t(o)?o.node:o}i.toNode=s;function r(o){return Array.isArray(o)?o.map(a=>s(a)):[s(o)]}i.toNodes=r})(mt||(mt={}));function kT(i,t){const e=mt.create(t),n=mt.create("textPath"),s=i.d;if(s&&i["xlink:href"]===void 0){const r=mt.create("path").attr("d",s).appendTo(e.defs());n.attr("xlink:href",`#${r.id}`)}return typeof i=="object"&&n.attr(i),n.node}function NT(i,t,e){const n=e.eol,s=e.baseSize,r=e.lineHeight;let o=0,a;const l={},c=t.length-1;for(let h=0;h<=c;h+=1){let f=t[h],d=null;if(typeof f=="object"){const p=f.attrs,y=mt.create("tspan",p);a=y.node;let v=f.t;n&&h===c&&(v+=n),a.textContent=v;const x=p.class;x&&y.addClass(x),e.includeAnnotationIndices&&y.attr("annotations",f.annotations.join(",")),d=parseFloat(p["font-size"]),d===void 0&&(d=s),d&&d>o&&(o=d)}else n&&h===c&&(f+=n),a=document.createTextNode(f||" "),s&&s>o&&(o=s);i.appendChild(a)}return o&&(l.maxFontSize=o),r?l.lineHeight=r:o&&(l.lineHeight=o*1.2),l}const $2=/em$/;function dl(i,t){const e=parseFloat(i);return $2.test(i)?e*t:e}function $T(i,t,e,n){if(!Array.isArray(t))return 0;const s=t.length;if(!s)return 0;let r=t[0];const o=dl(r.maxFontSize,e)||e;let a=0;const l=dl(n,e);for(let f=1;f<s;f+=1)r=t[f],a+=dl(r.lineHeight,e)||l;const c=dl(r.maxFontSize,e)||e;let h;switch(i){case"middle":h=o/2-.15*c-a/2;break;case"bottom":h=-(.25*c)-a;break;default:case"top":h=.8*o;break}return h}function L2(i,t,e={}){t=xT(t);const n=e.eol;let s=e.textPath;const r=e.textVerticalAnchor,o=r==="middle"||r==="bottom"||r==="top";let a=e.x;a===void 0&&(a=i.getAttribute("x")||0);const l=e.includeAnnotationIndices;let c=e.annotations;c&&!Array.isArray(c)&&(c=[c]);const h=e.lineHeight,f=h==="auto",d=f?"1.5em":h||"1em";Xh(i),Zt(i,{"xml:space":"preserve",display:t||e.displayEmpty?null:"none"});const p=Zt(i,"font-size");let y=parseFloat(p);y||(y=16,(o||c)&&!p&&Zt(i,"font-size",`${y}`));let v;s?(typeof s=="string"&&(s={d:s}),v=kT(s,i)):v=document.createDocumentFragment();let x,w=0,M;const A=t.split(`
`),D=[],N=A.length-1;for(let P=0;P<=N;P+=1){x=d;let $="v-line";const V=bn("tspan");let G,X=A[P];if(X)if(c){const H=vT(X,c,{offset:-w,includeAnnotationIndices:l});G=NT(V,H,{eol:P!==N&&n,baseSize:y,lineHeight:f?null:d,includeAnnotationIndices:l});const ft=G.lineHeight;ft&&f&&P!==0&&(x=ft),P===0&&(M=G.maxFontSize*.8)}else n&&P!==N&&(X+=n),V.textContent=X;else{V.textContent="-",$+=" v-empty-line";const H=V.style;H.fillOpacity=0,H.strokeOpacity=0,c&&(G={})}G&&D.push(G),P>0&&V.setAttribute("dy",x),(P>0||s)&&V.setAttribute("x",a),V.className.baseVal=$,v.appendChild(V),w+=X.length+1}if(o)if(c)x=$T(r,D,y,d);else if(r==="top")x="0.8em";else{let P;switch(N>0?(P=parseFloat(d)||1,P*=N,$2.test(d)||(P/=y)):P=0,r){case"middle":x=`${.3-P/2}em`;break;case"bottom":x=`${-P-.3}em`;break}}else r===0?x="0em":r?x=r:(x=0,i.getAttribute("y")==null&&i.setAttribute("y",`${M||"0.8em"}`));v.firstChild.setAttribute("dy",x),i.appendChild(v)}function LT(i,t,e,n){const s=[],r=[];if(t!=null){const o=i.split(t);if(s.push(...o),typeof t=="string")for(let a=0,l=o.length-1;a<l;a+=1)r.push(t);else{const a=i.match(new RegExp(t,"g"));for(let l=0,c=o.length-1;l<c;l+=1)r.push(a?a[l]:"")}}else{let o="";for(let a=0,l=i.length;a<l;a+=1){const c=i[a];c===" "?(s.push(o),r.push(" "),o=""):c.match(/[^\x00-\xff]/)?(o.length&&(s.push(o),r.push("")),s.push(c),r.push(""),o=""):o+=c}o.length&&s.push(o)}for(let o=0;o<s.length;o+=1){const a=s[o];if(a.indexOf(e)>=0&&a.length>1){const l=a.split(e);for(let f=0,d=l.length-1;f<d;f+=1)l.splice(2*f+1,0,e);const c=l.filter(f=>f!=="");s.splice(o,1,...c);const h=c.map(()=>"");h.pop(),r.splice(o,0,...h)}}for(let o=0;o<s.length;o+=1){const a=s[o],l=a.search(n);l>0&&l<a.length-1&&(s.splice(o,1,a.substring(0,l+1),a.substring(l+1)),r.splice(o,0,""))}return{words:s,separators:r}}function F2(i,t,e={},n={}){const s=t.width,r=t.height,o=n.svgDocument||bn("svg"),a=bn("text"),l=bn("tspan"),c=document.createTextNode("");Zt(a,e),a.appendChild(l),a.style.opacity="0",a.style.display="block",l.style.display="block",l.appendChild(c),o.appendChild(a);const h=o.parentNode==null;h&&document.body.appendChild(o);const f=n.eol||`
`,d=n.separator||" ",p=n.hyphen?new RegExp(n.hyphen):/[^\w\d]/,y=n.breakWord!==!1,v=[],x={};let w=[],M,A,D;const{words:N,separators:m}=LT(i,n.separator,f,p);for(let P=0,$=0,V=N.length;P<V;P+=1){const G=N[P];if(!!G){if(G===f){v[$]=!0,$+=1,w[$]="";continue}if(w[$]!=null?(D=m[P-1]||"",c.data=`${w[$]}${D}${G}`):c.data=G,l.getComputedTextLength()<=s)w[$]=c.data,x[$]=m[P],M&&(v[$]=!0,$+=1,M=0);else{if(y){if(!w[$]||M){const X=!!M,H=G.length===1;if(M=G.length-1,X||H){if(H){if(!w[$]){w=[];break}N.splice(P,2,G+N[P+1]),m.splice(P+1,1),v[$]=!0,$+=1,V-=1,P-=1;continue}N[P]=G.substring(0,M),N[P+1]=G.substring(M)+N[P+1]}else N.splice(P,1,G.substring(0,M),G.substring(M)),m.splice(P,0,""),V+=1,$&&!v[$-1]&&($-=1);P-=1;continue}}else if(!w[$]){w[$]=G,v[$]=!0,$+=1;continue}$+=1,P-=1}if(r!=null){if(A==null){let X;e.lineHeight==="auto"?X={value:1.5,unit:"em"}:X=uT(e.lineHeight,["em"])||{value:1,unit:"em"},A=X.value,X.unit==="em"&&($e.IS_FIREFOX?A*=l.getBBox().height:A*=a.getBBox().height)}if(A*w.length>r){const X=Math.floor(r/A)-1,H=w[X],ft=w[X+1];if(w.splice(X+1),H==null)break;let yt=n.ellipsis;if(!yt)break;typeof yt!="string"&&(yt="\u2026");let U=H;ft&&y&&(U+=D+ft);let K=U.length,ot,vt;do{if(vt=U[K],ot=U.substring(0,K),vt?vt.match(d)&&(ot+=vt):ot+=x[X],ot+=yt,c.data=ot,l.getComputedTextLength()<=s){w[X]=ot;break}K-=1}while(K>=0);break}}}}return ai(h?o:a),w.join(f)}const ru=.551784;function Qe(i,t,e=NaN){const n=i.getAttribute(t);if(n==null)return e;const s=parseFloat(n);return Number.isNaN(s)?e:s}function FT(i,t=1){const e=i.getTotalLength(),n=[];let s=0,r;for(;s<e;)r=i.getPointAtLength(s),n.push({distance:s,x:r.x,y:r.y}),s+=t;return n}function jT(i){return["M",Qe(i,"x1"),Qe(i,"y1"),"L",Qe(i,"x2"),Qe(i,"y2")].join(" ")}function IT(i){const t=gl(i);return t.length===0?null:`${j2(t)} Z`}function zT(i){const t=gl(i);return t.length===0?null:j2(t)}function j2(i){return`M ${i.map(e=>`${e.x} ${e.y}`).join(" L")}`}function gl(i){const t=[],e=i.points;if(e)for(let n=0,s=e.numberOfItems;n<s;n+=1)t.push(e.getItem(n));return t}function RT(i){const t=Qe(i,"cx",0),e=Qe(i,"cy",0),n=Qe(i,"r"),s=n*ru;return["M",t,e-n,"C",t+s,e-n,t+n,e-s,t+n,e,"C",t+n,e+s,t+s,e+n,t,e+n,"C",t-s,e+n,t-n,e+s,t-n,e,"C",t-n,e-s,t-s,e-n,t,e-n,"Z"].join(" ")}function BT(i){const t=Qe(i,"cx",0),e=Qe(i,"cy",0),n=Qe(i,"rx"),s=Qe(i,"ry")||n,r=n*ru,o=s*ru;return["M",t,e-s,"C",t+r,e-s,t+n,e-o,t+n,e,"C",t+n,e+o,t+r,e+s,t,e+s,"C",t-r,e+s,t-n,e+o,t-n,e,"C",t-n,e-o,t-r,e-s,t,e-s,"Z"].join(" ")}function _T(i){return I2({x:Qe(i,"x",0),y:Qe(i,"y",0),width:Qe(i,"width",0),height:Qe(i,"height",0),rx:Qe(i,"rx",0),ry:Qe(i,"ry",0)})}function I2(i){let t;const e=i.x,n=i.y,s=i.width,r=i.height,o=Math.min(i.rx||i["top-rx"]||0,s/2),a=Math.min(i.rx||i["bottom-rx"]||0,s/2),l=Math.min(i.ry||i["top-ry"]||0,r/2),c=Math.min(i.ry||i["bottom-ry"]||0,r/2);return o||a||l||c?t=["M",e,n+l,"v",r-l-c,"a",a,c,0,0,0,a,c,"h",s-2*a,"a",a,c,0,0,0,a,-c,"v",-(r-c-l),"a",o,l,0,0,0,-o,-l,"h",-(s-2*o),"a",o,l,0,0,0,-o,l,"Z"]:t=["M",e,n,"H",e+s,"V",n+r,"H",e,"V",n,"Z"],t.join(" ")}function VT(i){const t=bn("path");Zt(t,Zt(i));const e=z2(i);return e&&t.setAttribute("d",e),t}function z2(i){const t=i.tagName.toLowerCase();switch(t){case"path":return i.getAttribute("d");case"line":return jT(i);case"polygon":return IT(i);case"polyline":return zT(i);case"ellipse":return BT(i);case"circle":return RT(i);case"rect":return _T(i)}throw new Error(`"${t}" cannot be converted to svg path element.`)}function HT(i,t,e,n){const s=2*Math.PI-1e-6,r=i,o=t;let a=e,l=n;if(l<a){const v=a;a=l,l=v}const c=l-a,h=c<Math.PI?"0":"1",f=Math.cos(a),d=Math.sin(a),p=Math.cos(l),y=Math.sin(l);return c>=s?r?`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}M0,${r}A${r},${r} 0 1,0 0,${-r}A${r},${r} 0 1,0 0,${r}Z`:`M0,${o}A${o},${o} 0 1,1 0,${-o}A${o},${o} 0 1,1 0,${o}Z`:r?`M${o*f},${o*d}A${o},${o} 0 ${h},1 ${o*p},${o*y}L${r*p},${r*y}A${r},${r} 0 ${h},0 ${r*f},${r*d}Z`:`M${o*f},${o*d}A${o},${o} 0 ${h},1 ${o*p},${o*y}L0,0Z`}const Lo=bn("svg"),GT=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,R2=/[ ,]+/,UT=/^(\w+)\((.*)\)/;function qT(i,t){const e=Lo.createSVGPoint();return e.x=i,e.y=t,e}function We(i){const t=Lo.createSVGMatrix();if(i!=null){const e=i,n=t;for(const s in e)n[s]=e[s]}return t}function Fo(i){return i!=null?(i instanceof DOMMatrix||(i=We(i)),Lo.createSVGTransformFromMatrix(i)):Lo.createSVGTransform()}function pl(i){let t=We();const e=i!=null&&i.match(GT);if(!e)return t;for(let n=0,s=e.length;n<s;n+=1){const o=e[n].match(UT);if(o){let a,l,c,h,f,d=We();const p=o[2].split(R2);switch(o[1].toLowerCase()){case"scale":a=parseFloat(p[0]),l=p[1]===void 0?a:parseFloat(p[1]),d=d.scaleNonUniform(a,l);break;case"translate":c=parseFloat(p[0]),h=parseFloat(p[1]),d=d.translate(c,h);break;case"rotate":f=parseFloat(p[0]),c=parseFloat(p[1])||0,h=parseFloat(p[2])||0,c!==0||h!==0?d=d.translate(c,h).rotate(f).translate(-c,-h):d=d.rotate(f);break;case"skewx":f=parseFloat(p[0]),d=d.skewX(f);break;case"skewy":f=parseFloat(p[0]),d=d.skewY(f);break;case"matrix":d.a=parseFloat(p[0]),d.b=parseFloat(p[1]),d.c=parseFloat(p[2]),d.d=parseFloat(p[3]),d.e=parseFloat(p[4]),d.f=parseFloat(p[5]);break;default:continue}t=t.multiply(d)}}return t}function Ns(i){const t=i||{},e=t.a!=null?t.a:1,n=t.b!=null?t.b:0,s=t.c!=null?t.c:0,r=t.d!=null?t.d:1,o=t.e!=null?t.e:0,a=t.f!=null?t.f:0;return`matrix(${e},${n},${s},${r},${o},${a})`}function ml(i){let t,e,n;if(i){const r=R2;if(i.trim().indexOf("matrix")>=0){const o=pl(i),a=WT(o);t=[a.translateX,a.translateY],e=[a.rotation],n=[a.scaleX,a.scaleY];const l=[];(t[0]!==0||t[1]!==0)&&l.push(`translate(${t.join(",")})`),(n[0]!==1||n[1]!==1)&&l.push(`scale(${n.join(",")})`),e[0]!==0&&l.push(`rotate(${e[0]})`),i=l.join(" ")}else{const o=i.match(/translate\((.*?)\)/);o&&(t=o[1].split(r));const a=i.match(/rotate\((.*?)\)/);a&&(e=a[1].split(r));const l=i.match(/scale\((.*?)\)/);l&&(n=l[1].split(r))}}const s=n&&n[0]?parseFloat(n[0]):1;return{raw:i||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:e&&e[0]?parseInt(e[0],10):0,cx:e&&e[1]?parseInt(e[1],10):void 0,cy:e&&e[2]?parseInt(e[2],10):void 0},scale:{sx:s,sy:n&&n[1]?parseFloat(n[1]):s}}}function ou(i,t){const e=t.x*i.a+t.y*i.c+0,n=t.x*i.b+t.y*i.d+0;return{x:e,y:n}}function WT(i){const t=ou(i,{x:0,y:1}),e=ou(i,{x:1,y:0}),n=180/Math.PI*Math.atan2(t.y,t.x)-90,s=180/Math.PI*Math.atan2(e.y,e.x);return{skewX:n,skewY:s,translateX:i.e,translateY:i.f,scaleX:Math.sqrt(i.a*i.a+i.b*i.b),scaleY:Math.sqrt(i.c*i.c+i.d*i.d),rotation:n}}function XT(i){let t,e,n,s;return i?(t=i.a==null?1:i.a,s=i.d==null?1:i.d,e=i.b,n=i.c):t=s=1,{sx:e?Math.sqrt(t*t+e*e):t,sy:n?Math.sqrt(n*n+s*s):s}}function YT(i){let t={x:0,y:1};return i&&(t=ou(i,t)),{angle:Vt.normalize(Vt.toDeg(Math.atan2(t.y,t.x))-90)}}function KT(i){return{tx:i&&i.e||0,ty:i&&i.f||0}}function Ei(i,t){const e=qT(i.x,i.y).matrixTransform(t);return new k(e.x,e.y)}function JT(i,t){return new bt(Ei(i.start,t),Ei(i.end,t))}function kn(i,t){const e=Lo.createSVGPoint();e.x=i.x,e.y=i.y;const n=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y;const s=e.matrixTransform(t);e.x=i.x+i.width,e.y=i.y+i.height;const r=e.matrixTransform(t);e.x=i.x,e.y=i.y+i.height;const o=e.matrixTransform(t),a=Math.min(n.x,s.x,r.x,o.x),l=Math.max(n.x,s.x,r.x,o.x),c=Math.min(n.y,s.y,r.y,o.y),h=Math.max(n.y,s.y,r.y,o.y);return new st(a,c,l-a,h-c)}var ZT=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};function QT(i,t,e){let n;const s=i.ownerSVGElement;if(!s)return new st(0,0,0,0);try{n=i.getBBox()}catch{n={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(t)return st.create(n);const r=Mr(i,e||s);return kn(n,r)}function Xe(i,t={}){let e;if(!i.ownerSVGElement||!ko(i)){if(Kh(i)){const{left:o,top:a,width:l,height:c}=sO(i);return new st(o,a,l,c)}return new st(0,0,0,0)}let s=t.target;if(!t.recursive){try{e=i.getBBox()}catch{e={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(!s)return st.create(e);const o=Mr(i,s);return kn(e,o)}{const o=i.childNodes,a=o.length;if(a===0)return Xe(i,{target:s});s||(s=i);for(let l=0;l<a;l+=1){const c=o[l];let h;c.childNodes.length===0?h=Xe(c,{target:s}):h=Xe(c,{target:s,recursive:!0}),e?e=e.union(h):e=h}return e}}function Mr(i,t){if(ko(t)&&ko(i)){const e=t.getScreenCTM(),n=i.getScreenCTM();if(e&&n)return e.inverse().multiply(n)}return We()}function tO(i,t,e){const n=i instanceof SVGSVGElement?i:i.ownerSVGElement,s=n.createSVGPoint();s.x=t,s.y=e;try{const r=n.getScreenCTM(),o=s.matrixTransform(r.inverse()),a=Mr(i,n).inverse();return o.matrixTransform(a)}catch{return s}}function B2(i){const t=e=>{const n=i.getAttribute(e),s=n?parseFloat(n):0;return Number.isNaN(s)?0:s};switch(i instanceof SVGElement&&i.nodeName.toLowerCase()){case"rect":return new st(t("x"),t("y"),t("width"),t("height"));case"circle":return new zn(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new zn(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":{const e=gl(i);return new Re(e)}case"polygon":{const e=gl(i);return e.length>1&&e.push(e[0]),new Re(e)}case"path":{let e=i.getAttribute("d");return St.isValid(e)||(e=St.normalize(e)),St.parse(e)}case"line":return new bt(t("x1"),t("y1"),t("x2"),t("y2"))}return Xe(i)}function eO(i,t){return _2(i,t,"animate")}function nO(i,t){return _2(i,t,"animateTransform")}function _2(i,t,e){const n=bn(e);i.appendChild(n);try{return V2(n,t)}catch{}return()=>{}}function V2(i,t){const{start:e,complete:n,repeat:s}=t,r=ZT(t,["start","complete","repeat"]);Zt(i,r),e&&i.addEventListener("beginEvent",e),n&&i.addEventListener("endEvent",n),s&&i.addEventListener("repeatEvent",s);const o=i;return o.beginElement(),()=>o.endElement()}function iO(i,t,e){const n=al(e),s=bn("animateMotion"),r=bn("mpath");Zt(r,{"xlink:href":`#${n}`}),s.appendChild(r),i.appendChild(s);try{return V2(s,t)}catch{if(document.documentElement.getAttribute("smiling")==="fake"){const a=s;a.animators=[];const l=window,c=a.getAttribute("id");c&&(l.id2anim[c]=a);const h=l.getTargets(a);for(let f=0,d=h.length;f<d;f+=1){const p=h[f],y=new l.Animator(a,p,f);l.animators.push(y),a.animators[f]=y,y.register()}}}return()=>{}}function sO(i){let t=0,e=0,n=0,s=0;if(i){let r=i;for(;r;)t+=r.offsetLeft,e+=r.offsetTop,r=r.offsetParent,r&&(t+=parseInt(M2(r,"borderLeft"),10),e+=parseInt(M2(r,"borderTop"),10));n=i.offsetWidth,s=i.offsetHeight}return{left:t,top:e,width:n,height:s}}function Tr(i,t,e={}){if(t==null)return pl(Zt(i,"transform"));if(e.absolute){i.setAttribute("transform",Ns(t));return}const n=i.transform,s=Fo(t);n.baseVal.appendItem(s)}function H2(i,t,e=0,n={}){let s=Zt(i,"transform");const r=ml(s);if(t==null)return r.translation;s=r.raw,s=s.replace(/translate\([^)]*\)/g,"").trim();const o=n.absolute?t:r.translation.tx+t,a=n.absolute?e:r.translation.ty+e,l=`translate(${o},${a})`;i.setAttribute("transform",`${l} ${s}`.trim())}function au(i,t,e,n,s={}){let r=Zt(i,"transform");const o=ml(r);if(t==null)return o.rotation;r=o.raw,r=r.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;const a=s.absolute?t:o.rotation.angle+t,l=e!=null&&n!=null?`,${e},${n}`:"",c=`rotate(${a}${l})`;i.setAttribute("transform",`${r} ${c}`.trim())}function Ui(i,t,e){let n=Zt(i,"transform");const s=ml(n);if(t==null)return s.scale;e=e==null?t:e,n=s.raw,n=n.replace(/scale\([^)]*\)/g,"").trim();const r=`scale(${t},${e})`;i.setAttribute("transform",`${n} ${r}`.trim())}function lu(i,t,e,n){const s=k.create(t),r=k.create(e);n||(n=i instanceof SVGSVGElement?i:i.ownerSVGElement);const o=Ui(i);i.setAttribute("transform","");const a=Xe(i,{target:n}).scale(o.sx,o.sy),l=Fo();l.setTranslate(-a.x-a.width/2,-a.y-a.height/2);const c=Fo(),h=s.angleBetween(r,s.clone().translate(1,0));h&&c.setRotate(h,0,0);const f=Fo(),d=s.clone().move(r,a.width/2);f.setTranslate(2*s.x-d.x,2*s.y-d.y);const p=Mr(i,n),y=Fo();y.setMatrix(f.matrix.multiply(c.matrix.multiply(l.matrix.multiply(p.scale(o.sx,o.sy))))),i.setAttribute("transform",Ns(y.matrix))}class G2{constructor(t,e,n){this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=$e.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=e,this.onWheelGuard=n,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}enable(){$e.SUPPORT_PASSIVE?this.target.addEventListener(this.eventName,this.onWheel,{passive:!1}):Ne(this.target).on("mousewheel",this.onWheel)}disable(){$e.SUPPORT_PASSIVE?this.target.removeEventListener(this.eventName,this.onWheel):Ne(this.target).off("mousewheel")}onWheel(t){if(this.onWheelGuard!=null&&!this.onWheelGuard(t))return;this.deltaX+=t.deltaX,this.deltaY+=t.deltaY,t.preventDefault();let e;(this.deltaX!==0||this.deltaY!==0)&&(t.stopPropagation(),e=!0),e===!0&&this.animationFrameId===0&&(this.animationFrameId=requestAnimationFrame(()=>{this.didWheel(t)}))}didWheel(t){this.animationFrameId=0,this.onWheelCallback(t,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}mt.isVector;mt.create;mt.createVectors;function U2(i,t=60){let e=null;return(...n)=>{e&&clearTimeout(e),e=window.setTimeout(()=>{i.apply(this,n)},t)}}function rO(i){let t=null,e=[];const n=()=>{if(getComputedStyle(i).position==="static"){const c=i.style;c.position="relative"}const l=document.createElement("object");return l.onload=()=>{l.contentDocument.defaultView.addEventListener("resize",s),s()},l.style.display="block",l.style.position="absolute",l.style.top="0",l.style.left="0",l.style.height="100%",l.style.width="100%",l.style.overflow="hidden",l.style.pointerEvents="none",l.style.zIndex="-1",l.style.opacity="0",l.setAttribute("tabindex","-1"),l.type="text/html",i.appendChild(l),l.data="about:blank",l},s=U2(()=>{e.forEach(l=>l(i))}),r=l=>{t||(t=n()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",s),t.parentNode.removeChild(t),t=null,e=[])};return{element:i,bind:r,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}function oO(i){let t=null,e=[];const n=U2(()=>{e.forEach(l=>{l(i)})}),s=()=>{const l=new ResizeObserver(n);return l.observe(i),n(),l},r=l=>{t||(t=s()),e.indexOf(l)===-1&&e.push(l)},o=()=>{t&&(t.disconnect(),e=[],t=null)};return{element:i,bind:r,destroy:o,unbind:l=>{const c=e.indexOf(l);c!==-1&&e.splice(c,1),e.length===0&&t&&o()}}}const aO=typeof ResizeObserver!="undefined"?oO:rO;var bl;(function(i){const t=new WeakMap;function e(s){let r=t.get(s);return r||(r=aO(s),t.set(s,r),r)}function n(s){s.destroy(),t.delete(s.element)}i.bind=(s,r)=>{const o=e(s);return o.bind(r),()=>o.unbind(r)},i.clear=s=>{const r=e(s);n(r)}})(bl||(bl={}));var cu;(function(i){const t=[],e=1e3/60,n=[];let s=0;const r=()=>performance.now(),o=h=>h[0],a=h=>n.push(h)===1&&l(),l=(()=>{const h=()=>n.splice(0,n.length).forEach(f=>f());if(typeof MessageChannel!="undefined"){const{port1:f,port2:d}=new MessageChannel;return f.onmessage=h,()=>d.postMessage(null)}return()=>setTimeout(h)})(),c=()=>{s=r()+e;let h=o(t);for(;h&&!i.shouldYield();){const{callback:f,data:d}=h;h.callback=null;const p=f&&f(d);p?h.callback=p:t.shift(),h=o(t)}h&&a(c)};i.scheduleTask=(h,f)=>{const d={callback:h,data:f};t.push(d),a(c)},i.shouldYield=()=>{var h,f;return((f=(h=navigator)===null||h===void 0?void 0:h.scheduling)===null||f===void 0?void 0:f.isInputPending())||r()>=s}})(cu||(cu={}));class Pe{constructor(t){this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}get names(){return Object.keys(this.data)}register(t,e,n=!1){if(typeof t=="object"){Object.keys(t).forEach(o=>{this.register(o,t[o],e)});return}this.exist(t)&&!n&&!$e.isApplyingHMR()&&this.onDuplicated(t);const s=this.options.process,r=s?dt(s,this,t,e):e;return this.data[t]=r,r}unregister(t){const e=t?this.data[t]:null;return delete this.data[t],e}get(t){return t?this.data[t]:null}exist(t){return t?this.data[t]!=null:!1}onDuplicated(t){try{throw this.options.onConflict&&dt(this.options.onConflict,this,t),new Error(`${Qa(this.options.type)} with name '${t}' already registered.`)}catch(e){throw e}}onNotFound(t,e){throw new Error(this.getSpellingSuggestion(t,e))}getSpellingSuggestion(t,e){const n=this.getSpellingSuggestionForName(t),s=e?`${e} ${dM(this.options.type)}`:this.options.type;return`${Qa(s)} with name '${t}' does not exist.${n?` Did you mean '${n}'?`:""}`}getSpellingSuggestionForName(t){return cT(t,Object.keys(this.data),e=>e)}}(function(i){function t(e){return new i(e)}i.create=t})(Pe||(Pe={}));const lO={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},cO={},q2={position:yl("x","width","origin")},W2={position:yl("y","height","origin")},hO={position:yl("x","width","corner")},uO={position:yl("y","height","corner")},X2={set:qi("width","width")},Y2={set:qi("height","height")},fO={set:qi("rx","width")},dO={set:qi("ry","height")},K2={set:(i=>{const t=qi(i,"width"),e=qi(i,"height");return function(n,s){const r=s.refBBox,o=r.height>r.width?t:e;return dt(o,this,n,s)}})("r")},gO={set(i,{refBBox:t}){let e=parseFloat(i);const n=Kn(i);n&&(e/=100);const s=Math.sqrt(t.height*t.height+t.width*t.width);let r;return Number.isFinite(e)&&(n||e>=0&&e<=1?r=e*s:r=Math.max(e+s,0)),{r}}},pO={set:qi("cx","width")},mO={set:qi("cy","height")},J2={set:t0({resetOffset:!0})},bO={set:t0({resetOffset:!1})},Z2={set:e0({resetOffset:!0})},yO={set:e0({resetOffset:!1})},CO=K2,vO=J2,xO=Z2,wO=q2,SO=W2,EO=X2,AO=Y2;function yl(i,t,e){return(n,{refBBox:s})=>{if(n==null)return null;let r=parseFloat(n);const o=Kn(n);o&&(r/=100);let a;if(Number.isFinite(r)){const c=s[e];o||r>0&&r<1?a=c[i]+s[t]*r:a=c[i]+r}const l=new k;return l[i]=a||0,l}}function qi(i,t){return function(e,{refBBox:n}){let s=parseFloat(e);const r=Kn(e);r&&(s/=100);const o={};if(Number.isFinite(s)){const a=r||s>=0&&s<=1?s*n[t]:Math.max(s+n[t],0);o[i]=a}return o}}function Q2(i,t){const e="x6-shape",n=t&&t.resetOffset;return function(s,{view:r,elem:o,refBBox:a}){const l=r.$(o);let c=l.data(e);if(!c||c.value!==s){const w=i(s);c={value:s,shape:w,shapeBBox:w.bbox()},l.data(e,c)}const h=c.shape.clone(),f=c.shapeBBox.clone(),d=f.getOrigin(),p=a.getOrigin();f.x=p.x,f.y=p.y;const y=a.getMaxScaleToFit(f,p),v=f.width===0||a.width===0?1:y.sx,x=f.height===0||a.height===0?1:y.sy;return h.scale(v,x,d),n&&h.translate(-d.x,-d.y),h}}function t0(i){function t(n){return St.parse(n)}const e=Q2(t,i);return(n,s)=>({d:e(n,s).serialize()})}function e0(i){const t=Q2(e=>new Re(e),i);return(e,n)=>({points:t(e,n).serialize()})}const MO={qualify:Dn,set(i,{view:t}){return`url(#${t.graph.defineGradient(i)})`}},TO={qualify:Dn,set(i,{view:t}){const e=t.cell,n=Object.assign({},i);if(e.isEdge()&&n.type==="linearGradient"){const s=t,r=s.sourcePoint,o=s.targetPoint;n.id=`gradient-${n.type}-${e.id}`,n.attrs=Object.assign(Object.assign({},n.attrs),{x1:r.x,y1:r.y,x2:o.x,y2:o.y,gradientUnits:"userSpaceOnUse"}),t.graph.defs.remove(n.id)}return`url(#${t.graph.defineGradient(n)})`}},n0={qualify(i,{attrs:t}){return t.textWrap==null||!Dn(t.textWrap)},set(i,{view:t,elem:e,attrs:n}){const s="x6-text",r=t.$(e),o=r.data(s),a=f=>{try{return JSON.parse(f)}catch{return f}},l={x:n.x,eol:n.eol,annotations:a(n.annotations),textPath:a(n["text-path"]||n.textPath),textVerticalAnchor:n["text-vertical-anchor"]||n.textVerticalAnchor,displayEmpty:(n["display-empty"]||n.displayEmpty)==="true",lineHeight:n["line-height"]||n.lineHeight},c=n["font-size"]||n.fontSize,h=JSON.stringify([i,l]);if(c&&e.setAttribute("font-size",c),o==null||o!==h){const f=l.textPath;if(f!=null&&typeof f=="object"){const d=f.selector;if(typeof d=="string"){const p=t.find(d)[0];p instanceof SVGPathElement&&(al(p),l.textPath=Object.assign({"xlink:href":`#${p.id}`},f))}}L2(e,`${i}`,l),r.data(s,h)}}},OO={qualify:Dn,set(i,{view:t,elem:e,attrs:n,refBBox:s}){const r=i,o=r.width||0;Kn(o)?s.width*=parseFloat(o)/100:o<=0?s.width+=o:s.width=o;const a=r.height||0;Kn(a)?s.height*=parseFloat(a)/100:a<=0?s.height+=a:s.height=a;let l,c=r.text;c==null&&(c=n.text),c!=null?l=F2(`${c}`,s,{"font-weight":n["font-weight"]||n.fontWeight,"font-size":n["font-size"]||n.fontSize,"font-family":n["font-family"]||n.fontFamily,lineHeight:n.lineHeight},{svgDocument:t.graph.view.svg,ellipsis:r.ellipsis,hyphen:r.hyphen,breakWord:r.breakWord}):l="",dt(n0.set,this,l,{view:t,elem:e,attrs:n,refBBox:s,cell:t.cell})}},Or=(i,{attrs:t})=>t.text!==void 0,PO={qualify:Or},DO={qualify:Or},kO={qualify:Or},NO={qualify:Or},$O={qualify:Or},LO={qualify:Or},FO={qualify(i,{elem:t}){return t instanceof SVGElement},set(i,{view:t,elem:e}){const n="x6-title",s=`${i}`,r=t.$(e),o=r.data(n);if(o==null||o!==s){r.data(n,s);const a=e.firstChild;if(a&&a.tagName.toUpperCase()==="TITLE"){const l=a;l.textContent=s}else{const l=document.createElementNS(e.namespaceURI,"title");l.textContent=s,e.insertBefore(l,a)}}}},jO={offset:i0("x","width","right")},IO={offset:i0("y","height","bottom")},zO={offset(i,{refBBox:t}){return i?{x:-t.x,y:-t.y}:{x:0,y:0}}};function i0(i,t,e){return(n,{refBBox:s})=>{const r=new k;let o;return n==="middle"?o=s[t]/2:n===e?o=s[t]:typeof n=="number"&&Number.isFinite(n)?o=n>-1&&n<1?-s[t]*n:-n:Kn(n)?o=s[t]*parseFloat(n)/100:o=0,r[i]=-(s[i]+o),r}}const RO={qualify:Dn,set(i,{view:t,elem:e}){t.$(e).css(i)}},BO={set(i,{view:t,elem:e}){t.$(e).html(`${i}`)}},_O={qualify:Dn,set(i,{view:t}){return`url(#${t.graph.defineFilter(i)})`}},VO={set(i){return i!=null&&typeof i=="object"&&i.id?i.id:i}};function Wi(i,t,e){let n,s;typeof t=="object"?(n=t.x,s=t.y):(n=t,s=e);const r=St.parse(i),o=r.bbox();if(o){let a=-o.height/2-o.y,l=-o.width/2-o.x;typeof n=="number"&&(l-=n),typeof s=="number"&&(a-=s),r.translate(l,a)}return r.serialize()}var s0=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const HO=i=>{var{size:t,width:e,height:n,offset:s,open:r}=i,o=s0(i,["size","width","height","offset","open"]);return r0({size:t,width:e,height:n,offset:s},r===!0,!0,void 0,o)},GO=i=>{var{size:t,width:e,height:n,offset:s,factor:r}=i,o=s0(i,["size","width","height","offset","factor"]);return r0({size:t,width:e,height:n,offset:s},!1,!1,r,o)};function r0(i,t,e,n=3/4,s={}){const r=i.size||10,o=i.width||r,a=i.height||r,l=new St,c={};if(t)l.moveTo(o,0).lineTo(0,a/2).lineTo(o,a),c.fill="none";else{if(l.moveTo(0,a/2),l.lineTo(o,0),!e){const h=cn(n,0,1);l.lineTo(o*h,a/2)}l.lineTo(o,a),l.close()}return Object.assign(Object.assign(Object.assign({},c),s),{tagName:"path",d:Wi(l.serialize(),{x:i.offset!=null?i.offset:-o/2})})}var UO=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const qO=i=>{var{size:t,width:e,height:n,offset:s}=i,r=UO(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new St;return c.moveTo(0,l/2).lineTo(a/2,0).lineTo(a,l/2).lineTo(a/2,l).close(),Object.assign(Object.assign({},r),{tagName:"path",d:Wi(c.serialize(),s==null?-a/2:s)})};var WO=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const XO=i=>{var{d:t,offsetX:e,offsetY:n}=i,s=WO(i,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},s),{tagName:"path",d:Wi(t,e,n)})};var YO=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const KO=i=>{var{size:t,width:e,height:n,offset:s}=i,r=YO(i,["size","width","height","offset"]);const o=t||10,a=e||o,l=n||o,c=new St;return c.moveTo(0,0).lineTo(a,l).moveTo(0,l).lineTo(a,0),Object.assign(Object.assign({},r),{tagName:"path",fill:"none",d:Wi(c.serialize(),s||-a/2)})};var JO=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const ZO=i=>{var{width:t,height:e,offset:n,open:s,flip:r}=i,o=JO(i,["width","height","offset","open","flip"]);let a=e||6;const l=t||10,c=s===!0,h=r===!0,f=Object.assign(Object.assign({},o),{tagName:"path"});h&&(a=-a);const d=new St;return d.moveTo(0,a).lineTo(l,0),c?f.fill="none":(d.lineTo(l,a),d.close()),f.d=Wi(d.serialize(),{x:n||-l/2,y:a/2}),f};var o0=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const a0=i=>{var{r:t}=i,e=o0(i,["r"]);const n=t||5;return Object.assign(Object.assign({cx:n},e),{tagName:"circle",r:n})},QO=i=>{var{r:t}=i,e=o0(i,["r"]);const n=t||5,s=new St;return s.moveTo(n,0).lineTo(n,n*2),s.moveTo(0,n).lineTo(n*2,n),{children:[Object.assign(Object.assign({},a0({r:n})),{fill:"none"}),Object.assign(Object.assign({},e),{tagName:"path",d:Wi(s.serialize(),-n)})]}};var tP=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const eP=i=>{var{rx:t,ry:e}=i,n=tP(i,["rx","ry"]);const s=t||5,r=e||5;return Object.assign(Object.assign({cx:s},n),{tagName:"ellipse",rx:s,ry:r})};var nP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",block:HO,classic:GO,diamond:qO,path:XO,cross:KO,async:ZO,circle:a0,circlePlus:QO,ellipse:eP}),Xi;(function(i){i.presets=nP,i.registry=Pe.create({type:"marker"}),i.registry.register(i.presets,!0)})(Xi||(Xi={}));(function(i){i.normalize=Wi})(Xi||(Xi={}));var iP=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};function hu(i){return typeof i=="string"||Dn(i)}const sP={qualify:hu,set(i,{view:t,attrs:e}){return uu("marker-start",i,t,e)}},rP={qualify:hu,set(i,{view:t,attrs:e}){return uu("marker-end",i,t,e,{transform:"rotate(180)"})}},oP={qualify:hu,set(i,{view:t,attrs:e}){return uu("marker-mid",i,t,e)}};function uu(i,t,e,n,s={}){const r=typeof t=="string"?{name:t}:t,{name:o,args:a}=r,l=iP(r,["name","args"]);let c=l;if(o&&typeof o=="string"){const f=Xi.registry.get(o);if(f)c=f(Object.assign(Object.assign({},l),a));else return Xi.registry.onNotFound(o)}const h=Object.assign(Object.assign(Object.assign({},aP(n,i)),s),c);return{[i]:`url(#${e.graph.defineMarker(h)})`}}function aP(i,t){const e={},n=i.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);let s=i.strokeOpacity;if(s==null&&(s=i["stroke-opacity"]),s==null&&(s=i.opacity),s!=null&&(e["stroke-opacity"]=s,e["fill-opacity"]=s),t!=="marker-mid"){const r=parseFloat(i.strokeWidth||i["stroke-width"]);if(Number.isFinite(r)&&r>1){const o=Math.ceil(r/2);e.refX=t==="marker-start"?o:-o}}return e}const jo=(i,{view:t})=>t.cell.isEdge(),lP={qualify:jo,set(i,t){const e=t.view,n=i.stubs||0;let s;if(Number.isFinite(n)&&n!==0){let r;n<0?r=((e.getConnectionLength()||0)+n)/2:r=n;const o=e.getConnection();if(o){const a=o.divideAtLength(r),l=o.divideAtLength(-r);a&&l&&(s=`${a[0].serialize()} ${l[1].serialize()}`)}}return{d:s||e.getConnectionPathData()}}},l0={qualify:jo,set:Cl("getTangentAtLength",{rotate:!0})},cP={qualify:jo,set:Cl("getTangentAtLength",{rotate:!1})},c0={qualify:jo,set:Cl("getTangentAtRatio",{rotate:!0})},hP={qualify:jo,set:Cl("getTangentAtRatio",{rotate:!1})},uP=l0,fP=c0;function Cl(i,t){const e={x:1,y:0};return(n,s)=>{let r,o;const a=s.view,l=a[i](Number(n));return l?(o=t.rotate?l.vector().vectorAngle(e):0,r=l.start):(r=a.path.start,o=0),o===0?{transform:`translate(${r.x},${r.y}')`}:{transform:`translate(${r.x},${r.y}') rotate(${o})`}}}var dP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ref:cO,refX:q2,refY:W2,refDx:hO,refDy:uO,refWidth:X2,refHeight:Y2,refRx:fO,refRy:dO,refRInscribed:K2,refRCircumscribed:gO,refCx:pO,refCy:mO,refDResetOffset:J2,refDKeepOffset:bO,refPointsResetOffset:Z2,refPointsKeepOffset:yO,refR:CO,refD:vO,refPoints:xO,refX2:wO,refY2:SO,refWidth2:EO,refHeight2:AO,fill:MO,stroke:TO,text:n0,textWrap:OO,lineHeight:PO,textVerticalAnchor:DO,textPath:kO,annotations:NO,eol:$O,displayEmpty:LO,title:FO,xAlign:jO,yAlign:IO,resetOffset:zO,style:RO,html:BO,filter:_O,port:VO,sourceMarker:sP,targetMarker:rP,vertexMarker:oP,connection:lP,atConnectionLengthKeepGradient:l0,atConnectionLengthIgnoreGradient:cP,atConnectionRatioKeepGradient:c0,atConnectionRatioIgnoreGradient:hP,atConnectionLength:uP,atConnectionRatio:fP}),li;(function(i){function t(e,n,s){return!!(e!=null&&(typeof e=="string"||typeof e.qualify!="function"||dt(e.qualify,this,n,s)))}i.isValidDefinition=t})(li||(li={}));(function(i){i.presets=Object.assign(Object.assign({},lO),dP),i.registry=Pe.create({type:"attribute definition"}),i.registry.register(i.presets,!0)})(li||(li={}));const gP={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.thickness*t.sx,n=t.thickness*t.sy;Zt(i,{width:e,height:n,rx:e,ry:n,fill:t.color})}},pP={color:"#aaaaaa",thickness:1,markup:"rect",update(i,t){const e=t.sx<=1?t.thickness*t.sx:t.thickness;Zt(i,{width:e,height:e,rx:e,ry:e,fill:t.color})}},mP={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,s=t.height,r=t.thickness;n-r>=0&&s-r>=0?e=["M",n,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",Zt(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},bP=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update(i,t){let e;const n=t.width,s=t.height,r=t.thickness;n-r>=0&&s-r>=0?e=["M",n,0,"H0 M0 0 V0",s].join(" "):e="M 0 0 0 0",Zt(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update(i,t){let e;const n=t.factor||1,s=t.width*n,r=t.height*n,o=t.thickness;s-o>=0&&r-o>=0?e=["M",s,0,"H0 M0 0 V0",r].join(" "):e="M 0 0 0 0",t.width=s,t.height=r,Zt(i,{d:e,stroke:t.color,"stroke-width":t.thickness})}}];var yP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dot:gP,fixedDot:pP,mesh:mP,doubleMesh:bP});class Yi{constructor(){this.patterns={},this.root=mt.create(ll(),{width:"100%",height:"100%"},[bn("defs")]).node}add(t,e){const n=this.root.childNodes[0];n&&n.appendChild(e),this.patterns[t]=e,mt.create("rect",{width:"100%",height:"100%",fill:`url(#${t})`}).appendTo(this.root)}get(t){return this.patterns[t]}has(t){return this.patterns[t]!=null}}(function(i){i.presets=yP,i.registry=Pe.create({type:"grid"}),i.registry.register(i.presets,!0)})(Yi||(Yi={}));function fu(i,t){return i!=null?i:t}function Ye(i,t){return i!=null&&Number.isFinite(i)?i:t}function CP(i={}){const t=fu(i.color,"blue"),e=Ye(i.width,1),n=Ye(i.margin,2),s=Ye(i.opacity,1),r=n,o=n+e;return`
    <filter>
      <feFlood flood-color="${t}" flood-opacity="${s}" result="colored"/>
      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${o}" />
      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${r}" />
      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>
      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>
      <feMerge>
        <feMergeNode in="outline"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  `.trim()}function vP(i={}){const t=fu(i.color,"red"),e=Ye(i.blur,0),n=Ye(i.width,1),s=Ye(i.opacity,1);return`
      <filter>
        <feFlood flood-color="${t}" flood-opacity="${s}" result="colored"/>
        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${n}"/>
        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>
        <feGaussianBlur result="blured" in="composed" stdDeviation="${e}"/>
        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>
      </filter>
    `.trim()}function xP(i={}){const t=Ye(i.x,2);return`
    <filter>
      <feGaussianBlur stdDeviation="${i.y!=null&&Number.isFinite(i.y)?[t,i.y]:t}"/>
    </filter>
  `.trim()}function wP(i={}){const t=Ye(i.dx,0),e=Ye(i.dy,0),n=fu(i.color,"black"),s=Ye(i.blur,4),r=Ye(i.opacity,1);return"SVGFEDropShadowElement"in window?`<filter>
         <feDropShadow stdDeviation="${s}" dx="${t}" dy="${e}" flood-color="${n}" flood-opacity="${r}" />
       </filter>`.trim():`<filter>
         <feGaussianBlur in="SourceAlpha" stdDeviation="${s}" />
         <feOffset dx="${t}" dy="${e}" result="offsetblur" />
         <feFlood flood-color="${n}" />
         <feComposite in2="offsetblur" operator="in" />
         <feComponentTransfer>
           <feFuncA type="linear" slope="${r}" />
         </feComponentTransfer>
         <feMerge>
           <feMergeNode/>
           <feMergeNode in="SourceGraphic"/>
         </feMerge>
       </filter>`.trim()}function SP(i={}){const t=Ye(i.amount,1),e=.2126+.7874*(1-t),n=.7152-.7152*(1-t),s=.0722-.0722*(1-t),r=.2126-.2126*(1-t),o=.7152+.2848*(1-t),a=.0722-.0722*(1-t),l=.2126-.2126*(1-t),c=.0722+.9278*(1-t);return`
    <filter>
      <feColorMatrix type="matrix" values="${e} ${n} ${s} 0 0 ${r} ${o} ${a} 0 0 ${l} ${n} ${c} 0 0 0 0 0 1 0"/>
    </filter>
  `.trim()}function EP(i={}){const t=Ye(i.amount,1),e=.393+.607*(1-t),n=.769-.769*(1-t),s=.189-.189*(1-t),r=.349-.349*(1-t),o=.686+.314*(1-t),a=.168-.168*(1-t),l=.272-.272*(1-t),c=.534-.534*(1-t),h=.131+.869*(1-t);return`
      <filter>
        <feColorMatrix type="matrix" values="${e} ${n} ${s} 0 0 ${r} ${o} ${a} 0 0 ${l} ${c} ${h} 0 0 0 0 0 1 0"/>
      </filter>
    `.trim()}function AP(i={}){const t=Ye(i.amount,1);return`
      <filter>
        <feColorMatrix type="saturate" values="${1-t}"/>
      </filter>
    `.trim()}function MP(i={}){return`
      <filter>
        <feColorMatrix type="hueRotate" values="${Ye(i.angle,0)}"/>
      </filter>
    `.trim()}function TP(i={}){const t=Ye(i.amount,1),e=1-t;return`
      <filter>
        <feComponentTransfer>
          <feFuncR type="table" tableValues="${t} ${e}"/>
          <feFuncG type="table" tableValues="${t} ${e}"/>
          <feFuncB type="table" tableValues="${t} ${e}"/>
        </feComponentTransfer>
      </filter>
    `.trim()}function OP(i={}){const t=Ye(i.amount,1);return`
    <filter>
      <feComponentTransfer>
        <feFuncR type="linear" slope="${t}"/>
        <feFuncG type="linear" slope="${t}"/>
        <feFuncB type="linear" slope="${t}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}function PP(i={}){const t=Ye(i.amount,1),e=.5-t/2;return`
    <filter>
     <feComponentTransfer>
        <feFuncR type="linear" slope="${t}" intercept="${e}"/>
        <feFuncG type="linear" slope="${t}" intercept="${e}"/>
        <feFuncB type="linear" slope="${t}" intercept="${e}"/>
      </feComponentTransfer>
    </filter>
  `.trim()}var DP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",outline:CP,highlight:vP,blur:xP,dropShadow:wP,grayScale:SP,sepia:EP,saturate:AP,hueRotate:MP,invert:TP,brightness:OP,contrast:PP}),Pr;(function(i){i.presets=DP,i.registry=Pe.create({type:"filter"}),i.registry.register(i.presets,!0)})(Pr||(Pr={}));const h0=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e*2,t.height=n;const s=t.getContext("2d");return s.drawImage(i,0,0,e,n),s.translate(2*e,0),s.scale(-1,1),s.drawImage(i,0,0,e,n),t},u0=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=e,t.height=n*2;const s=t.getContext("2d");return s.drawImage(i,0,0,e,n),s.translate(0,2*n),s.scale(1,-1),s.drawImage(i,0,0,e,n),t},f0=function(i){const t=document.createElement("canvas"),e=i.width,n=i.height;t.width=2*e,t.height=2*n;const s=t.getContext("2d");return s.drawImage(i,0,0,e,n),s.setTransform(-1,0,0,-1,t.width,t.height),s.drawImage(i,0,0,e,n),s.setTransform(-1,0,0,1,t.width,0),s.drawImage(i,0,0,e,n),s.setTransform(1,0,0,-1,0,t.height),s.drawImage(i,0,0,e,n),t},kP=function(i,t){const e=i.width,n=i.height,s=document.createElement("canvas");s.width=e*3,s.height=n*3;const r=s.getContext("2d"),o=t.angle!=null?-t.angle:-20,a=Vt.toRad(o),l=s.width/4,c=s.height/4;for(let h=0;h<4;h+=1)for(let f=0;f<4;f+=1)(h+f)%2>0&&(r.setTransform(1,0,0,1,(2*h-1)*l,(2*f-1)*c),r.rotate(a),r.drawImage(i,-e/2,-n/2,e,n));return s};var NP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",flipX:h0,flipY:u0,flipXY:f0,watermark:kP}),Io;(function(i){i.presets=Object.assign({},NP),i.presets["flip-x"]=h0,i.presets["flip-y"]=u0,i.presets["flip-xy"]=f0,i.registry=Pe.create({type:"background pattern"}),i.registry.register(i.presets,!0)})(Io||(Io={}));const ci={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,trackable:!1,trackInfo:{},track(i){ci.trackable=i}};var Le;(function(i){i.snapToGrid=iu,i.normalizeMarker=Wi;function t(e){return`${ci.prefixCls}-${e}`}i.prefix=t})(Le||(Le={}));(function(i){function t(e,n,s,r=[]){const o=typeof n.children=="function"?n.children(e):e[n.children||"children"];return s||(s=n.createNode(e),r.push(s)),Array.isArray(o)&&o.forEach(a=>{const l=n.createNode(a),c=n.createEdge(s,l);r.push(l,c),this.makeTree(a,n,l,r)}),r}i.makeTree=t})(Le||(Le={}));const $P="1.29.1",d0=Le.prefix("highlighted"),LP={highlight(i,t,e){const n=e&&e.className||d0;Jt(t,n)},unhighlight(i,t,e){const n=e&&e.className||d0;In(t,n)}},g0=Le.prefix("highlight-opacity"),FP={highlight(i,t){Jt(t,g0)},unhighlight(i,t){In(t,g0)}},jP={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},IP={highlight(i,t,e){const n=Ki.getHighlighterId(t,e);if(Ki.hasCache(n))return;e=Yp({},e,jP);const s=mt.create(t);let r,o;try{r=s.toPathData()}catch{o=s.bbox(!0),r=I2(Object.assign(Object.assign({},e),o))}const a=bn("path");if(Zt(a,Object.assign({d:r,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},e.attrs?$o(e.attrs):null)),i.isEdgeElement(t))Zt(a,"d",i.getConnectionPathData());else{let h=s.getTransformToElement(i.container);const f=e.padding;if(f){o==null&&(o=s.bbox(!0));const d=o.x+o.width/2,p=o.y+o.height/2;o=kn(o,h);const y=Math.max(o.width,1),v=Math.max(o.height,1),x=(y+f)/y,w=(v+f)/v,M=We({a:x,b:0,c:0,d:w,e:d-x*d,f:p-w*p});h=h.multiply(M)}Tr(a,h)}Jt(a,Le.prefix("highlight-stroke"));const l=i.cell,c=()=>Ki.removeHighlighter(n);l.on("removed",c),l.model&&l.model.on("reseted",c),i.container.appendChild(a),Ki.setCache(n,a)},unhighlight(i,t,e){Ki.removeHighlighter(Ki.getHighlighterId(t,e))}};var Ki;(function(i){function t(o,a){return al(o),o.id+JSON.stringify(a)}i.getHighlighterId=t;const e={};function n(o,a){e[o]=a}i.setCache=n;function s(o){return e[o]!=null}i.hasCache=s;function r(o){const a=e[o];a&&(ai(a),delete e[o])}i.removeHighlighter=r})(Ki||(Ki={}));var zP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",className:LP,opacity:FP,stroke:IP}),Ai;(function(i){function t(e,n){if(typeof n.highlight!="function")throw new Error(`Highlighter '${e}' is missing required \`highlight()\` method`);if(typeof n.unhighlight!="function")throw new Error(`Highlighter '${e}' is missing required \`unhighlight()\` method`)}i.check=t})(Ai||(Ai={}));(function(i){i.presets=zP,i.registry=Pe.create({type:"highlighter"}),i.registry.register(i.presets,!0)})(Ai||(Ai={}));function du(i,t={}){return new k(oi(t.x,i.width),oi(t.y,i.height))}function gu(i,t,e){return Object.assign({angle:t,position:i.toJSON()},e)}const RP=(i,t)=>i.map(({x:e,y:n,angle:s})=>gu(du(t,{x:e,y:n}),s||0)),BP=(i,t,e)=>{const n=e.start||0,s=e.step||20;return p0(i,t,n,(r,o)=>(r+.5-o/2)*s)},_P=(i,t,e)=>{const n=e.start||0,s=e.step||360/i.length;return p0(i,t,n,r=>r*s)};function p0(i,t,e,n){const s=t.getCenter(),r=t.getTopCenter(),o=t.width/t.height,a=zn.fromRect(t),l=i.length;return i.map((c,h)=>{const f=e+n(h,l),d=r.clone().rotate(-f,s).scale(o,1,s),p=c.compensateRotate?-a.tangentTheta(d):0;return(c.dx||c.dy)&&d.translate(c.dx||0,c.dy||0),c.dr&&d.move(s,c.dr),gu(d.round(),p,c)})}var VP=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const HP=(i,t,e)=>{const n=du(t,e.start||t.getOrigin()),s=du(t,e.end||t.getCorner());return zo(i,n,s,e)},GP=(i,t,e)=>zo(i,t.getTopLeft(),t.getBottomLeft(),e),UP=(i,t,e)=>zo(i,t.getTopRight(),t.getBottomRight(),e),qP=(i,t,e)=>zo(i,t.getTopLeft(),t.getTopRight(),e),WP=(i,t,e)=>zo(i,t.getBottomLeft(),t.getBottomRight(),e);function zo(i,t,e,n){const s=new bt(t,e),r=i.length;return i.map((o,a)=>{var{strict:l}=o,c=VP(o,["strict"]);const h=l||n.strict?(a+1)/(r+1):(a+.5)/r,f=s.pointAt(h);return(c.dx||c.dy)&&f.translate(c.dx||0,c.dy||0),gu(f.round(),0,c)})}var XP=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",absolute:RP,ellipse:BP,ellipseSpread:_P,line:HP,left:GP,right:UP,top:qP,bottom:WP}),$s;(function(i){i.presets=XP,i.registry=Pe.create({type:"port layout"}),i.registry.register(i.presets,!0)})($s||($s={}));const YP={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function Ji(i,t){const{x:e,y:n,angle:s,attrs:r}=t||{};return Yp({},{angle:s,attrs:r,position:{x:e,y:n}},i,YP)}const KP=(i,t,e)=>Ji({position:t.getTopLeft()},e),JP=(i,t,e)=>Ji({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},e),ZP=(i,t,e)=>Ji({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},e),QP=(i,t,e)=>Ji({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},e),tD=(i,t,e)=>Ji({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},e),eD=(i,t,e)=>m0(i,t,!1,e),nD=(i,t,e)=>m0(i,t,!0,e),iD=(i,t,e)=>b0(i,t,!1,e),sD=(i,t,e)=>b0(i,t,!0,e);function m0(i,t,e,n){const s=n.offset!=null?n.offset:15,r=t.getCenter().theta(i),o=y0(t);let a,l,c,h,f=0;return r<o[1]||r>o[2]?(a=".3em",l=s,c=0,h="start"):r<o[0]?(a="0",l=0,c=-s,e?(f=-90,h="start"):h="middle"):r<o[3]?(a=".3em",l=-s,c=0,h="end"):(a=".6em",l=0,c=s,e?(f=90,h="start"):h="middle"),Ji({position:{x:Math.round(l),y:Math.round(c)},angle:f,attrs:{".":{y:a,"text-anchor":h}}},n)}function b0(i,t,e,n){const s=n.offset!=null?n.offset:15,r=t.getCenter().theta(i),o=y0(t);let a,l,c,h,f=0;return r<o[1]||r>o[2]?(a=".3em",l=-s,c=0,h="end"):r<o[0]?(a=".6em",l=0,c=s,e?(f=90,h="start"):h="middle"):r<o[3]?(a=".3em",l=s,c=0,h="start"):(a="0em",l=0,c=-s,e?(f=-90,h="start"):h="middle"),Ji({position:{x:Math.round(l),y:Math.round(c)},angle:f,attrs:{".":{y:a,"text-anchor":h}}},n)}function y0(i){const t=i.getCenter(),e=t.theta(i.getTopLeft()),n=t.theta(i.getBottomLeft()),s=t.theta(i.getBottomRight()),r=t.theta(i.getTopRight());return[e,r,s,n]}const rD=(i,t,e)=>C0(i.diff(t.getCenter()),!1,e),oD=(i,t,e)=>C0(i.diff(t.getCenter()),!0,e);function C0(i,t,e){const n=e.offset!=null?e.offset:20,s=new k(0,0),r=-i.theta(s),o=i.clone().move(s,n).diff(i).round();let a=".3em",l,c=r;return(r+90)%180==0?(l=t?"end":"middle",!t&&r===-270&&(a="0em")):r>-270&&r<-90?(l="start",c=r-180):l="end",Ji({position:o.round().toJSON(),angle:t?c:0,attrs:{".":{y:a,"text-anchor":l}}},e)}var aD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",manual:KP,left:JP,right:ZP,top:QP,bottom:tD,outside:eD,outsideOriented:nD,inside:iD,insideOriented:sD,radial:rD,radialOriented:oD}),Dr;(function(i){i.presets=aD,i.registry=Pe.create({type:"port label layout"}),i.registry.register(i.presets,!0)})(Dr||(Dr={}));class Mi{constructor(t,e,n,s){if(t==null)return this.set(255,255,255,1);if(typeof t=="number")return this.set(t,e,n,s);if(typeof t=="string")return Mi.fromString(t)||this;if(Array.isArray(t))return this.set(t);this.set(t.r,t.g,t.b,t.a==null?1:t.a)}blend(t,e,n){this.set(t.r+(e.r-t.r)*n,t.g+(e.g-t.g)*n,t.b+(e.b-t.b)*n,t.a+(e.a-t.a)*n)}lighten(t){const e=Mi.lighten(this.toArray(),t);this.r=e[0],this.g=e[1],this.b=e[2],this.a=e[3]}darken(t){this.lighten(-t)}set(t,e,n,s){const r=Array.isArray(t)?t[0]:t,o=Array.isArray(t)?t[1]:e,a=Array.isArray(t)?t[2]:n,l=Array.isArray(t)?t[3]:s;return this.r=Math.round(cn(r,0,255)),this.g=Math.round(cn(o,0,255)),this.b=Math.round(cn(a,0,255)),this.a=l==null?1:cn(l,0,1),this}toHex(){return`#${["r","g","b"].map(e=>{const n=this[e].toString(16);return n.length<2?`0${n}`:n}).join("")}`}toRGBA(){return this.toArray()}toHSLA(){return Mi.rgba2hsla(this.r,this.g,this.b,this.a)}toCSS(t){const e=`${this.r},${this.g},${this.b},`;return t?`rgb(${e})`:`rgba(${e},${this.a})`}toGrey(){return Mi.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}toArray(){return[this.r,this.g,this.b,this.a]}toString(){return this.toCSS()}}(function(i){function t(A){return new i(A)}i.fromArray=t;function e(A){return new i([...y(A),1])}i.fromHex=e;function n(A){const D=A.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(D){const N=D[1].split(/\s*,\s*/).map(m=>parseInt(m,10));return new i(N)}return null}i.fromRGBA=n;function s(A,D,N){N<0&&++N,N>1&&--N;const m=6*N;return m<1?A+(D-A)*m:2*N<1?D:3*N<2?A+(D-A)*(2/3-N)*6:A}function r(A){const D=A.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(D){const N=D[2].split(/\s*,\s*/),m=(parseFloat(N[0])%360+360)%360/360,P=parseFloat(N[1])/100,$=parseFloat(N[2])/100,V=N[3]==null?1:parseInt(N[3],10);return new i(c(m,P,$,V))}return null}i.fromHSLA=r;function o(A){if(A.startsWith("#"))return e(A);if(A.startsWith("rgb"))return n(A);const D=i.named[A];return D?e(D):r(A)}i.fromString=o;function a(A,D){return i.fromArray([A,A,A,D])}i.makeGrey=a;function l(A,D,N,m){const P=Array.isArray(A)?A[0]:A,$=Array.isArray(A)?A[1]:D,V=Array.isArray(A)?A[2]:N,G=Array.isArray(A)?A[3]:m,X=Math.max(P,$,V),H=Math.min(P,$,V),ft=(X+H)/2;let yt=0,U=0;if(H!==X){const K=X-H;switch(U=ft>.5?K/(2-X-H):K/(X+H),X){case P:yt=($-V)/K+($<V?6:0);break;case $:yt=(V-P)/K+2;break;case V:yt=(P-$)/K+4;break}yt/=6}return[yt,U,ft,G==null?1:G]}i.rgba2hsla=l;function c(A,D,N,m){const P=Array.isArray(A)?A[0]:A,$=Array.isArray(A)?A[1]:D,V=Array.isArray(A)?A[2]:N,G=Array.isArray(A)?A[3]:m,X=V<=.5?V*($+1):V+$-V*$,H=2*V-X;return[s(H,X,P+1/3)*256,s(H,X,P)*256,s(H,X,P-1/3)*256,G==null?1:G]}i.hsla2rgba=c;function h(A){return new i(Math.round(Math.random()*256),Math.round(Math.random()*256),Math.round(Math.random()*256),A?void 0:parseFloat(Math.random().toFixed(2)))}i.random=h;function f(){const A="0123456789ABCDEF";let D="#";for(let N=0;N<6;N+=1)D+=A[Math.floor(Math.random()*16)];return D}i.randomHex=f;function d(A){return h(A).toString()}i.randomRGBA=d;function p(A,D){if(typeof A=="string"){const V=A[0]==="#",[G,X,H]=y(A);return D?G*.299+X*.587+H*.114>186?"#000000":"#ffffff":`${V?"#":""}${v(255-G,255-X,255-H)}`}const N=A[0],m=A[1],P=A[2],$=A[3];return D?N*.299+m*.587+P*.114>186?[0,0,0,$]:[255,255,255,$]:[255-N,255-m,255-P,$]}i.invert=p;function y(A){const D=A.indexOf("#")===0?A:`#${A}`;let N=Number(`0x${D.substr(1)}`);if(!(D.length===4||D.length===7)||Number.isNaN(N))throw new Error("Invalid hex color.");const m=D.length===4?4:8,P=(1<<m)-1,$=["b","g","r"].map(()=>{const V=N&P;return N>>=m,m===4?17*V:V});return[$[2],$[1],$[0]]}function v(A,D,N){const m=P=>P.length<2?`0${P}`:P;return`${m(A.toString(16))}${m(D.toString(16))}${m(N.toString(16))}`}function x(A,D){return M(A,D)}i.lighten=x;function w(A,D){return M(A,-D)}i.darken=w;function M(A,D){if(typeof A=="string"){const P=A[0]==="#",$=parseInt(P?A.substr(1):A,16),V=cn(($>>16)+D,0,255),G=cn(($>>8&255)+D,0,255),X=cn(($&255)+D,0,255);return`${P?"#":""}${(X|G<<8|V<<16).toString(16)}`}const N=v(A[0],A[1],A[2]),m=y(M(N,D));return[m[0],m[1],m[2],A[3]]}})(Mi||(Mi={}));(function(i){i.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(Mi||(Mi={}));class lD{constructor(){this.listeners={}}on(t,e,n){return e==null?this:(this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e,n),this)}once(t,e,n){const s=(...r)=>(this.off(t,s),Ro.call([e,n],r));return this.on(t,s,this)}off(t,e,n){if(!(t||e||n))return this.listeners={},this;const s=this.listeners;return(t?[t]:Object.keys(s)).forEach(o=>{const a=s[o];if(!!a){if(!(e||n)){delete s[o];return}for(let l=a.length-2;l>=0;l-=2)e&&a[l]!==e||n&&a[l+1]!==n||a.splice(l,2)}}),this}trigger(t,...e){let n=!0;if(t!=="*"){const r=this.listeners[t];r!=null&&(n=Ro.call([...r],e))}const s=this.listeners["*"];return s!=null?_h([n,Ro.call([...s],[t,...e])]):n}emit(t,...e){return this.trigger(t,...e)}}var Ro;(function(i){function t(e,n){const s=[];for(let r=0;r<e.length;r+=2){const o=e[r],a=e[r+1],l=Array.isArray(n)?n:[n],c=p2(o,a,l);s.push(c)}return _h(s)}i.call=t})(Ro||(Ro={}));class Jn{get disposed(){return this._disposed===!0}dispose(){this._disposed=!0}}(function(i){function t(){return(e,n,s)=>{const r=s.value,o=e.__proto__;s.value=function(){this.disposed||(r.call(this),o.dispose.call(this))}}}i.dispose=t})(Jn||(Jn={}));class v0{constructor(){this.isDisposed=!1,this.items=new Set}get disposed(){return this.isDisposed}dispose(){this.isDisposed||(this.isDisposed=!0,this.items.forEach(t=>{t.dispose()}),this.items.clear())}contains(t){return this.items.has(t)}add(t){this.items.add(t)}remove(t){this.items.delete(t)}clear(){this.items.clear()}}(function(i){function t(e){const n=new i;return e.forEach(s=>{n.add(s)}),n}i.from=t})(v0||(v0={}));class tn extends lD{}(function(i){i.dispose=Jn.dispose})(tn||(tn={}));h2(tn,Jn);class x0 extends tn{get disabled(){return this._disabled===!0}enable(){delete this._disabled}disable(){this._disabled=!0}}var cD=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class vl extends Jn{constructor(){super();this.clear()}clear(){this.map=new WeakMap,this.arr=[]}has(t){return this.map.has(t)}get(t){return this.map.get(t)}set(t,e){this.map.set(t,e),this.arr.push(t)}delete(t){const e=this.arr.indexOf(t);e>=0&&this.arr.splice(e,1);const n=this.map.get(t);return this.map.delete(t),n}each(t){this.arr.forEach(e=>{const n=this.map.get(e);t(n,e)})}dispose(){this.clear()}}cD([Jn.dispose()],vl.prototype,"dispose",null);class Bo{constructor(t={}){this.comparator=t.comparator||Bo.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}isEmpty(){return this.data.length===0}insert(t,e,n){const s={priority:t,value:e},r=this.data.length-1;return n&&(s.id=n,this.index[n]=r),this.data.push(s),this.bubbleUp(r),this}peek(){return this.data[0]?this.data[0].value:null}peekPriority(){return this.data[0]?this.data[0].priority:null}updatePriority(t,e){const n=this.index[t];if(typeof n=="undefined")throw new Error(`Node with id '${t}' was not found in the heap.`);const s=this.data,r=s[n].priority,o=this.comparator(e,r);o<0?(s[n].priority=e,this.bubbleUp(n)):o>0&&(s[n].priority=e,this.bubbleDown(n))}remove(){const t=this.data,e=t[0],n=t.pop();return delete this.index[t.length],t.length>0&&(t[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),e?e.value:null}heapify(){for(let t=0;t<this.data.length;t+=1)this.bubbleUp(t)}bubbleUp(t){const e=this.data;let n,s,r=t;for(;r>0&&(s=r-1>>>1,this.comparator(e[r].priority,e[s].priority)<0);){n=e[s],e[s]=e[r];let o=e[r].id;o!=null&&(this.index[o]=s),e[r]=n,o=e[r].id,o!=null&&(this.index[o]=r),r=s}}bubbleDown(t){const e=this.data,n=e.length-1;let s=t;for(;;){const r=(s<<1)+1,o=r+1;let a=s;if(r<=n&&this.comparator(e[r].priority,e[a].priority)<0&&(a=r),o<=n&&this.comparator(e[o].priority,e[a].priority)<0&&(a=o),a!==s){const l=e[a];e[a]=e[s];let c=e[s].id;c!=null&&(this.index[c]=a),e[s]=l,c=e[s].id,c!=null&&(this.index[c]=s),s=a}else break}}}(function(i){i.defaultComparator=(t,e)=>t-e})(Bo||(Bo={}));var pu;(function(i){function t(e,n,s=(r,o)=>1){const r={},o={},a={},l=new Bo;for(r[n]=0,Object.keys(e).forEach(c=>{c!==n&&(r[c]=1/0),l.insert(r[c],c,c)});!l.isEmpty();){const c=l.remove();a[c]=!0;const h=e[c]||[];for(let f=0;f<h.length;f+=1){const d=h[f];if(!a[d]){const p=r[c]+s(c,d);p<r[d]&&(r[d]=p,o[d]=c,l.updatePriority(d,p))}}}return o}i.run=t})(pu||(pu={}));var Ls;(function(i){i.linear=t=>t,i.quad=t=>t*t,i.cubic=t=>t*t*t,i.inout=t=>{if(t<=0)return 0;if(t>=1)return 1;const e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},i.exponential=t=>Math.pow(2,10*(t-1)),i.bounce=t=>{for(let e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){const s=(11-6*e-11*t)/4;return-s*s+n*n}}})(Ls||(Ls={}));(function(i){i.decorators={reverse(t){return e=>1-t(1-e)},reflect(t){return e=>.5*(e<.5?t(2*e):2-t(2-2*e))},clamp(t,e=0,n=1){return s=>{const r=t(s);return r<e?e:r>n?n:r}},back(t=1.70158){return e=>e*e*((t+1)*e-t)},elastic(t=1.5){return e=>Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}})(Ls||(Ls={}));(function(i){function t(U){return-1*Math.cos(U*(Math.PI/2))+1}i.easeInSine=t;function e(U){return Math.sin(U*(Math.PI/2))}i.easeOutSine=e;function n(U){return-.5*(Math.cos(Math.PI*U)-1)}i.easeInOutSine=n;function s(U){return U*U}i.easeInQuad=s;function r(U){return U*(2-U)}i.easeOutQuad=r;function o(U){return U<.5?2*U*U:-1+(4-2*U)*U}i.easeInOutQuad=o;function a(U){return U*U*U}i.easeInCubic=a;function l(U){const K=U-1;return K*K*K+1}i.easeOutCubic=l;function c(U){return U<.5?4*U*U*U:(U-1)*(2*U-2)*(2*U-2)+1}i.easeInOutCubic=c;function h(U){return U*U*U*U}i.easeInQuart=h;function f(U){const K=U-1;return 1-K*K*K*K}i.easeOutQuart=f;function d(U){const K=U-1;return U<.5?8*U*U*U*U:1-8*K*K*K*K}i.easeInOutQuart=d;function p(U){return U*U*U*U*U}i.easeInQuint=p;function y(U){const K=U-1;return 1+K*K*K*K*K}i.easeOutQuint=y;function v(U){const K=U-1;return U<.5?16*U*U*U*U*U:1+16*K*K*K*K*K}i.easeInOutQuint=v;function x(U){return U===0?0:Math.pow(2,10*(U-1))}i.easeInExpo=x;function w(U){return U===1?1:-Math.pow(2,-10*U)+1}i.easeOutExpo=w;function M(U){if(U===0||U===1)return U;const K=U*2,ot=K-1;return K<1?.5*Math.pow(2,10*ot):.5*(-Math.pow(2,-10*ot)+2)}i.easeInOutExpo=M;function A(U){const K=U/1;return-1*(Math.sqrt(1-K*U)-1)}i.easeInCirc=A;function D(U){const K=U-1;return Math.sqrt(1-K*K)}i.easeOutCirc=D;function N(U){const K=U*2,ot=K-2;return K<1?-.5*(Math.sqrt(1-K*K)-1):.5*(Math.sqrt(1-ot*ot)+1)}i.easeInOutCirc=N;function m(U,K=1.70158){return U*U*((K+1)*U-K)}i.easeInBack=m;function P(U,K=1.70158){const ot=U/1-1;return ot*ot*((K+1)*ot+K)+1}i.easeOutBack=P;function $(U,K=1.70158){const ot=U*2,vt=ot-2,It=K*1.525;return ot<1?.5*ot*ot*((It+1)*ot-It):.5*(vt*vt*((It+1)*vt+It)+2)}i.easeInOutBack=$;function V(U,K=.7){if(U===0||U===1)return U;const vt=U/1-1,It=1-K,ie=It/(2*Math.PI)*Math.asin(1);return-(Math.pow(2,10*vt)*Math.sin((vt-ie)*(2*Math.PI)/It))}i.easeInElastic=V;function G(U,K=.7){const ot=1-K,vt=U*2;if(U===0||U===1)return U;const It=ot/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*vt)*Math.sin((vt-It)*(2*Math.PI)/ot)+1}i.easeOutElastic=G;function X(U,K=.65){const ot=1-K;if(U===0||U===1)return U;const vt=U*2,It=vt-1,ie=ot/(2*Math.PI)*Math.asin(1);return vt<1?-.5*(Math.pow(2,10*It)*Math.sin((It-ie)*(2*Math.PI)/ot)):Math.pow(2,-10*It)*Math.sin((It-ie)*(2*Math.PI)/ot)*.5+1}i.easeInOutElastic=X;function H(U){const K=U/1;if(K<1/2.75)return 7.5625*K*K;if(K<2/2.75){const ot=K-1.5/2.75;return 7.5625*ot*ot+.75}if(K<2.5/2.75){const ot=K-2.25/2.75;return 7.5625*ot*ot+.9375}{const ot=K-2.625/2.75;return 7.5625*ot*ot+.984375}}i.easeOutBounce=H;function ft(U){return 1-H(1-U)}i.easeInBounce=ft;function yt(U){return U<.5?ft(U*2)*.5:H(U*2-1)*.5+.5}i.easeInOutBounce=yt})(Ls||(Ls={}));var Fs;(function(i){i.number=(t,e)=>{const n=e-t;return s=>t+n*s},i.object=(t,e)=>{const n=Object.keys(t);return s=>{const r={};for(let o=n.length-1;o!==-1;o-=1){const a=n[o];r[a]=t[a]+(e[a]-t[a])*s}return r}},i.unit=(t,e)=>{const n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,s=n.exec(t),r=n.exec(e),o=r?r[1]:"",a=s?+s[1]:0,l=r?+r[1]:0,c=o.indexOf("."),h=c>0?o[1].length-c-1:0,f=l-a,d=s?s[2]:"";return p=>(a+f*p).toFixed(h)+d},i.color=(t,e)=>{const n=parseInt(t.slice(1),16),s=parseInt(e.slice(1),16),r=n&255,o=(s&255)-r,a=n&65280,l=(s&65280)-a,c=n&16711680,h=(s&16711680)-c;return f=>{const d=r+o*f&255,p=a+l*f&65280,y=c+h*f&16711680;return`#${(1<<24|d|p|y).toString(16).slice(1)}`}}})(Fs||(Fs={}));var w0;(function(i){const t=`${ci.prefixCls}.storage`;function e(f,d,p){const y=d.id||sT("doc-"),v=l(f);v.keys.push(y),o(c(f,y),d),o(h(f),v),r(p,null,Object.assign(Object.assign({},d),{id:y}))}i.insert=e;function n(f,d,p){const y=l(f),v=[];if(d==null)y.keys.forEach(x=>{const w=a(c(f,x));w?v.push(w):r(p,new Error(`No document found for an ID '${x}' from index.`))}),r(p,null,v);else if(d.id){const x=a(c(f,d.id));r(p,null,x?[x]:[])}else r(p,null,[])}i.find=n;function s(f,d,p){const y=l(f);if(d==null)y.keys.forEach(v=>{localStorage.removeItem(c(f,v))}),localStorage.removeItem(h(f)),r(p,null);else if(d.id){const v=y.keys.indexOf(d.id);v>=0&&y.keys.splice(v,1),localStorage.removeItem(c(f,d.id)),o(h(f),y),r(p,null)}}i.remove=s;function r(f,d,p){f&&VA(()=>{f(d,p)})}function o(f,d){localStorage.setItem(f,JSON.stringify(d))}function a(f){const d=localStorage.getItem(f);return d?JSON.parse(d):null}function l(f){const d=a(h(f));return d?(d.keys==null&&(d.keys=[]),d):{keys:[]}}function c(f,d){return`${t}.${f}.docs.${d}`}function h(f){return`${t}.${f}.index`}})(w0||(w0={}));class Ht extends tn{constructor(){super();this.cid=mu.uniqueId(),Ht.views[this.cid]=this}get priority(){return 2}confirmUpdate(t,e){return 0}$(t){return Ht.$(t)}empty(t=this.container){return this.$(t).empty(),this}unmount(t=this.container){return this.$(t).remove(),this}remove(t=this.container){return t===this.container&&(this.removeEventListeners(document),this.onRemove(),delete Ht.views[this.cid]),this.unmount(t),this}onRemove(){}setClass(t,e=this.container){e.classList.value=Array.isArray(t)?t.join(" "):t}addClass(t,e=this.container){return this.$(e).addClass(Array.isArray(t)?t.join(" "):t),this}removeClass(t,e=this.container){return this.$(e).removeClass(Array.isArray(t)?t.join(" "):t),this}setStyle(t,e=this.container){return this.$(e).css(t),this}setAttrs(t,e=this.container){return t!=null&&e!=null&&(e instanceof SVGElement?Zt(e,t):this.$(e).attr(t)),this}findAttr(t,e=this.container){let n=e;for(;n&&n.nodeType===1;){const s=n.getAttribute(t);if(s!=null)return s;if(n===this.container)return null;n=n.parentNode}return null}find(t,e=this.container,n=this.selectors){return Ht.find(t,e,n).elems}findOne(t,e=this.container,n=this.selectors){const s=this.find(t,e,n);return s.length>0?s[0]:null}findByAttr(t,e=this.container){let n=e;for(;n&&n.getAttribute;){const s=n.getAttribute(t);if((s!=null||n===this.container)&&s!=="false")return n;n=n.parentNode}return null}getSelector(t,e){let n;if(t===this.container)return typeof e=="string"&&(n=`> ${e}`),n;if(t){const s=Uh(t)+1;n=`${t.tagName.toLowerCase()}:nth-child(${s})`,e&&(n+=` > ${e}`),n=this.getSelector(t.parentNode,n)}return n}prefixClassName(t){return Le.prefix(t)}delegateEvents(t,e){if(t==null)return this;e||this.undelegateEvents();const n=/^(\S+)\s*(.*)$/;return Object.keys(t).forEach(s=>{const r=s.match(n);if(r==null)return;const o=this.getEventHandler(t[s]);typeof o=="function"&&this.delegateEvent(r[1],r[2],o)}),this}undelegateEvents(){return this.$(this.container).off(this.getEventNamespace()),this}delegateDocumentEvents(t,e){return this.addEventListeners(document,t,e),this}undelegateDocumentEvents(){return this.removeEventListeners(document),this}delegateEvent(t,e,n){return this.$(this.container).on(t+this.getEventNamespace(),e,n),this}undelegateEvent(t,e,n){const s=t+this.getEventNamespace();return e==null?this.$(this.container).off(s):typeof e=="string"?this.$(this.container).off(s,e,n):this.$(this.container).off(s,e),this}addEventListeners(t,e,n){if(e==null)return this;const s=this.getEventNamespace(),r=this.$(t);return Object.keys(e).forEach(o=>{const a=this.getEventHandler(e[o]);typeof a=="function"&&r.on(o+s,n,a)}),this}removeEventListeners(t){return t!=null&&this.$(t).off(this.getEventNamespace()),this}getEventNamespace(){return`.${ci.prefixCls}-event-${this.cid}`}getEventHandler(t){let e;if(typeof t=="string"){const n=this[t];typeof n=="function"&&(e=(...s)=>n.call(this,...s))}else e=(...n)=>t.call(this,...n);return e}getEventTarget(t,e={}){const{target:n,type:s,clientX:r=0,clientY:o=0}=t;return e.fromPoint||s==="touchmove"||s==="touchend"?document.elementFromPoint(r,o):n}stopPropagation(t){return this.setEventData(t,{propagationStopped:!0}),this}isPropagationStopped(t){return this.getEventData(t).propagationStopped===!0}getEventData(t){return this.eventData(t)}setEventData(t,e){return this.eventData(t,e)}eventData(t,e){if(t==null)throw new TypeError("Event object required");let n=t.data;const s=`__${this.cid}__`;return e==null?n==null?{}:n[s]||{}:(n==null&&(n=t.data={}),n[s]==null?n[s]=Object.assign({},e):n[s]=Object.assign(Object.assign({},n[s]),e),n[s])}normalizeEvent(t){return Ht.normalizeEvent(t)}}(function(i){function t(r){return Ne(r)}i.$=t;function e(r,o){return o?bn(r||"g"):Gh(r||"div")}i.createElement=e;function n(r,o,a){if(!r||r===".")return{elems:[o]};if(a){const l=a[r];if(l)return{elems:Array.isArray(l)?l:[l]}}return{isCSSSelector:!0,elems:t(o).find(r).toArray()}}i.find=n;function s(r){let o=r;const a=r.originalEvent,l=a&&a.changedTouches&&a.changedTouches[0];if(l){for(const h in r)l[h]===void 0&&(l[h]=r[h]);o=l}const c=o.target;if(c){const h=c.correspondingUseElement;h&&(o.target=h)}return o}i.normalizeEvent=s})(Ht||(Ht={}));(function(i){i.views={};function t(e){return i.views[e]||null}i.getView=t})(Ht||(Ht={}));var mu;(function(i){let t=0;function e(){const n=`v${t}`;return t+=1,n}i.uniqueId=e})(mu||(mu={}));const hD=i=>i;function S0(i,t){return t===0?"0%":`${Math.round(i/t*100)}%`}function E0(i){return(e,n,s,r)=>n.isEdgeElement(s)?fD(i,e,n,s,r):uD(i,e,n,s,r)}function uD(i,t,e,n,s){const r=e.cell,o=r.getAngle(),a=e.getUnrotatedBBoxOfElement(n),l=r.getBBox().getCenter(),c=k.create(s).rotate(o,l);let h=c.x-a.x,f=c.y-a.y;return i&&(h=S0(h,a.width),f=S0(f,a.height)),t.anchor={name:"topLeft",args:{dx:h,dy:f,rotate:!0}},t}function fD(i,t,e,n,s){const r=e.getConnection();if(!r)return t;const o=r.closestPointLength(s);if(i){const a=r.length();t.anchor={name:"ratio",args:{ratio:o/a}}}else t.anchor={name:"length",args:{length:o}};return t}const dD=E0(!0),gD=E0(!1);var pD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",noop:hD,pinRelative:dD,pinAbsolute:gD}),kr;(function(i){i.presets=pD,i.registry=Pe.create({type:"connection strategy"}),i.registry.register(i.presets,!0)})(kr||(kr={}));class mD{constructor(t){this.view=t,this.clean()}clean(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new vl,this.pathCache={}}get(t){return this.elemCache.has(t)||this.elemCache.set(t,{}),this.elemCache.get(t)}getData(t){const e=this.get(t);return e.data||(e.data={}),e.data}getMatrix(t){const e=this.get(t);if(e.matrix==null){const n=this.view.rotatableNode||this.view.container;e.matrix=Mr(t,n)}return We(e.matrix)}getShape(t){const e=this.get(t);return e.shape==null&&(e.shape=B2(t)),e.shape.clone()}getBoundingRect(t){const e=this.get(t);return e.boundingRect==null&&(e.boundingRect=Xe(t)),e.boundingRect.clone()}}var Wt;(function(i){function t(h){return h!=null&&!e(h)}i.isJSONMarkup=t;function e(h){return h!=null&&typeof h=="string"}i.isStringMarkup=e;function n(h){return h==null||e(h)?h:Te(h)}i.clone=n;function s(h){return`${h}`.trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")}i.sanitize=s;function r(h){const f=document.createDocumentFragment(),d={},p={},y=s(h);return g2(y,{raw:!0}).forEach(x=>{f.appendChild(x)}),{fragment:f,selectors:p,groups:d}}i.parseStringMarkup=r;function o(h,f={ns:ze.svg}){const d=document.createDocumentFragment(),p={},y={},v=[{markup:Array.isArray(h)?h:[h],parent:d,ns:f.ns}];for(;v.length>0;){const x=v.pop();let w=x.ns||ze.svg;const M=x.markup,A=x.parent;M.forEach(D=>{const N=D.tagName;if(!N)throw new TypeError("Invalid tagName");D.ns&&(w=D.ns);const m=w===ze.svg,P=w?Gh(N,w):C2(N),$=D.attrs;$&&(m?Zt(P,$o($)):Ne(P).attr($));const V=D.style;V&&Ne(P).css(V);const G=D.className;G!=null&&P.setAttribute("class",Array.isArray(G)?G.join(" "):G),D.textContent&&(P.textContent=D.textContent);const X=D.selector;if(X!=null){if(y[X])throw new TypeError("Selector must be unique");y[X]=P}if(D.groupSelector){let ft=D.groupSelector;Array.isArray(ft)||(ft=[ft]),ft.forEach(yt=>{p[yt]||(p[yt]=[]),p[yt].push(P)})}A.appendChild(P);const H=D.children;Array.isArray(H)&&v.push({ns:w,markup:H,parent:P})})}return Object.keys(p).forEach(x=>{if(y[x])throw new Error("Ambiguous group selector");y[x]=p[x]}),{fragment:d,selectors:y,groups:p}}i.parseJSONMarkup=o;function a(h){return h instanceof SVGElement?bn("g"):C2("div")}function l(h){if(e(h)){const y=mt.createVectors(h),v=y.length;if(v===1)return{elem:y[0].node};if(v>1){const x=a(y[0].node);return y.forEach(w=>{x.appendChild(w.node)}),{elem:x}}return{}}const f=o(h),d=f.fragment;let p=null;return d.childNodes.length>1?(p=a(d.firstChild),p.appendChild(d)):p=d.firstChild,{elem:p,selectors:f.selectors}}i.renderMarkup=l;function c(h){const f=mt.createVectors(h),d=document.createDocumentFragment();for(let p=0,y=f.length;p<y;p+=1){const v=f[p].node;d.appendChild(v)}return{fragment:d,selectors:{}}}i.parseLabelStringMarkup=c})(Wt||(Wt={}));(function(i){function t(s,r,o){if(s!=null){let a;const l=s.tagName.toLowerCase();if(s===r)return typeof o=="string"?a=`> ${l} > ${o}`:a=`> ${l}`,a;const c=s.parentNode;if(c&&c.childNodes.length>1){const h=Uh(s)+1;a=`${l}:nth-child(${h})`}else a=l;return o&&(a+=` > ${o}`),t(s.parentNode,r,a)}return o}i.getSelector=t;function e(s,r,o){if(s.nodeName==="#text")return null;let a=null,l=null,c=null,h=!1;const f={tagName:s.tagName};if(s.attributes){c={};for(let d=0,p=s.attributes.length;d<p;d+=1){const y=s.attributes[d],v=y.nodeName,x=y.nodeValue;v==="selector"?a=x:v==="groupSelector"?l=x:v==="class"?f.attrs={class:x}:c[v]=x}}return a==null&&(h=!0,a=t(s,r)),s.namespaceURI&&(f.ns=s.namespaceURI),f.ns==null&&(["body","div","section","main","nav","footer","span","p","h1","h2","h3","h4","h5","h6","ul","ol","dl","center","strong","pre","form","select","textarea","fieldset","marquee","bgsound","iframe","frameset"].includes(s.tagName)?f.ns=ze.xhtml:o&&(f.ns=o)),a&&(f.selector=a),l!=null&&(f.groupSelector=l),{markup:f,attrs:c,isCSSSelector:h}}function n(s){const r=i.sanitize(s),o=v2(r,{mimeType:"image/svg+xml"}),a=Array.prototype.slice.call(o.childNodes),l={},c=new WeakMap,h=(d,p,y)=>{const v=e(d,p,y);if(v==null){const x=c.get(d.parentNode);x&&d.textContent&&(x.textContent=d.textContent)}else{const{markup:x,attrs:w,isCSSSelector:M}=v;if(c.set(d,x),x.selector&&w!=null&&(Object.keys(w).length&&(l[x.selector]=w),M&&delete x.selector),d.childNodes&&d.childNodes.length>0)for(let A=0,D=d.childNodes.length;A<D;A+=1){const N=d.childNodes[A],m=h(N,p,x.ns);m&&(x.children==null&&(x.children=[]),x.children.push(m))}return x}};return{markup:a.map(d=>h(d,d)).filter(d=>d!=null),attrs:l}}i.xml2json=n})(Wt||(Wt={}));(function(i){function t(){return"g"}i.getPortContainerMarkup=t;function e(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}}i.getPortMarkup=e;function n(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}i.getPortLabelMarkup=n})(Wt||(Wt={}));(function(i){function t(){return i.sanitize(`
    <path class="connection" stroke="black" d="M 0 0 0 0"/>
    <path class="source-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="target-marker" fill="black" stroke="black" d="M 0 0 0 0"/>
    <path class="connection-wrap" d="M 0 0 0 0"/>
    <g class="labels"/>
    <g class="vertices"/>
    <g class="arrowheads"/>
    <g class="tools"/>
  `)}i.getEdgeMarkup=t;function e(){return i.sanitize(`
    <g class="edge-tool">
      <g class="tool-remove" event="edge:remove">
        <circle r="11" />
        <path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />
        <title>Remove edge.</title>
      </g>
      <g class="tool-options" event="edge:options">
        <circle r="11" transform="translate(25)"/>
        <path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>
        <title>Edge options.</title>
      </g>
    </g>
  `)}i.getEdgeToolMarkup=e;function n(){return i.sanitize(`
    <g class="vertex-group" transform="translate(<%= x %>, <%= y %>)">
      <circle class="vertex" data-index="<%= index %>" r="10" />
      <path class="vertex-remove-area" data-index="<%= index %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>
      <path class="vertex-remove" data-index="<%= index %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">
      <title>Remove vertex.</title>
      </path>
    </g>
  `)}i.getEdgeVertexMarkup=n;function s(){return i.sanitize(`
    <g class="arrowhead-group arrowhead-group-<%= end %>">
      <path class="arrowhead" data-terminal="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />
    </g>
  `)}i.getEdgeArrowheadMarkup=s})(Wt||(Wt={}));(function(i){function t(e=!1){return{tagName:"foreignObject",selector:"fo",children:[{ns:ze.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:ze.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}i.getForeignObjectMarkup=t})(Wt||(Wt={}));class js{constructor(t){this.view=t}get cell(){return this.view.cell}getDefinition(t){return this.cell.getAttrDefinition(t)}processAttrs(t,e){let n,s,r,o,a;const l=[];return Object.keys(e).forEach(c=>{const h=e[c],f=this.getDefinition(c),d=dt(li.isValidDefinition,this.view,f,h,{elem:t,attrs:e,cell:this.cell,view:this.view});if(f&&d)typeof f=="string"?(n==null&&(n={}),n[f]=h):h!==null&&l.push({name:c,definition:f});else{n==null&&(n={});const p=js.CASE_SENSITIVE_ATTR.includes(c)?c:d2(c);n[p]=h}}),l.forEach(({name:c,definition:h})=>{const f=e[c];typeof h.set=="function"&&(!Kh(t)&&js.DELAY_ATTRS.includes(c)?(a==null&&(a={}),a[c]=f):(s==null&&(s={}),s[c]=f)),typeof h.offset=="function"&&(r==null&&(r={}),r[c]=f),typeof h.position=="function"&&(o==null&&(o={}),o[c]=f)}),{raw:e,normal:n,set:s,offset:r,position:o,delay:a}}mergeProcessedAttrs(t,e){t.set=Object.assign(Object.assign({},t.set),e.set),t.position=Object.assign(Object.assign({},t.position),e.position),t.offset=Object.assign(Object.assign({},t.offset),e.offset);const n=t.normal&&t.normal.transform;n!=null&&e.normal&&(e.normal.transform=n),t.normal=e.normal}findAttrs(t,e,n,s){const r=[],o=new vl;return Object.keys(t).forEach(a=>{const l=t[a];if(!Dn(l))return;const{isCSSSelector:c,elems:h}=Ht.find(a,e,s);n[a]=h;for(let f=0,d=h.length;f<d;f+=1){const p=h[f],y=s&&s[a]===p,v=o.get(p);if(v){v.array||(r.push(p),v.array=!0,v.attrs=[v.attrs],v.priority=[v.priority]);const x=v.attrs,w=v.priority;if(y)x.unshift(l),w.unshift(-1);else{const M=kM(w,c?-1:d);x.splice(M,0,l),w.splice(M,0,d)}}else o.set(p,{elem:p,attrs:l,priority:y?-1:d,array:!1})}}),r.forEach(a=>{const l=o.get(a),c=l.attrs;l.attrs=c.reduceRight((h,f)=>pe(h,f),{})}),o}updateRelativeAttrs(t,e,n,s){const r=e.raw||{};let o=e.normal||{};const a=e.set,l=e.position,c=e.offset,h=e.delay,f=()=>({elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:n.clone()});if(a!=null&&Object.keys(a).forEach(N=>{const m=a[N],P=this.getDefinition(N);if(P!=null){const $=dt(P.set,this.view,m,f());typeof $=="object"?o=Object.assign(Object.assign({},o),$):$!=null&&(o[N]=$)}}),Kh(t)){this.view.setAttrs(o,t);return}const d=o.transform,p=d?`${d}`:null,y=pl(p),v=new k(y.e,y.f);d&&(delete o.transform,y.e=0,y.f=0);let x=1,w=1;if(l||c){const N=this.view.getScaleOfElement(t,s.scalableNode);x=N.sx,w=N.sy}let M=!1;l!=null&&Object.keys(l).forEach(N=>{const m=l[N],P=this.getDefinition(N);if(P!=null){const $=dt(P.position,this.view,m,f());$!=null&&(M=!0,v.translate(k.create($).scale(x,w)))}}),this.view.setAttrs(o,t);let A=!1;if(c!=null){const N=this.view.getBoundingRectOfElement(t);if(N.width>0&&N.height>0){const m=kn(N,y).scale(1/x,1/w);Object.keys(c).forEach(P=>{const $=c[P],V=this.getDefinition(P);if(V!=null){const G=dt(V.offset,this.view,$,{elem:t,cell:this.cell,view:this.view,attrs:r,refBBox:m});G!=null&&(A=!0,v.translate(k.create(G).scale(x,w)))}})}}(d!=null||M||A)&&(v.round(1),y.e=v.x,y.f=v.y,t.setAttribute("transform",Ns(y)));const D=()=>{h!=null&&Object.keys(h).forEach(N=>{const m=h[N],P=this.getDefinition(N);if(P!=null){const $=dt(P.set,this.view,m,f());typeof $=="object"?this.view.setAttrs($,t):$!=null&&this.view.setAttrs({[N]:$},t)}})};s.forceSync?D():cu.scheduleTask(D)}update(t,e,n){const s={},r=this.findAttrs(n.attrs||e,t,s,n.selectors),o=n.attrs?this.findAttrs(e,t,s,n.selectors):r,a=[];r.each(h=>{const f=h.elem,d=h.attrs,p=this.processAttrs(f,d);if(p.set==null&&p.position==null&&p.offset==null&&p.delay==null)this.view.setAttrs(p.normal,f);else{const y=o.get(f),v=y?y.attrs:null,x=v&&d.ref==null?v.ref:d.ref;let w;if(x){if(w=(s[x]||this.view.find(x,t,n.selectors))[0],!w)throw new Error(`"${x}" reference does not exist.`)}else w=null;const M={node:f,refNode:w,attributes:v,processedAttributes:p},A=a.findIndex(D=>D.refNode===f);A>-1?a.splice(A,0,M):a.push(M)}});const l=new vl;let c;a.forEach(h=>{const f=h.node,d=h.refNode;let p;const y=d!=null&&n.rotatableNode!=null&&Wh(n.rotatableNode,d);if(d&&(p=l.get(d)),!p){const M=y?n.rotatableNode:t;p=d?Xe(d,{target:M}):n.rootBBox,d&&l.set(d,p)}let v;n.attrs&&h.attributes?(v=this.processAttrs(f,h.attributes),this.mergeProcessedAttrs(v,h.processedAttributes)):v=h.processedAttributes;let x=p;y&&n.rotatableNode!=null&&!n.rotatableNode.contains(f)&&(c||(c=pl(Zt(n.rotatableNode,"transform"))),x=kn(p,c)),a.find(M=>M.refNode===f)&&(n.forceSync=!0),this.updateRelativeAttrs(f,v,x,n)})}}(function(i){i.CASE_SENSITIVE_ATTR=["viewBox"],i.DELAY_ATTRS=["text","textWrap","sourceMarker","targetMarker"]})(js||(js={}));class A0{constructor(t,e,n=[]){this.view=t;const s={},r={};let o=0;Object.keys(e).forEach(l=>{let c=e[l];Array.isArray(c)||(c=[c]),c.forEach(h=>{let f=s[h];f||(o+=1,f=s[h]=1<<o),r[l]|=f})});let a=n;if(Array.isArray(a)||(a=[a]),a.forEach(l=>{s[l]||(o+=1,s[l]=1<<o)}),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=s,this.attrs=r,this.bootstrap=n}get cell(){return this.view.cell}getFlag(t){const e=this.flags;return e==null?0:Array.isArray(t)?t.reduce((n,s)=>n|e[s],0):e[t]|0}hasAction(t,e){return t&this.getFlag(e)}removeAction(t,e){return t^t&this.getFlag(e)}getBootstrapFlag(){return this.getFlag(this.bootstrap)}getChangedFlag(){let t=0;return this.attrs&&Object.keys(this.attrs).forEach(e=>{this.cell.hasChanged(e)&&(t|=this.attrs[e])}),t}}var bD=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class xe extends Ht{constructor(t,e={}){super();this.cell=t,this.options=this.ensureOptions(e),this.graph=this.options.graph,this.attr=new js(this),this.flag=new A0(this,this.options.actions,this.options.bootstrap),this.cache=new mD(this),this.setContainer(this.ensureContainer()),this.setup(),this.$(this.container).data("view",this),this.init()}static getDefaults(){return this.defaults}static config(t){this.defaults=this.getOptions(t)}static getOptions(t){const e=(c,h)=>h!=null?c2([...Array.isArray(c)?c:[c],...Array.isArray(h)?h:[h]]):Array.isArray(c)?[...c]:[c],n=Te(this.getDefaults()),{bootstrap:s,actions:r,events:o,documentEvents:a}=t,l=bD(t,["bootstrap","actions","events","documentEvents"]);return s&&(n.bootstrap=e(n.bootstrap,s)),r&&Object.keys(r).forEach(c=>{const h=r[c],f=n.actions[c];h&&f?n.actions[c]=e(f,h):h&&(n.actions[c]=e(h))}),o&&(n.events=Object.assign(Object.assign({},n.events),o)),t.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),a)),pe(n,l)}get[Symbol.toStringTag](){return xe.toStringTag}init(){}onRemove(){this.removeTools()}get priority(){return this.options.priority}get rootSelector(){return this.options.rootSelector}getConstructor(){return this.constructor}ensureOptions(t){return this.getConstructor().getOptions(t)}getContainerTagName(){return this.options.isSvgElement?"g":"div"}getContainerStyle(){}getContainerAttrs(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}getContainerClassName(){return this.prefixClassName("cell")}ensureContainer(){return Ht.createElement(this.getContainerTagName(),this.options.isSvgElement)}setContainer(t){if(this.container!==t){this.undelegateEvents(),this.container=t,this.options.events!=null&&this.delegateEvents(this.options.events);const e=this.getContainerAttrs();e!=null&&this.setAttrs(e,t);const n=this.getContainerStyle();n!=null&&this.setStyle(n,t);const s=this.getContainerClassName();s!=null&&this.addClass(s,t)}return this}isNodeView(){return!1}isEdgeView(){return!1}render(){return this}confirmUpdate(t,e={}){return 0}getBootstrapFlag(){return this.flag.getBootstrapFlag()}getFlag(t){return this.flag.getFlag(t)}hasAction(t,e){return this.flag.hasAction(t,e)}removeAction(t,e){return this.flag.removeAction(t,e)}handleAction(t,e,n,s){if(this.hasAction(t,e)){n();const r=[e];return s&&(typeof s=="string"?r.push(s):r.push(...s)),this.removeAction(t,r)}return t}setup(){this.cell.on("changed",({options:t})=>this.onAttrsChange(t))}onAttrsChange(t){let e=this.flag.getChangedFlag();t.updated||!e||(t.dirty&&this.hasAction(e,"update")&&(e|=this.getFlag("render")),t.toolId&&(t.async=!1),this.graph!=null&&this.graph.renderer.requestViewUpdate(this,e,this.priority,t))}parseJSONMarkup(t,e){const n=Wt.parseJSONMarkup(t),s=n.selectors,r=this.rootSelector;if(e&&r){if(s[r])throw new Error("Invalid root selector");s[r]=e}return n}can(t){let e=this.graph.options.interacting;if(typeof e=="function"&&(e=dt(e,this.graph,this)),typeof e=="object"){let n=e[t];return typeof n=="function"&&(n=dt(n,this.graph,this)),n!==!1}return typeof e=="boolean"?e:!1}cleanCache(){return this.cache.clean(),this}getCache(t){return this.cache.get(t)}getDataOfElement(t){return this.cache.getData(t)}getMatrixOfElement(t){return this.cache.getMatrix(t)}getShapeOfElement(t){return this.cache.getShape(t)}getScaleOfElement(t,e){let n,s;if(e&&e.contains(t)){const r=Ui(e);n=1/r.sx,s=1/r.sy}else n=1,s=1;return{sx:n,sy:s}}getBoundingRectOfElement(t){return this.cache.getBoundingRect(t)}getBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),s=this.getRootRotatedMatrix(),r=this.getRootTranslatedMatrix();return kn(e,r.multiply(s).multiply(n))}getUnrotatedBBoxOfElement(t){const e=this.getBoundingRectOfElement(t),n=this.getMatrixOfElement(t),s=this.getRootTranslatedMatrix();return kn(e,s.multiply(n))}getBBox(t={}){let e;if(t.useCellGeometry){const n=this.cell,s=n.isNode()?n.getAngle():0;e=n.getBBox().bbox(s)}else e=this.getBBoxOfElement(this.container);return this.graph.localToGraph(e)}getRootTranslatedMatrix(){const t=this.cell,e=t.isNode()?t.getPosition():{x:0,y:0};return We().translate(e.x,e.y)}getRootRotatedMatrix(){let t=We();const e=this.cell,n=e.isNode()?e.getAngle():0;if(n){const s=e.getBBox(),r=s.width/2,o=s.height/2;t=t.translate(r,o).rotate(n).translate(-r,-o)}return t}findMagnet(t=this.container){return this.findByAttr("magnet",t)}updateAttrs(t,e,n={}){n.rootBBox==null&&(n.rootBBox=new st),n.selectors==null&&(n.selectors=this.selectors),this.attr.update(t,e,n)}isEdgeElement(t){return this.cell.isEdge()&&(t==null||t===this.container)}prepareHighlight(t,e={}){const n=t&&this.$(t)[0]||this.container;return e.partial=n===this.container,n}highlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:highlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}),this}unhighlight(t,e={}){const n=this.prepareHighlight(t,e);return this.notify("cell:unhighlight",{magnet:n,options:e,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:e,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:e,view:this,edge:this.cell,cell:this.cell}),this}notifyUnhighlight(t,e){}getEdgeTerminal(t,e,n,s,r){const o=this.cell,a=this.findAttr("port",t),l=t.getAttribute("data-selector"),c={cell:o.id};return l!=null&&(c.magnet=l),a!=null?(c.port=a,o.isNode()&&!o.hasPort(a)&&l==null&&(c.selector=this.getSelector(t))):l==null&&this.container!==t&&(c.selector=this.getSelector(t)),this.customizeEdgeTerminal(c,t,e,n,s,r)}customizeEdgeTerminal(t,e,n,s,r,o){const a=r.getStrategy()||this.graph.options.connecting.strategy;if(a){const l=typeof a=="string"?a:a.name,c=typeof a=="string"?{}:a.args||{},h=kr.registry;if(l){const f=h.get(l);if(f==null)return h.onNotFound(l);const d=dt(f,this.graph,t,this,e,new k(n,s),r,o,c);if(d)return d}}return t}getMagnetFromEdgeTerminal(t){const e=this.cell,n=this.container,s=t.port;let r=t.magnet,o;return s!=null&&e.isNode()&&e.hasPort(s)?o=this.findPortElem(s,r)||n:(r||(r=t.selector),!r&&s!=null&&(r=`[port="${s}"]`),o=this.findOne(r,n,this.selectors)),o}animate(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const s=n.parentNode,r=()=>{s||ai(n)},o=mt.create(n);s||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{r(),a&&a(l)},o.animate(e)}animateTransform(t,e){const n=typeof t=="string"?this.findOne(t):t;if(n==null)throw new Error("Invalid animation element.");const s=n.parentNode,r=()=>{s||ai(n)},o=mt.create(n);s||o.appendTo(this.graph.view.stage);const a=e.complete;return e.complete=l=>{r(),a&&a(l)},o.animateTransform(e)}hasTools(t){const e=this.tools;return e==null?!1:t==null?!0:e.name===t}addTools(t){if(!this.can("toolsAddable"))return this;if(this.removeTools(),t){const e=Be.isToolsView(t)?t:new Be(t);this.tools=e,this.graph.on("tools:hide",this.hideTools,this),this.graph.on("tools:show",this.showTools,this),this.graph.on("tools:remove",this.removeTools,this),e.config({view:this}),e.mount()}return this}updateTools(t={}){return this.tools&&this.tools.update(t),this}removeTools(){return this.tools&&(this.tools.remove(),this.graph.off("tools:hide",this.hideTools,this),this.graph.off("tools:show",this.showTools,this),this.graph.off("tools:remove",this.removeTools,this),this.tools=null),this}hideTools(){return this.tools&&this.tools.hide(),this}showTools(){return this.tools&&this.tools.show(),this}renderTools(){const t=this.cell.getTools();return this.addTools(t),this}notify(t,e){return this.trigger(t,e),this.graph.trigger(t,e),this}getEventArgs(t,e,n){const s=this,r=s.cell;return e==null||n==null?{e:t,view:s,cell:r}:{e:t,x:e,y:n,view:s,cell:r}}onClick(t,e,n){this.notify("cell:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){this.notify("cell:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){this.notify("cell:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(t,e,n))}onMouseUp(t,e,n){this.notify("cell:mouseup",this.getEventArgs(t,e,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}onMouseMove(t,e,n){this.notify("cell:mousemove",this.getEventArgs(t,e,n))}onMouseOver(t){this.notify("cell:mouseover",this.getEventArgs(t))}onMouseOut(t){this.notify("cell:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.notify("cell:mouseenter",this.getEventArgs(t))}onMouseLeave(t){this.notify("cell:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,s){this.notify("cell:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,s){this.notify("cell:customevent",Object.assign({name:e},this.getEventArgs(t,n,s))),this.notify(e,Object.assign({},this.getEventArgs(t,n,s)))}onMagnetMouseDown(t,e,n,s){}onMagnetDblClick(t,e,n,s){}onMagnetContextMenu(t,e,n,s){}onLabelMouseDown(t,e,n){}checkMouseleave(t){const e=this.graph;e.renderer.isAsync()&&e.renderer.dumpView(this);const n=this.getEventTarget(t,{fromPoint:!0}),s=e.renderer.findViewByElem(n);s!==this&&(this.onMouseLeave(t),!!s&&s.onMouseEnter(t))}}xe.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}};(function(i){i.Flag=A0,i.Attr=js})(xe||(xe={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"}i.isCellView=t})(xe||(xe={}));(function(i){function t(n){return function(s){s.config({priority:n})}}i.priority=t;function e(n){return function(s){s.config({bootstrap:n})}}i.bootstrap=e})(xe||(xe={}));(function(i){i.registry=Pe.create({type:"view"})})(xe||(xe={}));class Be extends Ht{constructor(t={}){super();this.svgContainer=this.createContainer(!0,t),this.htmlContainer=this.createContainer(!1,t),this.config(t)}get name(){return this.options.name}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get[Symbol.toStringTag](){return Be.toStringTag}createContainer(t,e){const n=t?Ht.createElement("g",!0):Ht.createElement("div",!1);return Jt(n,this.prefixClassName("cell-tools")),e.className&&Jt(n,e.className),n}config(t){if(this.options=Object.assign(Object.assign({},this.options),t),!xe.isCellView(t.view)||t.view===this.cellView)return this;this.cellView=t.view,this.cell.isEdge()?(Jt(this.svgContainer,this.prefixClassName("edge-tools")),Jt(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(Jt(this.svgContainer,this.prefixClassName("node-tools")),Jt(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));const e=this.options.items;if(!Array.isArray(e))return this;this.tools=[];const n=[];e.forEach(s=>{Be.ToolItem.isToolItem(s)?s.name==="vertices"?n.unshift(s):n.push(s):(typeof s=="object"?s.name:s)==="vertices"?n.unshift(s):n.push(s)});for(let s=0;s<n.length;s+=1){const r=n[s];let o;if(Be.ToolItem.isToolItem(r))o=r;else{const a=typeof r=="object"?r.name:r,l=typeof r=="object"?r.args||{}:{};if(a){if(this.cell.isNode()){const c=$r.registry.get(a);if(c)o=new c(l);else return $r.registry.onNotFound(a)}else if(this.cell.isEdge()){const c=Lr.registry.get(a);if(c)o=new c(l);else return Lr.registry.onNotFound(a)}}}o&&(o.config(this.cellView,this),o.render(),(o.options.isSVGElement!==!1?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o))}return this}update(t={}){const e=this.tools;return e&&e.forEach(n=>{t.toolId!==n.cid&&n.isVisible()&&n.update()}),this}focus(t){const e=this.tools;return e&&e.forEach(n=>{t===n?n.show():n.hide()}),this}blur(t){const e=this.tools;return e&&e.forEach(n=>{n!==t&&!n.isVisible()&&(n.show(),n.update())}),this}hide(){return this.focus(null)}show(){return this.blur(null)}remove(){const t=this.tools;return t&&(t.forEach(e=>e.remove()),this.tools=null),ai(this.svgContainer),ai(this.htmlContainer),super.remove()}mount(){const t=this.tools,e=this.cellView;if(e&&t){const n=t.some(r=>r.options.isSVGElement!==!1),s=t.some(r=>r.options.isSVGElement===!1);n&&(this.options.local?e.container:e.graph.view.decorator).appendChild(this.svgContainer),s&&this.graph.container.appendChild(this.htmlContainer)}return this}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&s.graph!=null&&s.cell!=null&&typeof s.config=="function"&&typeof s.update=="function"&&typeof s.focus=="function"&&typeof s.blur=="function"&&typeof s.show=="function"&&typeof s.hide=="function"}i.isToolsView=t})(Be||(Be={}));(function(i){class t extends Ht{constructor(n={}){super();this.options=this.getOptions(n),this.container=Ht.createElement(this.options.tagName||"g",this.options.isSVGElement!==!1),Jt(this.container,this.prefixClassName("cell-tool")),typeof this.options.className=="string"&&Jt(this.container,this.options.className),this.init()}static getDefaults(){return this.defaults}static config(n){this.defaults=this.getOptions(n)}static getOptions(n){return pe(Te(this.getDefaults()),n)}get graph(){return this.cellView.graph}get cell(){return this.cellView.cell}get name(){return this.options.name}get[Symbol.toStringTag](){return t.toStringTag}init(){}getOptions(n){return this.constructor.getOptions(n)}delegateEvents(){return this.options.events&&super.delegateEvents(this.options.events),this}config(n,s){return this.cellView=n,this.parent=s,this.stamp(this.container),this.cell.isEdge()?Jt(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&Jt(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}render(){this.empty();const n=this.options.markup;if(n){const s=Wt.isStringMarkup(n)?Wt.parseStringMarkup(n):Wt.parseJSONMarkup(n);this.container.appendChild(s.fragment),this.childNodes=s.selectors}return this.onRender(),this}onRender(){}update(){return this}stamp(n=this.container){n&&n.setAttribute("data-cell-id",this.cellView.cell.id)}show(){return this.container.style.display="",this.visible=!0,this}hide(){return this.container.style.display="none",this.visible=!1,this}isVisible(){return this.visible}focus(){const n=this.options.focusOpacity;return n!=null&&Number.isFinite(n)&&(this.container.style.opacity=`${n}`),this.parent.focus(this),this}blur(){return this.container.style.opacity="",this.parent.blur(this),this}guard(n){return this.graph==null||this.cellView==null?!0:this.graph.view.guard(n,this.cellView)}}t.defaults={isSVGElement:!0,tagName:"g"},i.ToolItem=t,function(e){let n=0;function s(o){return o?Ih(o):(n+=1,`CustomTool${n}`)}function r(o){const a=Fh(s(o.name),this);return a.config(o),a}e.define=r}(t=i.ToolItem||(i.ToolItem={})),function(e){e.toStringTag=`X6.${e.name}`;function n(s){if(s==null)return!1;if(s instanceof e)return!0;const r=s[Symbol.toStringTag],o=s;return(r==null||r===e.toStringTag)&&o.graph!=null&&o.cell!=null&&typeof o.config=="function"&&typeof o.update=="function"&&typeof o.focus=="function"&&typeof o.blur=="function"&&typeof o.show=="function"&&typeof o.hide=="function"&&typeof o.isVisible=="function"}e.isToolItem=n}(t=i.ToolItem||(i.ToolItem={}))})(Be||(Be={}));function M0(i,t,e,n){return dt(kr.presets.pinRelative,this.graph,{},t,e,i,this.cell,n,{}).anchor}function T0(i,t){return t?i.cell.getBBox():i.cell.isEdge()?i.getConnection().bbox():i.getUnrotatedBBoxOfElement(i.container)}class Zi extends Be.ToolItem{onRender(){Jt(this.container,this.prefixClassName("cell-tool-button")),this.update()}update(){return this.updatePosition(),this}updatePosition(){const e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();Tr(this.container,e,{absolute:!0})}getNodeMatrix(){const t=this.cellView,e=this.options;let{x:n=0,y:s=0}=e;const{offset:r,useCellGeometry:o,rotate:a}=e;let l=T0(t,o);const c=t.cell.getAngle();a||(l=l.bbox(c));let h=0,f=0;typeof r=="number"?(h=r,f=r):typeof r=="object"&&(h=r.x,f=r.y),n=oi(n,l.width),s=oi(s,l.height);let d=We().translate(l.x+l.width/2,l.y+l.height/2);return a&&(d=d.rotate(c)),d=d.translate(n+h-l.width/2,s+f-l.height/2),d}getEdgeMatrix(){const t=this.cellView,e=this.options,{offset:n=0,distance:s=0,rotate:r}=e;let o,a,l;Kn(s)?o=t.getTangentAtRatio(parseFloat(s)/100):o=t.getTangentAtLength(s),o?(a=o.start,l=o.vector().vectorAngle(new k(1,0))||0):(a=t.getConnection().start,l=0);let c=We().translate(a.x,a.y).rotate(l);return typeof n=="object"?c=c.translate(n.x||0,n.y||0):c=c.translate(0,n),r||(c=c.rotate(-l)),c}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.options.onClick;typeof e=="function"&&dt(e,this.cellView,{e:t,view:this.cellView,cell:this.cellView.cell,btn:this})}}(function(i){i.config({name:"button",events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})})(Zi||(Zi={}));(function(i){i.Remove=i.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,onClick({view:t,btn:e}){e.parent.remove(),t.cell.remove({ui:!0,toolId:e.cid})}})})(Zi||(Zi={}));var yD=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class xl extends Be.ToolItem{onRender(){if(Jt(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){const t=this.options.attrs,{class:e}=t,n=yD(t,["class"]);Zt(this.container,$o(n)),e&&Jt(this.container,e)}this.update()}update(){const t=this.cellView,e=this.options,{useCellGeometry:n,rotate:s}=e,r=mn(e.padding);let o=T0(t,n).moveAndExpand({x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom});const a=t.cell;if(a.isNode()){const l=a.getAngle();if(l)if(s){const c=a.getBBox().getCenter();au(this.container,l,c.x,c.y,{absolute:!0})}else o=o.bbox(l)}return Zt(this.container,o.toJSON()),this}}(function(i){i.config({name:"boundary",tagName:"rect",padding:10,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})})(xl||(xl={}));class _o extends Be.ToolItem{constructor(){super(...arguments);this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}onRender(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}update(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}renderHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const s=t[e],r=this.options.createHandle,o=this.options.processHandle,a=r({index:e,graph:this.graph,guard:l=>this.guard(l),attrs:this.options.attrs||{}});o&&o(a),this.graph.hook.onToolItemCreated({name:"vertices",cell:this.cell,view:this.cellView,tool:a}),a.updatePosition(s.x,s.y),this.stamp(a.container),this.container.appendChild(a.container),this.handles.push(a),this.startHandleListening(a)}}updateHandles(){const t=this.vertices;for(let e=0,n=t.length;e<n;e+=1){const s=t[e],r=this.handles[e];r&&r.updatePosition(s.x,s.y)}}updatePath(){const t=this.childNodes.connection;t&&t.setAttribute("d",this.cellView.getConnectionPathData())}startHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.on("remove",this.onHandleRemove,this)}stopHandleListening(t){const e=this.cellView;e.can("vertexMovable")&&(t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)),e.can("vertexDeletable")&&t.off("remove",this.onHandleRemove,this)}getNeighborPoints(t){const e=this.cellView,n=this.vertices,s=t>0?n[t-1]:e.sourceAnchor,r=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:k.create(s),next:k.create(r)}}getMouseEventArgs(t){const e=this.normalizeEvent(t),{x:n,y:s}=this.graph.snapToGrid(e.clientX,e.clientY);return{e,x:n,y:s}}onHandleChange({e:t}){this.focus();const e=this.cellView;if(e.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){const{e:n,x:s,y:r}=this.getMouseEventArgs(t);e.notifyMouseDown(n,s,r)}}onHandleChanging({handle:t,e}){const n=this.cellView,s=t.options.index,{e:r,x:o,y:a}=this.getMouseEventArgs(e),l={x:o,y:a};this.snapVertex(l,s),n.cell.setVertexAt(s,l,{ui:!0,toolId:this.cid}),t.updatePosition(l.x,l.y),this.options.stopPropagation||n.notifyMouseMove(r,o,a)}onHandleChanged({e:t}){const e=this.options,n=this.cellView;if(e.addable&&this.updatePath(),!e.removeRedundancies)return;n.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),n.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),this.eventData(t).vertexAdded&&n.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid});const{e:r,x:o,y:a}=this.getMouseEventArgs(t);this.options.stopPropagation||n.notifyMouseUp(r,o,a),n.checkMouseleave(r),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}snapVertex(t,e){const n=this.options.snapRadius||0;if(n>0){const s=this.getNeighborPoints(e),r=s.prev,o=s.next;Math.abs(t.x-r.x)<n?t.x=r.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-r.y)<n?t.y=s.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}}onHandleRemove({handle:t,e}){if(this.options.removable){const n=t.options.index,s=this.cellView;s.cell.removeVertexAt(n,{ui:!0}),this.options.addable&&this.updatePath(),s.checkMouseleave(this.normalizeEvent(e))}}onPathMouseDown(t){const e=this.cellView;if(this.guard(t)||!this.options.addable||!e.can("vertexAddable"))return;t.stopPropagation(),t.preventDefault();const n=this.normalizeEvent(t),s=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();e.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});const r=e.getVertexIndex(s.x,s.y);this.snapVertex(s,r),e.cell.insertVertex(s,r,{ui:!0,toolId:this.cid}),this.render();const o=this.handles[r];this.eventData(n,{vertexAdded:!0}),o.onMouseDown(n)}onRemove(){this.resetHandles()}}(function(i){class t extends Ht{constructor(n){super();this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"})}get graph(){return this.options.graph}render(){this.container=Ht.createElement("circle",!0);const n=this.options.attrs;if(typeof n=="function"){const s=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-vertex"))}updatePosition(n,s){this.setAttrs({cx:n,cy:s})}onMouseDown(n){this.options.guard(n)||(n.stopPropagation(),n.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data),this.emit("change",{e:n,handle:this}))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}onDoubleClick(n){this.emit("remove",{e:n,handle:this})}}i.Handle=t})(_o||(_o={}));(function(i){const t=Le.prefix("edge-tool-vertex-path");i.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:e=>new i.Handle(e),markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:{[`mousedown .${t}`]:"onPathMouseDown",[`touchstart .${t}`]:"onPathMouseDown"}})})(_o||(_o={}));class Vo extends Be.ToolItem{constructor(){super(...arguments);this.handles=[]}get vertices(){return this.cellView.cell.getVertices()}update(){return this.render(),this}onRender(){Jt(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();const t=this.cellView,e=[...this.vertices];e.unshift(t.sourcePoint),e.push(t.targetPoint);for(let n=0,s=e.length;n<s-1;n+=1){const r=e[n],o=e[n+1],a=this.renderHandle(r,o,n);this.stamp(a.container),this.handles.push(a)}return this}renderHandle(t,e,n){const s=this.options.createHandle({index:n,graph:this.graph,guard:r=>this.guard(r),attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(s),this.graph.hook.onToolItemCreated({name:"segments",cell:this.cell,view:this.cellView,tool:s}),this.updateHandle(s,t,e),this.container.appendChild(s.container),this.startHandleListening(s),s}startHandleListening(t){t.on("change",this.onHandleChange,this),t.on("changing",this.onHandleChanging,this),t.on("changed",this.onHandleChanged,this)}stopHandleListening(t){t.off("change",this.onHandleChange,this),t.off("changing",this.onHandleChanging,this),t.off("changed",this.onHandleChanged,this)}resetHandles(){const t=this.handles;this.handles=[],t&&t.forEach(e=>{this.stopHandleListening(e),e.remove()})}shiftHandleIndexes(t){const e=this.handles;for(let n=0,s=e.length;n<s;n+=1)e[n].options.index+=t}resetAnchor(t,e){const n=this.cellView.cell,s={ui:!0,toolId:this.cid};e?n.prop([t,"anchor"],e,s):n.removeProp([t,"anchor"],s)}snapHandle(t,e,n){const s=t.options.axis,r=t.options.index,l=this.cellView.cell.getVertices(),c=l[r-2]||n.sourceAnchor,h=l[r+1]||n.targetAnchor,f=this.options.snapRadius;return Math.abs(e[s]-c[s])<f?e[s]=c[s]:Math.abs(e[s]-h[s])<f&&(e[s]=h[s]),e}onHandleChanging({handle:t,e}){const n=this.graph,s=this.options,r=this.cellView,o=s.anchor,a=t.options.axis,l=t.options.index-1,c=this.getEventData(e),h=this.normalizeEvent(e),f=n.snapToGrid(h.clientX,h.clientY),d=this.snapHandle(t,f.clone(),c),p=Te(this.vertices);let y=p[l],v=p[l+1];const x=r.sourceView,w=r.sourceBBox;let M=!1,A=!1;if(y?l===0?w.containsPoint(y)?(p.shift(),this.shiftHandleIndexes(-1),M=!0):(y[a]=d[a],A=!0):y[a]=d[a]:(y=r.sourceAnchor.toJSON(),y[a]=d[a],w.containsPoint(y)?M=!0:(p.unshift(y),this.shiftHandleIndexes(1),A=!0)),typeof o=="function"&&x){if(M){const $=c.sourceAnchor.clone();$[a]=d[a];const V=dt(o,r,$,x,r.sourceMagnet||x.container,"source",r,this);this.resetAnchor("source",V)}A&&this.resetAnchor("source",c.sourceAnchorDef)}const D=r.targetView,N=r.targetBBox;let m=!1,P=!1;if(v?l===p.length-2?N.containsPoint(v)?(p.pop(),m=!0):(v[a]=d[a],P=!0):v[a]=d[a]:(v=r.targetAnchor.toJSON(),v[a]=d[a],N.containsPoint(v)?m=!0:(p.push(v),P=!0)),typeof o=="function"&&D){if(m){const $=c.targetAnchor.clone();$[a]=d[a];const V=dt(o,r,$,D,r.targetMagnet||D.container,"target",r,this);this.resetAnchor("target",V)}P&&this.resetAnchor("target",c.targetAnchorDef)}k.equalPoints(p,this.vertices)||this.cellView.cell.setVertices(p,{ui:!0,toolId:this.cid}),this.updateHandle(t,y,v,0),s.stopPropagation||r.notifyMouseMove(h,f.x,f.y)}onHandleChange({handle:t,e}){const n=this.options,s=this.handles,r=this.cellView,o=t.options.index;if(!!Array.isArray(s)){for(let a=0,l=s.length;a<l;a+=1)a!==o&&s[a].hide();if(this.focus(),this.setEventData(e,{sourceAnchor:r.sourceAnchor.clone(),targetAnchor:r.targetAnchor.clone(),sourceAnchorDef:Te(this.cell.prop(["source","anchor"])),targetAnchorDef:Te(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!n.stopPropagation){const a=this.normalizeEvent(e),l=this.graph.snapToGrid(a.clientX,a.clientY);r.notifyMouseDown(a,l.x,l.y)}}}onHandleChanged({e:t}){const e=this.options,n=this.cellView;e.removeRedundancies&&n.removeRedundantLinearVertices({ui:!0,toolId:this.cid});const s=this.normalizeEvent(t),r=this.graph.snapToGrid(s.clientX,s.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),e.stopPropagation||n.notifyMouseUp(s,r.x,r.y),n.checkMouseleave(s),e.onChanged&&e.onChanged({edge:n.cell,edgeView:n})}updateHandle(t,e,n,s=0){const r=this.options.precision||0,o=Math.abs(e.x-n.x)<r,a=Math.abs(e.y-n.y)<r;if(o||a){const l=new bt(e,n);if(l.length()<this.options.threshold)t.hide();else{const h=l.getCenter(),f=o?"x":"y";h[f]+=s||0;const d=l.vector().vectorAngle(new k(1,0));t.updatePosition(h.x,h.y,d,this.cellView),t.show(),t.options.axis=f}}else t.hide()}onRemove(){this.resetHandles()}}(function(i){class t extends Ht{constructor(n){super();this.options=n,this.render(),this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"})}render(){this.container=Ht.createElement("rect",!0);const n=this.options.attrs;if(typeof n=="function"){const s=i.getDefaults();this.setAttrs(Object.assign(Object.assign({},s.attrs),n(this)))}else this.setAttrs(n);this.addClass(this.prefixClassName("edge-tool-segment"))}updatePosition(n,s,r,o){const a=o.getClosestPoint(new k(n,s))||new k(n,s);let l=We().translate(a.x,a.y);if(a.equals({x:n,y:s}))l=l.rotate(r);else{let h=new bt(n,s,a.x,a.y).vector().vectorAngle(new k(1,0));h!==0&&(h+=90),l=l.rotate(h)}this.setAttrs({transform:Ns(l),cursor:r%180==0?"row-resize":"col-resize"})}onMouseDown(n){this.options.guard(n)||(this.trigger("change",{e:n,handle:this}),n.stopPropagation(),n.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},n.data))}onMouseMove(n){this.emit("changing",{e:n,handle:this})}onMouseUp(n){this.emit("changed",{e:n,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}show(){this.container.style.display=""}hide(){this.container.style.display="none"}}i.Handle=t})(Vo||(Vo={}));(function(i){i.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:t=>new i.Handle(t),anchor:M0})})(Vo||(Vo={}));class wl extends Be.ToolItem{get type(){return this.options.type}onRender(){Jt(this.container,this.prefixClassName(`edge-tool-${this.type}-anchor`)),this.toggleArea(!1),this.update()}update(){const t=this.type;return this.cellView.getTerminalView(t)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}updateAnchor(){const t=this.childNodes;if(!t)return;const e=t.anchor;if(!e)return;const n=this.type,s=this.cellView,r=this.options,o=s.getTerminalAnchor(n),a=s.cell.prop([n,"anchor"]);e.setAttribute("transform",`translate(${o.x}, ${o.y})`);const l=a?r.customAnchorAttrs:r.defaultAnchorAttrs;l&&Object.keys(l).forEach(c=>{e.setAttribute(c,l[c])})}updateArea(){const t=this.childNodes;if(!t)return;const e=t.area;if(!e)return;const n=this.type,s=this.cellView,r=s.getTerminalView(n);if(r){const o=r.cell,a=s.getTerminalMagnet(n);let l=this.options.areaPadding||0;Number.isFinite(l)||(l=0);let c,h,f;r.isEdgeElement(a)?(c=r.getBBox(),h=0,f=c.getCenter()):(c=r.getUnrotatedBBoxOfElement(a),h=o.getAngle(),f=c.getCenter(),h&&f.rotate(-h,o.getBBox().getCenter())),c.inflate(l),Zt(e,{x:-c.width/2,y:-c.height/2,width:c.width,height:c.height,transform:`translate(${f.x}, ${f.y}) rotate(${h})`})}}toggleArea(t){if(this.childNodes){const e=this.childNodes.area;e&&(e.style.display=t?"":"none")}}onMouseDown(t){this.guard(t)||(t.stopPropagation(),t.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}resetAnchor(t){const e=this.type,n=this.cell;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([e,"anchor"],{ui:!0,toolId:this.cid})}onMouseMove(t){const e=this.type,n=this.cellView,s=n.getTerminalView(e);if(s==null)return;const r=this.normalizeEvent(t),o=s.cell,a=n.getTerminalMagnet(e);let l=this.graph.clientToLocal(r.clientX,r.clientY);const c=this.options.snap;if(typeof c=="function"){const d=dt(c,n,l,s,a,e,n,this);l=k.create(d)}if(this.options.restrictArea)if(s.isEdgeElement(a)){const d=s.getClosestPoint(l);d&&(l=d)}else{const d=s.getUnrotatedBBoxOfElement(a),p=o.getAngle(),y=o.getBBox().getCenter(),v=l.clone().rotate(p,y);d.containsPoint(v)||(l=d.getNearestPointToPoint(v).rotate(-p,y))}let h;const f=this.options.anchor;typeof f=="function"&&(h=dt(f,n,l,s,a,e,n,this)),this.resetAnchor(h),this.update()}onMouseUp(t){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);const e=this.cellView;this.options.removeRedundancies&&e.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}onDblClick(){const t=this.options.resetAnchor;t&&this.resetAnchor(t===!0?void 0:t),this.update()}}(function(i){i.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:M0,snap(t,e,n,s,r,o){const a=o.options.snapRadius||0,l=s==="source",c=l?0:-1,h=this.cell.getVertexAt(c)||this.getTerminalAnchor(l?"target":"source");return h&&(Math.abs(h.x-t.x)<a&&(t.x=h.x),Math.abs(h.y-t.y)<a&&(t.y=h.y)),t}})})(wl||(wl={}));const CD=wl.define({name:"source-anchor",type:"source"}),vD=wl.define({name:"target-anchor",type:"target"});var xD=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Sl extends Be.ToolItem{get type(){return this.options.type}get ratio(){return this.options.ratio}init(){if(this.options.attrs){const t=this.options.attrs,{class:e}=t,n=xD(t,["class"]);this.setAttrs(n,this.container),e&&Jt(this.container,e)}}onRender(){Jt(this.container,this.prefixClassName(`edge-tool-${this.type}-arrowhead`)),this.update()}update(){const t=this.ratio,e=this.cellView,n=e.getTangentAtRatio(t),s=n?n.start:e.getPointAtRatio(t),r=n&&n.vector().vectorAngle(new k(1,0))||0;if(!s)return this;const o=We().translate(s.x,s.y).rotate(r);return Tr(this.container,o,{absolute:!0}),this}onMouseDown(t){if(this.guard(t))return;t.stopPropagation(),t.preventDefault();const e=this.cellView;if(e.can("arrowheadMovable")){e.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});const n=this.graph.snapToGrid(t.clientX,t.clientY),s=e.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:{toolId:this.cid}});this.cellView.setEventData(t,s),this.delegateDocumentEvents(this.options.documentEvents,t.data),e.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}onMouseMove(t){const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY);this.cellView.onMouseMove(e,n.x,n.y),this.update()}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.cellView,s=this.graph.snapToGrid(e.clientX,e.clientY);n.onMouseUp(e,s.x,s.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}(function(i){i.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})})(Sl||(Sl={}));const wD=Sl.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),SD=Sl.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}});class Nr extends Be.ToolItem{constructor(){super(...arguments);this.labelIndex=-1,this.distance=.5}render(){return this.createElement(),this.update(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents),this}createElement(){const{cell:t}=this,e=[this.prefixClassName(`${t.isEdge()?"edge":"node"}-tool-editor`),this.prefixClassName("cell-tool-editor")];this.editor=Be.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}update(){const{graph:t,cell:e,editor:n}=this,s=n.style;let r=new k,o=20;if(e.isNode())r=e.getBBox().center,o=e.size().width-4;else if(e.isEdge()){const f=this.options.event,d=f.target,p=d.parentElement;if(p&&ol(p,this.prefixClassName("edge-label"))){const v=p.getAttribute("data-index")||"0";this.labelIndex=parseInt(v,10);const x=p.getAttribute("transform"),{translation:w}=ml(x);r=new k(w.tx,w.ty),o=Xe(d).width}else{r=t.clientToLocal(k.create(f.clientX,f.clientY));const x=this.cellView.path.closestPointLength(r);this.distance=x}}r=t.localToGraph(r),s.left=`${r.x}px`,s.top=`${r.y}px`,s.minWidth=`${o}px`;const a=t.scale();s.transform=`scale(${a.sx}, ${a.sy}) translate(-50%, -50%)`;const l=this.options.attrs;s.fontSize=`${l.fontSize}px`,s.fontFamily=l.fontFamily,s.color=l.color,s.backgroundColor=l.backgroundColor;const c=this.options.getText;let h;return typeof c=="function"&&(h=dt(c,this.cellView,{cell:this.cell,index:this.labelIndex})),n.innerText=h||"",this}onDocumentMouseDown(t){if(t.target!==this.editor){const e=this.cell,n=this.editor.innerText.replace(/\n$/,"")||"",s=this.options.setText;typeof s=="function"&&dt(s,this.cellView,{cell:this.cell,value:n,index:this.labelIndex,distance:this.distance}),e.removeTool(e.isEdge()?"edge-editor":"node-editor"),this.undelegateDocumentEvents()}}onDblClick(t){t.stopPropagation()}onMouseDown(t){t.stopPropagation()}autoFocus(){setTimeout(()=>{this.editor.focus(),this.selectText()})}selectText(){if(window.getSelection){const t=document.createRange(),e=window.getSelection();t.selectNodeContents(this.editor),e.removeAllRanges(),e.addRange(t)}}}(function(i){i.config({tagName:"div",isSVGElement:!1,events:{dblclick:"onDblClick",mousedown:"onMouseDown"},documentEvents:{mousedown:"onDocumentMouseDown"}})})(Nr||(Nr={}));(function(i){i.NodeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t}){return t.attr("text/text")},setText({cell:t,value:e}){t.attr("text/text",e)}}),i.EdgeEditor=i.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText({cell:t,index:e}){return e===-1?"":t.prop(`labels/${e}/attrs/label/text`)},setText({cell:t,value:e,index:n,distance:s}){const r=t;n===-1?r.appendLabel({position:{distance:s},attrs:{label:{text:e}}}):r.prop(`labels/${n}/attrs/label/text`,e)}})})(Nr||(Nr={}));var O0=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e},$r;(function(i){i.presets={boundary:xl,button:Zi,"button-remove":Zi.Remove,"node-editor":Nr.NodeEditor},i.registry=Pe.create({type:"node tool",process(t,e){if(typeof e=="function")return e;let n=Be.ToolItem;const{inherit:s}=e,r=O0(e,["inherit"]);if(s){const o=this.get(s);o==null?this.onNotFound(s,"inherited"):n=o}return r.name==null&&(r.name=t),n.define.call(n,r)}}),i.registry.register(i.presets,!0)})($r||($r={}));var Lr;(function(i){i.presets={boundary:xl,vertices:_o,segments:Vo,button:Zi,"button-remove":Zi.Remove,"source-anchor":CD,"target-anchor":vD,"source-arrowhead":wD,"target-arrowhead":SD,"edge-editor":Nr.EdgeEditor},i.registry=Pe.create({type:"edge tool",process(t,e){if(typeof e=="function")return e;let n=Be.ToolItem;const{inherit:s}=e,r=O0(e,["inherit"]);if(s){const o=this.get(s);o==null?this.onNotFound(s,"inherited"):n=o}return r.name==null&&(r.name=t),n.define.call(n,r)}}),i.registry.register(i.presets,!0)})(Lr||(Lr={}));const ED=Ti("center"),AD=Ti("topCenter"),MD=Ti("bottomCenter"),TD=Ti("leftMiddle"),OD=Ti("rightMiddle"),PD=Ti("topLeft"),DD=Ti("topRight"),kD=Ti("bottomLeft"),ND=Ti("bottomRight");function Ti(i){return function(t,e,n,s={}){const r=s.rotate?t.getUnrotatedBBoxOfElement(e):t.getBBoxOfElement(e),o=r[i];o.x+=oi(s.dx,r.width),o.y+=oi(s.dy,r.height);const a=t.cell;return s.rotate?o.rotate(-a.getAngle(),a.getBBox().getCenter()):o}}function El(i){return function(t,e,n,s){if(n instanceof Element){const r=this.graph.renderer.findViewByElem(n);let o;if(r)if(r.isEdgeElement(n)){const a=s.fixedAt!=null?s.fixedAt:"50%";o=P0(r,a)}else o=r.getBBoxOfElement(n).getCenter();else o=new k;return i.call(this,t,e,o,s)}return i.apply(this,arguments)}}function P0(i,t){const e=Kn(t),n=typeof t=="string"?parseFloat(t):t;return e?i.getPointAtRatio(n/100):i.getPointAtLength(n)}const $D=function(i,t,e,n){const s=i.cell.getAngle(),r=i.getBBoxOfElement(t),o=r.getCenter(),a=r.getTopLeft(),l=r.getBottomRight();let c=n.padding;if(Number.isFinite(c)||(c=0),a.y+c<=e.y&&e.y<=l.y-c){const h=e.y-o.y;o.x+=s===0||s===180?0:h*1/Math.tan(Vt.toRad(s)),o.y+=h}else if(a.x+c<=e.x&&e.x<=l.x-c){const h=e.x-o.x;o.y+=s===90||s===270?0:h*Math.tan(Vt.toRad(s)),o.x+=h}return o},LD=El($D),FD=function(i,t,e,n,s){const r=i.cell.getConnectionPoint(this.cell,s);return(n.dx||n.dy)&&r.translate(n.dx||0,n.dy||0),r},jD=function(i,t,e,n){let s,r=0,o;const a=i.cell;n.rotate?(s=i.getUnrotatedBBoxOfElement(t),o=a.getBBox().getCenter(),r=a.getAngle()):s=i.getBBoxOfElement(t);const l=n.padding;l!=null&&Number.isFinite(l)&&s.inflate(l),n.rotate&&e.rotate(r,o);const c=s.getNearestSideToPoint(e);let h;switch(c){case"left":h=s.getLeftMiddle();break;case"right":h=s.getRightMiddle();break;case"top":h=s.getTopCenter();break;case"bottom":h=s.getBottomCenter();break}const f=n.direction;return f==="H"?(c==="top"||c==="bottom")&&(e.x<=s.x+s.width?h=s.getLeftMiddle():h=s.getRightMiddle()):f==="V"&&(e.y<=s.y+s.height?h=s.getTopCenter():h=s.getBottomCenter()),n.rotate?h.rotate(-r,o):h},ID=El(jD);var zD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",center:ED,top:AD,bottom:MD,left:TD,right:OD,topLeft:PD,topRight:DD,bottomLeft:kD,bottomRight:ND,orth:LD,nodeCenter:FD,midSide:ID}),Fr;(function(i){i.presets=zD,i.registry=Pe.create({type:"node endpoint"}),i.registry.register(i.presets,!0)})(Fr||(Fr={}));const RD=function(i,t,e,n){let s=n.ratio!=null?n.ratio:.5;return s>1&&(s/=100),i.getPointAtRatio(s)},BD=function(i,t,e,n){const s=n.length!=null?n.length:20;return i.getPointAtLength(s)},D0=function(i,t,e,n){const s=i.getClosestPoint(e);return s!=null?s:new k},_D=El(D0),VD=function(i,t,e,n){const s=1e6,r=i.getConnection(),o=i.getConnectionSubdivisions(),a=new bt(e.clone().translate(0,s),e.clone().translate(0,-s)),l=new bt(e.clone().translate(s,0),e.clone().translate(-s,0)),c=a.intersect(r,{segmentSubdivisions:o}),h=l.intersect(r,{segmentSubdivisions:o}),f=[];return c&&f.push(...c),h&&f.push(...h),f.length>0?e.closest(f):n.fallbackAt!=null?P0(i,n.fallbackAt):dt(D0,this,i,t,e,n)},HD=El(VD);var GD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",closest:_D,ratio:RD,length:BD,orth:HD}),jr;(function(i){i.presets=GD,i.registry=Pe.create({type:"edge endpoint"}),i.registry.register(i.presets,!0)})(jr||(jr={}));function Al(i,t,e){let n;if(typeof e=="object"){if(Number.isFinite(e.y)){const r=new bt(t,i),{start:o,end:a}=r.parallel(e.y);t=o,i=a}n=e.x}else n=e;if(n==null||!Number.isFinite(n))return i;const s=i.distance(t);return n===0&&s>0?i:i.move(t,-Math.min(n,s-1))}function Ml(i){const t=i.getAttribute("stroke-width");return t===null?0:parseFloat(t)||0}function UD(i){if(i==null)return null;let t=i;do{let e=t.tagName;if(typeof e!="string")return null;if(e=e.toUpperCase(),e==="G")t=t.firstElementChild;else if(e==="TITLE")t=t.nextElementSibling;else break}while(t);return t}const k0=function(i,t,e,n){const s=t.getBBoxOfElement(e);n.stroked&&s.inflate(Ml(e)/2);const r=i.intersect(s),o=r&&r.length?i.start.closest(r):i.end;return Al(o,i.start,n.offset)},qD=function(i,t,e,n,s){const r=t.cell,o=r.isNode()?r.getAngle():0;if(o===0)return dt(k0,this,i,t,e,n,s);const a=t.getUnrotatedBBoxOfElement(e);n.stroked&&a.inflate(Ml(e)/2);const l=a.getCenter(),c=i.clone().rotate(o,l),h=c.setLength(1e6).intersect(a),f=h&&h.length?c.start.closest(h).rotate(-o,l):i.end;return Al(f,i.start,n.offset)},WD=function(i,t,e,n){let s,r;const o=i.end,a=n.selector;if(typeof a=="string"?s=t.findOne(a):Array.isArray(a)?s=jh(e,a):s=UD(e),!ko(s)){if(s===e||!ko(e))return o;s=e}const l=t.getShapeOfElement(s),c=t.getMatrixOfElement(s),h=t.getRootTranslatedMatrix(),f=t.getRootRotatedMatrix(),d=h.multiply(f).multiply(c),p=d.inverse(),y=JT(i,p),v=y.start.clone(),x=t.getDataOfElement(s);if(n.insideout===!1){x.shapeBBox==null&&(x.shapeBBox=l.bbox());const D=x.shapeBBox;if(D!=null&&D.containsPoint(v))return o}n.extrapolate===!0&&y.setLength(1e6);let w;if(St.isPath(l)){const D=n.precision||2;x.segmentSubdivisions==null&&(x.segmentSubdivisions=l.getSegmentSubdivisions({precision:D})),w={precision:D,segmentSubdivisions:x.segmentSubdivisions},r=y.intersect(l,w)}else r=y.intersect(l);r?Array.isArray(r)&&(r=v.closest(r)):n.sticky===!0&&(st.isRectangle(l)?r=l.getNearestPointToPoint(v):zn.isEllipse(l)?r=l.intersectsWithLineFromCenterToPoint(v):r=l.closestPoint(v,w));const M=r?Ei(r,d):o;let A=n.offset||0;return n.stroked!==!1&&(typeof A=="object"?(A=Object.assign({},A),A.x==null&&(A.x=0),A.x+=Ml(s)/2):A+=Ml(s)/2),Al(M,i.start,A)};function XD(i,t,e=0){const{start:n,end:s}=i;let r,o,a,l;switch(t){case"left":l="x",r=s,o=n,a=-1;break;case"right":l="x",r=n,o=s,a=1;break;case"top":l="y",r=s,o=n,a=-1;break;case"bottom":l="y",r=n,o=s,a=1;break;default:return}n[l]<s[l]?r[l]=o[l]:o[l]=r[l],Number.isFinite(e)&&(r[l]+=a*e,o[l]+=a*e)}const YD=function(i,t,e,n){const{alignOffset:s,align:r}=n;return r&&XD(i,r,s),Al(i.end,i.start,n.offset)};var KD=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",bbox:k0,rect:qD,boundary:WD,anchor:YD}),Ir;(function(i){i.presets=KD,i.registry=Pe.create({type:"connection point"}),i.registry.register(i.presets,!0)})(Ir||(Ir={}));const JD=function(i){return[...i]},ZD=function(i,t,e){const n=t.side||"bottom",s=mn(t.padding||40),r=e.sourceBBox,o=e.targetBBox,a=r.getCenter(),l=o.getCenter();let c,h,f;switch(n){case"top":f=-1,c="y",h="height";break;case"left":f=-1,c="x",h="width";break;case"right":f=1,c="x",h="width";break;case"bottom":default:f=1,c="y",h="height";break}return a[c]+=f*(r[h]/2+s[n]),l[c]+=f*(o[h]/2+s[n]),f*(a[c]-l[c])>0?l[c]=a[c]:a[c]=l[c],[a.toJSON(),...i,l.toJSON()]};function Tl(i){return new st(i.x,i.y,0,0)}function Ol(i={}){const t=mn(i.padding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function N0(i,t={}){return i.sourceBBox.clone().moveAndExpand(Ol(t))}function $0(i,t={}){return i.targetBBox.clone().moveAndExpand(Ol(t))}function QD(i,t={}){return i.sourceAnchor?i.sourceAnchor:N0(i,t).getCenter()}function t6(i,t={}){return i.targetAnchor?i.targetAnchor:$0(i,t).getCenter()}const L0=function(i,t,e){let n=N0(e,t),s=$0(e,t);const r=QD(e,t),o=t6(e,t);n=n.union(Tl(r)),s=s.union(Tl(o));const a=i.map(h=>k.create(h));a.unshift(r),a.push(o);let l=null;const c=[];for(let h=0,f=a.length-1;h<f;h+=1){let d=null;const p=a[h],y=a[h+1],v=Bn.getBearing(p,y)!=null;if(h===0)h+1===f?n.intersectsWithRect(s.clone().inflate(1))?d=Bn.insideNode(p,y,n,s):v||(d=Bn.nodeToNode(p,y,n,s)):n.containsPoint(y)?d=Bn.insideNode(p,y,n,Tl(y).moveAndExpand(Ol(t))):v||(d=Bn.nodeToVertex(p,y,n));else if(h+1===f){const x=v&&Bn.getBearing(y,p)===l;s.containsPoint(p)||x?d=Bn.insideNode(p,y,Tl(p).moveAndExpand(Ol(t)),s,l):v||(d=Bn.vertexToNode(p,y,s,l))}else v||(d=Bn.vertexToVertex(p,y,l));d?(c.push(...d.points),l=d.direction):l=Bn.getBearing(p,y),h+1<f&&c.push(y)}return c};var Bn;(function(i){const t={N:"S",S:"N",E:"W",W:"E"},e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function n(f,d,p){let y=new k(f.x,d.y);return p.containsPoint(y)&&(y=new k(d.x,f.y)),y}function s(f,d){return f[d==="W"||d==="E"?"width":"height"]}i.getBBoxSize=s;function r(f,d){return f.x===d.x?f.y>d.y?"N":"S":f.y===d.y?f.x>d.x?"W":"E":null}i.getBearing=r;function o(f,d,p){const y=new k(f.x,d.y),v=new k(d.x,f.y),x=r(f,y),w=r(f,v),M=p?t[p]:null,A=x===p||x!==M&&(w===M||w!==p)?y:v;return{points:[A],direction:r(A,d)}}i.vertexToVertex=o;function a(f,d,p){const y=n(f,d,p);return{points:[y],direction:r(y,d)}}i.nodeToVertex=a;function l(f,d,p,y){const v=[new k(f.x,d.y),new k(d.x,f.y)],x=v.filter(A=>!p.containsPoint(A)),w=x.filter(A=>r(A,f)!==y);let M;if(w.length>0)return M=w.filter(A=>r(f,A)===y).pop(),M=M||w[0],{points:[M],direction:r(M,d)};{M=qA(v,x)[0];const A=k.create(d).move(M,-s(p,y)/2);return{points:[n(A,f,p),A],direction:r(A,d)}}}i.vertexToNode=l;function c(f,d,p,y){let v=a(d,f,y);const x=v.points[0];if(p.containsPoint(x)){v=a(f,d,p);const w=v.points[0];if(y.containsPoint(w)){const M=k.create(f).move(w,-s(p,r(f,w))/2),A=k.create(d).move(x,-s(y,r(d,x))/2),D=new bt(M,A).getCenter(),N=a(f,D,p),m=o(D,d,N.direction);v.points=[N.points[0],m.points[0]],v.direction=m.direction}}return v}i.nodeToNode=c;function h(f,d,p,y,v){const x=p.union(y).inflate(1),w=x.getCenter(),M=w.distance(d)>w.distance(f),A=M?d:f,D=M?f:d;let N,m,P;v?(N=k.fromPolar(x.width+x.height,e[v],A),N=x.getNearestPointToPoint(N).move(N,-1)):N=x.getNearestPointToPoint(A).move(A,1),m=n(N,D,x);let $;N.round().equals(m.round())?(m=k.fromPolar(x.width+x.height,Vt.toRad(N.theta(A))+Math.PI/2,D),m=x.getNearestPointToPoint(m).move(D,1).round(),P=n(N,m,x),$=M?[m,P,N]:[N,P,m]):$=M?[m,N]:[N,m];const V=r(M?N:m,d);return{points:$,direction:V}}i.insideNode=h})(Bn||(Bn={}));const e6={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeShapes:[],excludeHiddenNodes:!1,startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost(){return Qi(this.step,this)},directions(){const i=Qi(this.step,this),t=Qi(this.cost,this);return[{cost:t,offsetX:i,offsetY:0},{cost:t,offsetX:0,offsetY:i},{cost:t,offsetX:-i,offsetY:0},{cost:t,offsetX:0,offsetY:-i}]},penalties(){const i=Qi(this.step,this);return{0:0,45:i/2,90:i/2}},paddingBox(){const i=Qi(this.step,this);return{x:-i,y:-i,width:2*i,height:2*i}},fallbackRouter:L0,draggingRouter:null};function Qi(i,t){return typeof i=="function"?i.call(t):i}function n6(i){const t=Object.keys(i).reduce((e,n)=>{const s=e;return n==="fallbackRouter"||n==="draggingRouter"||n==="fallbackRoute"?s[n]=i[n]:s[n]=Qi(i[n],i),e},{});if(t.padding){const e=mn(t.padding);i.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}return t.directions.forEach(e=>{const n=new k(0,0),s=new k(e.offsetX,e.offsetY);e.angle=Vt.normalize(n.theta(s))}),t}const F0=1,j0=2;class i6{constructor(){this.items=[],this.hash={},this.values={}}add(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=F0,this.values[t]=e;const n=NM(this.items,t,s=>this.values[s]);this.items.splice(n,0,t)}pop(){const t=this.items.shift();return t&&(this.hash[t]=j0),t}isOpen(t){return this.hash[t]===F0}isClose(t){return this.hash[t]===j0}isEmpty(){return this.items.length===0}}class s6{constructor(t){this.options=t,this.mapGridSize=100,this.map={}}build(t,e){const n=this.options,s=n.excludeTerminals.reduce((c,h)=>{const f=e[h];if(f){const d=t.getCell(f.cell);d&&c.push(d)}return c},[]);let r=[];const o=t.getCell(e.getSourceCellId());o&&(r=l2(r,o.getAncestors().map(c=>c.id)));const a=t.getCell(e.getTargetCellId());a&&(r=l2(r,a.getAncestors().map(c=>c.id)));const l=this.mapGridSize;return t.getNodes().reduce((c,h)=>{const f=h.shape,d=n.excludeShapes,p=f?d.includes(f):!1,y=s.some(M=>M.id===h.id),v=r.includes(h.id),x=n.excludeHiddenNodes&&!h.isVisible();if(!(p||y||v||x)){const M=h.getBBox().moveAndExpand(n.paddingBox),A=M.getOrigin().snapToGrid(l),D=M.getCorner().snapToGrid(l);for(let N=A.x;N<=D.x;N+=l)for(let m=A.y;m<=D.y;m+=l){const P=new k(N,m).toString();c[P]==null&&(c[P]=[]),c[P].push(M)}}return c},this.map),this}isAccessible(t){const e=t.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[e];return n?n.every(s=>!s.containsPoint(t)):!0}}function I0(i,t){const e=i.sourceBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function z0(i,t){const e=i.targetBBox.clone();return t&&t.paddingBox?e.moveAndExpand(t.paddingBox):e}function R0(i,t){return i.sourceAnchor?i.sourceAnchor:I0(i,t).getCenter()}function r6(i,t){return i.targetAnchor?i.targetAnchor:z0(i,t).getCenter()}function bu(i,t,e,n,s){const r=360/e,o=i.theta(o6(i,t,n,s)),a=Vt.normalize(o+r/2);return r*Math.floor(a/r)}function o6(i,t,e,n){const s=n.step,r=t.x-i.x,o=t.y-i.y,a=r/e.x,l=o/e.y,c=a*s,h=l*s;return new k(i.x+c,i.y+h)}function B0(i,t){const e=Math.abs(i-t);return e>180?360-e:e}function a6(i,t){const e=t.step;return t.directions.forEach(n=>{n.gridOffsetX=n.offsetX/e*i.x,n.gridOffsetY=n.offsetY/e*i.y}),t.directions}function l6(i,t,e){return{source:t.clone(),x:_0(e.x-t.x,i),y:_0(e.y-t.y,i)}}function _0(i,t){if(!i)return t;const e=Math.abs(i),n=Math.round(e/t);if(!n)return e;const s=n*t,o=(e-s)/n;return t+o}function c6(i,t){const e=t.source,n=Le.snapToGrid(i.x-e.x,t.x)+e.x,s=Le.snapToGrid(i.y-e.y,t.y)+e.y;return new k(n,s)}function Ho(i,t){return i.round(t)}function Pl(i,t,e){return Ho(c6(i.clone(),t),e)}function Go(i){return i.toString()}function yu(i){return new k(i.x===0?0:Math.abs(i.x)/i.x,i.y===0?0:Math.abs(i.y)/i.y)}function V0(i,t){let e=1/0;for(let n=0,s=t.length;n<s;n+=1){const r=i.manhattanDistance(t[n]);r<e&&(e=r)}return e}function H0(i,t,e,n,s){const r=s.precision,o=s.directionMap,a=i.diff(t.getCenter()),l=Object.keys(o).reduce((c,h)=>{if(e.includes(h)){const f=o[h],d=new k(i.x+f.x*(Math.abs(a.x)+t.width),i.y+f.y*(Math.abs(a.y)+t.height)),y=new bt(i,d).intersect(t)||[];let v,x=null;for(let w=0;w<y.length;w+=1){const M=y[w],A=i.squaredDistance(M);(v==null||A>v)&&(v=A,x=M)}if(x){let w=Pl(x,n,r);t.containsPoint(w)&&(w=Pl(w.translate(f.x*n.x,f.y*n.y),n,r)),c.push(w)}}return c},[]);return t.containsPoint(i)||l.push(Pl(i,n,r)),l}function h6(i,t,e,n,s){const r=[];let o=yu(s.diff(e)),a=Go(e),l=i[a],c;for(;l;){c=t[a];const d=yu(c.diff(l));d.equals(o)||(r.unshift(c),o=d),a=Go(l),l=i[a]}const h=t[a];return yu(h.diff(n)).equals(o)||r.unshift(h),r}function u6(i,t,e,n,s){const r=s.precision;let o,a;st.isRectangle(t)?o=Ho(R0(i,s).clone(),r):o=Ho(t.clone(),r),st.isRectangle(e)?a=Ho(r6(i,s).clone(),r):a=Ho(e.clone(),r);const l=l6(s.step,o,a),c=o,h=a;let f,d;if(st.isRectangle(t)?f=H0(c,t,s.startDirections,l,s):f=[c],st.isRectangle(e)?d=H0(a,e,s.endDirections,l,s):d=[h],f=f.filter(p=>n.isAccessible(p)),d=d.filter(p=>n.isAccessible(p)),f.length>0&&d.length>0){const p=new i6,y={},v={},x={};for(let G=0,X=f.length;G<X;G+=1){const H=f[G],ft=Go(H);p.add(ft,V0(H,d)),y[ft]=H,x[ft]=0}const w=s.previousDirectionAngle,M=w===void 0;let A,D;const N=a6(l,s),m=N.length,P=d.reduce((G,X)=>{const H=Go(X);return G.push(H),G},[]),$=k.equalPoints(f,d);let V=s.maxLoopCount;for(;!p.isEmpty()&&V>0;){const G=p.pop(),X=y[G],H=v[G],ft=x[G],yt=X.equals(c),U=H==null;let K;if(U?M?yt?K=null:K=bu(c,X,m,l,s):K=w:K=bu(H,X,m,l,s),!(U&&$)&&P.indexOf(G)>=0)return s.previousDirectionAngle=K,h6(v,y,X,c,h);for(let vt=0;vt<m;vt+=1){A=N[vt];const It=A.angle;if(D=B0(K,It),!(M&&yt)&&D>s.maxDirectionChange)continue;const ie=Pl(X.clone().translate(A.gridOffsetX||0,A.gridOffsetY||0),l,r),ht=Go(ie);if(p.isClose(ht)||!n.isAccessible(ie))continue;if(P.indexOf(ht)>=0&&!ie.equals(h)){const Ae=bu(ie,h,m,l,s);if(B0(It,Ae)>s.maxDirectionChange)continue}const jt=A.cost,$t=yt?0:s.penalties[D],Nt=ft+jt+$t;(!p.isOpen(ht)||Nt<x[ht])&&(y[ht]=ie,v[ht]=X,x[ht]=Nt,p.add(ht,Nt+V0(ie,d)))}V-=1}}return s.fallbackRoute?dt(s.fallbackRoute,this,c,h,s):null}const f6=function(i,t,e){const n=n6(t),s=I0(e,n),r=z0(e,n),o=R0(e,n),a=new s6(n).build(e.graph.model,e.cell),l=i.map(p=>k.create(p)),c=[];let h=o,f,d;for(let p=0,y=l.length;p<=y;p+=1){let v=null;if(f=d||s,d=l[p],d==null){d=r;const w=e.cell;if((w.getSourceCellId()==null||w.getTargetCellId()==null)&&typeof n.draggingRouter=="function"){const A=f===s?o:f,D=d.getOrigin();v=dt(n.draggingRouter,e,A,D,n)}}if(v==null&&(v=u6(e,f,d,a,n)),v===null)return dt(n.fallbackRouter,this,i,n,e);const x=v[0];x&&x.equals(h)&&v.shift(),h=v[v.length-1]||h,c.push(...v)}return c},G0=function(i,t,e){return dt(f6,this,i,Object.assign(Object.assign({},e6),t),e)},d6={maxDirectionChange:45,directions(){const i=Qi(this.step,this),t=Qi(this.cost,this),e=Math.ceil(Math.sqrt(i*i<<1));return[{cost:t,offsetX:i,offsetY:0},{cost:e,offsetX:i,offsetY:i},{cost:t,offsetX:0,offsetY:i},{cost:e,offsetX:-i,offsetY:i},{cost:t,offsetX:-i,offsetY:0},{cost:e,offsetX:-i,offsetY:-i},{cost:t,offsetX:0,offsetY:-i},{cost:e,offsetX:i,offsetY:-i}]},fallbackRoute(i,t,e){const n=i.theta(t),s=[];let r={x:t.x,y:i.y},o={x:i.x,y:t.y};if(n%180>90){const A=r;r=o,o=A}const a=n%90<45?r:o,l=new bt(i,a),c=90*Math.ceil(n/90),h=k.fromPolar(l.squaredLength(),Vt.toRad(c+135),a),f=new bt(t,h),d=l.intersectsWithLine(f),p=d||t,y=d?p:i,v=360/e.directions.length,x=y.theta(t),w=Vt.normalize(x+v/2),M=v*Math.floor(w/v);return e.previousDirectionAngle=M,p&&s.push(p.round()),s.push(t),s}},g6=function(i,t,e){return dt(G0,this,i,Object.assign(Object.assign({},d6),t),e)},p6=function(i,t,e){const n=t.offset||32,s=t.min==null?16:t.min;let r=0,o=t.direction;const a=e.sourceBBox,l=e.targetBBox,c=a.getCenter(),h=l.getCenter();if(typeof n=="number"&&(r=n),o==null){let w=l.left-a.right,M=l.top-a.bottom;w>=0&&M>=0?o=w>=M?"L":"T":w<=0&&M>=0?(w=a.left-l.right,w>=0?o=w>=M?"R":"T":o="T"):w>=0&&M<=0?(M=a.top-l.bottom,M>=0?o=w>=M?"L":"B":o="L"):(w=a.left-l.right,M=a.top-l.bottom,w>=0&&M>=0?o=w>=M?"R":"B":w<=0&&M>=0?o="B":w>=0&&M<=0?o="R":o=Math.abs(w)>Math.abs(M)?"R":"B")}o==="H"?o=h.x-c.x>=0?"L":"R":o==="V"&&(o=h.y-c.y>=0?"T":"B"),n==="center"&&(o==="L"?r=(l.left-a.right)/2:o==="R"?r=(a.left-l.right)/2:o==="T"?r=(l.top-a.bottom)/2:o==="B"&&(r=(a.top-l.bottom)/2));let f,d,p;const y=o==="L"||o==="R";if(y){if(h.y===c.y)return[...i];p=o==="L"?1:-1,f="x",d="width"}else{if(h.x===c.x)return[...i];p=o==="T"?1:-1,f="y",d="height"}const v=c.clone(),x=h.clone();if(v[f]+=p*(a[d]/2+r),x[f]-=p*(l[d]/2+r),y){const w=v.x,M=x.x,A=a.width/2+s,D=l.width/2+s;h.x>c.x?M<=w&&(v.x=Math.max(M,c.x+A),x.x=Math.min(w,h.x-D)):M>=w&&(v.x=Math.min(M,c.x-A),x.x=Math.max(w,h.x+D))}else{const w=v.y,M=x.y,A=a.height/2+s,D=l.height/2+s;h.y>c.y?M<=w&&(v.y=Math.max(M,c.y+A),x.y=Math.min(w,h.y-D)):M>=w&&(v.y=Math.min(M,c.y-A),x.y=Math.max(w,h.y+D))}return[v.toJSON(),...i,x.toJSON()]};function zr(i,t){if(t!=null&&t!==!1){const e=typeof t=="boolean"?0:t;if(e>0){const n=k.create(i[1]).move(i[2],e),s=k.create(i[1]).move(i[0],e);return[n.toJSON(),...i,s.toJSON()]}{const n=i[1];return[Object.assign({},n),...i,Object.assign({},n)]}}return i}const m6=function(i,t,e){const n=t.width||50,r=(t.height||80)/2,o=t.angle||"auto",a=e.sourceAnchor,l=e.targetAnchor,c=e.sourceBBox,h=e.targetBBox;if(a.equals(l)){const f=w=>{const M=Vt.toRad(w),A=Math.sin(M),D=Math.cos(M),N=new k(a.x+D*n,a.y+A*n),m=new k(N.x-D*r,N.y-A*r),P=m.clone().rotate(-90,N),$=m.clone().rotate(90,N);return[P.toJSON(),N.toJSON(),$.toJSON()]},d=w=>{const M=a.clone().move(w,-1),A=new bt(M,w);return!c.containsPoint(w)&&!c.intersectsWithLine(A)},p=[0,90,180,270,45,135,225,315];if(typeof o=="number")return zr(f(o),t.merge);const y=c.getCenter();if(y.equals(a))return zr(f(0),t.merge);const v=y.angleBetween(a,y.clone().translate(1,0));let x=f(v);if(d(x[1]))return zr(x,t.merge);for(let w=1,M=p.length;w<M;w+=1)if(x=f(v+p[w]),d(x[1]))return zr(x,t.merge);return zr(x,t.merge)}{const f=new bt(a,l);let d=f.parallel(-n),p=d.getCenter(),y=d.start.clone().move(d.end,r),v=d.end.clone().move(d.start,r);const x=f.parallel(-1),w=new bt(x.start,p),M=new bt(x.end,p);if((c.containsPoint(p)||h.containsPoint(p)||c.intersectsWithLine(w)||c.intersectsWithLine(M)||h.intersectsWithLine(w)||h.intersectsWithLine(M))&&(d=f.parallel(n),p=d.getCenter(),y=d.start.clone().move(d.end,r),v=d.end.clone().move(d.start,r)),t.merge){const A=new bt(a,l),D=new bt(p,A.center).setLength(Number.MAX_SAFE_INTEGER),N=c.intersectsWithLine(D),m=h.intersectsWithLine(D),P=N?Array.isArray(N)?N:[N]:[];m&&(Array.isArray(m)?P.push(...m):P.push(m));const $=A.center.closest(P);$?(e.sourceAnchor=$.clone(),e.targetAnchor=$.clone()):(e.sourceAnchor=A.center.clone(),e.targetAnchor=A.center.clone())}return zr([y.toJSON(),p.toJSON(),v.toJSON()],t.merge)}};var b6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",normal:JD,oneSide:ZD,orth:L0,metro:g6,manhattan:G0,er:p6,loop:m6}),ts;(function(i){i.presets=b6,i.registry=Pe.create({type:"router"}),i.registry.register(i.presets,!0)})(ts||(ts={}));const y6=function(i,t,e,n={}){const s=[i,...e,t],r=new Re(s),o=new St(r);return n.raw?o:o.serialize()},C6=function(i,t,e,n={}){const s=e.length===3?0:1,r=k.create(e[0+s]),o=k.create(e[2+s]),a=k.create(e[1+s]);if(!k.equals(i,t)){const c=new k((i.x+t.x)/2,(i.y+t.y)/2),h=c.angleBetween(k.create(i).rotate(90,c),a);h>1&&(r.rotate(180-h,c),o.rotate(180-h,c),a.rotate(180-h,c))}const l=`
     M ${i.x} ${i.y}
     Q ${r.x} ${r.y} ${a.x} ${a.y}
     Q ${o.x} ${o.y} ${t.x} ${t.y}
  `;return n.raw?St.parse(l):l},v6=function(i,t,e,n={}){const s=new St;s.appendSegment(St.createSegment("M",i));const r=1/3,o=2/3,a=n.radius||10;let l,c;for(let h=0,f=e.length;h<f;h+=1){const d=k.create(e[h]),p=e[h-1]||i,y=e[h+1]||t;l=c||d.distance(p)/2,c=d.distance(y)/2;const v=-Math.min(a,l),x=-Math.min(a,c),w=d.clone().move(p,v).round(),M=d.clone().move(y,x).round(),A=new k(r*w.x+o*d.x,o*d.y+r*w.y),D=new k(r*M.x+o*d.x,o*d.y+r*M.y);s.appendSegment(St.createSegment("L",w)),s.appendSegment(St.createSegment("C",A,D,M))}return s.appendSegment(St.createSegment("L",t)),n.raw?s:s.serialize()},x6=function(i,t,e,n={}){let s,r=n.direction;if(e&&e.length!==0){const o=[i,...e,t],a=Oe.throughPoints(o);s=new St(a)}else if(s=new St,s.appendSegment(St.createSegment("M",i)),r||(r=Math.abs(i.x-t.x)>=Math.abs(i.y-t.y)?"H":"V"),r==="H"){const o=(i.x+t.x)/2;s.appendSegment(St.createSegment("C",o,i.y,o,t.y,t.x,t.y))}else{const o=(i.y+t.y)/2;s.appendSegment(St.createSegment("C",i.x,o,t.x,o,t.x,t.y))}return n.raw?s:s.serialize()},U0=1,Dl=1/3,kl=2/3;function w6(i){let t=i.graph._jumpOverUpdateList;if(t==null&&(t=i.graph._jumpOverUpdateList=[],i.graph.on("cell:mouseup",()=>{const e=i.graph._jumpOverUpdateList;for(let n=0;n<e.length;n+=1)e[n].update()}),i.graph.on("model:reseted",()=>{t=i.graph._jumpOverUpdateList=[]})),t.indexOf(i)<0){t.push(i);const e=()=>t.splice(t.indexOf(i),1);i.cell.once("change:connector",e),i.cell.once("removed",e)}}function Cu(i,t,e=[]){const n=[i,...e,t],s=[];return n.forEach((r,o)=>{const a=n[o+1];a!=null&&s.push(new bt(r,a))}),s}function S6(i,t){const e=[];return t.forEach(n=>{const s=i.intersectsWithLine(n);s&&e.push(s)}),e}function q0(i,t){return new bt(i,t).squaredLength()}function E6(i,t,e){return t.reduce((n,s,r)=>{if(Nl.includes(s))return n;const o=n.pop()||i,a=k.create(s).move(o.start,-e);let l=k.create(s).move(o.start,+e);const c=t[r+1];if(c!=null){const d=l.distance(c);d<=e&&(l=c.move(o.start,d),Nl.push(c))}else if(a.distance(o.end)<e*2+U0)return n.push(o),n;if(l.distance(o.start)<e*2+U0)return n.push(o),n;const f=new bt(a,l);return Uo.push(f),n.push(new bt(o.start,a),f,new bt(l,o.end)),n},[])}function W0(i,t,e,n){const s=new St;let r;return r=St.createSegment("M",i[0].start),s.appendSegment(r),i.forEach((o,a)=>{if(Uo.includes(o)){let l,c,h,f;if(e==="arc"){l=-90,c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(l+=180);const p=o.getCenter(),y=new bt(p,o.end).rotate(l,p);let v;v=new bt(o.start,p),h=v.pointAt(2/3).rotate(l,o.start),f=y.pointAt(1/3).rotate(-l,y.end),r=St.createSegment("C",h,f,y.end),s.appendSegment(r),v=new bt(p,o.end),h=y.pointAt(1/3).rotate(l,y.end),f=v.pointAt(1/3).rotate(-l,o.end),r=St.createSegment("C",h,f,o.end),s.appendSegment(r)}else if(e==="gap")r=St.createSegment("M",o.end),s.appendSegment(r);else if(e==="cubic"){l=o.start.theta(o.end);const d=t*.6;let p=t*1.35;c=o.start.diff(o.end),(c.x<0||c.x===0&&c.y<0)&&(p*=-1),h=new k(o.start.x+d,o.start.y+p).rotate(l,o.start),f=new k(o.end.x-d,o.end.y+p).rotate(l,o.end),r=St.createSegment("C",h,f,o.end),s.appendSegment(r)}}else{const l=i[a+1];n===0||!l||Uo.includes(l)?(r=St.createSegment("L",o.end),s.appendSegment(r)):A6(n,s,o.end,o.start,l.end)}}),s}function A6(i,t,e,n,s){const r=e.distance(n)/2,o=e.distance(s)/2,a=-Math.min(i,r),l=-Math.min(i,o),c=e.clone().move(n,a).round(),h=e.clone().move(s,l).round(),f=new k(Dl*c.x+kl*e.x,kl*e.y+Dl*c.y),d=new k(Dl*h.x+kl*e.x,kl*e.y+Dl*h.y);let p;p=St.createSegment("L",c),t.appendSegment(p),p=St.createSegment("C",f,d,h),t.appendSegment(p)}let Uo,Nl;const M6=function(i,t,e,n={}){Uo=[],Nl=[],w6(this);const s=n.size||5,r=n.type||"arc",o=n.radius||0,a=n.ignoreConnectors||["smooth"],l=this.graph,h=l.model.getEdges();if(h.length===1)return W0(Cu(i,t,e),s,r,o);const f=this.cell,d=h.indexOf(f),p=l.options.connecting.connector||{},y=h.filter((D,N)=>{const m=D.getConnector()||p;return a.includes(m.name)?!1:N>d?m.name!=="jumpover":!0}),v=y.map(D=>l.renderer.findViewByCell(D)),x=Cu(i,t,e),w=v.map(D=>D==null?[]:D===this?x:Cu(D.sourcePoint,D.targetPoint,D.routePoints)),M=[];x.forEach(D=>{const N=y.reduce((m,P,$)=>{if(P!==f){const V=S6(D,w[$]);m.push(...V)}return m},[]).sort((m,P)=>q0(D.start,m)-q0(D.start,P));N.length>0?M.push(...E6(D,N,s)):M.push(D)});const A=W0(M,s,r,o);return Uo=[],Nl=[],n.raw?A:A.serialize()};var T6=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",normal:y6,loop:C6,rounded:v6,smooth:x6,jumpover:M6}),Is;(function(i){i.presets=T6,i.registry=Pe.create({type:"connector"}),i.registry.register(i.presets,!0)})(Is||(Is={}));Pe.create;class qo{constructor(t){this.cell=t,this.ids={},this.cache={}}get(){return Object.keys(this.ids)}start(t,e,n={},s="/"){const r=this.cell.getPropByPath(t),o=$A(n,qo.defaultOptions),a=this.getTiming(o.timing),l=this.getInterp(o.interp,r,e);let c=0;const h=Array.isArray(t)?t.join(s):t,f=Array.isArray(t)?t:t.split(s),d=()=>{const p=new Date().getTime();c===0&&(c=p);let v=(p-c)/o.duration;v<1?this.ids[h]=eu(d):v=1;const x=l(a(v));this.cell.setPropByPath(f,x),n.progress&&n.progress(Object.assign({progress:v,currentValue:x},this.getArgs(h))),v===1&&(this.cell.notify("transition:end",this.getArgs(h)),this.cell.notify("transition:complete",this.getArgs(h)),n.complete&&n.complete(this.getArgs(h)),this.cell.notify("transition:finish",this.getArgs(h)),n.finish&&n.finish(this.getArgs(h)),this.clean(h))};return setTimeout(()=>{this.stop(t,void 0,s),this.cache[h]={startValue:r,targetValue:e,options:o},this.ids[h]=eu(d),this.cell.notify("transition:begin",this.getArgs(h)),this.cell.notify("transition:start",this.getArgs(h)),n.start&&n.start(this.getArgs(h))},n.delay),this.stop.bind(this,t,s,n)}stop(t,e={},n="/"){const s=Array.isArray(t)?t:t.split(n);return Object.keys(this.ids).filter(r=>ri(s,r.split(n).slice(0,s.length))).forEach(r=>{nu(this.ids[r]);const o=this.cache[r],a=this.getArgs(r),l=Object.assign(Object.assign({},o.options),e),c=l.jumpedToEnd;c&&o.targetValue!=null&&(this.cell.setPropByPath(r,o.targetValue),this.cell.notify("transition:end",Object.assign({},a)),this.cell.notify("transition:complete",Object.assign({},a)),l.complete&&l.complete(Object.assign({},a)));const h=Object.assign({jumpedToEnd:c},a);this.cell.notify("transition:stop",Object.assign({},h)),l.stop&&l.stop(Object.assign({},h)),this.cell.notify("transition:finish",Object.assign({},a)),l.finish&&l.finish(Object.assign({},a)),this.clean(r)}),this}clean(t){delete this.ids[t],delete this.cache[t]}getTiming(t){return typeof t=="string"?Ls[t]:t}getInterp(t,e,n){return t?t(e,n):typeof n=="number"?Fs.number(e,n):typeof n=="string"?n[0]==="#"?Fs.color(e,n):Fs.unit(e,n):Fs.object(e,n)}getArgs(t){const e=this.cache[t];return{path:t,startValue:e.startValue,targetValue:e.targetValue,cell:this.cell}}}(function(i){i.defaultOptions={delay:10,duration:100,timing:"linear"}})(qo||(qo={}));var O6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class X0 extends tn{constructor(t={}){super();this.pending=!1,this.changing=!1,this.data={},this.mutate(Te(t)),this.changed={}}mutate(t,e={}){const n=e.unset===!0,s=e.silent===!0,r=[],o=this.changing;this.changing=!0,o||(this.previous=Te(this.data),this.changed={});const a=this.data,l=this.previous,c=this.changed;if(Object.keys(t).forEach(h=>{const f=h,d=t[f];ri(a[f],d)||r.push(f),ri(l[f],d)?delete c[f]:c[f]=d,n?delete a[f]:a[f]=d}),!s&&r.length>0&&(this.pending=!0,this.pendingOptions=e,r.forEach(h=>{this.emit("change:*",{key:h,options:e,store:this,current:a[h],previous:l[h]})})),o)return this;if(!s)for(;this.pending;)this.pending=!1,this.emit("changed",{current:a,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}get(t,e){if(t==null)return this.data;const n=this.data[t];return n==null?e:n}getPrevious(t){if(this.previous){const e=this.previous[t];return e==null?void 0:e}}set(t,e,n){return t!=null&&(typeof t=="object"?this.mutate(t,e):this.mutate({[t]:e},n)),this}remove(t,e){const n=void 0,s={};let r;if(typeof t=="string")s[t]=n,r=e;else if(Array.isArray(t))t.forEach(o=>s[o]=n),r=e;else{for(const o in this.data)s[o]=n;r=t}return this.mutate(s,Object.assign(Object.assign({},r),{unset:!0})),this}getByPath(t){return jh(this.data,t,"/")}setByPath(t,e,n={}){const s="/",r=Array.isArray(t)?[...t]:t.split(s),o=Array.isArray(t)?t.join(s):t,a=r[0],l=r.length;if(n.propertyPath=o,n.propertyValue=e,n.propertyPathArray=r,l===1)this.set(a,e,n);else{const c={};let h=c,f=a;for(let y=1;y<l;y+=1){const v=r[y],x=Number.isFinite(Number(v));h=h[f]=x?[]:{},f=v}vr(c,r,e,s);const d=Te(this.data);n.rewrite&&u2(d,t,s);const p=pe(d,c);this.set(a,p[a],n)}return this}removeByPath(t,e){const n=Array.isArray(t)?t:t.split("/"),s=n[0];if(n.length===1)this.remove(s,e);else{const r=n.slice(1),o=Te(this.get(s));o&&u2(o,r),this.set(s,o,e)}return this}hasChanged(t){return t==null?Object.keys(this.changed).length>0:t in this.changed}getChanges(t){if(t==null)return this.hasChanged()?Te(this.changed):null;const e=this.changing?this.previous:this.data,n={};let s;for(const r in t){const o=t[r];ri(e[r],o)||(n[r]=o,s=!0)}return s?Te(n):null}toJSON(){return Te(this.data)}clone(){const t=this.constructor;return new t(this.data)}dispose(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}O6([tn.dispose()],X0.prototype,"dispose",null);var P6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},Y0=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Gt extends tn{constructor(t={}){super();const n=this.constructor.getDefaults(!0),s=pe({},this.preprocess(n),this.preprocess(t));this.id=s.id||Rh(),this.store=new X0(s),this.animation=new qo(this),this.setup(),this.init(),this.postprocess(t)}static config(t){const{markup:e,propHooks:n,attrHooks:s}=t,r=Y0(t,["markup","propHooks","attrHooks"]);e!=null&&(this.markup=e),n&&(this.propHooks=this.propHooks.slice(),Array.isArray(n)?this.propHooks.push(...n):typeof n=="function"?this.propHooks.push(n):Object.keys(n).forEach(o=>{const a=n[o];typeof a=="function"&&this.propHooks.push(a)})),s&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),s)),this.defaults=pe({},this.defaults,r)}static getMarkup(){return this.markup}static getDefaults(t){return t?this.defaults:Te(this.defaults)}static getAttrHooks(){return this.attrHooks}static applyPropHooks(t,e){return this.propHooks.reduce((n,s)=>s?dt(s,t,n):n,e)}get[Symbol.toStringTag](){return Gt.toStringTag}init(){}get model(){return this._model}set model(t){this._model!==t&&(this._model=t)}preprocess(t,e){const n=t.id,r=this.constructor.applyPropHooks(this,t);return n==null&&e!==!0&&(r.id=Rh()),r}postprocess(t){}setup(){this.store.on("change:*",t=>{const{key:e,current:n,previous:s,options:r}=t;this.notify("change:*",{key:e,options:r,current:n,previous:s,cell:this}),this.notify(`change:${e}`,{options:r,current:n,previous:s,cell:this});const o=e;(o==="source"||o==="target")&&this.notify("change:terminal",{type:o,current:n,previous:s,options:r,cell:this})}),this.store.on("changed",({options:t})=>this.notify("changed",{options:t,cell:this}))}notify(t,e){this.trigger(t,e);const n=this.model;return n&&(n.notify(`cell:${t}`,e),this.isNode()?n.notify(`node:${t}`,Object.assign(Object.assign({},e),{node:this})):this.isEdge()&&n.notify(`edge:${t}`,Object.assign(Object.assign({},e),{edge:this}))),this}isNode(){return!1}isEdge(){return!1}isSameStore(t){return this.store===t.store}get view(){return this.store.get("view")}get shape(){return this.store.get("shape","")}getProp(t,e){return t==null?this.store.get():this.store.get(t,e)}setProp(t,e,n){if(typeof t=="string")this.store.set(t,e,n);else{const s=this.preprocess(t,!0);this.store.set(pe({},this.getProp(),s),e),this.postprocess(t)}return this}removeProp(t,e){return typeof t=="string"||Array.isArray(t)?this.store.removeByPath(t,e):this.store.remove(e),this}hasChanged(t){return t==null?this.store.hasChanged():this.store.hasChanged(t)}getPropByPath(t){return this.store.getByPath(t)}setPropByPath(t,e,n={}){return this.model&&(t==="children"?this._children=e?e.map(s=>this.model.getCell(s)).filter(s=>s!=null):null:t==="parent"&&(this._parent=e?this.model.getCell(e):null)),this.store.setByPath(t,e,n),this}removePropByPath(t,e={}){const n=Array.isArray(t)?t:t.split("/");return n[0]==="attrs"&&(e.dirty=!0),this.store.removeByPath(n,e),this}prop(t,e,n){return t==null?this.getProp():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getPropByPath(t):e==null?this.removePropByPath(t,n||{}):this.setPropByPath(t,e,n||{}):this.setProp(t,e||{})}previous(t){return this.store.getPrevious(t)}get zIndex(){return this.getZIndex()}set zIndex(t){t==null?this.removeZIndex():this.setZIndex(t)}getZIndex(){return this.store.get("zIndex")}setZIndex(t,e={}){return this.store.set("zIndex",t,e),this}removeZIndex(t={}){return this.store.remove("zIndex",t),this}toFront(t={}){const e=this.model;if(e){let n=e.getMaxZIndex(),s;t.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this],n=n-s.length+1;const r=e.total();let o=e.indexOf(this)!==r-s.length;o||(o=s.some((a,l)=>a.getZIndex()!==n+l)),o&&this.batchUpdate("to-front",()=>{n+=s.length,s.forEach((a,l)=>{a.setZIndex(n+l,t)})})}return this}toBack(t={}){const e=this.model;if(e){let n=e.getMinZIndex(),s;t.deep?(s=this.getDescendants({deep:!0,breadthFirst:!0}),s.unshift(this)):s=[this];let r=e.indexOf(this)!==0;r||(r=s.some((o,a)=>o.getZIndex()!==n+a)),r&&this.batchUpdate("to-back",()=>{n-=s.length,s.forEach((o,a)=>{o.setZIndex(n+a,t)})})}return this}get markup(){return this.getMarkup()}set markup(t){t==null?this.removeMarkup():this.setMarkup(t)}getMarkup(){let t=this.store.get("markup");return t==null&&(t=this.constructor.getMarkup()),t}setMarkup(t,e={}){return this.store.set("markup",t,e),this}removeMarkup(t={}){return this.store.remove("markup",t),this}get attrs(){return this.getAttrs()}set attrs(t){t==null?this.removeAttrs():this.setAttrs(t)}getAttrs(){const t=this.store.get("attrs");return t?Object.assign({},t):{}}setAttrs(t,e={}){if(t==null)this.removeAttrs(e);else{const n=s=>this.store.set("attrs",s,e);if(e.overwrite===!0)n(t);else{const s=this.getAttrs();e.deep===!1?n(Object.assign(Object.assign({},s),t)):n(pe({},s,t))}}return this}replaceAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateAttrs(t,e={}){return this.setAttrs(t,Object.assign(Object.assign({},e),{deep:!1}))}removeAttrs(t={}){return this.store.remove("attrs",t),this}getAttrDefinition(t){if(!t)return null;const n=this.constructor.getAttrHooks()||{};let s=n[t]||li.registry.get(t);if(!s){const r=xh(t);s=n[r]||li.registry.get(r)}return s||null}getAttrByPath(t){return t==null||t===""?this.getAttrs():this.getPropByPath(this.prefixAttrPath(t))}setAttrByPath(t,e,n={}){return this.setPropByPath(this.prefixAttrPath(t),e,n),this}removeAttrByPath(t,e={}){return this.removePropByPath(this.prefixAttrPath(t),e),this}prefixAttrPath(t){return Array.isArray(t)?["attrs"].concat(t):`attrs/${t}`}attr(t,e,n){return t==null?this.getAttrByPath():typeof t=="string"||Array.isArray(t)?arguments.length===1?this.getAttrByPath(t):e==null?this.removeAttrByPath(t,n||{}):this.setAttrByPath(t,e,n||{}):this.setAttrs(t,e||{})}get visible(){return this.isVisible()}set visible(t){this.setVisible(t)}setVisible(t,e={}){return this.store.set("visible",t,e),this}isVisible(){return this.store.get("visible")!==!1}show(t={}){return this.isVisible()||this.setVisible(!0,t),this}hide(t={}){return this.isVisible()&&this.setVisible(!1,t),this}toggleVisible(t,e={}){const n=typeof t=="boolean"?t:!this.isVisible(),s=typeof t=="boolean"?e:t;return n?this.show(s):this.hide(s),this}get data(){return this.getData()}set data(t){this.setData(t)}getData(){return this.store.get("data")}setData(t,e={}){if(t==null)this.removeData(e);else{const n=s=>this.store.set("data",s,e);if(e.overwrite===!0)n(t);else{const s=this.getData();e.deep===!1?n(typeof t=="object"?Object.assign(Object.assign({},s),t):t):n(pe({},s,t))}}return this}replaceData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{overwrite:!0}))}updateData(t,e={}){return this.setData(t,Object.assign(Object.assign({},e),{deep:!1}))}removeData(t={}){return this.store.remove("data",t),this}get parent(){return this.getParent()}get children(){return this.getChildren()}getParentId(){return this.store.get("parent")}getParent(){const t=this.getParentId();if(t&&this.model){const e=this.model.getCell(t);return this._parent=e,e}return null}getChildren(){const t=this.store.get("children");if(t&&t.length&&this.model){const e=t.map(n=>{var s;return(s=this.model)===null||s===void 0?void 0:s.getCell(n)}).filter(n=>n!=null);return this._children=e,[...e]}return null}hasParent(){return this.parent!=null}isParentOf(t){return t!=null&&t.getParent()===this}isChildOf(t){return t!=null&&this.getParent()===t}eachChild(t,e){return this.children&&this.children.forEach(t,e),this}filterChild(t,e){return this.children?this.children.filter(t,e):[]}getChildCount(){return this.children==null?0:this.children.length}getChildIndex(t){return this.children==null?-1:this.children.indexOf(t)}getChildAt(t){return this.children!=null&&t>=0?this.children[t]:null}getAncestors(t={}){const e=[];let n=this.getParent();for(;n;)e.push(n),n=t.deep!==!1?n.getParent():null;return e}getDescendants(t={}){if(t.deep!==!1){if(t.breadthFirst){const e=[],n=this.getChildren()||[];for(;n.length>0;){const s=n.shift(),r=s.getChildren();e.push(s),r&&n.push(...r)}return e}{const e=this.getChildren()||[];return e.forEach(n=>{e.push(...n.getDescendants(t))}),e}}return this.getChildren()||[]}isDescendantOf(t,e={}){if(t==null)return!1;if(e.deep!==!1){let n=this.getParent();for(;n;){if(n===t)return!0;n=n.getParent()}return!1}return this.isChildOf(t)}isAncestorOf(t,e={}){return t==null?!1:t.isDescendantOf(this,e)}contains(t){return this.isAncestorOf(t)}getCommonAncestor(...t){return Gt.getCommonAncestor(this,...t)}setParent(t,e={}){return this._parent=t,t?this.store.set("parent",t.id,e):this.store.remove("parent",e),this}setChildren(t,e={}){return this._children=t,t!=null?this.store.set("children",t.map(n=>n.id),e):this.store.remove("children",e),this}unembed(t,e={}){const n=this.children;if(n!=null&&t!=null){const s=this.getChildIndex(t);s!==-1&&(n.splice(s,1),t.setParent(null,e),this.setChildren(n,e))}return this}embed(t,e={}){return t.addTo(this,e),this}addTo(t,e={}){return Gt.isCell(t)?t.addChild(this,e):t.addCell(this,e),this}insertTo(t,e,n={}){return t.insertChild(this,e,n),this}addChild(t,e={}){return this.insertChild(t,void 0,e)}insertChild(t,e,n={}){if(t!=null&&t!==this){const s=t.getParent(),r=this!==s;let o=e;if(o==null&&(o=this.getChildCount(),r||(o-=1)),s){const l=s.getChildren();if(l){const c=l.indexOf(t);c>=0&&(t.setParent(null,n),l.splice(c,1),s.setChildren(l,n))}}let a=this.children;if(a==null?(a=[],a.push(t)):a.splice(o,0,t),t.setParent(this,n),this.setChildren(a,n),r&&this.model){const l=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);l&&l.forEach(h=>h.updateParent(n)),c&&c.forEach(h=>h.updateParent(n))}this.model&&this.model.addCell(t,n)}return this}removeFromParent(t={}){const e=this.getParent();if(e!=null){const n=e.getChildIndex(this);e.removeChildAt(n,t)}return this}removeChild(t,e={}){const n=this.getChildIndex(t);return this.removeChildAt(n,e)}removeChildAt(t,e={}){const n=this.getChildAt(t);return this.children!=null&&n!=null&&(this.unembed(n,e),n.remove(e)),n}remove(t={}){return this.batchUpdate("remove",()=>{const e=this.getParent();e&&e.removeChild(this,t),t.deep!==!1&&this.eachChild(n=>n.remove(t)),this.model&&this.model.removeCell(this,t)}),this}transition(t,e,n={},s="/"){return this.animation.start(t,e,n,s)}stopTransition(t,e,n="/"){return this.animation.stop(t,e,n),this}getTransitions(){return this.animation.get()}translate(t,e,n){return this}scale(t,e,n,s){return this}addTools(t,e,n){const s=Array.isArray(t)?t:[t],r=typeof e=="string"?e:null,o=typeof e=="object"?e:typeof n=="object"?n:{};if(o.reset)return this.setTools({name:r,items:s,local:o.local},o);let a=Te(this.getTools());if(a==null||r==null||a.name===r)return a==null&&(a={}),a.items||(a.items=[]),a.name=r,a.items=[...a.items,...s],this.setTools(Object.assign({},a),o)}setTools(t,e={}){return t==null?this.removeTools():this.store.set("tools",Gt.normalizeTools(t),e),this}getTools(){return this.store.get("tools")}removeTools(t={}){return this.store.remove("tools",t),this}hasTools(t){const e=this.getTools();return e==null?!1:t==null?!0:e.name===t}hasTool(t){const e=this.getTools();return e==null?!1:e.items.some(n=>typeof n=="string"?n===t:n.name===t)}removeTool(t,e={}){const n=Te(this.getTools());if(n){let s=!1;const r=n.items.slice(),o=a=>{r.splice(a,1),s=!0};if(typeof t=="number")o(t);else for(let a=r.length-1;a>=0;a-=1){const l=r[a];(typeof l=="string"?l===t:l.name===t)&&o(a)}s&&(n.items=r,this.setTools(n,e))}return this}getBBox(t){return new st}getConnectionPoint(t,e){return new k}toJSON(t={}){const e=Object.assign({},this.store.get()),n=Object.prototype.toString,s=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!e.shape){const y=this.constructor;throw new Error(`Unable to serialize ${s} missing "shape" prop, check the ${s} "${y.name||n.call(y)}"`)}const r=this.constructor,o=t.diff===!0,a=e.attrs||{},l=r.getDefaults(!0),c=o?this.preprocess(l,!0):l,h=c.attrs||{},f={};Object.keys(e).forEach(y=>{const v=e[y];if(v!=null&&!Array.isArray(v)&&typeof v=="object"&&!Dn(v))throw new Error(`Can only serialize ${s} with plain-object props, but got a "${n.call(v)}" type of key "${y}" on ${s} "${this.id}"`);if(y!=="attrs"&&y!=="shape"&&o){const x=c[y];ri(v,x)&&delete e[y]}}),Object.keys(a).forEach(y=>{const v=a[y],x=h[y];Object.keys(v).forEach(w=>{const M=v[w],A=x?x[w]:null;M!=null&&typeof M=="object"&&!Array.isArray(M)?Object.keys(M).forEach(D=>{const N=M[D];if(x==null||A==null||!Fe(A)||!ri(A[D],N)){f[y]==null&&(f[y]={}),f[y][w]==null&&(f[y][w]={});const m=f[y][w];m[D]=N}}):(x==null||!ri(A,M))&&(f[y]==null&&(f[y]={}),f[y][w]=M)})});const d=Object.assign(Object.assign({},e),{attrs:Zp(f)?void 0:f});d.attrs==null&&delete d.attrs;const p=d;return p.angle===0&&delete p.angle,Te(p)}clone(t={}){if(!t.deep){const n=Object.assign({},this.store.get());t.keepId||delete n.id,delete n.parent,delete n.children;const s=this.constructor;return new s(n)}return Gt.deepClone(this)[this.id]}findView(t){return t.renderer.findViewByCell(this)}startBatch(t,e={},n=this.model){return this.notify("batch:start",{name:t,data:e,cell:this}),n&&n.startBatch(t,Object.assign(Object.assign({},e),{cell:this})),this}stopBatch(t,e={},n=this.model){return n&&n.stopBatch(t,Object.assign(Object.assign({},e),{cell:this})),this.notify("batch:stop",{name:t,data:e,cell:this}),this}batchUpdate(t,e,n){const s=this.model;this.startBatch(t,n,s);const r=e();return this.stopBatch(t,n,s),r}dispose(){this.removeFromParent(),this.store.dispose()}}Gt.defaults={};Gt.attrHooks={};Gt.propHooks=[];P6([tn.dispose()],Gt.prototype,"dispose",null);(function(i){function t(e){return typeof e=="string"?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}i.normalizeTools=t})(Gt||(Gt={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"}i.isCell=t})(Gt||(Gt={}));(function(i){function t(...r){const o=r.filter(l=>l!=null).map(l=>l.getAncestors()).sort((l,c)=>l.length-c.length);return o.shift().find(l=>o.every(c=>c.includes(l)))||null}i.getCommonAncestor=t;function e(r,o={}){let a=null;for(let l=0,c=r.length;l<c;l+=1){const h=r[l];let f=h.getBBox(o);if(f){if(h.isNode()){const d=h.getAngle();d!=null&&d!==0&&(f=f.bbox(d))}a=a==null?f:a.union(f)}}return a}i.getCellsBBox=e;function n(r){const o=[r,...r.getDescendants({deep:!0})];return i.cloneCells(o)}i.deepClone=n;function s(r){const o=c2(r),a=o.reduce((l,c)=>(l[c.id]=c.clone(),l),{});return o.forEach(l=>{const c=a[l.id];if(c.isEdge()){const d=c.getSourceCellId(),p=c.getTargetCellId();d&&a[d]&&c.setSource(Object.assign(Object.assign({},c.getSource()),{cell:a[d].id})),p&&a[p]&&c.setTarget(Object.assign(Object.assign({},c.getTarget()),{cell:a[p].id}))}const h=l.getParent();h&&a[h.id]&&c.setParent(a[h.id]);const f=l.getChildren();if(f&&f.length){const d=f.reduce((p,y)=>(a[y.id]&&p.push(a[y.id]),p),[]);d.length>0&&c.setChildren(d)}}),a}i.cloneCells=s})(Gt||(Gt={}));(function(i){i.config({propHooks(t){var{tools:e}=t,n=Y0(t,["tools"]);return e&&(n.tools=i.normalizeTools(e)),n}})})(Gt||(Gt={}));var Rr;(function(i){let t,e;function n(o,a){return a?t!=null&&t.exist(o):e!=null&&e.exist(o)}i.exist=n;function s(o){t=o}i.setEdgeRegistry=s;function r(o){e=o}i.setNodeRegistry=r})(Rr||(Rr={}));class D6{constructor(t){this.ports=[],this.groups={},this.init(Te(t))}getPorts(){return this.ports}getGroup(t){return t!=null?this.groups[t]:null}getPortsByGroup(t){return this.ports.filter(e=>e.group===t||e.group==null&&t==null)}getPortsLayoutByGroup(t,e){const n=this.getPortsByGroup(t),s=t?this.getGroup(t):null,r=s?s.position:null,o=r?r.name:null;let a;if(o!=null){const f=$s.registry.get(o);if(f==null)return $s.registry.onNotFound(o);a=f}else a=$s.presets.left;const l=n.map(f=>f&&f.position&&f.position.args||{}),c=r&&r.args||{};return a(l,e,c).map((f,d)=>{const p=n[d];return{portLayout:f,portId:p.id,portSize:p.size,portAttrs:p.attrs,labelSize:p.label.size,labelLayout:this.getPortLabelLayout(p,k.create(f.position),e)}})}init(t){const{groups:e,items:n}=t;e!=null&&Object.keys(e).forEach(s=>{this.groups[s]=this.parseGroup(e[s])}),Array.isArray(n)&&n.forEach(s=>{this.ports.push(this.parsePort(s))})}parseGroup(t){return Object.assign(Object.assign({},t),{label:this.getLabel(t,!0),position:this.getPortPosition(t.position,!0)})}parsePort(t){const e=Object.assign({},t),n=this.getGroup(t.group)||{};return e.markup=e.markup||n.markup,e.attrs=pe({},n.attrs,e.attrs),e.position=this.createPosition(n,e),e.label=pe({},n.label,this.getLabel(e)),e.zIndex=this.getZIndex(n,e),e.size=Object.assign(Object.assign({},n.size),e.size),e}getZIndex(t,e){return typeof e.zIndex=="number"?e.zIndex:typeof t.zIndex=="number"||t.zIndex==="auto"?t.zIndex:"auto"}createPosition(t,e){return pe({name:"left",args:{}},t.position,{args:e.args})}getPortPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(Array.isArray(t))return{name:"absolute",args:{x:t[0],y:t[1]}};if(typeof t=="object")return t}return{args:{}}}getPortLabelPosition(t,e=!1){if(t==null){if(e)return{name:"left",args:{}}}else{if(typeof t=="string")return{name:t,args:{}};if(typeof t=="object")return t}return{args:{}}}getLabel(t,e=!1){const n=t.label||{};return n.position=this.getPortLabelPosition(n.position,e),n}getPortLabelLayout(t,e,n){const s=t.label.position.name||"left",r=t.label.position.args||{},o=Dr.registry.get(s)||Dr.presets.left;return o?o(e,n,r):null}}var $l=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class we extends Gt{constructor(t={}){super(t);this.initPorts()}get[Symbol.toStringTag](){return we.toStringTag}preprocess(t,e){const{x:n,y:s,width:r,height:o}=t,a=$l(t,["x","y","width","height"]);if(n!=null||s!=null){const l=a.position;a.position=Object.assign(Object.assign({},l),{x:n!=null?n:l?l.x:0,y:s!=null?s:l?l.y:0})}if(r!=null||o!=null){const l=a.size;a.size=Object.assign(Object.assign({},l),{width:r!=null?r:l?l.width:0,height:o!=null?o:l?l.height:0})}return super.preprocess(a,e)}isNode(){return!0}size(t,e,n){return t===void 0?this.getSize():typeof t=="number"?this.setSize(t,e,n):this.setSize(t,e)}getSize(){const t=this.store.get("size");return t?Object.assign({},t):{width:1,height:1}}setSize(t,e,n){return typeof t=="object"?this.resize(t.width,t.height,e):this.resize(t,e,n),this}resize(t,e,n={}){this.startBatch("resize",n);const s=n.direction;if(s){const r=this.getSize();switch(s){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}let a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[s];const l=Vt.normalize(this.getAngle()||0);n.absolute&&(a+=Math.floor((l+45)/90),a%=4);const c=this.getBBox();let h;a===0?h=c.getBottomLeft():a===1?h=c.getCorner():a===2?h=c.getTopRight():h=c.getOrigin();const f=h.clone().rotate(-l,c.getCenter()),d=Math.sqrt(t*t+e*e)/2;let p=a*Math.PI/2;p+=Math.atan(a%2==0?e/t:t/e),p-=Vt.toRad(l);const v=k.fromPolar(d,p,f).clone().translate(t/-2,e/-2);this.store.set("size",{width:t,height:e},n),this.setPosition(v.x,v.y,n)}else this.store.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this}scale(t,e,n,s={}){const r=this.getBBox().scale(t,e,n==null?void 0:n);return this.startBatch("scale",s),this.setPosition(r.x,r.y,s),this.resize(r.width,r.height,s),this.stopBatch("scale"),this}position(t,e,n){return typeof t=="number"?this.setPosition(t,e,n):this.getPosition(t)}getPosition(t={}){if(t.relative){const n=this.getParent();if(n!=null&&n.isNode()){const s=this.getPosition(),r=n.getPosition();return{x:s.x-r.x,y:s.y-r.y}}}const e=this.store.get("position");return e?Object.assign({},e):{x:0,y:0}}setPosition(t,e,n={}){let s,r,o;if(typeof t=="object"?(s=t.x,r=t.y,o=e||{}):(s=t,r=e,o=n||{}),o.relative){const a=this.getParent();if(a!=null&&a.isNode()){const l=a.getPosition();s+=l.x,r+=l.y}}if(o.deep){const a=this.getPosition();this.translate(s-a.x,r-a.y,o)}else this.store.set("position",{x:s,y:r},o);return this}translate(t=0,e=0,n={}){if(t===0&&e===0)return this;n.translateBy=n.translateBy||this.id;const s=this.getPosition();if(n.restrict!=null&&n.translateBy===this.id){const o=this.getBBox({deep:!0}),a=n.restrict,l=s.x-o.x,c=s.y-o.y,h=Math.max(a.x+l,Math.min(a.x+a.width+l-o.width,s.x+t)),f=Math.max(a.y+c,Math.min(a.y+a.height+c-o.height,s.y+e));t=h-s.x,e=f-s.y}const r={x:s.x+t,y:s.y+e};return n.tx=t,n.ty=e,n.transition?(typeof n.transition!="object"&&(n.transition={}),this.transition("position",r,Object.assign(Object.assign({},n.transition),{interp:Fs.object})),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)})):(this.startBatch("translate",n),this.store.set("position",r,n),this.eachChild(o=>{var a;((a=n.exclude)===null||a===void 0?void 0:a.includes(o))||o.translate(t,e,n)}),this.stopBatch("translate",n)),this}angle(t,e){return t==null?this.getAngle():this.rotate(t,e)}getAngle(){return this.store.get("angle",0)}rotate(t,e={}){const n=this.getAngle();if(e.center){const s=this.getSize(),r=this.getPosition(),o=this.getBBox().getCenter();o.rotate(n-t,e.center);const a=o.x-s.width/2-r.x,l=o.y-s.height/2-r.y;this.startBatch("rotate",{angle:t,options:e}),this.setPosition(r.x+a,r.y+l,e),this.rotate(t,Object.assign(Object.assign({},e),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",e.absolute?t:(n+t)%360,e);return this}getBBox(t={}){if(t.deep){const e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),Gt.getCellsBBox(e)}return st.fromPositionAndSize(this.getPosition(),this.getSize())}getConnectionPoint(t,e){const n=this.getBBox(),s=n.getCenter(),r=t.getTerminal(e);if(r==null)return s;const o=r.port;if(!o||!this.hasPort(o))return s;const a=this.getPort(o);if(!a||!a.group)return s;const c=this.getPortsPosition(a.group)[o].position,h=k.create(c).translate(n.getOrigin()),f=this.getAngle();return f&&h.rotate(-f,s),h}fit(t={}){const n=(this.getChildren()||[]).filter(c=>c.isNode());if(n.length===0)return this;this.startBatch("fit-embeds",t),t.deep&&n.forEach(c=>c.fit(t));let{x:s,y:r,width:o,height:a}=Gt.getCellsBBox(n);const l=mn(t.padding);return s-=l.left,r-=l.top,o+=l.left+l.right,a+=l.bottom+l.top,this.store.set({position:{x:s,y:r},size:{width:o,height:a}},t),this.stopBatch("fit-embeds"),this}get portContainerMarkup(){return this.getPortContainerMarkup()}set portContainerMarkup(t){this.setPortContainerMarkup(t)}getDefaultPortContainerMarkup(){return this.store.get("defaultPortContainerMarkup")||Wt.getPortContainerMarkup()}getPortContainerMarkup(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}setPortContainerMarkup(t,e={}){return this.store.set("portContainerMarkup",Wt.clone(t),e),this}get portMarkup(){return this.getPortMarkup()}set portMarkup(t){this.setPortMarkup(t)}getDefaultPortMarkup(){return this.store.get("defaultPortMarkup")||Wt.getPortMarkup()}getPortMarkup(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}setPortMarkup(t,e={}){return this.store.set("portMarkup",Wt.clone(t),e),this}get portLabelMarkup(){return this.getPortLabelMarkup()}set portLabelMarkup(t){this.setPortLabelMarkup(t)}getDefaultPortLabelMarkup(){return this.store.get("defaultPortLabelMarkup")||Wt.getPortLabelMarkup()}getPortLabelMarkup(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}setPortLabelMarkup(t,e={}){return this.store.set("portLabelMarkup",Wt.clone(t),e),this}get ports(){const t=this.store.get("ports",{items:[]});return t.items==null&&(t.items=[]),t}getPorts(){return Te(this.ports.items)}getPortsByGroup(t){return this.getPorts().filter(e=>e.group===t)}getPort(t){return Te(this.ports.items.find(e=>e.id&&e.id===t))}getPortAt(t){return this.ports.items[t]||null}hasPorts(){return this.ports.items.length>0}hasPort(t){return this.getPortIndex(t)!==-1}getPortIndex(t){const e=typeof t=="string"?t:t.id;return e!=null?this.ports.items.findIndex(n=>n.id===e):-1}getPortsPosition(t){const e=this.getSize();return this.port.getPortsLayoutByGroup(t,new st(0,0,e.width,e.height)).reduce((s,r)=>{const o=r.portLayout;return s[r.portId]={position:Object.assign({},o.position),angle:o.angle||0},s},{})}getPortProp(t,e){return this.getPropByPath(this.prefixPortPath(t,e))}setPortProp(t,e,n,s){if(typeof e=="string"||Array.isArray(e)){const a=this.prefixPortPath(t,e),l=n;return this.setPropByPath(a,l,s)}const r=this.prefixPortPath(t),o=e;return this.setPropByPath(r,o,n)}removePortProp(t,e,n){return typeof e=="string"||Array.isArray(e)?this.removePropByPath(this.prefixPortPath(t,e),n):this.removePropByPath(this.prefixPortPath(t),e)}portProp(t,e,n,s){return e==null?this.getPortProp(t):typeof e=="string"||Array.isArray(e)?arguments.length===2?this.getPortProp(t,e):n==null?this.removePortProp(t,e,s):this.setPortProp(t,e,n,s):this.setPortProp(t,e,n)}prefixPortPath(t,e){const n=this.getPortIndex(t);if(n===-1)throw new Error(`Unable to find port with id: "${t}"`);return e==null||e===""?["ports","items",`${n}`]:Array.isArray(e)?["ports","items",`${n}`,...e]:`ports/items/${n}/${e}`}addPort(t,e){const n=[...this.ports.items];return n.push(t),this.setPropByPath("ports/items",n,e),this}addPorts(t,e){return this.setPropByPath("ports/items",[...this.ports.items,...t],e),this}removePort(t,e={}){return this.removePortAt(this.getPortIndex(t),e)}removePortAt(t,e={}){if(t>=0){const n=[...this.ports.items];n.splice(t,1),e.rewrite=!0,this.setPropByPath("ports/items",n,e)}return this}removePorts(t,e){let n;if(Array.isArray(t)){if(n=e||{},t.length){n.rewrite=!0;const r=[...this.ports.items].filter(o=>!t.some(a=>{const l=typeof a=="string"?a:a.id;return o.id===l}));this.setPropByPath("ports/items",r,n)}}else n=t||{},n.rewrite=!0,this.setPropByPath("ports/items",[],n);return this}getParsedPorts(){return this.port.getPorts()}getParsedGroups(){return this.port.groups}getPortsLayoutByGroup(t,e){return this.port.getPortsLayoutByGroup(t,e)}initPorts(){this.updatePortData(),this.on("change:ports",()=>{this.processRemovedPort(),this.updatePortData()})}processRemovedPort(){const t=this.ports,e={};t.items.forEach(o=>{o.id&&(e[o.id]=!0)});const n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach(o=>{o.id&&!e[o.id]&&(n[o.id]=!0)});const r=this.model;r&&!Zp(n)&&(r.getConnectedEdges(this,{incoming:!0}).forEach(l=>{const c=l.getTargetPortId();c&&n[c]&&l.remove()}),r.getConnectedEdges(this,{outgoing:!0}).forEach(l=>{const c=l.getSourcePortId();c&&n[c]&&l.remove()}))}validatePorts(){const t={},e=[];return this.ports.items.forEach(n=>{typeof n!="object"&&e.push(`Invalid port ${n}.`),n.id==null&&(n.id=this.generatePortId()),t[n.id]&&e.push("Duplicitied port id."),t[n.id]=!0}),e}generatePortId(){return Rh()}updatePortData(){const t=this.validatePorts();if(t.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(t.join(" "));const e=this.port?this.port.getPorts():null;this.port=new D6(this.ports);const n=this.port.getPorts(),s=e?n.filter(o=>e.find(a=>a.id===o.id)?null:o):[...n],r=e?e.filter(o=>n.find(a=>a.id===o.id)?null:o):[];s.length>0&&this.notify("ports:added",{added:s,cell:this,node:this}),r.length>0&&this.notify("ports:removed",{removed:r,cell:this,node:this})}}we.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}};(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.size=="function"&&typeof s.position=="function"}i.isNode=t})(we||(we={}));(function(i){i.config({propHooks(t){var{ports:e}=t,n=$l(t,["ports"]);return e&&(n.ports=Array.isArray(e)?{items:e}:e),n}})})(we||(we={}));(function(i){i.registry=Pe.create({type:"node",process(t,e){if(Rr.exist(t,!0))throw new Error(`Node with name '${t}' was registered by anthor Edge`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:s}=e,r=$l(e,["inherit"]);if(s)if(typeof s=="string"){const a=this.get(s);a==null?this.onNotFound(s,"inherited"):n=a}else n=s;r.constructorName==null&&(r.constructorName=t);const o=n.define.call(n,r);return o.config({shape:t}),o}}),Rr.setNodeRegistry(i.registry)})(we||(we={}));(function(i){let t=0;function e(r){return r?Ih(r):(t+=1,`CustomNode${t}`)}function n(r){const{constructorName:o,overwrite:a}=r,l=$l(r,["constructorName","overwrite"]),c=Fh(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function s(r){const o=r.shape||"rect",a=i.registry.get(o);return a?new a(r):i.registry.onNotFound(o)}i.create=s})(we||(we={}));var k6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Ke extends we{get label(){return this.getLabel()}set label(t){this.setLabel(t)}getLabel(){return this.getAttrByPath("text/text")}setLabel(t,e){return t==null?this.removeLabel():this.setAttrByPath("text/text",t,e),this}removeLabel(){return this.removeAttrByPath("text/text"),this}}(function(i){i.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},i.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},i.config({attrs:{text:Object.assign({},i.labelAttr)},propHooks(t){const{label:e}=t,n=k6(t,["label"]);return e&&vr(n,"attrs/text/text",e),n}})})(Ke||(Ke={}));var N6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};function $6(i,t=!1){return`<g class="rotatable"><g class="scalable"><${i}/></g>${t?"":"<text/>"}</g>`}function vu(i){return`basic.${i}`}function Wo(i="xlink:href"){return e=>{const{imageUrl:n,imageWidth:s,imageHeight:r}=e,o=N6(e,["imageUrl","imageWidth","imageHeight"]);if(n!=null||s!=null||r!=null){const a=()=>{if(o.attrs){const l=o.attrs.image;n!=null&&(l[i]=n),s!=null&&(l.width=s),r!=null&&(l.height=r),o.attrs.image=l}};o.attrs?(o.attrs.image==null&&(o.attrs.image={}),a()):(o.attrs={image:{}},a())}return o}}function hi(i,t,e={}){const n=vu(i),s={constructorName:n,attrs:{".":{fill:"#ffffff",stroke:"none"},[i]:{fill:"#ffffff",stroke:"#000000"}}};return e.ignoreMarkup||(s.markup=$6(i,e.noText===!0)),(e.parent||Ke).define(pe(s,t,{shape:n}))}hi("rect",{attrs:{rect:{width:100,height:60}}});hi("circle",{width:60,height:60,attrs:{circle:{r:30,cx:30,cy:30}}});hi("ellipse",{width:60,height:40,attrs:{ellipse:{rx:30,ry:20,cx:30,cy:20}}});hi("polygon",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});hi("polyline",{width:60,height:40,attrs:{text:{refY:null,refDy:16}}});hi("image",{attrs:{text:{refY:null,refDy:16}},propHooks:Wo()});var L6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};const K0=hi("path",{width:60,height:60,attrs:{text:{ref:"path",refY:null,refDy:16}},propHooks(i){const{d:t}=i,e=L6(i,["d"]);return t!=null&&vr(e,"attrs/path/d",t),e}});hi("rhombus",{d:"M 30 0 L 60 30 30 60 0 30 z",attrs:{text:{refY:.5,refDy:null}}},{parent:K0,ignoreMarkup:!0});hi("cylinder",{width:40,height:40,attrs:{path:{fill:"#FFFFFF",stroke:"#cbd2d7",strokeWidth:3,d:["M 0 10 C 10 5, 30 5, 40 10 C 30 15, 10 15, 0 10","L 0 20","C 10 25, 30 25, 40 20","L 40 10"].join(" ")},text:{refY:.7,refDy:null,fill:"#435460"}}},{parent:K0,ignoreMarkup:!0});var Ll=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class ye extends Gt{constructor(t={}){super(t)}get[Symbol.toStringTag](){return ye.toStringTag}preprocess(t,e){const{source:n,sourceCell:s,sourcePort:r,sourcePoint:o,target:a,targetCell:l,targetPort:c,targetPoint:h}=t,d=Ll(t,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),p=y=>typeof y=="string"||typeof y=="number";if(n!=null)if(Gt.isCell(n))d.source={cell:n.id};else if(p(n))d.source={cell:n};else if(k.isPoint(n))d.source=n.toJSON();else if(Array.isArray(n))d.source={x:n[0],y:n[1]};else{const y=n.cell;Gt.isCell(y)?d.source=Object.assign(Object.assign({},n),{cell:y.id}):d.source=n}if(s!=null||r!=null){let y=d.source;if(s!=null){const v=p(s)?s:s.id;y?y.cell=v:y=d.source={cell:v}}r!=null&&y&&(y.port=r)}else o!=null&&(d.source=k.create(o).toJSON());if(a!=null)if(Gt.isCell(a))d.target={cell:a.id};else if(p(a))d.target={cell:a};else if(k.isPoint(a))d.target=a.toJSON();else if(Array.isArray(a))d.target={x:a[0],y:a[1]};else{const y=a.cell;Gt.isCell(y)?d.target=Object.assign(Object.assign({},a),{cell:y.id}):d.target=a}if(l!=null||c!=null){let y=d.target;if(l!=null){const v=p(l)?l:l.id;y?y.cell=v:y=d.target={cell:v}}c!=null&&y&&(y.port=c)}else h!=null&&(d.target=k.create(h).toJSON());return super.preprocess(d,e)}setup(){super.setup(),this.on("change:labels",t=>this.onLabelsChanged(t)),this.on("change:vertices",t=>this.onVertexsChanged(t))}isEdge(){return!0}disconnect(t={}){return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},t),this}get source(){return this.getSource()}set source(t){this.setSource(t)}getSource(){return this.getTerminal("source")}getSourceCellId(){return this.source.cell}getSourcePortId(){return this.source.port}setSource(t,e,n={}){return this.setTerminal("source",t,e,n)}get target(){return this.getTarget()}set target(t){this.setTarget(t)}getTarget(){return this.getTerminal("target")}getTargetCellId(){return this.target.cell}getTargetPortId(){return this.target.port}setTarget(t,e,n={}){return this.setTerminal("target",t,e,n)}getTerminal(t){return Object.assign({},this.store.get(t))}setTerminal(t,e,n,s={}){if(Gt.isCell(e))return this.store.set(t,pe({},n,{cell:e.id}),s),this;const r=e;return k.isPoint(e)||r.x!=null&&r.y!=null?(this.store.set(t,pe({},n,{x:r.x,y:r.y}),s),this):(this.store.set(t,Te(e),s),this)}getSourcePoint(){return this.getTerminalPoint("source")}getTargetPoint(){return this.getTerminalPoint("target")}getTerminalPoint(t){const e=this[t];if(k.isPointLike(e))return k.create(e);const n=this.getTerminalCell(t);return n?n.getConnectionPoint(this,t):new k}getSourceCell(){return this.getTerminalCell("source")}getTargetCell(){return this.getTerminalCell("target")}getTerminalCell(t){if(this.model){const e=t==="source"?this.getSourceCellId():this.getTargetCellId();if(e)return this.model.getCell(e)}return null}getSourceNode(){return this.getTerminalNode("source")}getTargetNode(){return this.getTerminalNode("target")}getTerminalNode(t){let e=this;const n={};for(;e&&e.isEdge();){if(n[e.id])return null;n[e.id]=!0,e=e.getTerminalCell(t)}return e&&e.isNode()?e:null}get router(){return this.getRouter()}set router(t){t==null?this.removeRouter():this.setRouter(t)}getRouter(){return this.store.get("router")}setRouter(t,e,n){return typeof t=="object"?this.store.set("router",t,e):this.store.set("router",{name:t,args:e},n),this}removeRouter(t={}){return this.store.remove("router",t),this}get connector(){return this.getConnector()}set connector(t){t==null?this.removeConnector():this.setConnector(t)}getConnector(){return this.store.get("connector")}setConnector(t,e,n){return typeof t=="object"?this.store.set("connector",t,e):this.store.set("connector",{name:t,args:e},n),this}removeConnector(t={}){return this.store.remove("connector",t)}get strategy(){return this.getStrategy()}set strategy(t){t==null?this.removeStrategy():this.setStrategy(t)}getStrategy(){return this.store.get("strategy")}setStrategy(t,e,n){return typeof t=="object"?this.store.set("strategy",t,e):this.store.set("strategy",{name:t,args:e},n),this}removeStrategy(t={}){return this.store.remove("strategy",t)}getDefaultLabel(){const t=this.constructor,e=this.store.get("defaultLabel")||t.defaultLabel||{};return Te(e)}get labels(){return this.getLabels()}set labels(t){this.setLabels(t)}getLabels(){return[...this.store.get("labels",[])].map(t=>this.parseLabel(t))}setLabels(t,e={}){return this.store.set("labels",Array.isArray(t)?t:[t],e),this}insertLabel(t,e,n={}){const s=this.getLabels(),r=s.length;let o=e!=null&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),s.splice(o,0,this.parseLabel(t)),this.setLabels(s,n)}appendLabel(t,e={}){return this.insertLabel(t,-1,e)}getLabelAt(t){const e=this.getLabels();return t!=null&&Number.isFinite(t)?this.parseLabel(e[t]):null}setLabelAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const s=this.getLabels();s[t]=this.parseLabel(e),this.setLabels(s,n)}return this}removeLabelAt(t,e={}){const n=this.getLabels(),s=t!=null&&Number.isFinite(t)?t:-1,r=n.splice(s,1);return this.setLabels(n,e),r.length?r[0]:null}parseLabel(t){return typeof t=="string"?this.constructor.parseStringLabel(t):t}onLabelsChanged({previous:t,current:e}){const n=t&&e?e.filter(r=>t.find(o=>r===o||ri(r,o))?null:r):e?[...e]:[],s=t&&e?t.filter(r=>e.find(o=>r===o||ri(r,o))?null:r):t?[...t]:[];n.length>0&&this.notify("labels:added",{added:n,cell:this,edge:this}),s.length>0&&this.notify("labels:removed",{removed:s,cell:this,edge:this})}get vertexMarkup(){return this.getVertexMarkup()}set vertexMarkup(t){this.setVertexMarkup(t)}getDefaultVertexMarkup(){return this.store.get("defaultVertexMarkup")||Wt.getEdgeVertexMarkup()}getVertexMarkup(){return this.store.get("vertexMarkup")||this.getDefaultVertexMarkup()}setVertexMarkup(t,e={}){return this.store.set("vertexMarkup",Wt.clone(t),e),this}get vertices(){return this.getVertices()}set vertices(t){this.setVertices(t)}getVertices(){return[...this.store.get("vertices",[])]}setVertices(t,e={}){const n=Array.isArray(t)?t:[t];return this.store.set("vertices",n.map(s=>k.toJSON(s)),e),this}insertVertex(t,e,n={}){const s=this.getVertices(),r=s.length;let o=e!=null&&Number.isFinite(e)?e:r;return o<0&&(o=r+o+1),s.splice(o,0,k.toJSON(t)),this.setVertices(s,n)}appendVertex(t,e={}){return this.insertVertex(t,-1,e)}getVertexAt(t){return t!=null&&Number.isFinite(t)?this.getVertices()[t]:null}setVertexAt(t,e,n={}){if(t!=null&&Number.isFinite(t)){const s=this.getVertices();s[t]=e,this.setVertices(s,n)}return this}removeVertexAt(t,e={}){const n=this.getVertices(),s=t!=null&&Number.isFinite(t)?t:-1;return n.splice(s,1),this.setVertices(n,e)}onVertexsChanged({previous:t,current:e}){const n=t&&e?e.filter(r=>t.find(o=>k.equals(r,o))?null:r):e?[...e]:[],s=t&&e?t.filter(r=>e.find(o=>k.equals(r,o))?null:r):t?[...t]:[];n.length>0&&this.notify("vertexs:added",{added:n,cell:this,edge:this}),s.length>0&&this.notify("vertexs:removed",{removed:s,cell:this,edge:this})}getDefaultMarkup(){return this.store.get("defaultMarkup")||Wt.getEdgeMarkup()}getMarkup(){return super.getMarkup()||this.getDefaultMarkup()}get toolMarkup(){return this.getToolMarkup()}set toolMarkup(t){this.setToolMarkup(t)}getDefaultToolMarkup(){return this.store.get("defaultToolMarkup")||Wt.getEdgeToolMarkup()}getToolMarkup(){return this.store.get("toolMarkup")||this.getDefaultToolMarkup()}setToolMarkup(t,e={}){return this.store.set("toolMarkup",t,e),this}get doubleToolMarkup(){return this.getDoubleToolMarkup()}set doubleToolMarkup(t){this.setDoubleToolMarkup(t)}getDefaultDoubleToolMarkup(){return this.store.get("defaultDoubleToolMarkup")}getDoubleToolMarkup(){return this.store.get("doubleToolMarkup")||this.getDefaultDoubleToolMarkup()}setDoubleToolMarkup(t,e={}){return this.store.set("doubleToolMarkup",t,e),this}get arrowheadMarkup(){return this.getArrowheadMarkup()}set arrowheadMarkup(t){this.setArrowheadMarkup(t)}getDefaultArrowheadMarkup(){return this.store.get("defaultArrowheadMarkup")||Wt.getEdgeArrowheadMarkup()}getArrowheadMarkup(){return this.store.get("arrowheadMarkup")||this.getDefaultArrowheadMarkup()}setArrowheadMarkup(t,e={}){return this.store.set("arrowheadMarkup",t,e),this}translate(t,e,n={}){return n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(s=>({x:(s.x||0)+t,y:(s.y||0)+e}),n)}scale(t,e,n,s={}){return this.applyToPoints(r=>k.create(r).scale(t,e,n).toJSON(),s)}applyToPoints(t,e={}){const n={},s=this.getSource(),r=this.getTarget();k.isPointLike(s)&&(n.source=t(s)),k.isPointLike(r)&&(n.target=t(r));const o=this.getVertices();return o.length>0&&(n.vertices=o.map(t)),this.store.set(n,e),this}getBBox(){return this.getPolyline().bbox()}getConnectionPoint(){return this.getPolyline().pointAt(.5)}getPolyline(){const t=[this.getSourcePoint(),this.getTargetPoint()];return this.getVertices().forEach(n=>t.push(k.create(n))),new Re(t)}updateParent(t){let e=null;const n=this.getSourceCell(),s=this.getTargetCell(),r=this.getParent();return n&&s&&(n===s||n.isDescendantOf(s)?e=s:s.isDescendantOf(n)?e=n:e=Gt.getCommonAncestor(n,s)),r&&(!e||e.id!==r.id)&&r.unembed(this,t),e&&e.embed(this,t),e}hasLoop(t={}){const e=this.getSource(),n=this.getTarget(),s=e.cell,r=n.cell;if(!s||!r)return!1;let o=s===r;if(!o&&t.deep&&this._model){const a=this.getSourceCell(),l=this.getTargetCell();a&&l&&(o=a.isAncestorOf(l,t)||l.isAncestorOf(a,t))}return o}getFragmentAncestor(){const t=[this,this.getSourceNode(),this.getTargetNode()].filter(e=>e!=null);return this.getCommonAncestor(...t)}isFragmentDescendantOf(t){const e=this.getFragmentAncestor();return!!e&&(e.id===t.id||e.isDescendantOf(t))}}ye.defaults={};(function(i){function t(e,n){const s=e,r=n;return s.cell===r.cell?s.port===r.port||s.port==null&&r.port==null:!1}i.equalTerminals=t})(ye||(ye={}));(function(i){i.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}};function t(e){return{attrs:{label:{text:e}}}}i.parseStringLabel=t})(ye||(ye={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNode=="function"&&typeof s.isEdge=="function"&&typeof s.prop=="function"&&typeof s.attr=="function"&&typeof s.disconnect=="function"&&typeof s.getSource=="function"&&typeof s.getTarget=="function"}i.isEdge=t})(ye||(ye={}));(function(i){i.registry=Pe.create({type:"edge",process(t,e){if(Rr.exist(t,!1))throw new Error(`Edge with name '${t}' was registered by anthor Node`);if(typeof e=="function")return e.config({shape:t}),e;let n=i;const{inherit:s="edge"}=e,r=Ll(e,["inherit"]);if(typeof s=="string"){const a=this.get(s||"edge");a==null&&s?this.onNotFound(s,"inherited"):n=a}else n=s;r.constructorName==null&&(r.constructorName=t);const o=n.define.call(n,r);return o.config({shape:t}),o}}),Rr.setEdgeRegistry(i.registry)})(ye||(ye={}));(function(i){let t=0;function e(r){return r?Ih(r):(t+=1,`CustomEdge${t}`)}function n(r){const{constructorName:o,overwrite:a}=r,l=Ll(r,["constructorName","overwrite"]),c=Fh(e(o||l.shape),this);return c.config(l),l.shape&&i.registry.register(l.shape,c,a),c}i.define=n;function s(r){const o=r.shape||"edge",a=i.registry.get(o);return a?new a(r):i.registry.onNotFound(o)}i.create=s})(ye||(ye={}));(function(i){const t="basic.edge";i.config({shape:t,propHooks(e){const{label:n,vertices:s}=e,r=Ll(e,["label","vertices"]);if(n){r.labels==null&&(r.labels=[]);const o=typeof n=="string"?i.parseStringLabel(n):n;r.labels.push(o)}return s&&Array.isArray(s)&&(r.vertices=s.map(o=>k.create(o).toJSON())),r}}),i.registry.register(t,i)})(ye||(ye={}));var F6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Oi extends xe{constructor(){super(...arguments);this.POINT_ROUNDING=2,this.markerCache={}}get[Symbol.toStringTag](){return Oi.toStringTag}getContainerClassName(){return[super.getContainerClassName(),this.prefixClassName("edge")].join(" ")}get sourceBBox(){const t=this.sourceView;if(!t){const n=this.cell.getSource();return new st(n.x,n.y)}const e=this.sourceMagnet;return t.isEdgeElement(e)?new st(this.sourceAnchor.x,this.sourceAnchor.y):t.getBBoxOfElement(e||t.container)}get targetBBox(){const t=this.targetView;if(!t){const n=this.cell.getTarget();return new st(n.x,n.y)}const e=this.targetMagnet;return t.isEdgeElement(e)?new st(this.targetAnchor.x,this.targetAnchor.y):t.getBBoxOfElement(e||t.container)}isEdgeView(){return!0}confirmUpdate(t,e={}){let n=t;if(this.hasAction(n,"source")){if(!this.updateTerminalProperties("source"))return n;n=this.removeAction(n,"source")}if(this.hasAction(n,"target")){if(!this.updateTerminalProperties("target"))return n;n=this.removeAction(n,"target")}const s=this.graph,r=this.sourceView,o=this.targetView;return s&&(r&&!s.renderer.isViewMounted(r)||o&&!s.renderer.isViewMounted(o))?n:this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","vertices","labels","tools","widget"]),n):(n=this.handleAction(n,"vertices",()=>this.renderVertexMarkers()),n=this.handleAction(n,"update",()=>this.update(null,e)),n=this.handleAction(n,"labels",()=>this.onLabelsChange(e)),n=this.handleAction(n,"tools",()=>{this.renderTools(),this.updateToolsPosition()}),n=this.handleAction(n,"widget",()=>this.renderExternalTools()),n)}onLabelsChange(t={}){this.shouldRerenderLabels(t)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}shouldRerenderLabels(t={}){const e=this.cell.previous("labels");if(e==null)return!0;if("propertyPathArray"in t&&"propertyValue"in t){const n=t.propertyPathArray||[],s=n.length;if(s>1){const r=n[1];if(e[r]){if(s===2)return typeof t.propertyValue=="object"&&Do(t.propertyValue,"markup");if(n[2]!=="markup")return!1}}}return!0}render(){return this.empty(),this.containers={},this.renderMarkup(),this.renderLabels(),this.update(),this}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid edge markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container);this.selectors=e.selectors,this.container.append(e.fragment)}renderStringMarkup(t){const e=this.containers,n=mt.createVectors(t);n.forEach(s=>{const r=s.attr("class");r&&(e[xh(r)]=s.node)}),this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),No(this.container,n.map(s=>s.node))}renderLabels(){const t=this.cell,e=t.getLabels(),n=e.length;let s=this.containers.labels;if(this.labelCache={},this.labelSelectors={},n<=0)return s&&s.parentNode&&s.parentNode.removeChild(s),this;s?this.empty(s):(s=bn("g"),this.addClass(this.prefixClassName("edge-labels"),s),this.containers.labels=s);for(let r=0,o=e.length;r<o;r+=1){const a=e[r],l=this.normalizeLabelMarkup(this.parseLabelMarkup(a.markup));let c,h;if(l)c=l.node,h=l.selectors;else{const d=t.getDefaultLabel(),p=this.normalizeLabelMarkup(this.parseLabelMarkup(d.markup));c=p.node,h=p.selectors}c.setAttribute("data-index",`${r}`),s.appendChild(c);const f=this.rootSelector;if(h[f])throw new Error("Ambiguous label root selector.");h[f]=c,this.labelCache[r]=c,this.labelSelectors[r]=h}return s.parentNode==null&&this.container.appendChild(s),this.updateLabels(),this.customizeLabels(),this}parseLabelMarkup(t){return t?typeof t=="string"?this.parseLabelStringMarkup(t):this.parseJSONMarkup(t):null}parseLabelStringMarkup(t){const e=mt.createVectors(t),n=document.createDocumentFragment();for(let s=0,r=e.length;s<r;s+=1){const o=e[s].node;n.appendChild(o)}return{fragment:n,selectors:{}}}normalizeLabelMarkup(t){if(t==null)return;const e=t.fragment;if(!(e instanceof DocumentFragment)||!e.hasChildNodes())throw new Error("Invalid label markup.");let n;const s=e.childNodes;return s.length>1||s[0].nodeName.toUpperCase()!=="G"?n=mt.create("g").append(e):n=mt.create(s[0]),n.addClass(this.prefixClassName("edge-label")),{node:n.node,selectors:t.selectors}}updateLabels(){if(this.containers.labels){const t=this.cell,e=t.labels,n=this.can("edgeLabelMovable"),s=t.getDefaultLabel();for(let r=0,o=e.length;r<o;r+=1){const a=this.labelCache[r],l=this.labelSelectors[r];a.setAttribute("cursor",n?"move":"default");const c=e[r],h=pe({},s.attrs,c.attrs);this.updateAttrs(a,h,{selectors:l,rootBBox:c.size?st.fromSize(c.size):void 0})}}}mergeLabelAttrs(t,e,n){if(e===null)return null;if(e===void 0)return n===null?null:n===void 0?void 0:t?n:pe({},n);if(t)return pe({},n,e)}customizeLabels(){if(this.containers.labels){const t=this.cell,e=t.labels;for(let n=0,s=e.length;n<s;n+=1){const r=e[n],o=this.labelCache[n],a=this.labelSelectors[n];this.graph.hook.onEdgeLabelRendered({edge:t,label:r,container:o,selectors:a})}}}renderTools(){const t=this.containers.tools;if(t==null)return this;const e=this.cell.toolMarkup,n=this.$(t).empty();if(Wt.isStringMarkup(e)){let s=Cr(e);const r=mt.create(s());if(n.append(r.node),this.toolCache=r.node,this.options.doubleTools){let o;const a=this.cell.doubleToolMarkup;Wt.isStringMarkup(a)?(s=Cr(a),o=mt.create(s())):o=r.clone(),n.append(o.node),this.tool2Cache=o.node}}return this}renderExternalTools(){const t=this.cell.getTools();return this.addTools(t),this}renderVertexMarkers(){const t=this.containers.vertices;if(t==null)return this;const e=this.cell.vertexMarkup,n=this.$(t).empty();if(Wt.isStringMarkup(e)){const s=Cr(e);this.cell.getVertices().forEach((r,o)=>{n.append(mt.create(s(Object.assign({index:o},r))).node)})}return this}renderArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;const e=this.cell.arrowheadMarkup,n=this.$(t).empty();if(Wt.isStringMarkup(e)){const s=Cr(e),r=mt.create(s({end:"source"})).node,o=mt.create(s({end:"target"})).node;this.containers.sourceArrowhead=r,this.containers.targetArrowhead=o,n.append(r,o)}return this}update(t,e={}){this.cleanCache(),this.updateConnection(e);const n=this.cell.getAttrs();return n!=null&&this.updateAttrs(this.container,n,{attrs:t===n?null:t,selectors:this.selectors}),this.updateConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),e.toolId==null?this.renderExternalTools():this.updateTools(e),this}removeRedundantLinearVertices(t={}){const e=this.cell,n=e.getVertices(),s=[this.sourceAnchor,...n,this.targetAnchor],r=s.length,o=new Re(s);o.simplify({threshold:.01});const a=o.points.map(c=>c.toJSON()),l=a.length;return r===l?0:(e.setVertices(a.slice(1,l-1),t),r-l)}updateConnectionPath(){const t=this.containers;if(t.connection){const e=this.getConnectionPathData();t.connection.setAttribute("d",e)}if(t.connectionWrap){const e=this.getConnectionPathData();t.connectionWrap.setAttribute("d",e)}t.sourceMarker&&t.targetMarker&&this.translateAndAutoOrientArrows(t.sourceMarker,t.targetMarker)}getTerminalView(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalAnchor(t){switch(t){case"source":return k.create(this.sourceAnchor);case"target":return k.create(this.targetAnchor);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalConnectionPoint(t){switch(t){case"source":return k.create(this.sourcePoint);case"target":return k.create(this.targetPoint);default:throw new Error(`Unknown terminal type '${t}'`)}}getTerminalMagnet(t,e={}){switch(t){case"source":{if(e.raw)return this.sourceMagnet;const n=this.sourceView;return n?this.sourceMagnet||n.container:null}case"target":{if(e.raw)return this.targetMagnet;const n=this.targetView;return n?this.targetMagnet||n.container:null}default:throw new Error(`Unknown terminal type '${t}'`)}}updateConnection(t={}){const e=this.cell;if(t.translateBy&&e.isFragmentDescendantOf(t.translateBy)){const n=t.tx||0,s=t.ty||0;this.routePoints=new Re(this.routePoints).translate(n,s).points,this.translateConnectionPoints(n,s),this.path.translate(n,s)}else{const n=e.getVertices(),s=this.findAnchors(n);this.sourceAnchor=s.source,this.targetAnchor=s.target,this.routePoints=this.findRoutePoints(n);const r=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=r.source,this.targetPoint=r.target;const o=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,o.source||this.sourcePoint,o.target||this.targetPoint)}this.cleanCache()}findAnchors(t){const e=this.cell,n=e.source,s=e.target,r=t[0],o=t[t.length-1];return s.priority&&!n.priority?this.findAnchorsOrdered("target",o,"source",r):this.findAnchorsOrdered("source",r,"target",o)}findAnchorsOrdered(t,e,n,s){let r,o;const a=this.cell,l=a[t],c=a[n],h=this.getTerminalView(t),f=this.getTerminalView(n),d=this.getTerminalMagnet(t),p=this.getTerminalMagnet(n);if(h){let y;e?y=k.create(e):f?y=p:y=k.create(c),r=this.getAnchor(l.anchor,h,d,y,t)}else r=k.create(l);if(f){const y=k.create(s||r);o=this.getAnchor(c.anchor,f,p,y,n)}else o=k.isPointLike(c)?k.create(c):new k;return{[t]:r,[n]:o}}getAnchor(t,e,n,s,r){const o=e.isEdgeElement(n),a=this.graph.options.connecting;let l=typeof t=="string"?{name:t}:t;if(!l){const f=o?(r==="source"?a.sourceEdgeAnchor:a.targetEdgeAnchor)||a.edgeAnchor:(r==="source"?a.sourceAnchor:a.targetAnchor)||a.anchor;l=typeof f=="string"?{name:f}:f}if(!l)throw new Error("Anchor should be specified.");let c;const h=l.name;if(o){const f=jr.registry.get(h);if(typeof f!="function")return jr.registry.onNotFound(h);c=dt(f,this,e,n,s,l.args||{},r)}else{const f=Fr.registry.get(h);if(typeof f!="function")return Fr.registry.onNotFound(h);c=dt(f,this,e,n,s,l.args||{},r)}return c?c.round(this.POINT_ROUNDING):new k}findRoutePoints(t=[]){const e=this.graph.options.connecting.router||ts.presets.normal,n=this.cell.getRouter()||e;let s;if(typeof n=="function")s=dt(n,this,t,{},this);else{const r=typeof n=="string"?n:n.name,o=typeof n=="string"?{}:n.args||{},a=r?ts.registry.get(r):ts.presets.normal;if(typeof a!="function")return ts.registry.onNotFound(r);s=dt(a,this,t,o,this)}return s==null?t.map(r=>k.create(r)):s.map(r=>k.create(r))}findConnectionPoints(t,e,n){const s=this.cell,r=this.graph.options.connecting,o=s.getSource(),a=s.getTarget(),l=this.sourceView,c=this.targetView,h=t[0],f=t[t.length-1];let d;if(l&&!l.isEdgeElement(this.sourceMagnet)){const y=this.sourceMagnet||l.container,v=h||n,x=new bt(v,e),w=o.connectionPoint||r.sourceConnectionPoint||r.connectionPoint;d=this.getConnectionPoint(w,l,y,x,"source")}else d=e;let p;if(c&&!c.isEdgeElement(this.targetMagnet)){const y=this.targetMagnet||c.container,v=a.connectionPoint||r.targetConnectionPoint||r.connectionPoint,x=f||e,w=new bt(x,n);p=this.getConnectionPoint(v,c,y,w,"target")}else p=n;return{source:d,target:p}}getConnectionPoint(t,e,n,s,r){const o=s.end;if(t==null)return o;const a=typeof t=="string"?t:t.name,l=typeof t=="string"?{}:t.args,c=Ir.registry.get(a);if(typeof c!="function")return Ir.registry.onNotFound(a);const h=dt(c,this,s,e,n,l||{},r);return h?h.round(this.POINT_ROUNDING):o}updateMarkerAttr(t){const e=this.cell.getAttrs(),n=`.${t}-marker`,s=e&&e[n];s&&this.updateAttrs(this.container,{},{attrs:{[n]:s},selectors:this.selectors})}findMarkerPoints(t,e,n){const s=d=>{const p=this.cell.getAttrs(),y=Object.keys(p);for(let v=0,x=y.length;v<x;v+=1){const w=p[y[v]];if(w[`${d}Marker`]||w[`${d}-marker`]){const M=w.strokeWidth||w["stroke-width"];if(M)return parseFloat(M);break}}return null},r=t[0],o=t[t.length-1],a=this.containers.sourceMarker,l=this.containers.targetMarker,c=this.markerCache;let h,f;if(a){if(this.updateMarkerAttr("source"),c.sourceBBox=c.sourceBBox||Xe(a),c.sourceBBox.width>0){const d=Ui(a);h=e.clone().move(r||n,c.sourceBBox.width*d.sx*-1)}}else{const d=s("source");d&&(h=e.clone().move(r||n,-d))}if(l){if(this.updateMarkerAttr("target"),c.targetBBox=c.targetBBox||Xe(l),c.targetBBox.width>0){const d=Ui(l);f=n.clone().move(o||e,c.targetBBox.width*d.sx*-1)}}else{const d=s("target");d&&(f=n.clone().move(o||e,-d))}return c.sourcePoint=h||e.clone(),c.targetPoint=f||n.clone(),{source:h,target:f}}findPath(t,e,n){const s=this.cell.getConnector()||this.graph.options.connecting.connector;let r,o,a;if(typeof s=="string"?r=s:(r=s.name,o=s.args),r){const c=Is.registry.get(r);if(typeof c!="function")return Is.registry.onNotFound(r);a=c}else a=Is.presets.normal;const l=dt(a,this,e,n,t,Object.assign(Object.assign({},o),{raw:!0}),this);return typeof l=="string"?St.parse(l):l}translateConnectionPoints(t,e){const n=this.markerCache;n.sourcePoint&&n.sourcePoint.translate(t,e),n.targetPoint&&n.targetPoint.translate(t,e),this.sourcePoint.translate(t,e),this.targetPoint.translate(t,e),this.sourceAnchor.translate(t,e),this.targetAnchor.translate(t,e)}updateLabelPositions(){if(this.containers.labels==null)return this;if(!this.path)return this;const e=this.cell,n=e.getLabels();if(n.length===0)return this;const s=e.getDefaultLabel(),r=this.normalizeLabelPosition(s.position);for(let o=0,a=n.length;o<a;o+=1){const l=n[o],c=this.normalizeLabelPosition(l.position),h=pe({},r,c),f=this.getLabelTransformationMatrix(h);this.labelCache[o].setAttribute("transform",Ns(f))}return this}updateToolsPosition(){if(this.containers.tools==null)return this;let t="",e=this.options.toolsOffset;const n=this.getConnectionLength();if(n!=null){n<this.options.shortLength&&(t="scale(.5)",e/=2);let s=this.getPointAtLength(e);if(s!=null&&Zt(this.toolCache,"transform",`translate(${s.x},${s.y}) ${t}`),this.options.doubleTools&&n>=this.options.longLength){const r=this.options.doubleToolsOffset||e;s=this.getPointAtLength(n-r),s!=null&&Zt(this.tool2Cache,"transform",`translate(${s.x},${s.y}) ${t}`),Zt(this.tool2Cache,"visibility","visible")}else this.options.doubleTools&&Zt(this.tool2Cache,"visibility","hidden")}return this}updateArrowheadMarkers(){const t=this.containers.arrowheads;if(t==null)return this;if(t.style.display==="none")return this;const e=this.containers.sourceArrowhead,n=this.containers.targetArrowhead;if(e&&n){const r=(this.getConnectionLength()||0)<this.options.shortLength?.5:1;Ui(e,r),Ui(n,r),this.translateAndAutoOrientArrows(e,n)}return this}updateTerminalProperties(t){const e=this.cell,n=this.graph,s=e[t],r=s&&s.cell,o=`${t}View`;if(!r)return this[o]=null,this.updateTerminalMagnet(t),!0;const a=n.getCellById(r);if(!a)throw new Error(`Edge's ${t} node with id "${r}" not exists`);const l=a.findView(n);return l?(this[o]=l,this.updateTerminalMagnet(t),!0):!1}updateTerminalMagnet(t){const e=`${t}Magnet`,n=this.getTerminalView(t);if(n){let s=n.getMagnetFromEdgeTerminal(this.cell[t]);s===n.container&&(s=null),this[e]=s}else this[e]=null}translateAndAutoOrientArrows(t,e){const n=this.routePoints;t&&lu(t,this.sourcePoint,n[0]||this.targetPoint,this.graph.view.stage),e&&lu(e,this.targetPoint,n[n.length-1]||this.sourcePoint,this.graph.view.stage)}getLabelPositionAngle(t){const e=this.cell.getLabelAt(t);return e&&e.position&&typeof e.position=="object"&&e.position.angle||0}getLabelPositionArgs(t){const e=this.cell.getLabelAt(t);if(e&&e.position&&typeof e.position=="object")return e.position.options}getDefaultLabelPositionArgs(){const t=this.cell.getDefaultLabel();if(t&&t.position&&typeof t.position=="object")return t.position.options}mergeLabelPositionArgs(t,e){return t===null?null:t===void 0?e===null?null:e:pe({},e,t)}addLabel(t,e,n,s){let r,o,a=0,l;typeof t!="number"?(r=t.x,o=t.y,typeof e=="number"?(a=e,l=n):l=e):(r=t,o=e,typeof n=="number"?(a=n,l=s):l=n);const c=this.getDefaultLabelPositionArgs(),h=l,f=this.mergeLabelPositionArgs(h,c),d={position:this.getLabelPosition(r,o,a,f)},p=-1;return this.cell.insertLabel(d,p,l),p}addVertex(t,e,n){const s=typeof t!="number",r=s?t.x:t,o=s?t.y:e,a=s?e:n,l={x:r,y:o},c=this.getVertexIndex(r,o);return this.cell.insertVertex(l,c,a),c}sendToken(t,e,n){let s,r,o,a,l="linear";typeof e=="object"?(s=e.duration,r=e.reversed===!0,o=e.selector,e.rotate===!1?a="":e.rotate===!0?a="auto":e.rotate!=null&&(a=`${e.rotate}`),e.timing&&(l=e.timing)):(s=e,r=!1,o=null),s=s||1e3;const c={dur:`${s}ms`,repeatCount:"1",calcMode:l,fill:"freeze"};if(a&&(c.rotate=a),r&&(c.keyPoints="1;0",c.keyTimes="0;1"),typeof e=="object"){const w=F6(e,["duration","reversed","selector","rotate","timing"]);Object.keys(w).forEach(M=>{c[M]=w[M]})}let h;if(typeof o=="string"?h=this.findOne(o,this.container,this.selectors):h=this.containers.connection?this.containers.connection:this.container.querySelector("path"),!(h instanceof SVGPathElement))throw new Error("Token animation requires a valid connection path.");const f=typeof t=="string"?this.findOne(t):t;if(f==null)throw new Error("Token animation requires a valid token element.");const d=f.parentNode,p=()=>{d||ai(f)},y=mt.create(f);d||y.appendTo(this.graph.view.stage);const v=c.complete;c.complete=w=>{p(),n&&n(),v&&v(w)};const x=y.animateAlongPath(c,h);return()=>{p(),x()}}getConnection(){return this.path!=null?this.path.clone():null}getConnectionPathData(){if(this.path==null)return"";const t=this.cache.pathCache;return Do(t,"data")||(t.data=this.path.serialize()),t.data||""}getConnectionSubdivisions(){if(this.path==null)return null;const t=this.cache.pathCache;return Do(t,"segmentSubdivisions")||(t.segmentSubdivisions=this.path.getSegmentSubdivisions()),t.segmentSubdivisions}getConnectionLength(){if(this.path==null)return 0;const t=this.cache.pathCache;return Do(t,"length")||(t.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),t.length}getPointAtLength(t){return this.path==null?null:this.path.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getPointAtRatio(t){return this.path==null?null:(Kn(t)&&(t=parseFloat(t)/100),this.path.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}))}getTangentAtLength(t){return this.path==null?null:this.path.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getTangentAtRatio(t){return this.path==null?null:this.path.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPoint(t){return this.path==null?null:this.path.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointLength(t){return this.path==null?null:this.path.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getClosestPointRatio(t){return this.path==null?null:this.path.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()})}getLabelPosition(t,e,n,s){const r={distance:0};let o=0,a;typeof n=="number"?(o=n,a=s):a=n,a!=null&&(r.options=a);const l=a&&a.absoluteOffset,c=!(a&&a.absoluteDistance),h=a&&a.absoluteDistance&&a.reverseDistance,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},p=new k(t,e),y=f.closestPointT(p,d),v=this.getConnectionLength()||0;let x=f.lengthAtT(y,d);c&&(x=v>0?x/v:0),h&&(x=-1*(v-x)||1),r.distance=x;let w;l||(w=f.tangentAtT(y));let M;if(w)M=w.pointOffset(p);else{const A=f.pointAtT(y),D=p.diff(A);M={x:D.x,y:D.y}}return r.offset=M,r.angle=o,r}normalizeLabelPosition(t){return typeof t=="number"?{distance:t}:t}getLabelTransformationMatrix(t){const e=this.normalizeLabelPosition(t),n=e.options||{},s=e.angle||0,r=e.distance,o=r>0&&r<=1;let a=0;const l={x:0,y:0},c=e.offset;c&&(typeof c=="number"?a=c:(c.x!=null&&(l.x=c.x),c.y!=null&&(l.y=c.y)));const h=l.x!==0||l.y!==0||a===0,f=n.keepGradient,d=n.ensureLegibility,p=this.path,y={segmentSubdivisions:this.getConnectionSubdivisions()},v=o?r*this.getConnectionLength():r,x=p.tangentAtLength(v,y);let w,M=s;if(x){if(h)w=x.start,w.translate(l);else{const A=x.clone();A.rotate(-90,x.start),A.setLength(a),w=A.end}f&&(M=x.angle()+s,d&&(M=Vt.normalize((M+90)%180-90)))}else w=p.start,h&&w.translate(l);return We().translate(w.x,w.y).rotate(M)}getLabelCoordinates(t){const e=this.getLabelTransformationMatrix(t);return new k(e.e,e.f)}getVertexIndex(t,e){const s=this.cell.getVertices(),r=this.getClosestPointLength(new k(t,e));let o=0;if(r!=null)for(const a=s.length;o<a;o+=1){const l=s[o],c=this.getClosestPointLength(l);if(c!=null&&r<c)break}return o}getEventArgs(t,e,n){const s=this,r=s.cell,o=r;return e==null||n==null?{e:t,view:s,edge:r,cell:o}:{e:t,x:e,y:n,view:s,edge:r,cell:o}}notifyUnhandledMouseDown(t,e,n){this.notify("edge:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("edge:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("edge:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("edge:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("edge:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("edge:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("edge:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){switch(this.notifyMouseDown(t,e,n),t.target.getAttribute("class")){case"vertex":{this.startVertexDragging(t,e,n);return}case"vertex-remove":case"vertex-remove-area":{this.handleVertexRemoving(t,e,n);return}case"connection":case"connection-wrap":{this.handleVertexAdding(t,e,n);return}case"arrowhead":{this.startArrowheadDragging(t,e,n);return}case"source-marker":case"target-marker":{this.notifyUnhandledMouseDown(t,e,n);return}}this.startEdgeDragging(t,e,n)}onMouseMove(t,e,n){const s=this.getEventData(t);switch(s.action){case"drag-vertex":{this.dragVertex(t,e,n);break}case"drag-label":{this.dragLabel(t,e,n);break}case"drag-arrowhead":{this.dragArrowhead(t,e,n);break}case"drag-edge":{this.dragEdge(t,e,n);break}}return this.notifyMouseMove(t,e,n),s}onMouseUp(t,e,n){const s=this.getEventData(t);switch(s.action){case"drag-vertex":{this.stopVertexDragging(t,e,n);break}case"drag-label":{this.stopLabelDragging(t,e,n);break}case"drag-arrowhead":{this.stopArrowheadDragging(t,e,n);break}case"drag-edge":{this.stopEdgeDragging(t,e,n);break}}return this.notifyMouseUp(t,e,n),this.checkMouseleave(t),s}onMouseOver(t){super.onMouseOver(t),this.notify("edge:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("edge:mouseout",this.getEventArgs(t))}onMouseEnter(t){super.onMouseEnter(t),this.notify("edge:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("edge:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,s){super.onMouseWheel(t,e,n,s),this.notify("edge:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,n)))}onCustomEvent(t,e,n,s){if(x2(t.target,"edge-tool",this.container)){if(t.stopPropagation(),this.can("useEdgeTools")){if(e==="edge:remove"){this.cell.remove({ui:!0});return}this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,s)))}this.notifyMouseDown(t,n,s)}else this.notify("edge:customevent",Object.assign({name:e},this.getEventArgs(t,n,s))),super.onCustomEvent(t,e,n,s)}onLabelMouseDown(t,e,n){this.notifyMouseDown(t,e,n),this.startLabelDragging(t,e,n),this.getEventData(t).stopPropagation&&t.stopPropagation()}startEdgeDragging(t,e,n){if(!this.can("edgeMovable")){this.notifyUnhandledMouseDown(t,e,n);return}this.setEventData(t,{x:e,y:n,moving:!1,action:"drag-edge"})}dragEdge(t,e,n){const s=this.getEventData(t);s.moving||(s.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(e-s.x,n-s.y,{ui:!0}),this.setEventData(t,{x:e,y:n}),this.notify("edge:moving",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})}stopEdgeDragging(t,e,n){const s=this.getEventData(t);s.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:t,x:e,y:n,view:this,cell:this.cell,edge:this.cell})),s.moving=!1}prepareArrowheadDragging(t,e){const n=this.getTerminalMagnet(t),s={action:"drag-arrowhead",x:e.x,y:e.y,isNewEdge:e.isNewEdge===!0,terminalType:t,initialMagnet:n,initialTerminal:Po(this.cell[t]),fallbackAction:e.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(t),options:e.options};return this.beforeArrowheadDragging(s),s}createValidateConnectionArgs(t){const e=[];e[4]=t,e[5]=this;let n,s=0,r=0;t==="source"?(s=2,n="target"):(r=2,n="source");const o=this.cell[n],a=o.cell;if(a){let l;const c=e[s]=this.graph.renderer.findViewByCell(a);c&&(l=c.getMagnetFromEdgeTerminal(o),l===c.container&&(l=void 0)),e[s+1]=l}return(l,c)=>(e[r]=l,e[r+1]=l.container===c?void 0:c,e)}beforeArrowheadDragging(t){t.zIndex=this.cell.zIndex,this.cell.toFront();const e=this.container.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(t)}afterArrowheadDragging(t){t.zIndex!=null&&(this.cell.setZIndex(t.zIndex,{ui:!0}),t.zIndex=null);const e=this.container;e.style.pointerEvents=t.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(t)}arrowheadDragging(t,e,n,s){s.x=e,s.y=n,s.currentTarget!==t&&(s.currentMagnet&&s.currentView&&s.currentView.unhighlight(s.currentMagnet,{type:"magnetAdsorbed"}),s.currentView=this.graph.renderer.findViewByElem(t),s.currentView?(s.currentMagnet=s.currentView.findMagnet(t),s.currentMagnet&&this.graph.hook.validateConnection(...s.getValidateConnectionArgs(s.currentView,s.currentMagnet),s.currentView.getEdgeTerminal(s.currentMagnet,e,n,this.cell,s.terminalType))?s.currentView.highlight(s.currentMagnet,{type:"magnetAdsorbed"}):s.currentMagnet=null):s.currentMagnet=null),s.currentTarget=t,this.cell.prop(s.terminalType,{x:e,y:n},Object.assign(Object.assign({},s.options),{ui:!0}))}arrowheadDragged(t,e,n){const s=t.currentView,r=t.currentMagnet;if(!r||!s)return;s.unhighlight(r,{type:"magnetAdsorbed"});const o=t.terminalType,a=s.getEdgeTerminal(r,e,n,this.cell,o);this.cell.setTerminal(o,a,{ui:!0})}snapArrowhead(t,e,n){const s=this.graph,r=s.options.connecting.snap,o=typeof r=="object"&&r.radius||50,a=s.renderer.findViewsInArea({x:t-o,y:e-o,width:2*o,height:2*o}),l=n.closestView||null,c=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;let h,f=Number.MAX_SAFE_INTEGER;const d=new k(t,e);a.forEach(M=>{M.container.getAttribute("magnet")!=="false"&&(h=M.cell.getBBox().getCenter().distance(d),h<o&&h<f&&(c===M.container||s.hook.validateConnection(...n.getValidateConnectionArgs(M,null),M.getEdgeTerminal(M.container,t,e,this.cell,n.terminalType)))&&(f=h,n.closestView=M,n.closestMagnet=M.container)),M.container.querySelectorAll("[magnet]").forEach(A=>{if(A.getAttribute("magnet")!=="false"){const D=M.getBBoxOfElement(A);h=d.distance(D.getCenter()),h<o&&h<f&&(c===A||s.hook.validateConnection(...n.getValidateConnectionArgs(M,A),M.getEdgeTerminal(A,t,e,this.cell,n.terminalType)))&&(f=h,n.closestView=M,n.closestMagnet=A)}})});let p;const y=n.terminalType,v=n.closestView,x=n.closestMagnet,w=c!==x;if(l&&w&&l.unhighlight(c,{type:"magnetAdsorbed"}),v){if(!w)return;v.highlight(x,{type:"magnetAdsorbed"}),p=v.getEdgeTerminal(x,t,e,this.cell,y)}else p={x:t,y:e};this.cell.setTerminal(y,p,{},Object.assign(Object.assign({},n.options),{ui:!0}))}snapArrowheadEnd(t){const e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{type:"magnetAdsorbed"}),t.currentMagnet=e.findMagnet(n)),t.closestView=null,t.closestMagnet=null}finishEmbedding(t){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(t.zIndex=null)}fallbackConnection(t){switch(t.fallbackAction){case"remove":this.cell.remove({ui:!0});break;case"revert":default:this.cell.prop(t.terminalType,t.initialTerminal,{ui:!0});break}}notifyConnectionEvent(t,e){const n=t.terminalType,s=t.initialTerminal,r=this.cell[n];if(r&&!ye.equalTerminals(s,r)){const a=this.graph,l=s,c=l.cell?a.getCellById(l.cell):null,h=l.port,f=c?a.findViewByCell(c):null,d=c||t.isNewEdge?null:k.create(s).toJSON(),p=r,y=p.cell?a.getCellById(p.cell):null,v=p.port,x=y?a.findViewByCell(y):null,w=y?null:k.create(r).toJSON();this.notify("edge:connected",{e,previousCell:c,previousPort:h,previousView:f,previousPoint:d,currentCell:y,currentView:x,currentPort:v,currentPoint:w,previousMagnet:t.initialMagnet,currentMagnet:t.currentMagnet,edge:this.cell,view:this,type:n,isNew:t.isNewEdge})}}highlightAvailableMagnets(t){const e=this.graph,n=e.model.getCells();t.marked={};for(let s=0,r=n.length;s<r;s+=1){const o=e.renderer.findViewByCell(n[s]);if(!o)continue;const a=Array.prototype.slice.call(o.container.querySelectorAll("[magnet]"));o.container.getAttribute("magnet")!=="false"&&a.push(o.container);const l=a.filter(c=>e.hook.validateConnection(...t.getValidateConnectionArgs(o,c),o.getEdgeTerminal(c,t.x,t.y,this.cell,t.terminalType)));if(l.length>0){for(let c=0,h=l.length;c<h;c+=1)o.highlight(l[c],{type:"magnetAvailable"});o.highlight(null,{type:"nodeAvailable"}),t.marked[o.cell.id]=l}}}unhighlightAvailableMagnets(t){const e=t.marked||{};Object.keys(e).forEach(n=>{const s=this.graph.renderer.findViewByCell(n);s&&(e[n].forEach(o=>{s.unhighlight(o,{type:"magnetAvailable"})}),s.unhighlight(null,{type:"nodeAvailable"}))}),t.marked=null}startArrowheadDragging(t,e,n){if(!this.can("arrowheadMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const r=t.target.getAttribute("data-terminal"),o=this.prepareArrowheadDragging(r,{x:e,y:n});this.setEventData(t,o)}dragArrowhead(t,e,n){const s=this.getEventData(t);this.graph.options.connecting.snap?this.snapArrowhead(e,n,s):this.arrowheadDragging(this.getEventTarget(t),e,n,s)}stopArrowheadDragging(t,e,n){const s=this.graph,r=this.getEventData(t);s.options.connecting.snap?this.snapArrowheadEnd(r):this.arrowheadDragged(r,e,n),s.hook.validateEdge(this.cell,r.terminalType,r.initialTerminal)?(this.finishEmbedding(r),this.notifyConnectionEvent(r,t)):this.fallbackConnection(r),this.afterArrowheadDragging(r)}startLabelDragging(t,e,n){if(this.can("edgeLabelMovable")){const s=t.currentTarget,r=parseInt(s.getAttribute("data-index"),10),o=this.getLabelPositionAngle(r),a=this.getLabelPositionArgs(r),l=this.getDefaultLabelPositionArgs(),c=this.mergeLabelPositionArgs(a,l);this.setEventData(t,{index:r,positionAngle:o,positionArgs:c,stopPropagation:!0,action:"drag-label"})}else this.setEventData(t,{stopPropagation:!0});this.graph.view.delegateDragEvents(t,this)}dragLabel(t,e,n){const s=this.getEventData(t),r=this.cell.getLabelAt(s.index),o=pe({},r,{position:this.getLabelPosition(e,n,s.positionAngle,s.positionArgs)});this.cell.setLabelAt(s.index,o)}stopLabelDragging(t,e,n){}handleVertexAdding(t,e,n){if(!this.can("vertexAddable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=this.addVertex({x:e,y:n},{ui:!0});this.setEventData(t,{index:s,action:"drag-vertex"})}handleVertexRemoving(t,e,n){if(!this.can("vertexDeletable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target,r=parseInt(s.getAttribute("idx"),10);this.cell.removeVertexAt(r)}startVertexDragging(t,e,n){if(!this.can("vertexMovable")){this.notifyUnhandledMouseDown(t,e,n);return}const s=t.target,r=parseInt(s.getAttribute("idx"),10);this.setEventData(t,{index:r,action:"drag-vertex"})}dragVertex(t,e,n){const s=this.getEventData(t);this.cell.setVertexAt(s.index,{x:e,y:n},{ui:!0})}stopVertexDragging(t,e,n){}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.getConnection=="function"}i.isEdgeView=t})(Oi||(Oi={}));Oi.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],vertices:["vertices","update"],vertexMarkup:["vertices"],toolMarkup:["tools"],tools:["widget"]},shortLength:105,longLength:155,toolsOffset:40,doubleTools:!1,doubleToolsOffset:65,sampleInterval:50});Oi.registry.register("edge",Oi,!0);class hn extends xe{constructor(){super(...arguments);this.scalableNode=null,this.rotatableNode=null,this.scalableSelector="scalable",this.rotatableSelector="rotatable",this.defaultPortMarkup=Wt.getPortMarkup(),this.defaultPortLabelMarkup=Wt.getPortLabelMarkup(),this.defaultPortContainerMarkup=Wt.getPortContainerMarkup(),this.portsCache={}}get[Symbol.toStringTag](){return hn.toStringTag}getContainerClassName(){const t=[super.getContainerClassName(),this.prefixClassName("node")];return this.can("nodeMovable")||t.push(this.prefixClassName("node-immovable")),t.join(" ")}updateClassName(t){const e=t.target;if(e.hasAttribute("magnet")){const n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?In(e,n):Jt(e,n)}else{const n=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(n):this.addClass(n)}}isNodeView(){return!0}confirmUpdate(t,e={}){let n=t;return this.hasAction(n,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(n,"render")?(this.render(),n=this.removeAction(n,["render","update","resize","translate","rotate","ports","tools"])):(n=this.handleAction(n,"resize",()=>this.resize(e),"update"),n=this.handleAction(n,"update",()=>this.update(),"ports"),n=this.handleAction(n,"translate",()=>this.translate()),n=this.handleAction(n,"rotate",()=>this.rotate()),n=this.handleAction(n,"ports",()=>this.renderPorts()),n=this.handleAction(n,"tools",()=>this.renderTools())),n}update(t){this.cleanCache(),this.removePorts();const e=this.cell,n=e.getSize(),s=e.getAttrs();this.updateAttrs(this.container,s,{attrs:t===s?null:t,rootBBox:new st(0,0,n.width,n.height),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode}),this.renderPorts()}renderMarkup(){const t=this.cell.markup;if(t)return typeof t=="string"?this.renderStringMarkup(t):this.renderJSONMarkup(t);throw new TypeError("Invalid node markup.")}renderJSONMarkup(t){const e=this.parseJSONMarkup(t,this.container),n=s=>Array.isArray(s)?s[0]:s;this.selectors=e.selectors,this.rotatableNode=n(this.selectors[this.rotatableSelector]),this.scalableNode=n(this.selectors[this.scalableSelector]),this.container.appendChild(e.fragment)}renderStringMarkup(t){No(this.container,mt.toNodes(mt.createVectors(t))),this.rotatableNode=qh(this.container,`.${this.rotatableSelector}`),this.scalableNode=qh(this.container,`.${this.scalableSelector}`),this.selectors={},this.rootSelector&&(this.selectors[this.rootSelector]=this.container)}render(){return this.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransform(),this.renderTools(),this}resize(t={}){if(this.scalableNode)return this.updateSize(t);this.cell.getAngle()&&this.rotate(),this.update()}translate(){if(this.rotatableNode)return this.updateTranslation();this.updateTransform()}rotate(){if(this.rotatableNode){this.updateRotation(),this.update();return}this.updateTransform()}getTranslationString(){const t=this.cell.getPosition();return`translate(${t.x},${t.y})`}getRotationString(){const t=this.cell.getAngle();if(t){const e=this.cell.getSize();return`rotate(${t},${e.width/2},${e.height/2})`}}updateTransform(){let t=this.getTranslationString();const e=this.getRotationString();e&&(t+=` ${e}`),this.container.setAttribute("transform",t)}updateRotation(){if(this.rotatableNode!=null){const t=this.getRotationString();t!=null?this.rotatableNode.setAttribute("transform",t):this.rotatableNode.removeAttribute("transform")}}updateTranslation(){this.container.setAttribute("transform",this.getTranslationString())}updateSize(t={}){const e=this.cell,n=e.getSize(),s=e.getAngle(),r=this.scalableNode;let o=!1;r.getElementsByTagName("path").length>0&&(o=!0);const a=Xe(r,{recursive:o}),l=n.width/(a.width||1),c=n.height/(a.height||1);r.setAttribute("transform",`scale(${l},${c})`);const h=this.rotatableNode;if(h!=null){const f=h.getAttribute("transform");if(f){h.setAttribute("transform",`${f} rotate(${-s},${n.width/2},${n.height/2})`);const d=Xe(r,{target:this.graph.view.stage});e.prop("position",{x:d.x,y:d.y},Object.assign({updated:!0},t)),this.translate(),this.rotate()}}this.update()}findPortElem(t,e){const n=t?this.portsCache[t]:null;if(!n)return null;const s=n.portContentElement,r=n.portContentSelectors||{};return this.findOne(e,s,r)}initializePorts(){this.cleanPortsCache()}refreshPorts(){this.removePorts(),this.cleanPortsCache(),this.renderPorts()}cleanPortsCache(){this.portsCache={}}removePorts(){Object.keys(this.portsCache).forEach(t=>{const e=this.portsCache[t];ai(e.portElement)})}renderPorts(){const t=this.getPortsContainer(),e=[];t.childNodes.forEach(r=>{e.push(r)});const n=nM(this.cell.getParsedPorts(),"zIndex"),s="auto";n[s]&&n[s].forEach(r=>{const o=this.getPortElement(r);t.append(o),e.push(o)}),Object.keys(n).forEach(r=>{if(r!==s){const o=parseInt(r,10);this.appendPorts(n[r],o,e)}}),this.updatePorts()}getPortsContainer(){return this.rotatableNode||this.container}appendPorts(t,e,n){const s=t.map(r=>this.getPortElement(r));n[e]||e<0?Yh(n[Math.max(e,0)],s):No(this.getPortsContainer(),s)}getPortElement(t){const e=this.portsCache[t.id];return e?e.portElement:this.createPortElement(t)}createPortElement(t){let e=Wt.renderMarkup(this.getPortContainerMarkup());const n=e.elem;if(n==null)throw new Error("Invalid port container markup.");e=Wt.renderMarkup(this.getPortMarkup(t));const s=e.elem,r=e.selectors;if(s==null)throw new Error("Invalid port markup.");this.setAttrs({port:t.id,"port-group":t.group},s),e=Wt.renderMarkup(this.getPortLabelMarkup(t.label));const o=e.elem,a=e.selectors;if(o==null)throw new Error("Invalid port label markup.");let l;if(r&&a){for(const c in a)if(r[c]&&c!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},r),a)}else l=r||a;return Jt(n,"x6-port"),Jt(s,"x6-port-body"),Jt(o,"x6-port-label"),n.appendChild(s),n.appendChild(o),this.portsCache[t.id]={portElement:n,portSelectors:l,portLabelElement:o,portLabelSelectors:a,portContentElement:s,portContentSelectors:r},this.graph.hook.onPortRendered({port:t,node:this.cell,container:n,selectors:l,labelContainer:o,labelSelectors:a,contentContainer:s,contentSelectors:r}),n}updatePorts(){this.updatePortGroup();const t=this.cell.getParsedGroups();Object.keys(t).forEach(e=>this.updatePortGroup(e))}updatePortGroup(t){const e=st.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(t,e);for(let s=0,r=n.length;s<r;s+=1){const o=n[s],a=o.portId,l=this.portsCache[a]||{},c=o.portLayout;if(this.applyPortTransform(l.portElement,c),o.portAttrs!=null){const f={selectors:l.portSelectors||{}};o.portSize&&(f.rootBBox=st.fromSize(o.portSize)),this.updateAttrs(l.portElement,o.portAttrs,f)}const h=o.labelLayout;if(h&&(this.applyPortTransform(l.portLabelElement,h,-(c.angle||0)),h.attrs)){const f={selectors:l.portLabelSelectors||{}};o.labelSize&&(f.rootBBox=st.fromSize(o.labelSize)),this.updateAttrs(l.portLabelElement,h.attrs,f)}}}applyPortTransform(t,e,n=0){const s=e.angle,r=e.position,o=We().rotate(n).translate(r.x||0,r.y||0).rotate(s||0);Tr(t,o,{absolute:!0})}getPortContainerMarkup(){return this.cell.getPortContainerMarkup()||this.defaultPortContainerMarkup}getPortMarkup(t){return t.markup||this.cell.portMarkup||this.defaultPortMarkup}getPortLabelMarkup(t){return t.markup||this.cell.portLabelMarkup||this.defaultPortLabelMarkup}getEventArgs(t,e,n){const s=this,r=s.cell,o=r;return e==null||n==null?{e:t,view:s,node:r,cell:o}:{e:t,x:e,y:n,view:s,node:r,cell:o}}notifyMouseDown(t,e,n){super.onMouseDown(t,e,n),this.notify("node:mousedown",this.getEventArgs(t,e,n))}notifyMouseMove(t,e,n){super.onMouseMove(t,e,n),this.notify("node:mousemove",this.getEventArgs(t,e,n))}notifyMouseUp(t,e,n){super.onMouseUp(t,e,n),this.notify("node:mouseup",this.getEventArgs(t,e,n))}onClick(t,e,n){super.onClick(t,e,n),this.notify("node:click",this.getEventArgs(t,e,n))}onDblClick(t,e,n){super.onDblClick(t,e,n),this.notify("node:dblclick",this.getEventArgs(t,e,n))}onContextMenu(t,e,n){super.onContextMenu(t,e,n),this.notify("node:contextmenu",this.getEventArgs(t,e,n))}onMouseDown(t,e,n){this.isPropagationStopped(t)||(this.notifyMouseDown(t,e,n),this.startNodeDragging(t,e,n))}onMouseMove(t,e,n){const s=this.getEventData(t),r=s.action;if(r==="magnet")this.dragMagnet(t,e,n);else{if(r==="move"){const a=s.targetView||this;a.dragNode(t,e,n),a.notify("node:moving",{e:t,x:e,y:n,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(t,e,n)}this.setEventData(t,s)}onMouseUp(t,e,n){const s=this.getEventData(t),r=s.action;r==="magnet"?this.stopMagnetDragging(t,e,n):(this.notifyMouseUp(t,e,n),r==="move"&&(s.targetView||this).stopNodeDragging(t,e,n));const o=s.targetMagnet;o&&this.onMagnetClick(t,o,e,n),this.checkMouseleave(t)}onMouseOver(t){super.onMouseOver(t),this.notify("node:mouseover",this.getEventArgs(t))}onMouseOut(t){super.onMouseOut(t),this.notify("node:mouseout",this.getEventArgs(t))}onMouseEnter(t){this.updateClassName(t),super.onMouseEnter(t),this.notify("node:mouseenter",this.getEventArgs(t))}onMouseLeave(t){super.onMouseLeave(t),this.notify("node:mouseleave",this.getEventArgs(t))}onMouseWheel(t,e,n,s){super.onMouseWheel(t,e,n,s),this.notify("node:mousewheel",Object.assign({delta:s},this.getEventArgs(t,e,n)))}onMagnetClick(t,e,n,s){this.graph.view.getMouseMovedCount(t)>this.graph.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:e},this.getEventArgs(t,n,s)))}onMagnetDblClick(t,e,n,s){this.notify("node:magnet:dblclick",Object.assign({magnet:e},this.getEventArgs(t,n,s)))}onMagnetContextMenu(t,e,n,s){this.notify("node:magnet:contextmenu",Object.assign({magnet:e},this.getEventArgs(t,n,s)))}onMagnetMouseDown(t,e,n,s){this.startMagnetDragging(t,n,s)}onCustomEvent(t,e,n,s){this.notify("node:customevent",Object.assign({name:e},this.getEventArgs(t,n,s))),super.onCustomEvent(t,e,n,s)}prepareEmbedding(t){const n=this.getEventData(t).cell||this.cell,s=this.graph.findViewByCell(n),r=this.graph.snapToGrid(t.clientX,t.clientY);this.notify("node:embed",{e:t,node:n,view:s,cell:n,x:r.x,y:r.y,currentParent:n.getParent()})}processEmbedding(t,e){const n=e.cell||this.cell,s=e.graph||this.graph,r=s.options.embedding,o=r.findParent;let a=typeof o=="function"?dt(o,s,{view:this,node:this.cell}).filter(d=>Gt.isCell(d)&&this.cell.id!==d.id&&!d.isDescendantOf(this.cell)):s.model.getNodesUnderNode(n,{by:o});r.frontOnly&&(a=a.slice(-1));let l=null;const c=e.candidateEmbedView,h=r.validate;for(let d=a.length-1;d>=0;d-=1){const p=a[d];if(c&&c.cell.id===p.id){l=c;break}else{const y=p.findView(s);if(dt(h,s,{child:this.cell,parent:y.cell,childView:this,parentView:y})){l=y;break}}}this.clearEmbedding(e),l&&l.highlight(null,{type:"embedding"}),e.candidateEmbedView=l;const f=s.snapToGrid(t.clientX,t.clientY);this.notify("node:embedding",{e:t,cell:n,node:n,view:s.findViewByCell(n),x:f.x,y:f.y,currentParent:n.getParent(),candidateParent:l?l.cell:null})}clearEmbedding(t){const e=t.candidateEmbedView;e&&(e.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null)}finalizeEmbedding(t,e){const n=e.cell||this.cell,s=e.graph||this.graph,r=s.findViewByCell(n),o=n.getParent(),a=e.candidateEmbedView;a?(a.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null,(o==null||o.id!==a.cell.id)&&a.cell.insertChild(n,void 0,{ui:!0})):o&&o.unembed(n,{ui:!0}),s.model.getConnectedEdges(n,{deep:!0}).forEach(c=>{c.updateParent({ui:!0})});const l=s.snapToGrid(t.clientX,t.clientY);r&&r.notify("node:embedded",{e:t,cell:n,x:l.x,y:l.y,node:n,view:s.findViewByCell(n),previousParent:o,currentParent:n.getParent()})}getDelegatedView(){let t=this.cell,e=this;for(;e&&!t.isEdge();){if(!t.hasParent()||e.can("stopDelegateOnDragging"))return e;t=t.getParent(),e=this.graph.renderer.findViewByCell(t)}return null}startMagnetDragging(t,e,n){if(!this.can("magnetConnectable"))return;t.stopPropagation();const s=t.currentTarget,r=this.graph;this.setEventData(t,{targetMagnet:s}),r.hook.validateMagnet(this,s,t)?(r.options.magnetThreshold<=0&&this.startConnectting(t,s,e,n),this.setEventData(t,{action:"magnet"}),this.stopPropagation(t)):this.onMouseDown(t,e,n),r.view.delegateDragEvents(t,this)}startConnectting(t,e,n,s){this.graph.model.startBatch("add-edge");const r=this.createEdgeFromMagnet(e,n,s);r.notifyMouseDown(t,n,s),r.setEventData(t,r.prepareArrowheadDragging("target",{x:n,y:s,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(t,{edgeView:r})}createEdgeFromMagnet(t,e,n){const s=this.graph,r=s.model,o=s.hook.getDefaultEdge(this,t);return o.setSource(Object.assign(Object.assign({},o.getSource()),this.getEdgeTerminal(t,e,n,o,"source"))),o.setTarget(Object.assign(Object.assign({},o.getTarget()),{x:e,y:n})),o.addTo(r,{async:!1,ui:!0}),o.findView(s)}dragMagnet(t,e,n){const s=this.getEventData(t),r=s.edgeView;if(r)r.onMouseMove(t,e,n),this.autoScrollGraph(t.clientX,t.clientY);else{const o=this.graph,a=o.options.magnetThreshold,l=this.getEventTarget(t),c=s.targetMagnet;if(a==="onleave"){if(c===l||c.contains(l))return}else if(o.view.getMouseMovedCount(t)<=a)return;this.startConnectting(t,c,e,n)}}stopMagnetDragging(t,e,n){const r=this.eventData(t).edgeView;r&&(r.onMouseUp(t,e,n),this.graph.model.stopBatch("add-edge"))}notifyUnhandledMouseDown(t,e,n){this.notify("node:unhandled:mousedown",{e:t,x:e,y:n,view:this,cell:this.cell,node:this.cell})}notifyNodeMove(t,e,n,s,r){let o=[r];const a=this.graph.selection.widget;if(a&&a.options.movable){const l=this.graph.getSelectedCells();l.includes(r)&&(o=l.filter(c=>c.isNode()))}o.forEach(l=>{this.notify(t,{e,x:n,y:s,cell:l,node:l,view:l.findView(this.graph)})})}startNodeDragging(t,e,n){const s=this.getDelegatedView();if(s==null||!s.can("nodeMovable"))return this.notifyUnhandledMouseDown(t,e,n);this.setEventData(t,{targetView:s,action:"move"});const r=k.create(s.cell.getPosition());s.setEventData(t,{moving:!1,offset:r.diff(e,n),restrict:this.graph.hook.getRestrictArea(s)})}dragNode(t,e,n){const s=this.cell,r=this.graph,o=r.getGridSize(),a=this.getEventData(t),l=a.offset,c=a.restrict;a.moving||(a.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",t,e,n,this.cell)),this.autoScrollGraph(t.clientX,t.clientY);const h=Le.snapToGrid(e+l.x,o),f=Le.snapToGrid(n+l.y,o);s.setPosition(h,f,{restrict:c,deep:!0,ui:!0}),r.options.embedding.enabled&&(a.embedding||(this.prepareEmbedding(t),a.embedding=!0),this.processEmbedding(t,a))}stopNodeDragging(t,e,n){const s=this.getEventData(t);s.embedding&&this.finalizeEmbedding(t,s),s.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",t,e,n,this.cell)),s.moving=!1,s.embedding=!1}autoScrollGraph(t,e){const n=this.graph.scroller.widget;n&&n.autoScroll(t,e)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.isNodeView=="function"&&typeof s.isEdgeView=="function"&&typeof s.confirmUpdate=="function"&&typeof s.update=="function"&&typeof s.findPortElem=="function"&&typeof s.resize=="function"&&typeof s.rotate=="function"&&typeof s.translate=="function"}i.isNodeView=t})(hn||(hn={}));hn.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}});hn.registry.register("node",hn,!0);const J0=vu("text");class Z0 extends hi("text",{view:J0,attrs:{text:{fontSize:18,fill:"#000000",stroke:null,refX:.5,refY:.5}}},{noText:!0}){}(function(i){class t extends hn{confirmUpdate(n,s={}){let r=super.confirmUpdate(n,s);return this.hasAction(r,"scale")&&(this.resize(),r=this.removeAction(r,"scale")),r}}i.View=t,t.config({actions:{attrs:["scale"]}}),hn.registry.register(J0,t)})(Z0||(Z0={}));class Q0 extends tn{constructor(t,e={}){super();this.length=0,this.comparator=e.comparator||"zIndex",this.clean(),t&&this.reset(t,{silent:!0})}toJSON(){return this.cells.map(t=>t.toJSON())}add(t,e,n){let s,r;typeof e=="number"?(s=e,r=Object.assign({merge:!1},n)):(s=this.length,r=Object.assign({merge:!1},e)),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);const o=Array.isArray(t)?t:[t],a=this.comparator&&typeof e!="number"&&r.sort!==!1,l=this.comparator||null;let c=!1;const h=[],f=[];return o.forEach(d=>{const p=this.get(d);p?r.merge&&!d.isSameStore(p)&&(p.setProp(d.getProp(),n),f.push(p),a&&!c&&(l==null||typeof l=="function"?c=p.hasChanged():typeof l=="string"?c=p.hasChanged(l):c=l.some(y=>p.hasChanged(y)))):(h.push(d),this.reference(d))}),h.length&&(a&&(c=!0),this.cells.splice(s,0,...h),this.length=this.cells.length),c&&this.sort({silent:!0}),r.silent||(h.forEach((d,p)=>{const y={cell:d,index:s+p,options:r};this.trigger("added",y),r.dryrun||d.notify("added",Object.assign({},y))}),c&&this.trigger("sorted"),(h.length||f.length)&&this.trigger("updated",{added:h,merged:f,removed:[],options:r})),this}remove(t,e={}){const n=Array.isArray(t)?t:[t],s=this.removeCells(n,e);return!e.silent&&s.length>0&&this.trigger("updated",{options:e,removed:s,added:[],merged:[]}),Array.isArray(t)?s:s[0]}removeCells(t,e){const n=[];for(let s=0;s<t.length;s+=1){const r=this.get(t[s]);if(r==null)continue;const o=this.cells.indexOf(r);this.cells.splice(o,1),this.length-=1,delete this.map[r.id],n.push(r),this.unreference(r),e.dryrun||r.remove(),e.silent||(this.trigger("removed",{cell:r,index:o,options:e}),e.dryrun||r.notify("removed",{cell:r,index:o,options:e}))}return n}reset(t,e={}){const n=this.cells.slice();if(n.forEach(s=>this.unreference(s)),this.clean(),this.add(t,Object.assign({silent:!0},e)),!e.silent){const s=this.cells.slice();this.trigger("reseted",{options:e,previous:n,current:s});const r=[],o=[];s.forEach(a=>{n.some(c=>c.id===a.id)||r.push(a)}),n.forEach(a=>{s.some(c=>c.id===a.id)||o.push(a)}),this.trigger("updated",{options:e,added:r,removed:o,merged:[]})}return this}push(t,e){return this.add(t,this.length,e)}pop(t){const e=this.at(this.length-1);return this.remove(e,t)}unshift(t,e){return this.add(t,0,e)}shift(t){const e=this.at(0);return this.remove(e,t)}get(t){if(t==null)return null;const e=typeof t=="string"||typeof t=="number"?t:t.id;return this.map[e]||null}has(t){return this.get(t)!=null}at(t){return t<0&&(t+=this.length),this.cells[t]||null}first(){return this.at(0)}last(){return this.at(-1)}indexOf(t){return this.cells.indexOf(t)}toArray(){return this.cells.slice()}sort(t={}){return this.comparator!=null&&(this.cells=Lh(this.cells,this.comparator),t.silent||this.trigger("sorted")),this}clone(){const t=this.constructor;return new t(this.cells.slice(),{comparator:this.comparator})}reference(t){this.map[t.id]=t,t.on("*",this.notifyCellEvent,this)}unreference(t){t.off("*",this.notifyCellEvent,this),delete this.map[t.id]}notifyCellEvent(t,e){const n=e.cell;this.trigger(`cell:${t}`,e),n&&(n.isNode()?this.trigger(`node:${t}`,Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.trigger(`edge:${t}`,Object.assign(Object.assign({},e),{edge:n})))}clean(){this.length=0,this.cells=[],this.map={}}}class en extends tn{constructor(t=[]){super();this.batches={},this.addings=new WeakMap,this.nodes={},this.edges={},this.outgoings={},this.incomings={},this.collection=new Q0(t),this.setup()}get[Symbol.toStringTag](){return en.toStringTag}notify(t,e){this.trigger(t,e);const n=this.graph;return n&&(t==="sorted"||t==="reseted"||t==="updated"?n.trigger(`model:${t}`,e):n.trigger(t,e)),this}setup(){const t=this.collection;t.on("sorted",()=>this.notify("sorted",null)),t.on("updated",e=>this.notify("updated",e)),t.on("cell:change:zIndex",()=>this.sortOnChangeZ()),t.on("added",({cell:e})=>{this.onCellAdded(e)}),t.on("removed",e=>{const n=e.cell;this.onCellRemoved(n,e.options),this.notify("cell:removed",e),n.isNode()?this.notify("node:removed",Object.assign(Object.assign({},e),{node:n})):n.isEdge()&&this.notify("edge:removed",Object.assign(Object.assign({},e),{edge:n}))}),t.on("reseted",e=>{this.onReset(e.current),this.notify("reseted",e)}),t.on("edge:change:source",({edge:e})=>this.onEdgeTerminalChanged(e,"source")),t.on("edge:change:target",({edge:e})=>{this.onEdgeTerminalChanged(e,"target")})}sortOnChangeZ(){this.collection.sort()}onCellAdded(t){const e=t.id;t.isEdge()?(t.updateParent(),this.edges[e]=!0,this.onEdgeTerminalChanged(t,"source"),this.onEdgeTerminalChanged(t,"target")):this.nodes[e]=!0}onCellRemoved(t,e){const n=t.id;if(t.isEdge()){delete this.edges[n];const s=t.getSource(),r=t.getTarget();if(s&&s.cell){const o=this.outgoings[s.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.outgoings[s.cell])}if(r&&r.cell){const o=this.incomings[r.cell],a=o?o.indexOf(n):-1;a>=0&&(o.splice(a,1),o.length===0&&delete this.incomings[r.cell])}}else delete this.nodes[n];e.clear||(e.disconnectEdges?this.disconnectConnectedEdges(t,e):this.removeConnectedEdges(t,e)),t.model===this&&(t.model=null)}onReset(t){this.nodes={},this.edges={},this.outgoings={},this.incomings={},t.forEach(e=>this.onCellAdded(e))}onEdgeTerminalChanged(t,e){const n=e==="source"?this.outgoings:this.incomings,s=t.previous(e);if(s&&s.cell){const o=n[s.cell],a=o?o.indexOf(t.id):-1;a>=0&&(o.splice(a,1),o.length===0&&delete n[s.cell])}const r=t.getTerminal(e);if(r&&r.cell){const o=n[r.cell]||[];o.indexOf(t.id)===-1&&o.push(t.id),n[r.cell]=o}}prepareCell(t,e){return!t.model&&(!e||!e.dryrun)&&(t.model=this),t.zIndex==null&&t.setZIndex(this.getMaxZIndex()+1,{silent:!0}),t}resetCells(t,e={}){return t.map(n=>this.prepareCell(n,Object.assign(Object.assign({},e),{dryrun:!0}))),this.collection.reset(t,e),t.map(n=>this.prepareCell(n,{options:e})),this}clear(t={}){const e=this.getCells();if(e.length===0)return this;const n=Object.assign(Object.assign({},t),{clear:!0});return this.batchUpdate("clear",()=>{const s=e.sort((r,o)=>{const a=r.isEdge()?1:2,l=o.isEdge()?1:2;return a-l});for(;s.length>0;){const r=s.shift();r&&r.remove(n)}},n),this}addNode(t,e={}){const n=we.isNode(t)?t:this.createNode(t);return this.addCell(n,e),n}createNode(t){return we.create(t)}addEdge(t,e={}){const n=ye.isEdge(t)?t:this.createEdge(t);return this.addCell(n,e),n}createEdge(t){return ye.create(t)}addCell(t,e={}){return Array.isArray(t)?this.addCells(t,e):(!this.collection.has(t)&&!this.addings.has(t)&&(this.addings.set(t,!0),this.collection.add(this.prepareCell(t,e),e),t.eachChild(n=>this.addCell(n,e)),this.addings.delete(t)),this)}addCells(t,e={}){const n=t.length;if(n===0)return this;const s=Object.assign(Object.assign({},e),{position:n-1,maxPosition:n-1});return this.startBatch("add",Object.assign(Object.assign({},s),{cells:t})),t.forEach(r=>{this.addCell(r,s),s.position-=1}),this.stopBatch("add",Object.assign(Object.assign({},s),{cells:t})),this}removeCell(t,e={}){const n=typeof t=="string"?this.getCell(t):t;return n&&this.has(n)?this.collection.remove(n,e):null}removeCells(t,e={}){return t.length?this.batchUpdate("remove",()=>t.map(n=>this.removeCell(n,e))):[]}removeConnectedEdges(t,e={}){const n=this.getConnectedEdges(t);return n.forEach(s=>{s.remove(e)}),n}disconnectConnectedEdges(t,e={}){const n=typeof t=="string"?t:t.id;this.getConnectedEdges(t).forEach(s=>{const r=s.getSourceCell(),o=s.getTargetCell();r&&r.id===n&&s.setSource({x:0,y:0},e),o&&o.id===n&&s.setTarget({x:0,y:0},e)})}has(t){return this.collection.has(t)}total(){return this.collection.length}indexOf(t){return this.collection.indexOf(t)}getCell(t){return this.collection.get(t)}getCells(){return this.collection.toArray()}getFirstCell(){return this.collection.first()}getLastCell(){return this.collection.last()}getMinZIndex(){const t=this.collection.first();return t&&t.getZIndex()||0}getMaxZIndex(){const t=this.collection.last();return t&&t.getZIndex()||0}getCellsFromCache(t){return t?Object.keys(t).map(e=>this.getCell(e)).filter(e=>e!=null):[]}getNodes(){return this.getCellsFromCache(this.nodes)}getEdges(){return this.getCellsFromCache(this.edges)}getOutgoingEdges(t){const e=typeof t=="string"?t:t.id,n=this.outgoings[e];return n?n.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getIncomingEdges(t){const e=typeof t=="string"?t:t.id,n=this.incomings[e];return n?n.map(s=>this.getCell(s)).filter(s=>s&&s.isEdge()):null}getConnectedEdges(t,e={}){const n=[],s=typeof t=="string"?this.getCell(t):t;if(s==null)return n;const r={},o=e.indirect;let a=e.incoming,l=e.outgoing;a==null&&l==null&&(a=l=!0);const c=(h,f)=>{const d=f?this.getOutgoingEdges(h):this.getIncomingEdges(h);if(d!=null&&d.forEach(p=>{r[p.id]||(n.push(p),r[p.id]=!0,o&&(a&&c(p,!1),l&&c(p,!0)))}),o&&h.isEdge()){const p=f?h.getTargetCell():h.getSourceCell();p&&p.isEdge()&&(r[p.id]||(n.push(p),c(p,f)))}};if(l&&c(s,!0),a&&c(s,!1),e.deep){const h=s.getDescendants({deep:!0}),f={};h.forEach(p=>{p.isNode()&&(f[p.id]=!0)});const d=(p,y)=>{const v=y?this.getOutgoingEdges(p.id):this.getIncomingEdges(p.id);v!=null&&v.forEach(x=>{if(!r[x.id]){const w=x.getSourceCell(),M=x.getTargetCell();if(!e.enclosed&&w&&f[w.id]&&M&&f[M.id])return;n.push(x),r[x.id]=!0}})};h.forEach(p=>{p.isEdge()||(l&&d(p,!0),a&&d(p,!1))})}return n}isBoundary(t,e){const n=typeof t=="string"?this.getCell(t):t,s=e?this.getIncomingEdges(n):this.getOutgoingEdges(n);return s==null||s.length===0}getBoundaryNodes(t){const e=[];return Object.keys(this.nodes).forEach(n=>{if(this.isBoundary(n,t)){const s=this.getCell(n);s&&e.push(s)}}),e}getRoots(){return this.getBoundaryNodes(!0)}getLeafs(){return this.getBoundaryNodes(!1)}isRoot(t){return this.isBoundary(t,!0)}isLeaf(t){return this.isBoundary(t,!1)}getNeighbors(t,e={}){let n=e.incoming,s=e.outgoing;n==null&&s==null&&(n=s=!0);const o=this.getConnectedEdges(t,e).reduce((a,l)=>{const c=l.hasLoop(e),h=l.getSourceCell(),f=l.getTargetCell();return n&&h&&h.isNode()&&!a[h.id]&&(c||h!==t&&(!e.deep||!h.isDescendantOf(t)))&&(a[h.id]=h),s&&f&&f.isNode()&&!a[f.id]&&(c||f!==t&&(!e.deep||!f.isDescendantOf(t)))&&(a[f.id]=f),a},{});if(t.isEdge()){if(n){const a=t.getSourceCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}if(s){const a=t.getTargetCell();a&&a.isNode()&&!o[a.id]&&(o[a.id]=a)}}return Object.keys(o).map(a=>o[a])}isNeighbor(t,e,n={}){let s=n.incoming,r=n.outgoing;return s==null&&r==null&&(s=r=!0),this.getConnectedEdges(t,n).some(o=>{const a=o.getSourceCell(),l=o.getTargetCell();return!!(s&&a&&a.id===e.id||r&&l&&l.id===e.id)})}getSuccessors(t,e={}){const n=[];return this.search(t,(s,r)=>{s!==t&&this.matchDistance(r,e.distance)&&n.push(s)},Object.assign(Object.assign({},e),{outgoing:!0})),n}isSuccessor(t,e,n={}){let s=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,n.distance))return s=!0,!1},Object.assign(Object.assign({},n),{outgoing:!0})),s}getPredecessors(t,e={}){const n=[];return this.search(t,(s,r)=>{s!==t&&this.matchDistance(r,e.distance)&&n.push(s)},Object.assign(Object.assign({},e),{incoming:!0})),n}isPredecessor(t,e,n={}){let s=!1;return this.search(t,(r,o)=>{if(r===e&&r!==t&&this.matchDistance(o,n.distance))return s=!0,!1},Object.assign(Object.assign({},n),{incoming:!0})),s}matchDistance(t,e){return e==null?!0:typeof e=="function"?e(t):Array.isArray(e)&&e.includes(t)?!0:t===e}getCommonAncestor(...t){const e=[];return t.forEach(n=>{n&&(Array.isArray(n)?e.push(...n):e.push(n))}),Gt.getCommonAncestor(...e)}getSubGraph(t,e={}){const n=[],s={},r=[],o=[],a=l=>{s[l.id]||(n.push(l),s[l.id]=l,l.isEdge()&&o.push(l),l.isNode()&&r.push(l))};return t.forEach(l=>{a(l),e.deep&&l.getDescendants({deep:!0}).forEach(h=>a(h))}),o.forEach(l=>{const c=l.getSourceCell(),h=l.getTargetCell();c&&!s[c.id]&&(n.push(c),s[c.id]=c,c.isNode()&&r.push(c)),h&&!s[h.id]&&(n.push(h),s[h.id]=h,h.isNode()&&r.push(h))}),r.forEach(l=>{this.getConnectedEdges(l,e).forEach(h=>{const f=h.getSourceCell(),d=h.getTargetCell();!s[h.id]&&f&&s[f.id]&&d&&s[d.id]&&(n.push(h),s[h.id]=h)})}),n}cloneSubGraph(t,e={}){const n=this.getSubGraph(t,e);return this.cloneCells(n)}cloneCells(t){return Gt.cloneCells(t)}getNodesFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e||0}:t;return this.getNodes().filter(s=>s.getBBox().containsPoint(n))}getNodesInArea(t,e,n,s,r){const o=typeof t=="number"?new st(t,e,n,s):st.create(t),a=typeof t=="number"?r:e,l=a&&a.strict;return this.getNodes().filter(c=>{const h=c.getBBox();return l?o.containsRect(h):o.isIntersectWithRect(h)})}getEdgesInArea(t,e,n,s,r){const o=typeof t=="number"?new st(t,e,n,s):st.create(t),a=typeof t=="number"?r:e,l=a&&a.strict;return this.getEdges().filter(c=>{const h=c.getBBox();return h.width===0?h.inflate(1,0):h.height===0&&h.inflate(0,1),l?o.containsRect(h):o.isIntersectWithRect(h)})}getNodesUnderNode(t,e={}){const n=t.getBBox();return(e.by==null||e.by==="bbox"?this.getNodesInArea(n):this.getNodesFromPoint(n[e.by])).filter(r=>t.id!==r.id&&!r.isDescendantOf(t))}getAllCellsBBox(){return this.getCellsBBox(this.getCells())}getCellsBBox(t,e={}){return Gt.getCellsBBox(t,e)}search(t,e,n={}){n.breadthFirst?this.breadthFirstSearch(t,e,n):this.depthFirstSearch(t,e,n)}breadthFirstSearch(t,e,n={}){const s=[],r={},o={};for(s.push(t),o[t.id]=0;s.length>0;){const a=s.shift();if(a==null||r[a.id]||(r[a.id]=!0,dt(e,this,a,o[a.id])===!1))continue;this.getNeighbors(a,n).forEach(c=>{o[c.id]=o[a.id]+1,s.push(c)})}}depthFirstSearch(t,e,n={}){const s=[],r={},o={};for(s.push(t),o[t.id]=0;s.length>0;){const a=s.pop();if(a==null||r[a.id]||(r[a.id]=!0,dt(e,this,a,o[a.id])===!1))continue;const l=this.getNeighbors(a,n),c=s.length;l.forEach(h=>{o[h.id]=o[a.id]+1,s.splice(c,0,h)})}}getShortestPath(t,e,n={}){const s={};this.getEdges().forEach(c=>{const h=c.getSourceCellId(),f=c.getTargetCellId();h&&f&&(s[h]||(s[h]=[]),s[f]||(s[f]=[]),s[h].push(f),n.directed||s[f].push(h))});const r=typeof t=="string"?t:t.id,o=pu.run(s,r,n.weight),a=[];let l=typeof e=="string"?e:e.id;for(o[l]&&a.push(l);l=o[l];)a.unshift(l);return a}translate(t,e,n){return this.getCells().filter(s=>!s.hasParent()).forEach(s=>s.translate(t,e,n)),this}resize(t,e,n){return this.resizeCells(t,e,this.getCells(),n)}resizeCells(t,e,n,s={}){const r=this.getCellsBBox(n);if(r){const o=Math.max(t/r.width,0),a=Math.max(e/r.height,0),l=r.getOrigin();n.forEach(c=>c.scale(o,a,l,s))}return this}toJSON(t={}){return en.toJSON(this.getCells(),t)}parseJSON(t){return en.fromJSON(t)}fromJSON(t,e={}){const n=this.parseJSON(t);return this.resetCells(n,e),this}startBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)+1,this.notify("batch:start",{name:t,data:e}),this}stopBatch(t,e={}){return this.batches[t]=(this.batches[t]||0)-1,this.notify("batch:stop",{name:t,data:e}),this}batchUpdate(t,e,n={}){this.startBatch(t,n);const s=e();return this.stopBatch(t,n),s}hasActiveBatch(t=Object.keys(this.batches)){return(Array.isArray(t)?t:[t]).some(n=>this.batches[n]>0)}}(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&typeof s.addNode=="function"&&typeof s.addEdge=="function"&&s.collection!=null}i.isModel=t})(en||(en={}));(function(i){function t(n,s={}){return{cells:n.map(r=>r.toJSON(s))}}i.toJSON=t;function e(n){const s=[];return Array.isArray(n)?s.push(...n):(n.cells&&s.push(...n.cells),n.nodes&&n.nodes.forEach(r=>{r.shape==null&&(r.shape="rect"),s.push(r)}),n.edges&&n.edges.forEach(r=>{r.shape==null&&(r.shape="edge"),s.push(r)})),s.map(r=>{const o=r.shape;if(o){if(we.registry.exist(o))return we.create(r);if(ye.registry.exist(o))return ye.create(r)}throw new Error("The `shape` should be specipied when creating a node/edge instance")})}i.fromJSON=e})(en||(en={}));const ui=".text-block-content",Fl=vu("text-block");class jl extends we{get content(){return this.getContent()}set content(t){this.setContent(t)}getContent(){return this.store.get("content","")}setContent(t,e={}){this.store.set("content",t,e)}setup(){super.setup(),this.store.on("change:*",t=>{const e=t.key;e==="content"?this.updateContent(this.getContent()):e==="size"&&this.updateSize(this.getSize())}),this.updateSize(this.getSize()),this.updateContent(this.getContent())}updateSize(t){$e.SUPPORT_FOREIGNOBJECT&&this.setAttrs({foreignObject:Object.assign({},t),[ui]:{style:Object.assign({},t)}})}updateContent(t){$e.SUPPORT_FOREIGNOBJECT?this.setAttrs({[ui]:{html:t?g2(t):""}}):this.setAttrs({[ui]:{text:t}})}}(function(i){i.config({type:Fl,view:Fl,markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',$e.SUPPORT_FOREIGNOBJECT?["<foreignObject>",'<body xmlns="http://www.w3.org/1999/xhtml">',`<div class="${ui.substr(1)}" />`,"</body>","</foreignObject>"].join(""):`<text class="${ui.substr(1)}"/>`,"</g>"].join(""),attrs:{".":{fill:"#ffffff",stroke:"none"},rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000",fontSize:14,fontFamily:"Arial, helvetica, sans-serif"},body:{style:{background:"transparent",position:"static",margin:0,padding:0}},foreignObject:{style:{overflow:"hidden"}},[ui]:{refX:.5,refY:.5,yAlign:"middle",xAlign:"middle",style:{textAlign:"center",verticalAlign:"middle",display:"table-cell",padding:"0 5px",margin:0}}}}),we.registry.register(Fl,i)})(jl||(jl={}));(function(i){const t="content";class e extends hn{confirmUpdate(s,r={}){let o=super.confirmUpdate(s,r);return this.hasAction(o,t)&&(this.updateContent(),o=this.removeAction(o,t)),o}update(s){if($e.SUPPORT_FOREIGNOBJECT)super.update(s);else{const r=this.cell,o=Object.assign({},s||r.getAttrs());delete o[ui],super.update(o),(!s||Do(s,ui))&&this.updateContent(s)}}updateContent(s){if($e.SUPPORT_FOREIGNOBJECT)super.update(s);else{const r=this.cell,o=(s||r.getAttrs())[ui],a=F2(r.getContent(),r.getSize(),o,{svgDocument:this.graph.view.svg}),l={[ui]:pe({},o,{text:a})};super.update(l)}}}i.View=e,function(n){n.config({bootstrap:["render",t],actions:$e.SUPPORT_FOREIGNOBJECT?{}:{size:t,content:t}}),hn.registry.register(Fl,n)}(e=i.View||(i.View={}))})(jl||(jl={}));Ke.define({shape:"empty"});function j6(i,t="body"){return[{tagName:i,selector:t},{tagName:"text",selector:"label"}]}function Pi(i,t,e={}){const n={constructorName:i,markup:j6(i,e.selector),attrs:{[i]:Object.assign({},Ke.bodyAttr)}};return(e.parent||Ke).define(pe(n,t,{shape:i}))}const BN=Pi("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});we.define({shape:"rect-headered",markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}],attrs:{body:Object.assign(Object.assign({},Ke.bodyAttr),{refWidth:"100%",refHeight:"100%"}),header:Object.assign(Object.assign({},Ke.bodyAttr),{refWidth:"100%",height:30,stroke:"#000000"}),headerText:Object.assign(Object.assign({},Ke.labelAttr),{refX:"50%",refY:15,fontSize:16}),bodyText:Object.assign(Object.assign({},Ke.labelAttr),{refY2:15})}});Pi("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}});const xu=10;Ke.define({shape:"cylinder",overwrite:!0,markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],attrs:{body:Object.assign(Object.assign({},Ke.bodyAttr),{lateral:xu}),top:Object.assign(Object.assign({},Ke.bodyAttr),{refCx:"50%",refRx:"50%",cy:xu,ry:xu})},attrHooks:{lateral:{set(i,{refBBox:t}){const e=Kn(i);e&&(i=parseFloat(i)/100);const n=t.x,s=t.y,r=t.width,o=t.height,a=r/2,l=e?o*i:i,c=.551784,h=c*a,f=c*l,d=n,p=n+r/2,y=n+r,v=s+l,x=v-l,w=s+o-l,M=s+o;return{d:["M",d,v,"L",d,w,"C",n,w+f,p-h,M,p,M,"C",p+h,M,y,w+f,y,w,"L",y,v,"C",y,v-f,p+h,x,p,x,"C",p-h,x,d,v-f,d,v,"Z"].join(" ")}}}},knob:{enabled:!0,position({node:i}){const t=i.attr("body/lateral");return{x:0,y:t}},onMouseMove({node:i,data:t,deltaY:e}){if(e!==0){const n=i.getBBox(),s=i.attr("body/lateral");t.round==null&&(t.round=s);const r=0,o=n.height/2,a=cn(t.round+e,r,o);a!==s&&i.attr({body:{lateral:a},top:{cy:a,ry:a}})}}}});Pi("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}});var I6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Br extends Ke{get points(){return this.getPoints()}set points(t){this.setPoints(t)}getPoints(){return this.getAttrByPath("body/refPoints")}setPoints(t,e){return t==null?this.removePoints():this.setAttrByPath("body/refPoints",Br.pointsToString(t),e),this}removePoints(){return this.removeAttrByPath("body/refPoints"),this}}(function(i){function t(e){return typeof e=="string"?e:e.map(n=>Array.isArray(n)?n.join(","):k.isPointLike(n)?`${n.x}, ${n.y}`:"").join(" ")}i.pointsToString=t,i.config({propHooks(e){const{points:n}=e,s=I6(e,["points"]);if(n){const r=t(n);r&&vr(s,"attrs/body/refPoints",r)}return s}})})(Br||(Br={}));Pi("polygon",{},{parent:Br});Pi("polyline",{},{parent:Br});var z6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};Ke.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks(i){const{path:t}=i,e=z6(i,["path"]);return t&&vr(e,"attrs/body/refD",t),e}});var R6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};Ke.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},$e.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:ze.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},Ke.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks(i){const{text:t}=i,e=R6(i,["text"]);return t&&vr(e,"attrs/label/text",t),e},attrHooks:{text:{set(i,{cell:t,view:e,refBBox:n,elem:s,attrs:r}){if(s instanceof HTMLElement)s.textContent=i;else{const o=r.style||{},a={text:i,width:-5,height:"100%"},l=Object.assign({textVerticalAnchor:"middle"},o),c=li.presets.textWrap;return dt(c.set,this,a,{cell:t,view:e,elem:s,refBBox:n,attrs:l}),{fill:o.color||null}}},position(i,{refBBox:t,elem:e}){if(e instanceof SVGElement)return t.getCenter()}}}});Pi("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:Wo()},{selector:"image"});Pi("image-bordered",{markup:[{tagName:"rect",selector:"background",attrs:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#ffffff"},border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},image:{refWidth:-1,refHeight:-1,x:.5,y:.5}},propHooks:Wo()});Pi("image-embedded",{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}],attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"}},propHooks:Wo()});Pi("image-inscribed",{propHooks:Wo(),markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attrs:{fill:"none"}},{tagName:"text",selector:"label"}],attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#ffffff"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"}}});const tm=ye.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}});ye.define({shape:"shadow-edge",markup:[{tagName:"path",selector:"shadow",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{name:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none",offsetX:-5},sourceMarker:{name:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z",offsetX:-5}}}});ye.define({shape:"double-edge",markup:[{tagName:"path",selector:"outline",attrs:{fill:"none"}},{tagName:"path",selector:"line",attrs:{fill:"none",cursor:"pointer"}}],attrs:{line:{connection:!0,stroke:"#dddddd",strokeWidth:4,strokeLinejoin:"round",targetMarker:{tagName:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}});class fi extends Ke{get html(){return this.getHTML()}set html(t){this.setHTML(t)}getHTML(){return this.store.get("html")}setHTML(t,e={}){return t==null?this.removeHTML(e):this.store.set("html",t,e),this}removeHTML(t={}){return this.store.remove("html",t)}}(function(i){class t extends hn{init(){super.init(),this.cell.on("change:*",()=>{this.graph.hook.shouldUpdateHTMLComponent(this.cell)&&this.renderHTMLComponent()})}confirmUpdate(n){const s=super.confirmUpdate(n);return this.handleAction(s,t.action,()=>this.renderHTMLComponent())}renderHTMLComponent(){const n=this.selectors.foContent;if(n){const s=this.$(n).empty(),r=this.graph.hook.getHTMLComponent(this.cell);r&&(typeof r=="string"?s.html(r):s.append(r))}}}i.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),hn.registry.register("html-view",e)}(t=i.View||(i.View={}))})(fi||(fi={}));(function(i){i.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},Wt.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),we.registry.register("html",i)})(fi||(fi={}));(function(i){i.componentRegistry=Pe.create({type:"html componnet"})})(fi||(fi={}));var B6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Xo extends x0{constructor(t){super();this.delay=10,this.throttle=2,this.threshold=5,this.changeCount=0,this.timestamp=0,this.options=Object.assign(Object.assign({},Xo.defaultOptions),t),this.graph.model.on("cell:change:*",this.onModelChanged,this)}get graph(){return this.options.graph}onModelChanged(){if(this.disabled)return;const e=(new Date().getTime()-this.timestamp)/1e3;e>this.delay||this.changeCount>=this.threshold&&e>this.throttle?(this.save(),this.reset()):this.changeCount+=1}save(){this.trigger("save")}reset(){this.changeCount=0,this.timestamp=new Date().getTime()}dispose(){this.graph.model.off("cell:change:*",this.onModelChanged,this)}}B6([x0.dispose()],Xo.prototype,"dispose",null);(function(i){i.defaultOptions={delay:10,throttle:2,threshold:5}})(Xo||(Xo={}));class se extends Jn{constructor(t){super();this.graph=t,this.init()}get options(){return this.graph.options}get model(){return this.graph.model}get view(){return this.graph.view}init(){}}var _6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Zn extends Ht{constructor(t){super();this.graph=t;const{selectors:e,fragment:n}=Wt.parseJSONMarkup(Zn.markup);this.background=e.background,this.grid=e.grid,this.svg=e.svg,this.defs=e.defs,this.viewport=e.viewport,this.primer=e.primer,this.stage=e.stage,this.decorator=e.decorator,this.overlay=e.overlay,this.container=this.options.container,this.restore=Zn.snapshoot(this.container),this.$(this.container).addClass(this.prefixClassName("graph")).append(n),this.delegateEvents()}get model(){return this.graph.model}get options(){return this.graph.options}delegateEvents(){const t=this.constructor;return super.delegateEvents(t.events),this}guard(t,e){return t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e)?!0:t.data&&t.data.guarded!==void 0?t.data.guarded:!(e&&e.cell&&Gt.isCell(e.cell)||this.svg===t.target||this.container===t.target||Ne.contains(this.svg,t.target))}findView(t){return this.graph.renderer.findViewByElem(t)}onDblClick(t){this.options.preventDefaultDblClick&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onDblClick(e,s.x,s.y):this.graph.trigger("blank:dblclick",{e,x:s.x,y:s.y})}onClick(t){if(this.getMouseMovedCount(t)<=this.options.clickThreshold){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onClick(e,s.x,s.y):this.graph.trigger("blank:click",{e,x:s.x,y:s.y})}}onContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault();const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onContextMenu(e,s.x,s.y):this.graph.trigger("blank:contextmenu",{e,x:s.x,y:s.y})}delegateDragEvents(t,e){t.data==null&&(t.data={}),this.setEventData(t,{currentView:e||null,mouseMovedCount:0,startPosition:{x:t.clientX,y:t.clientY}});const n=this.constructor;this.delegateDocumentEvents(n.documentEvents,t.data),this.undelegateEvents()}getMouseMovedCount(t){return this.getEventData(t).mouseMovedCount||0}onMouseDown(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;this.options.preventDefaultMouseDown&&e.preventDefault();const s=this.graph.snapToGrid(e.clientX,e.clientY);n?n.onMouseDown(e,s.x,s.y):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e,x:s.x,y:s.y})),this.delegateDragEvents(e,n)}onMouseMove(t){const e=this.getEventData(t),n=e.startPosition;if(n&&n.x===t.clientX&&n.y===t.clientY||(e.mouseMovedCount==null&&(e.mouseMovedCount=0),e.mouseMovedCount+=1,e.mouseMovedCount<=this.options.moveThreshold))return;const r=this.normalizeEvent(t),o=this.graph.snapToGrid(r.clientX,r.clientY),a=e.currentView;a?a.onMouseMove(r,o.x,o.y):this.graph.trigger("blank:mousemove",{e:r,x:o.x,y:o.y}),this.setEventData(r,e)}onMouseUp(t){this.undelegateDocumentEvents();const e=this.normalizeEvent(t),n=this.graph.snapToGrid(e.clientX,e.clientY),r=this.getEventData(t).currentView;r?r.onMouseUp(e,n.x,n.y):this.graph.trigger("blank:mouseup",{e,x:n.x,y:n.y}),t.isPropagationStopped()||this.onClick(Ne.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()}onMouseOver(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOver(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseover",{e})}}onMouseOut(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(!this.guard(e,n))if(n)n.onMouseOut(e);else{if(this.container===e.target)return;this.graph.trigger("blank:mouseout",{e})}}onMouseEnter(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(s===n)return;n.onMouseEnter(e)}else{if(s)return;this.graph.trigger("graph:mouseenter",{e})}}onMouseLeave(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=this.graph.renderer.findViewByElem(e.relatedTarget);if(n){if(s===n)return;n.onMouseLeave(e)}else{if(s)return;this.graph.trigger("graph:mouseleave",{e})}}onMouseWheel(t){const e=this.normalizeEvent(t),n=this.findView(e.target);if(this.guard(e,n))return;const s=e.originalEvent,r=this.graph.snapToGrid(s.clientX,s.clientY),o=Math.max(-1,Math.min(1,s.wheelDelta||-s.detail));n?n.onMouseWheel(e,r.x,r.y,o):this.graph.trigger("blank:mousewheel",{e,delta:o,x:r.x,y:r.y})}onCustomEvent(t){const e=t.currentTarget,n=e.getAttribute("event")||e.getAttribute("data-event");if(n){const s=this.findView(e);if(s){const r=this.normalizeEvent(t);if(this.guard(r,s))return;const o=this.graph.snapToGrid(r.clientX,r.clientY);s.onCustomEvent(r,n,o.x,o.y)}}}handleMagnetEvent(t,e){const n=t.currentTarget,s=n.getAttribute("magnet");if(s&&s.toLowerCase()!=="false"){const r=this.findView(n);if(r){const o=this.normalizeEvent(t);if(this.guard(o,r))return;const a=this.graph.snapToGrid(o.clientX,o.clientY);dt(e,this.graph,r,o,n,a.x,a.y)}}}onMagnetMouseDown(t){this.handleMagnetEvent(t,(e,n,s,r,o)=>{e.onMagnetMouseDown(n,s,r,o)})}onMagnetDblClick(t){this.handleMagnetEvent(t,(e,n,s,r,o)=>{e.onMagnetDblClick(n,s,r,o)})}onMagnetContextMenu(t){this.options.preventDefaultContextMenu&&t.preventDefault(),this.handleMagnetEvent(t,(e,n,s,r,o)=>{e.onMagnetContextMenu(n,s,r,o)})}onLabelMouseDown(t){const e=t.currentTarget,n=this.findView(e);if(n){const s=this.normalizeEvent(t);if(this.guard(s,n))return;const r=this.graph.snapToGrid(s.clientX,s.clientY);n.onLabelMouseDown(s,r.x,r.y)}}onImageDragStart(){return!1}dispose(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=()=>{}}}_6([Ht.dispose()],Zn.prototype,"dispose",null);(function(i){const t=`${ci.prefixCls}-graph`;i.markup=[{ns:ze.xhtml,tagName:"div",selector:"background",className:`${t}-background`},{ns:ze.xhtml,tagName:"div",selector:"grid",className:`${t}-grid`},{ns:ze.svg,tagName:"svg",selector:"svg",className:`${t}-svg`,attrs:{width:"100%",height:"100%","xmlns:xlink":ze.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:`${t}-svg-viewport`,children:[{tagName:"g",selector:"primer",className:`${t}-svg-primer`},{tagName:"g",selector:"stage",className:`${t}-svg-stage`},{tagName:"g",selector:"decorator",className:`${t}-svg-decorator`},{tagName:"g",selector:"overlay",className:`${t}-svg-overlay`}]}]}];function e(n){const s=n.cloneNode();return n.childNodes.forEach(r=>s.appendChild(r)),()=>{for(Xh(n);n.attributes.length>0;)n.removeAttribute(n.attributes[0].name);for(let r=0,o=s.attributes.length;r<o;r+=1){const a=s.attributes[r];n.setAttribute(a.name,a.value)}s.childNodes.forEach(r=>n.appendChild(r))}}i.snapshoot=e})(Zn||(Zn={}));(function(i){const t=ci.prefixCls;i.events={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel",[`mouseenter  .${t}-cell`]:"onMouseEnter",[`mouseleave  .${t}-cell`]:"onMouseLeave",[`mouseenter  .${t}-cell-tools`]:"onMouseEnter",[`mouseleave  .${t}-cell-tools`]:"onMouseLeave",[`mousedown   .${t}-cell [event]`]:"onCustomEvent",[`touchstart  .${t}-cell [event]`]:"onCustomEvent",[`mousedown   .${t}-cell [data-event]`]:"onCustomEvent",[`touchstart  .${t}-cell [data-event]`]:"onCustomEvent",[`dblclick    .${t}-cell [magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [magnet]`]:"onMagnetMouseDown",[`dblclick    .${t}-cell [data-magnet]`]:"onMagnetDblClick",[`contextmenu .${t}-cell [data-magnet]`]:"onMagnetContextMenu",[`mousedown   .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`touchstart  .${t}-cell [data-magnet]`]:"onMagnetMouseDown",[`dragstart   .${t}-cell image`]:"onImageDragStart",[`mousedown   .${t}-edge .${t}-edge-label`]:"onLabelMouseDown",[`touchstart  .${t}-edge .${t}-edge-label`]:"onLabelMouseDown"},i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})(Zn||(Zn={}));var _n;(function(i){function t(e,n){return(s,r,o)=>{const a=o.value;o.value=function(...l){if(this.scroller.widget==null){const h=`Shoule enable scroller to use method '${r}'`;if(e!==!1)throw console.error(h),new Error(h);return n!==!1&&console.warn(h),this}return a.call(this,...l)}}}i.checkScroller=t})(_n||(_n={}));const V6=`.x6-graph {
  position: relative;
  outline: none;
}
.x6-graph-background,
.x6-graph-grid,
.x6-graph-svg {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-background-stage,
.x6-graph-grid-stage,
.x6-graph-svg-stage {
  user-select: none;
}
.x6-graph.x6-graph-pannable {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph.x6-graph-panning {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-node {
  cursor: move;
  /* stylelint-disable-next-line */
}
.x6-node.x6-node-immovable {
  cursor: default;
}
.x6-node * {
  -webkit-user-drag: none;
}
.x6-node .scalable * {
  vector-effect: non-scaling-stroke;
}
.x6-node [magnet='true'] {
  cursor: crosshair;
  transition: opacity 0.3s;
}
.x6-node [magnet='true']:hover {
  opacity: 0.7;
}
.x6-node foreignObject {
  display: block;
  overflow: visible;
  background-color: transparent;
}
.x6-node foreignObject > body {
  position: static;
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  overflow: visible;
  background-color: transparent;
}
.x6-edge .source-marker,
.x6-edge .target-marker {
  vector-effect: non-scaling-stroke;
}
.x6-edge .connection {
  stroke-linejoin: round;
  fill: none;
}
.x6-edge .connection-wrap {
  cursor: move;
  opacity: 0;
  fill: none;
  stroke: #000;
  stroke-width: 15;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.x6-edge .connection-wrap:hover {
  opacity: 0.4;
  stroke-opacity: 0.4;
}
.x6-edge .vertices {
  cursor: move;
  opacity: 0;
}
.x6-edge .vertices .vertex {
  fill: #1abc9c;
}
.x6-edge .vertices .vertex :hover {
  fill: #34495e;
  stroke: none;
}
.x6-edge .vertices .vertex-remove {
  cursor: pointer;
  fill: #fff;
}
.x6-edge .vertices .vertex-remove-area {
  cursor: pointer;
  opacity: 0.1;
}
.x6-edge .vertices .vertex-group:hover .vertex-remove-area {
  opacity: 1;
}
.x6-edge .arrowheads {
  cursor: move;
  opacity: 0;
}
.x6-edge .arrowheads .arrowhead {
  fill: #1abc9c;
}
.x6-edge .arrowheads .arrowhead :hover {
  fill: #f39c12;
  stroke: none;
}
.x6-edge .tools {
  cursor: pointer;
  opacity: 0;
}
.x6-edge .tools .tool-options {
  display: none;
}
.x6-edge .tools .tool-remove circle {
  fill: #f00;
}
.x6-edge .tools .tool-remove path {
  fill: #fff;
}
.x6-edge:hover .vertices,
.x6-edge:hover .arrowheads,
.x6-edge:hover .tools {
  opacity: 1;
}
.x6-highlight-opacity {
  opacity: 0.3;
}
@keyframes halo-pie-visibility {
  0% {
    visibility: hidden;
  }
  100% {
    visibility: visible;
  }
}
@keyframes halo-pie-opening {
  0% {
    transform: scale(0.4) rotate(-20deg);
  }
  100% {
    transform: scale(1) rotate(0);
  }
}
.x6-widget-handle {
  position: absolute;
  width: 20px;
  height: 20px;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  background-size: 20px 20px;
  cursor: pointer;
  user-select: none;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle.hidden {
  display: none;
}
.x6-widget-handle-selected {
  background-color: rgba(0, 0, 0, 0.1);
  border-radius: 3px;
}
.x6-widget-handle-remove {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%20M4.152%2C14.598C1.273%2C11.719%2C1.273%2C7.035%2C4.153%2C4.154%20c2.88-2.88%2C7.563-2.88%2C10.443%2C0c2.881%2C2.88%2C2.881%2C7.562%2C0%2C10.443C11.716%2C17.477%2C7.032%2C17.477%2C4.152%2C14.598L4.152%2C14.598z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: pointer;
}
.x6-widget-handle-remove:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15.386%2C3.365c-3.315-3.314-8.707-3.313-12.021%2C0c-3.314%2C3.315-3.314%2C8.706%2C0%2C12.02%20c3.314%2C3.314%2C8.707%2C3.314%2C12.021%2C0S18.699%2C6.68%2C15.386%2C3.365L15.386%2C3.365z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M12.157%2C11.371L7.38%2C6.593C7.162%2C6.375%2C6.809%2C6.375%2C6.592%2C6.592c-0.218%2C0.219-0.218%2C0.572%2C0%2C0.79%20l4.776%2C4.776c0.218%2C0.219%2C0.571%2C0.219%2C0.79%2C0C12.375%2C11.941%2C12.375%2C11.588%2C12.157%2C11.371L12.157%2C11.371z%22%2F%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M11.369%2C6.593l-4.777%2C4.778c-0.217%2C0.217-0.217%2C0.568%2C0%2C0.787c0.219%2C0.219%2C0.571%2C0.217%2C0.788%2C0l4.777-4.777%20c0.218-0.218%2C0.218-0.571%2C0.001-0.789C11.939%2C6.375%2C11.587%2C6.375%2C11.369%2C6.593L11.369%2C6.593z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-rotate {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-rotate:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.374%2C17.592c-4.176%2C0-7.57-3.401-7.57-7.575c0-4.175%2C3.395-7.574%2C7.57-7.574c0.28%2C0%2C0.56%2C0.018%2C0.837%2C0.05%20V1.268c0-0.158%2C0.099-0.3%2C0.239-0.36c0.151-0.058%2C0.315-0.026%2C0.428%2C0.086l2.683%2C2.688c0.152%2C0.154%2C0.152%2C0.399%2C0%2C0.553l-2.68%2C2.693%20c-0.115%2C0.112-0.279%2C0.147-0.431%2C0.087c-0.141-0.063-0.239-0.205-0.239-0.361V5.296C9.934%2C5.243%2C9.654%2C5.22%2C9.374%2C5.22%20c-2.646%2C0-4.796%2C2.152-4.796%2C4.797s2.154%2C4.798%2C4.796%2C4.798c2.645%2C0%2C4.798-2.153%2C4.798-4.798c0-0.214%2C0.174-0.391%2C0.391-0.391h1.991%20c0.217%2C0%2C0.394%2C0.177%2C0.394%2C0.391C16.947%2C14.19%2C13.549%2C17.592%2C9.374%2C17.592L9.374%2C17.592z%20M9.374%2C17.592%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-resize {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%236A6C8A%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
  cursor: se-resize;
}
.x6-widget-handle-resize:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3Csvg%20height%3D%2224px%22%20version%3D%221.1%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Ctitle%2F%3E%3Cdesc%2F%3E%3Cdefs%2F%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%20id%3D%22miu%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%3E%3Cg%20id%3D%22Artboard-1%22%20transform%3D%22translate(-251.000000%2C%20-443.000000)%22%3E%3Cg%20id%3D%22slice%22%20transform%3D%22translate(215.000000%2C%20119.000000)%22%2F%3E%3Cpath%20d%3D%22M252%2C448%20L256%2C448%20L256%2C444%20L252%2C444%20L252%2C448%20Z%20M257%2C448%20L269%2C448%20L269%2C446%20L257%2C446%20L257%2C448%20Z%20M257%2C464%20L269%2C464%20L269%2C462%20L257%2C462%20L257%2C464%20Z%20M270%2C444%20L270%2C448%20L274%2C448%20L274%2C444%20L270%2C444%20Z%20M252%2C462%20L252%2C466%20L256%2C466%20L256%2C462%20L252%2C462%20Z%20M270%2C462%20L270%2C466%20L274%2C466%20L274%2C462%20L270%2C462%20Z%20M254%2C461%20L256%2C461%20L256%2C449%20L254%2C449%20L254%2C461%20Z%20M270%2C461%20L272%2C461%20L272%2C449%20L270%2C449%20L270%2C461%20Z%22%20fill%3D%22%23FD6EB6%22%20id%3D%22editor-crop-glyph%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-clone {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.85%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-clone:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.852%2C0.875h-9.27c-0.853%2C0-1.547%2C0.694-1.547%2C1.547v10.816h1.547V2.422h9.27V0.875z%20M15.172%2C3.965h-8.5%20c-0.849%2C0-1.547%2C0.698-1.547%2C1.547v10.816c0%2C0.849%2C0.698%2C1.547%2C1.547%2C1.547h8.5c0.849%2C0%2C1.543-0.698%2C1.543-1.547V5.512%20C16.715%2C4.663%2C16.021%2C3.965%2C15.172%2C3.965L15.172%2C3.965z%20M15.172%2C16.328h-8.5V5.512h8.5V16.328z%20M15.172%2C16.328%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-link {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
  cursor: move;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
.x6-widget-handle-link:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M9.884%2C9.838c0.54-0.551%2C1.005-0.955%2C1.384-1.201c0.463-0.308%2C0.749-0.352%2C0.887-0.352h1.34v1.367%20c0%2C0.104%2C0.061%2C0.2%2C0.154%2C0.242s0.204%2C0.027%2C0.284-0.038l3.168-2.669c0.06-0.051%2C0.096-0.125%2C0.096-0.203S17.16%2C6.83%2C17.101%2C6.781%20l-3.168-2.677c-0.08-0.067-0.19-0.081-0.284-0.038c-0.094%2C0.045-0.154%2C0.139-0.154%2C0.242v1.414h-1.343%20c-1.24%2C0.014-2.215%2C0.67-2.927%2C1.242c-0.797%2C0.65-1.533%2C1.447-2.245%2C2.217c-0.361%2C0.391-0.7%2C0.759-1.044%2C1.1%20c-0.541%2C0.549-1.011%2C0.951-1.395%2C1.199c-0.354%2C0.231-0.678%2C0.357-0.921%2C0.357h-1.8c-0.146%2C0-0.266%2C0.12-0.266%2C0.265v2.029%20c0%2C0.148%2C0.12%2C0.268%2C0.266%2C0.268h1.8l0%2C0c1.255-0.014%2C2.239-0.667%2C2.958-1.24c0.82-0.661%2C1.572-1.475%2C2.297-2.256%20C9.225%2C10.524%2C9.555%2C10.169%2C9.884%2C9.838z%22%2F%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-fork {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%236A6C8A%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20C7.552%2C9.82%2C7.602%2C9.589%2C7.602%2C9.344c0-0.25-0.051-0.487-0.129-0.71l4.097-2.364c0.393%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.014%2C0.149%2C0.021%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.982%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.014%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
  cursor: move;
}
.x6-widget-handle-fork:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill-rule%3D%22evenodd%22%20clip-rule%3D%22evenodd%22%20fill%3D%22%23FD6EB6%22%20d%3D%22M13.307%2C11.593c-0.69%2C0-1.299%2C0.33-1.693%2C0.835l-4.136-2.387%20c0.075-0.22%2C0.125-0.452%2C0.125-0.697c0-0.25-0.051-0.487-0.129-0.71l4.097-2.365c0.394%2C0.536%2C1.022%2C0.888%2C1.737%2C0.888%20c1.193%2C0%2C2.16-0.967%2C2.16-2.159s-0.967-2.159-2.16-2.159c-1.191%2C0-2.158%2C0.967-2.158%2C2.159c0%2C0.076%2C0.015%2C0.148%2C0.022%2C0.223%20L6.848%2C7.716C6.469%2C7.39%2C5.981%2C7.185%2C5.442%2C7.185c-1.191%2C0-2.158%2C0.967-2.158%2C2.159s0.967%2C2.159%2C2.158%2C2.159%20c0.545%2C0%2C1.037-0.208%2C1.417-0.541l4.319%2C2.493c-0.013%2C0.098-0.029%2C0.194-0.029%2C0.296c0%2C1.193%2C0.967%2C2.159%2C2.158%2C2.159%20c1.193%2C0%2C2.16-0.966%2C2.16-2.159C15.467%2C12.559%2C14.5%2C11.593%2C13.307%2C11.593z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-unlink:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2218.75px%22%20height%3D%2218.75px%22%20viewBox%3D%220%200%2018.75%2018.75%22%20enable-background%3D%22new%200%200%2018.75%2018.75%22%20xml%3Aspace%3D%22preserve%22%3E%3Cg%3E%3Cg%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M12.285%2C9.711l-2.104-0.302L9.243%2C8.568L6.669%2C7.095C6.948%2C6.6%2C6.995%2C6.026%2C6.845%2C5.474%20c-0.191-0.698-0.695-1.36-1.438-1.786C4.068%2C2.922%2C2.464%2C3.214%2C1.82%2C4.338C1.536%2C4.836%2C1.489%2C5.414%2C1.64%2C5.97%20c0.189%2C0.698%2C0.694%2C1.36%2C1.438%2C1.787c0.328%2C0.187%2C0.67%2C0.31%2C1.01%2C0.372c0.002%2C0%2C0.006%2C0.002%2C0.008%2C0.004%20c0.027%2C0.004%2C0.057%2C0.009%2C0.088%2C0.011c2.12%2C0.316%2C3.203%2C0.915%2C3.73%2C1.337c-0.527%2C0.424-1.61%2C1.021-3.731%2C1.339%20c-0.029%2C0.003-0.058%2C0.007-0.087%2C0.012c-0.002%2C0.002-0.004%2C0.002-0.007%2C0.003c-0.341%2C0.062-0.684%2C0.187-1.013%2C0.374%20c-0.74%2C0.425-1.246%2C1.089-1.437%2C1.787c-0.149%2C0.555-0.105%2C1.133%2C0.181%2C1.632c0.011%2C0.018%2C0.021%2C0.033%2C0.033%2C0.049l0.883%2C0.783%20c0.765%2C0.366%2C1.775%2C0.328%2C2.67-0.184c0.744-0.425%2C1.248-1.088%2C1.439-1.786c0.148-0.552%2C0.104-1.126-0.176-1.62l2.573-1.473%20c0.573%2C0.287%2C2.299%2C1.292%2C2.299%2C1.292s3.602%2C1.445%2C4.241%2C1.812c0.773%2C0.191%2C0.566-0.151%2C0.566-0.151L12.285%2C9.711z%20M5.571%2C6.482%20C5.279%2C6.993%2C4.425%2C7.076%2C3.705%2C6.664C3.282%2C6.424%2C2.966%2C6.039%2C2.856%2C5.64C2.81%2C5.464%2C2.778%2C5.203%2C2.917%2C4.963%20c0.291-0.51%2C1.146-0.593%2C1.866-0.182C5.21%2C5.027%2C5.521%2C5.4%2C5.632%2C5.807C5.679%2C5.98%2C5.708%2C6.242%2C5.571%2C6.482z%20M5.632%2C13.159%20c-0.111%2C0.406-0.422%2C0.778-0.848%2C1.025c-0.719%2C0.409-1.576%2C0.327-1.867-0.184c-0.137-0.239-0.106-0.499-0.06-0.676%20c0.108-0.398%2C0.426-0.781%2C0.847-1.022c0.72-0.412%2C1.574-0.329%2C1.866%2C0.181C5.708%2C12.723%2C5.679%2C12.983%2C5.632%2C13.159z%20M16.181%2C5.139%20c-0.448%2C0.258-4.435%2C1.9-4.435%2C1.9s-1.556%2C0.855-2.104%2C1.13l0.937%2C0.843l2.057-0.229l4.11-3.638%20C16.745%2C5.146%2C17.013%2C4.664%2C16.181%2C5.139z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E%20');
}
.x6-widget-handle-direction {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%236A6C8A%3Bstroke%3A%236A6C8A%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%236A6C8A%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-direction:hover {
  background-image: url("data:image/svg+xml;charset=UTF-8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20%20PUBLIC%20'-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN'%20%20'http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd'%3E%3Csvg%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%0A%09.st0%7Bfill%3A%23FD6EB6%3Bstroke%3A%23FD6EB6%3Bstroke-width%3A30%7D%0A%09.dot%7Bfill%3A%23FD6EB6%3B%7D%0A%3C%2Fstyle%3E%3Cg%3E%3Cg%20id%3D%22XMLID_475_%22%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M133.1%2C277.1c1.8%2C0%2C3.7-0.6%2C5.4-1.7c4.1-3%2C5-8.7%2C2-12.8c-3-4.1-8.7-5-12.8-2c0%2C0%2C0%2C0%2C0%2C0%20%20%20%20%20c-4.1%2C3-5%2C8.7-2%2C12.8C127.5%2C275.8%2C130.3%2C277.1%2C133.1%2C277.1z%22%20id%3D%22XMLID_489_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M138.5%2C359.6c-4.1-3-9.8-2.1-12.8%2C2c-3%2C4.1-2.1%2C9.8%2C2%2C12.8c1.6%2C1.2%2C3.5%2C1.7%2C5.4%2C1.7%20%20%20%20%20c2.8%2C0%2C5.6-1.3%2C7.4-3.7C143.5%2C368.3%2C142.6%2C362.6%2C138.5%2C359.6z%22%20id%3D%22XMLID_726_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C327.7c-4.8%2C1.6-7.4%2C6.7-5.9%2C11.5c1.3%2C3.9%2C4.8%2C6.3%2C8.7%2C6.3c0.9%2C0%2C1.9-0.1%2C2.8-0.4%20%20%20%20%20c4.8-1.6%2C7.4-6.7%2C5.9-11.5C118%2C328.8%2C112.9%2C326.2%2C108.1%2C327.7z%22%20id%3D%22XMLID_776_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M108.1%2C307.3c0.9%2C0.3%2C1.9%2C0.4%2C2.8%2C0.4c3.8%2C0%2C7.4-2.4%2C8.7-6.3c1.6-4.8-1.1-9.9-5.9-11.5%20%20%20%20%20c-4.8-1.6-9.9%2C1.1-11.5%2C5.9C100.7%2C300.6%2C103.3%2C305.7%2C108.1%2C307.3z%22%20id%3D%22XMLID_777_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M169.2%2C265.4c2.4%2C0%2C4.7-1%2C6.5-2.6c1.7-1.7%2C2.7-4.1%2C2.7-6.5c0-2.4-1-4.8-2.7-6.5%20%20%20%20%20c-1.7-1.7-4.1-2.7-6.5-2.7s-4.7%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.5C164.4%2C264.4%2C166.8%2C265.4%2C169.2%2C265.4z%22%20id%3D%22XMLID_797_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M247.7%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C243.7%2C265.4%2C247.7%2C261.3%2C247.7%2C256.3z%22%20id%3D%22XMLID_798_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M213%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C208.9%2C265.4%2C213%2C261.3%2C213%2C256.3z%22%20id%3D%22XMLID_799_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M317.2%2C256.3c0-5-4.1-9.1-9.1-9.1c-5%2C0-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20C313.1%2C265.4%2C317.2%2C261.3%2C317.2%2C256.3z%22%20id%3D%22XMLID_800_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M282.5%2C256.3c0-5-4.1-9.1-9.1-9.1s-9.1%2C4.1-9.1%2C9.1c0%2C5%2C4.1%2C9.1%2C9.1%2C9.1%20%20%20%20%20S282.5%2C261.3%2C282.5%2C256.3z%22%20id%3D%22XMLID_801_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M401.1%2C185.2c0.9%2C0%2C1.9-0.1%2C2.8-0.5c4.8-1.6%2C7.4-6.7%2C5.9-11.5c-1.6-4.8-6.7-7.4-11.5-5.8%20%20%20%20%20c-4.8%2C1.6-7.4%2C6.7-5.8%2C11.5C393.6%2C182.8%2C397.2%2C185.2%2C401.1%2C185.2z%22%20id%3D%22XMLID_802_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M403.9%2C205.2c-4.8-1.6-9.9%2C1-11.5%2C5.9l0%2C0c-1.6%2C4.8%2C1.1%2C9.9%2C5.9%2C11.5%20%20%20%20%20c0.9%2C0.3%2C1.9%2C0.5%2C2.8%2C0.5c3.9%2C0%2C7.4-2.5%2C8.7-6.3c0%2C0%2C0%2C0%2C0%2C0C411.3%2C211.9%2C408.7%2C206.8%2C403.9%2C205.2z%22%20id%3D%22XMLID_803_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C237.2L373.5%2C237.2c-4.1%2C3-5%2C8.7-2%2C12.8c1.8%2C2.4%2C4.6%2C3.7%2C7.4%2C3.7%20%20%20%20%20c1.8%2C0%2C3.7-0.6%2C5.4-1.8c4.1-3%2C4.9-8.7%2C2-12.8C383.3%2C235.1%2C377.6%2C234.2%2C373.5%2C237.2z%22%20id%3D%22XMLID_804_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M373.5%2C152.9c1.6%2C1.2%2C3.5%2C1.8%2C5.4%2C1.8c2.8%2C0%2C5.6-1.3%2C7.4-3.8c3-4.1%2C2.1-9.8-2-12.7%20%20%20%20%20c-4.1-3-9.8-2.1-12.7%2C2C368.5%2C144.2%2C369.4%2C149.9%2C373.5%2C152.9z%22%20id%3D%22XMLID_805_%22%2F%3E%0A%3Cpath%20class%3D%22dot%22%20d%3D%22M342.8%2C247.1c-2.4%2C0-4.8%2C1-6.5%2C2.7c-1.7%2C1.7-2.7%2C4-2.7%2C6.5c0%2C2.4%2C1%2C4.7%2C2.7%2C6.4%20%20%20%20%20c1.7%2C1.7%2C4%2C2.7%2C6.5%2C2.7c2.4%2C0%2C4.7-1%2C6.5-2.7c1.7-1.7%2C2.7-4%2C2.7-6.4c0-2.4-1-4.8-2.7-6.5C347.6%2C248.1%2C345.2%2C247.1%2C342.8%2C247.1z%22%20id%3D%22XMLID_806_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M342.8%2C124.7H206.6l36.4-36.4c3.6-3.6%2C3.6-9.3%2C0-12.9c-3.6-3.6-9.3-3.6-12.9%2C0l-51.5%2C51.5%20%20%20%20%20c-1.9%2C1.9-2.8%2C4.4-2.7%2C6.9c-0.1%2C2.5%2C0.7%2C5%2C2.7%2C6.9l51.5%2C51.5c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7%20%20%20%20%20c3.6-3.6%2C3.6-9.3%2C0-12.9l-36.4-36.4h136.1c0%2C0%2C0.1%2C0%2C0.1%2C0c0.6%2C0%2C1.2-0.1%2C1.8-0.2c0.2%2C0%2C0.4-0.1%2C0.6-0.1c0.1%2C0%2C0.2%2C0%2C0.3-0.1%20%20%20%20%20c3.2-1%2C5.6-3.6%2C6.3-6.9c0.1-0.6%2C0.2-1.2%2C0.2-1.8c0-0.6-0.1-1.2-0.2-1.8C351%2C127.8%2C347.3%2C124.7%2C342.8%2C124.7z%22%20id%3D%22XMLID_807_%22%2F%3E%0A%3Cpath%20class%3D%22st0%22%20d%3D%22M322.1%2C371.3l-51.5-51.5c-3.6-3.6-9.3-3.6-12.9%2C0c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9l36.9%2C36.9H169.2%20%20%20%20%20c-2.8%2C0-5.4%2C1.3-7%2C3.3c-0.1%2C0.1-0.2%2C0.2-0.3%2C0.4c-0.1%2C0.1-0.2%2C0.2-0.2%2C0.3c-0.1%2C0.1-0.1%2C0.2-0.2%2C0.4c-0.1%2C0.1-0.2%2C0.3-0.2%2C0.4%20%20%20%20%20c0%2C0.1-0.1%2C0.2-0.1%2C0.2c-0.1%2C0.2-0.2%2C0.4-0.3%2C0.6c0%2C0%2C0%2C0%2C0%2C0.1c-0.4%2C1.1-0.7%2C2.2-0.7%2C3.4c0%2C1.5%2C0.4%2C2.9%2C1%2C4.2c0%2C0%2C0%2C0.1%2C0.1%2C0.1%20%20%20%20%20c0.1%2C0.1%2C0.1%2C0.2%2C0.2%2C0.3c0.4%2C0.7%2C0.9%2C1.3%2C1.4%2C1.8c0.4%2C0.4%2C0.7%2C0.7%2C1.2%2C1c0.1%2C0.1%2C0.1%2C0.1%2C0.2%2C0.2c0%2C0%2C0.1%2C0%2C0.1%2C0.1%20%20%20%20%20c1.4%2C0.9%2C3.1%2C1.5%2C5%2C1.5h124.4l-36%2C36c-3.6%2C3.6-3.6%2C9.3%2C0%2C12.9c1.8%2C1.8%2C4.1%2C2.7%2C6.5%2C2.7c2.3%2C0%2C4.7-0.9%2C6.5-2.7l51.5-51.5%20%20%20%20%20c1.9-1.9%2C2.8-4.4%2C2.7-6.9C324.8%2C375.7%2C324%2C373.2%2C322.1%2C371.3z%22%20id%3D%22XMLID_808_%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E");
}
.x6-widget-handle-surround .x6-widget-handle-animate .x6-widget-handle {
  transition: background-size 80ms, width 80ms, height 80ms, top 150ms, left 150ms, bottom 150ms, right 150ms;
}
.x6-widget-handle-surround .x6-widget-handle-pos-se {
  right: -25px;
  bottom: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-nw {
  top: -21px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-n {
  top: -22px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-e {
  top: -webkit-calc(40%);
  top: calc(50% - 10px);
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-ne {
  top: -21px;
  right: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-w {
  top: 50%;
  left: -25px;
  margin-top: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-sw {
  bottom: -25px;
  left: -25px;
}
.x6-widget-handle-surround .x6-widget-handle-pos-s {
  bottom: -24px;
  left: 50%;
  margin-left: -10px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle {
  width: 15px;
  height: 15px;
  font-size: 15px;
  background-size: 15px 15px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-se {
  right: -19px;
  bottom: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-nw {
  top: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-n {
  top: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-e {
  top: -webkit-calc(42%);
  top: calc(50% - 8px);
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-ne {
  top: -19px;
  right: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-w {
  left: -19px;
  margin-top: -8px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-sw {
  bottom: -19px;
  left: -19px;
}
.x6-widget-handle-surround .x6-widget-handle-small .x6-widget-handle-pos-s {
  bottom: -19px;
  margin-left: -7.5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle {
  width: 10px;
  height: 10px;
  font-size: 10px;
  background-size: 10px 10px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-se {
  right: -15px;
  bottom: -13px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-nw {
  top: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-n {
  top: -13px;
  margin-left: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-e {
  top: -webkit-calc(45%);
  top: calc(50% - 5px);
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-ne {
  top: -13px;
  right: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-w {
  left: -15px;
  margin-top: -5px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-sw {
  bottom: -13px;
  left: -15px;
}
.x6-widget-handle-surround .x6-widget-handle-tiny .x6-widget-handle-pos-s {
  bottom: -13px;
  margin-left: -5px;
}
.x6-widget-handle-toolbar {
  position: absolute;
  top: -50px;
  display: table-row;
  padding: 7px 5px;
}
.x6-widget-handle-toolbar::after {
  position: absolute;
  top: 100%;
  left: 10px;
  width: 0;
  height: 0;
  margin-top: 4px;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
  content: '';
}
.x6-widget-handle-toolbar .x6-widget-handle {
  position: relative;
  display: table-cell;
  min-width: 20px;
  margin: 0 2px;
  background-position: 3px 3px;
  background-size: 16px 16px;
}
.x6-widget-handle-toolbar .x6-widget-handle::after {
  position: absolute;
  bottom: -11px;
  width: 100%;
  content: '';
}
.x6-widget-handle-pie {
  position: absolute;
  top: -webkit-calc(0%);
  top: calc(50% - 50px);
  right: -50px;
  z-index: 1;
  display: none;
  width: 100px;
  height: 100px;
  margin: -2px -2px 0 0;
  border-radius: 50%;
  cursor: default;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie .x6-widget-handle {
  width: 1px;
  height: auto;
  pointer-events: visiblePainted;
}
.x6-widget-handle-pie-slice-svg {
  width: 100%;
  height: 100%;
  overflow: visible !important;
}
.x6-widget-handle-pie-slice-img,
.x6-widget-handle-pie-slice-txt {
  display: none;
  pointer-events: none;
}
.x6-widget-handle-pie[data-pie-toggle-position='e'] {
  top: calc(50% - 50px);
  right: -50px;
  left: auto;
}
.x6-widget-handle-pie[data-pie-toggle-position='w'] {
  top: calc(50% - 50px);
  right: auto;
  left: -52px;
}
.x6-widget-handle-pie[data-pie-toggle-position='n'] {
  top: -50px;
  right: auto;
  bottom: auto;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie[data-pie-toggle-position='s'] {
  top: auto;
  right: auto;
  bottom: -52px;
  left: calc(50% - 52px);
}
.x6-widget-handle-pie-opened {
  display: block;
  animation: halo-pie-visibility 0.1s, halo-pie-opening 0.1s;
  animation-timing-function: step-end, ease;
  animation-delay: 0s, 0.1s;
}
.x6-widget-handle-pie-toggle {
  position: absolute;
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  z-index: 2;
  display: block;
  box-sizing: border-box;
  width: 30px;
  height: 30px;
  background-repeat: no-repeat;
  background-position: center;
  background-size: 20px 20px;
  border-radius: 50%;
  cursor: pointer;
  user-select: none;
  pointer-events: visiblePainted;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-handle-pie-toggle-pos-e {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: -15px;
  bottom: auto;
  left: auto;
}
.x6-widget-handle-pie-toggle-pos-w {
  top: -webkit-calc(35%);
  top: calc(50% - 15px);
  right: auto;
  bottom: auto;
  left: -15px;
}
.x6-widget-handle-pie-toggle-pos-n {
  top: -15px;
  right: auto;
  bottom: auto;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-pos-s {
  top: auto;
  right: auto;
  bottom: -15px;
  left: -webkit-calc(35%);
  left: calc(50% - 15px);
}
.x6-widget-handle-pie-toggle-opened {
  transition: 0.1s background-image;
}
.x6-widget-handle-toolbar {
  position: static;
  display: inline-block;
  margin-top: -50px;
  margin-left: 45px;
  white-space: nowrap;
  vertical-align: top;
  background-color: #f5f5f5;
  border-bottom: 3px solid #333;
  border-radius: 5px;
  box-shadow: 0 1px 2px #222;
}
.x6-widget-handle-toolbar::after {
  top: -12px;
  left: 55px;
  margin-top: 0;
  border-top: 6px solid #333;
  border-right: 10px solid transparent;
  border-left: 10px solid transparent;
}
.x6-widget-handle-toolbar .x6-widget-handle {
  display: inline-block;
  vertical-align: top;
}
.x6-widget-handle-toolbar .x6-widget-handle:hover::after {
  border-bottom: 4px solid #fc6cb8;
}
.x6-widget-handle-toolbar .x6-widget-handle-rotate {
  position: absolute;
  top: 100%;
  right: 100%;
  margin-top: 3px;
  margin-right: 6px;
}
.x6-widget-handle-toolbar .x6-widget-handle-remove:hover::after,
.x6-widget-handle-toolbar .x6-widget-handle-rotate:hover::after {
  border-bottom: none;
}
.x6-widget-handle-toolbar .x6-widget-handle + .x6-widget-handle {
  margin-left: 4px;
}
.x6-widget-handle-pie {
  box-sizing: content-box;
  background-color: #f5f5f5;
  border: 2px solid #404040;
}
.x6-widget-handle-pie-slice {
  fill: transparent;
  stroke: #e9e9e9;
  stroke-width: 1;
}
.x6-widget-handle-pie-slice:hover {
  fill: #fff;
}
.x6-widget-handle-pie-slice-img {
  display: block;
}
.x6-widget-handle-selected .x6-widget-handle-pie-slice {
  fill: #fff;
}
.x6-widget-handle-pie-toggle {
  background-color: #f6f6f6;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%236A6C8A%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  background-size: 16px 16px;
  border: 2px solid #3b425f;
}
.x6-widget-handle-pie-toggle:hover {
  background-color: #fff;
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20height%3D%2216px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%2016%2016%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%2016%2016%22%20width%3D%2216px%22%20xml%3Aspace%3D%22preserve%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%3Cpath%20fill%3D%22%23FD6EB6%22%20d%3D%22M15%2C6h-5V1c0-0.55-0.45-1-1-1H7C6.45%2C0%2C6%2C0.45%2C6%2C1v5H1C0.45%2C6%2C0%2C6.45%2C0%2C7v2c0%2C0.55%2C0.45%2C1%2C1%2C1h5v5c0%2C0.55%2C0.45%2C1%2C1%2C1h2%20c0.55%2C0%2C1-0.45%2C1-1v-5h5c0.55%2C0%2C1-0.45%2C1-1V7C16%2C6.45%2C15.55%2C6%2C15%2C6z%22%2F%3E%3C%2Fsvg%3E');
  border-color: #fd6eb6;
}
.x6-widget-handle-pie-toggle-opened {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%236a6c8a%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-handle-pie-toggle-opened:hover {
  background-image: url('data:image/svg+xml;charset=utf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%3Csvg%20xmlns%3Adc%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Felements%2F1.1%2F%22%20xmlns%3Acc%3D%22http%3A%2F%2Fcreativecommons.org%2Fns%23%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%20xmlns%3Asvg%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20id%3D%22Layer_1%22%20xml%3Aspace%3D%22preserve%22%3E%3Cmetadata%20id%3D%22metadata9%22%3E%3Crdf%3ARDF%3E%3Ccc%3AWork%20rdf%3Aabout%3D%22%22%3E%3Cdc%3Aformat%3Eimage%2Fsvg%2Bxml%3C%2Fdc%3Aformat%3E%3Cdc%3Atype%20rdf%3Aresource%3D%22http%3A%2F%2Fpurl.org%2Fdc%2Fdcmitype%2FStillImage%22%20%2F%3E%3Cdc%3Atitle%3E%3C%2Fdc%3Atitle%3E%3C%2Fcc%3AWork%3E%3C%2Frdf%3ARDF%3E%3C%2Fmetadata%3E%3Cdefs%20id%3D%22defs7%22%20%2F%3E%3Cpath%20d%3D%22M%2015%2C6%2010%2C6%20C%201.0301983%2C6.00505%2015.002631%2C6.011353%206%2C6%20L%201%2C6%20C%200.45%2C6%200%2C6.45%200%2C7%20l%200%2C2%20c%200%2C0.55%200.45%2C1%201%2C1%20l%205%2C0%20c%208.988585%2C-0.019732%20-5.02893401%2C-0.018728%204%2C0%20l%205%2C0%20c%200.55%2C0%201%2C-0.45%201%2C-1%20L%2016%2C7%20C%2016%2C6.45%2015.55%2C6%2015%2C6%20z%22%20id%3D%22path3%22%20style%3D%22fill%3A%23FD6EB6%22%20%2F%3E%3C%2Fsvg%3E');
}
.x6-widget-dnd {
  position: absolute;
  top: -10000px;
  left: -10000px;
  z-index: 100;
  display: none;
  cursor: move;
  opacity: 0.7;
  pointer-events: 'cursor';
}
.x6-widget-dnd.dragging {
  display: inline-block;
}
.x6-widget-dnd.dragging * {
  pointer-events: none !important;
}
.x6-widget-dnd .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-halo {
  position: absolute;
  pointer-events: none;
}
.x6-widget-halo-content {
  position: absolute;
  top: 100%;
  padding: 6px;
  font-size: 10px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-halo-handles + .x6-widget-halo-content {
  right: -20px;
  left: -20px;
  margin-top: 30px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 25px;
}
.x6-widget-halo-handles.x6-widget-handle-small + .x6-widget-halo-content {
  margin-top: 20px;
}
.x6-widget-halo-handles.x6-widget-handle-pie + .x6-widget-halo-content {
  right: 0;
  left: 0;
  margin-top: 10px;
}
.x6-widget-halo-content {
  color: #fff;
  background-color: #6a6b8a;
}
.x6-widget-halo.type-node .x6-widget-handle-toolbar .x6-widget-handle-remove {
  position: absolute;
  right: 100%;
  bottom: 100%;
  margin-right: 6px;
  margin-bottom: 3px;
}
.x6-widget-halo.type-edge .x6-widget-handle-surround .x6-widget-handle-remove {
  background-color: #fff;
  border-radius: 50%;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar {
  margin-top: -60px;
  margin-left: -18px;
}
.x6-widget-halo.type-edge .x6-widget-handle-toolbar::after {
  top: -22px;
  left: -9px;
}
.x6-widget-minimap {
  position: relative;
  display: table-cell;
  box-sizing: border-box;
  overflow: hidden;
  text-align: center;
  vertical-align: middle;
  background-color: #fff;
  user-select: none;
}
.x6-widget-minimap .x6-graph {
  display: inline-block;
  box-shadow: 0 0 4px 0 #eee;
  cursor: pointer;
}
.x6-widget-minimap .x6-graph > svg {
  pointer-events: none;
  shape-rendering: optimizeSpeed;
}
.x6-widget-minimap .x6-graph .x6-node * {
  /* stylelint-disable-next-line */
  vector-effect: initial;
}
.x6-widget-minimap-viewport {
  position: absolute;
  box-sizing: content-box !important;
  margin: -2px 0 0 -2px;
  border: 2px solid #31d0c6;
  cursor: move;
}
.x6-widget-minimap-viewport-zoom {
  position: absolute;
  right: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 12px;
  height: 12px;
  margin: 0 -6px -6px 0;
  background-color: #fff;
  border: 2px solid #31d0c6;
  border-radius: 50%;
  cursor: nwse-resize;
}
.x6-graph-scroller {
  position: relative;
  box-sizing: border-box;
  overflow: scroll;
  outline: none;
}
.x6-graph-scroller-content {
  position: relative;
}
.x6-graph-scroller-background {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-scroller .x6-graph {
  position: absolute;
  display: inline-block;
  margin: 0;
  box-shadow: none;
}
.x6-graph-scroller .x6-graph > svg {
  display: block;
}
.x6-graph-scroller.x6-graph-scroller-paged .x6-graph {
  box-shadow: 0 0 4px 0 #eee;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='false'] {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.x6-graph-scroller.x6-graph-scroller-pannable[data-panning='true'] {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
  user-select: none;
}
.x6-graph-pagebreak {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-graph-pagebreak-vertical {
  position: absolute;
  top: 0;
  bottom: 0;
  box-sizing: border-box;
  width: 1px;
  border-left: 1px dashed #bdbdbd;
}
.x6-graph-pagebreak-horizontal {
  position: absolute;
  right: 0;
  left: 0;
  box-sizing: border-box;
  height: 1px;
  border-top: 1px dashed #bdbdbd;
}
.x6-widget-selection {
  position: absolute;
  display: none;
  width: 0;
  height: 0;
  touch-action: none;
}
.x6-widget-selection-rubberband {
  display: block;
  overflow: visible;
  opacity: 0.3;
}
.x6-widget-selection-selected {
  display: block;
}
.x6-widget-selection-box {
  cursor: move;
}
.x6-widget-selection-inner[data-selection-length='0'],
.x6-widget-selection-inner[data-selection-length='1'] {
  display: none;
}
.x6-widget-selection-content {
  position: absolute;
  top: 100%;
  right: -20px;
  left: -20px;
  margin-top: 30px;
  padding: 6px;
  line-height: 14px;
  text-align: center;
  border-radius: 6px;
}
.x6-widget-selection-content:empty {
  display: none;
}
.x6-widget-selection-rubberband {
  background-color: #3498db;
  border: 2px solid #2980b9;
}
.x6-widget-selection-box {
  box-sizing: content-box !important;
  margin-top: -4px;
  margin-left: -4px;
  padding-right: 4px;
  padding-bottom: 4px;
  border: 2px dashed #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-inner {
  box-sizing: content-box !important;
  margin-top: -8px;
  margin-left: -8px;
  padding-right: 12px;
  padding-bottom: 12px;
  border: 2px solid #feb663;
  box-shadow: 2px 2px 5px #d3d3d3;
}
.x6-widget-selection-content {
  color: #fff;
  font-size: 10px;
  background-color: #6a6b8a;
}
.x6-widget-snapline {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  pointer-events: none;
}
.x6-widget-snapline-vertical,
.x6-widget-snapline-horizontal {
  position: absolute;
  opacity: 1;
  pointer-events: none;
}
.x6-widget-snapline-horizontal {
  border-bottom: 1px solid #2ecc71;
}
.x6-widget-snapline-vertical {
  border-right: 1px solid #2ecc71;
}
.x6-widget-stencil {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.x6-widget-stencil::after {
  position: absolute;
  top: 0;
  display: block;
  width: 100%;
  height: 20px;
  padding: 8px 0;
  line-height: 20px;
  text-align: center;
  opacity: 0;
  transition: top 0.1s linear, opacity 0.1s linear;
  content: ' ';
  pointer-events: none;
}
.x6-widget-stencil-content {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  height: auto;
  overflow-x: hidden;
  overflow-y: auto;
}
.x6-widget-stencil .x6-node [magnet]:not([magnet='passive']) {
  pointer-events: none;
}
.x6-widget-stencil-group {
  padding: 0;
  padding-bottom: 8px;
  overflow: hidden;
  user-select: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  padding-bottom: 0;
}
.x6-widget-stencil-group-title {
  position: relative;
  margin-top: 0;
  margin-bottom: 0;
  padding: 4px;
  cursor: pointer;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  user-select: none;
}
.x6-widget-stencil .unmatched {
  opacity: 0.3;
}
.x6-widget-stencil .x6-node.unmatched {
  display: none;
}
.x6-widget-stencil-group.unmatched {
  display: none;
}
.x6-widget-stencil-search-text {
  position: relative;
  z-index: 1;
  box-sizing: border-box;
  width: 100%;
  height: 30px;
  max-height: 30px;
  line-height: 30px;
  outline: 0;
}
.x6-widget-stencil.not-found::after {
  opacity: 1;
  content: attr(data-not-found-text);
}
.x6-widget-stencil.not-found.searchable::after {
  top: 30px;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 50px;
}
.x6-widget-stencil {
  color: #333;
  background: #f5f5f5;
}
.x6-widget-stencil-content {
  position: absolute;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-content {
  top: 32px;
}
.x6-widget-stencil.searchable > .x6-widget-stencil-content {
  top: 80px;
}
.x6-widget-stencil.not-found::after {
  position: absolute;
}
.x6-widget-stencil.not-found.searchable.collapsable::after {
  top: 80px;
}
.x6-widget-stencil.not-found.searchable::after {
  top: 60px;
}
.x6-widget-stencil-group {
  height: auto;
  margin-bottom: 1px;
  padding: 0;
  transition: none;
}
.x6-widget-stencil-group .x6-graph {
  background: transparent;
  box-shadow: none;
}
.x6-widget-stencil-group.collapsed {
  height: auto;
  max-height: 31px;
}
.x6-widget-stencil-title,
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  position: relative;
  left: 0;
  box-sizing: border-box;
  width: 100%;
  height: 32px;
  padding: 0 5px 0 8px;
  color: #666;
  font-weight: 700;
  font-size: 12px;
  line-height: 32px;
  cursor: default;
  transition: all 0.3;
}
.x6-widget-stencil-title:hover,
.x6-widget-stencil-group > .x6-widget-stencil-group-title:hover {
  color: #444;
}
.x6-widget-stencil-title {
  background: #e9e9e9;
}
.x6-widget-stencil-group > .x6-widget-stencil-group-title {
  background: #ededed;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title {
  padding-left: 32px;
  cursor: pointer;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  position: absolute;
  top: 6px;
  left: 8px;
  display: block;
  width: 18px;
  height: 18px;
  margin: 0;
  padding: 0;
  background-color: transparent;
  background-repeat: no-repeat;
  background-position: 0 0;
  border: none;
  content: ' ';
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48L2c+PC9zdmc+');
  opacity: 0.4;
  transition: all 0.3s;
}
.x6-widget-stencil.collapsable > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title::before {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJub256ZXJvIj48cGF0aCBkPSJNOS4zNzUuNUM0LjY4Ny41Ljg3NSA0LjMxMy44NzUgOWMwIDQuNjg4IDMuODEyIDguNSA4LjUgOC41IDQuNjg3IDAgOC41LTMuODEyIDguNS04LjUgMC00LjY4Ny0zLjgxMy04LjUtOC41LTguNXptMCAxNS44ODZDNS4zMDMgMTYuMzg2IDEuOTkgMTMuMDcyIDEuOTkgOXMzLjMxMi03LjM4NSA3LjM4NS03LjM4NVMxNi43NiA0LjkyOCAxNi43NiA5YzAgNC4wNzItMy4zMTMgNy4zODYtNy4zODUgNy4zODZ6Ii8+PHBhdGggZD0iTTEyLjc1MyA4LjQ0M0g1Ljk5N2EuNTU4LjU1OCAwIDAwMCAxLjExNmg2Ljc1NmEuNTU4LjU1OCAwIDAwMC0xLjExNnoiLz48cGF0aCBkPSJNOC44MTcgNS42MjN2Ni43NTZhLjU1OC41NTggMCAwMDEuMTE2IDBWNS42MjNhLjU1OC41NTggMCAxMC0xLjExNiAweiIvPjwvZz48L3N2Zz4=');
  opacity: 0.4;
}
.x6-widget-stencil.collapsable.collapsed > .x6-widget-stencil-title:hover::before,
.x6-widget-stencil-group.collapsable.collapsed > .x6-widget-stencil-group-title:hover::before {
  opacity: 0.6;
}
.x6-widget-stencil input[type='search'] {
  -webkit-appearance: textfield;
}
.x6-widget-stencil input[type='search']::-webkit-search-cancel-button,
.x6-widget-stencil input[type='search']::-webkit-search-decoration {
  -webkit-appearance: none;
}
.x6-widget-stencil-search-text {
  display: block;
  width: 90%;
  margin: 8px 5%;
  padding-left: 8px;
  color: #333;
  background: #fff;
  border: 1px solid #e9e9e9;
  border-radius: 12px;
  outline: 0;
}
.x6-widget-stencil-search-text:focus {
  outline: 0;
}
.x6-widget-stencil::after {
  color: #808080;
  font-weight: 600;
  font-size: 12px;
  background: 0 0;
}
.x6-widget-transform {
  position: absolute;
  box-sizing: content-box !important;
  margin: -5px 0 0 -5px;
  padding: 4px;
  border: 1px dashed #000;
  border-radius: 5px;
  user-select: none;
  pointer-events: none;
}
.x6-widget-transform > div {
  position: absolute;
  box-sizing: border-box;
  background-color: #fff;
  border: 1px solid #000;
  transition: background-color 0.2s;
  pointer-events: auto;
  -webkit-user-drag: none;
  user-drag: none;
  /* stylelint-disable-line */
}
.x6-widget-transform > div:hover {
  background-color: #d3d3d3;
}
.x6-widget-transform-cursor-n {
  cursor: n-resize;
}
.x6-widget-transform-cursor-s {
  cursor: s-resize;
}
.x6-widget-transform-cursor-e {
  cursor: e-resize;
}
.x6-widget-transform-cursor-w {
  cursor: w-resize;
}
.x6-widget-transform-cursor-ne {
  cursor: ne-resize;
}
.x6-widget-transform-cursor-nw {
  cursor: nw-resize;
}
.x6-widget-transform-cursor-se {
  cursor: se-resize;
}
.x6-widget-transform-cursor-sw {
  cursor: sw-resize;
}
.x6-widget-transform-resize {
  width: 10px;
  height: 10px;
  border-radius: 6px;
}
.x6-widget-transform-resize[data-position='top-left'] {
  top: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='top-right'] {
  top: -5px;
  right: -5px;
}
.x6-widget-transform-resize[data-position='bottom-left'] {
  bottom: -5px;
  left: -5px;
}
.x6-widget-transform-resize[data-position='bottom-right'] {
  right: -5px;
  bottom: -5px;
}
.x6-widget-transform-resize[data-position='top'] {
  top: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='bottom'] {
  bottom: -5px;
  left: 50%;
  margin-left: -5px;
}
.x6-widget-transform-resize[data-position='left'] {
  top: 50%;
  left: -5px;
  margin-top: -5px;
}
.x6-widget-transform-resize[data-position='right'] {
  top: 50%;
  right: -5px;
  margin-top: -5px;
}
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='top'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.prevent-aspect-ratio .x6-widget-transform-resize[data-position='right'] {
  display: none;
}
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='bottom'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='left'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='right'],
.x6-widget-transform.no-orth-resize .x6-widget-transform-resize[data-position='top'] {
  display: none;
}
.x6-widget-transform.no-resize .x6-widget-transform-resize {
  display: none;
}
.x6-widget-transform-rotate {
  top: -20px;
  left: -20px;
  width: 12px;
  height: 12px;
  border-radius: 6px;
  cursor: crosshair;
}
.x6-widget-transform.no-rotate .x6-widget-transform-rotate {
  display: none;
}
.x6-widget-transform-active {
  border-color: transparent;
  pointer-events: all;
}
.x6-widget-transform-active > div {
  display: none;
}
.x6-widget-transform-active > .x6-widget-transform-active-handle {
  display: block;
  background-color: #808080;
}
.x6-widget-knob {
  position: absolute;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  margin-top: -8px;
  margin-left: -8px;
  cursor: pointer;
  user-select: none;
}
.x6-widget-knob::before,
.x6-widget-knob::after {
  position: absolute;
  transform: rotate(45deg);
  content: '';
}
.x6-widget-knob::before {
  top: 4px;
  left: 4px;
  box-sizing: border-box;
  width: 8px;
  height: 8px;
  background-color: #fff;
}
.x6-widget-knob::after {
  top: 5px;
  left: 5px;
  box-sizing: border-box;
  width: 6px;
  height: 6px;
  background-color: #fca000;
}
.x6-graph-print {
  position: relative;
}
.x6-graph-print .x6-graph-print-ready {
  display: none;
}
.x6-graph-print .x6-graph-print-preview {
  overflow: hidden !important;
  background: #fff !important;
}
@media print {
  html,
  html > body.x6-graph-printing {
    position: relative !important;
    width: 100% !important;
    height: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  html > body.x6-graph-printing > * {
    display: none !important;
  }
  html > body.x6-graph-printing > .x6-graph-print {
    display: block !important;
  }
  .x6-graph-print {
    top: 0 !important;
    left: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    page-break-after: always;
    background: #fff !important;
  }
  .x6-graph-print .x6-graph-print-ready {
    display: none;
  }
}
.x6-cell-tool-editor {
  position: relative;
  display: inline-block;
  min-height: 1em;
  margin: 0;
  padding: 0;
  line-height: 1;
  white-space: normal;
  text-align: center;
  vertical-align: top;
  overflow-wrap: normal;
  outline: none;
  transform-origin: 0 0;
  -webkit-user-drag: none;
}
.x6-edge-tool-editor {
  border: 1px solid #275fc5;
  border-radius: 2px;
}
`;var H6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class es extends se{init(){es.ensure()}dispose(){es.clean()}}H6([es.dispose()],es.prototype,"dispose",null);(function(i){let t,e=0;function n(){if(e+=1,!(e>1)&&!$e.isApplyingHMR()){t=document.createElement("style"),t.setAttribute("type","text/css"),t.textContent=V6;const r=document.querySelector("head");r&&r.insertBefore(t,r.firstChild)}}i.ensure=n;function s(){e-=1,!(e>0)&&(t&&t.parentNode&&t.parentNode.removeChild(t),t=null)}i.clean=s})(es||(es={}));var G6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class zs{get handleClassName(){return re.handle}get pie(){return Object.assign(Object.assign({},zs.defaultPieOptions),this.handleOptions.pie)}initHandles(){if(this.handles=[],this.handleOptions.handles&&this.handleOptions.handles.forEach(t=>this.addHandle(t)),this.handleOptions.type==="pie"){if(this.pie.toggles){const t=re.pieToggle;this.$pieToggles={},this.pie.toggles.forEach(e=>{const n=this.$("<div/>");this.applyAttrs(n,e.attrs),n.addClass(t).addClass(`${t}-pos-${e.position||"e"}`).attr("data-name",e.name).appendTo(this.container),this.$pieToggles[e.name]=n})}this.setPieIcons()}if(this.$handleContainer){const t=this.handleOptions.type||"surround";this.$handleContainer.addClass(re.wrap).addClass(re.animate).addClass(`${re.handle}-${t}`)}this.delegateEvents({[`mousedown .${re.handle}`]:"onHandleMouseDown",[`touchstart .${re.handle}`]:"onHandleMouseDown",[`mousedown .${re.pieToggle}`]:"onPieToggleMouseDown",[`touchstart .${re.pieToggle}`]:"onPieToggleMouseDown"})}onHandleMouseDown(t){const e=this.$(t.currentTarget).closest(`.${re.handle}`).attr("data-action");e&&(t.preventDefault(),t.stopPropagation(),this.setEventData(t,{action:e,clientX:t.clientX,clientY:t.clientY,startX:t.clientX,startY:t.clientY}),t.type==="mousedown"&&t.button===2?this.triggerHandleAction(e,"contextmenu",t):(this.triggerHandleAction(e,"mousedown",t),this.delegateDocumentEvents({mousemove:"onHandleMouseMove",touchmove:"onHandleMouseMove",mouseup:"onHandleMouseUp",touchend:"onHandleMouseUp",touchcancel:"onHandleMouseUp"},t.data)))}onHandleMouseMove(t){const n=this.getEventData(t).action;n&&this.triggerHandleAction(n,"mousemove",t)}onHandleMouseUp(t){const n=this.getEventData(t).action;n&&(this.triggerHandleAction(n,"mouseup",t),this.undelegateDocumentEvents())}triggerHandleAction(t,e,n,s){n.preventDefault(),n.stopPropagation();const r=this.normalizeEvent(n),o=this.getEventData(r),a=this.graph.snapToGrid(r.clientX,r.clientY),l=this.graph.snapToGrid(o.clientX,o.clientY),c=a.x-l.x,h=a.y-l.y;this.trigger(`action:${t}:${e}`,Object.assign({e:r,dx:c,dy:h,x:a.x,y:a.y,offsetX:n.clientX-o.startX,offsetY:n.clientY-o.startY},s)),o.clientX=n.clientX,o.clientY=n.clientY}onPieToggleMouseDown(t){t.stopPropagation();const e=this.$(t.target).closest(`.${re.pieToggle}`).attr("data-name");this.isOpen(e)||this.isOpen()&&this.toggleState(),this.toggleState(e)}setPieIcons(){this.handleOptions.type==="pie"&&this.$handleContainer.find(`.${re.handle}`).each((t,e)=>{const n=this.$(e),s=n.attr("data-action"),r=re.pieSlice,o=this.getHandle(s);if(!o||!o.icon){const a=window.getComputedStyle(e,":before").getPropertyValue("content");if(a&&a!=="none"){const c=n.find(`.${r}-txt`);c.length&&mt.create(c[0]).text(a.replace(/['"]/g,""))}const l=n.css("background-image");if(l){const c=l.match(/url\(['"]?([^'"]+)['"]?\)/);if(c){const h=c[1],f=n.find(`.${r}-img`);f.length>0&&mt.create(f[0]).attr("xlink:href",h)}}}})}getHandleIdx(t){return this.handles.findIndex(e=>e.name===t)}hasHandle(t){return this.getHandleIdx(t)>=0}getHandle(t){return this.handles.find(e=>e.name===t)}renderHandle(t){const e=this.$("<div/>").addClass(`${re.handle} ${re.handle}-${t.name}`).attr("data-action",t.name).prop("draggable",!1);if(this.handleOptions.type==="pie"){const n=this.getHandleIdx(t.name),s=this.pie,r=s.outerRadius,o=s.innerRadius,a=(r+o)/2,l=new k(r,r),c=Vt.toRad(s.sliceAngle),h=n*c+Vt.toRad(s.startAngle),f=h+c,d=HT(o,r,h,f),p=mt.create("svg").addClass(`${re.pieSlice}-svg`),y=mt.create("path").addClass(re.pieSlice).attr("d",d).translate(r,r),v=k.fromPolar(a,-h-c/2,l).toJSON(),x=s.iconSize,w=mt.create("image").attr(v).addClass(`${re.pieSlice}-img`);v.y=v.y+x-2;const M=mt.create("text",{"font-size":x}).attr(v).addClass(`${re.pieSlice}-txt`);w.attr({width:x,height:x}),w.translate(-x/2,-x/2),M.translate(-x/2,-x/2),p.append([y,w,M]),e.append(p.node)}else e.addClass(`${re.handle}-pos-${t.position}`),t.content&&(typeof t.content=="string"?e.html(t.content):e.append(t.content));return this.updateHandleIcon(e,t.icon),this.applyAttrs(e,t.attrs),e}addHandle(t){if(!this.hasHandle(t.name)){this.handles.push(t);const e=t.events;e&&Object.keys(e).forEach(n=>{const s=e[n],r=`action:${t.name}:${n}`;typeof s=="string"?this.on(r,this[s],this):this.on(r,s)}),this.$handleContainer&&this.$handleContainer.append(this.renderHandle(t))}return this}addHandles(t){return t.forEach(e=>this.addHandle(e)),this}removeHandles(){for(;this.handles.length;)this.removeHandle(this.handles[0].name);return this}removeHandle(t){const e=this.getHandleIdx(t),n=this.handles[e];return n&&(n.events&&Object.keys(n.events).forEach(s=>{this.off(`action:${t}:${s}`)}),this.getHandleElem(t).remove(),this.handles.splice(e,1)),this}changeHandle(t,e){const n=this.getHandle(t);return n&&(this.removeHandle(t),this.addHandle(Object.assign(Object.assign({},n),e))),this}toggleHandle(t,e){const n=this.getHandle(t);if(n){const s=this.getHandleElem(t),r=`${re.handle}-selected`;e===void 0&&(e=!s.hasClass(r)),s.toggleClass(r,e);const o=e?n.iconSelected:n.icon;o&&this.updateHandleIcon(s,o)}return this}selectHandle(t){return this.toggleHandle(t,!0)}deselectHandle(t){return this.toggleHandle(t,!1)}deselectAllHandles(){return this.handles.forEach(t=>this.deselectHandle(t.name)),this}getHandleElem(t){return this.$handleContainer.find(`.${re.handle}-${t}`)}updateHandleIcon(t,e){if(this.handleOptions.type==="pie"){const n=t.find(`.${re.pieSliceImg}`);this.$(n[0]).attr("xlink:href",e||"")}else t.css("background-image",e?`url(${e})`:"")}isRendered(){return this.$handleContainer!=null}isOpen(t){return this.isRendered()?t?this.$pieToggles[t].hasClass(re.pieToggleOpened):this.$handleContainer.hasClass(`${re.pieOpended}`):!1}toggleState(t){if(this.isRendered()){const e=this.$handleContainer;if(Object.keys(this.$pieToggles).forEach(n=>{this.$pieToggles[n].removeClass(re.pieToggleOpened)}),this.isOpen())this.trigger("pie:close",{name:t}),e.removeClass(re.pieOpended);else{if(this.trigger("pie:open",{name:t}),t){const n=this.pie.toggles,s=n&&n.find(r=>r.name===t);s&&e.attr({"data-pie-toggle-name":s.name,"data-pie-toggle-position":s.position}),this.$pieToggles[t].addClass(re.pieToggleOpened)}e.addClass(re.pieOpended)}}}applyAttrs(t,e){if(e){const n=Ht.$(t);Object.keys(e).forEach(s=>{const r=n.find(s).addBack().filter(s),o=e[s],{class:a}=o,l=G6(o,["class"]);a&&r.addClass(a),r.attr(l)})}}}(function(i){i.defaultPieOptions={innerRadius:20,outerRadius:50,sliceAngle:45,startAngle:0,iconSize:14,toggles:[{name:"default",position:"e"}]}})(zs||(zs={}));var re;(function(i){i.handle=Ht.prototype.prefixClassName("widget-handle"),i.wrap=`${i.handle}-wrap`,i.animate=`${i.handle}-animate`,i.pieOpended=`${i.handle}-pie-opened`,i.pieToggle=`${i.handle}-pie-toggle`,i.pieToggleOpened=`${i.handle}-pie-toggle-opened`,i.pieSlice=`${i.handle}-pie-slice`,i.pieSliceImg=`${i.handle}-pie-slice-img`})(re||(re={}));var U6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},q6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Yo extends Ht{constructor(t){super();const e=t,{view:n,cell:s,node:r,edge:o,graph:a}=e,l=q6(e,["view","cell","node","edge","graph"]);n?(this.view=n,this.cell=n.cell,this.graph=n.graph,this.model=this.graph.model):(s||o||r)&&a&&(this.cell=r||o||s,this.view=a.renderer.findViewByCell(this.cell),this.graph=a,this.model=this.graph.model);const c=this.constructor;t.clearAll!==!1&&c.removeInstances(this.graph),c.register(this),this.init(l)}static ensureCache(){return this.instanceCache.has(this)||this.instanceCache.set(this,{}),this.instanceCache.get(this)}static register(t,e){e==null&&(e=t.graph);const n=this.ensureCache();let s=n[e.view.cid];s==null&&(s=n[e.view.cid]={}),s[t.cid]=t}static unregister(t,e){e==null&&(e=t.graph);const n=this.ensureCache();n[e.view.cid]&&delete n[e.view.cid][t.cid]}static removeInstances(t){const n=this.ensureCache()[t.view.cid];n&&Object.keys(n).forEach(s=>{const r=n[s];r&&r.remove()})}static getInstances(t){return this.ensureCache()[t.view.cid]||{}}init(t){}render(){return this}startListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.on("blank:mousedown",this.remove,this)}stopListening(){this.options.clearOnBlankMouseDown!==!1&&this.graph.off("blank:mousedown",this.remove,this)}remove(){return this.stopListening(),this.constructor.unregister(this),super.remove()}dispose(){this.remove()}}Yo.instanceCache=new WeakMap;U6([Ht.dispose()],Yo.prototype,"dispose",null);class em extends Yo{get node(){return this.cell}get metadata(){const t=this.cell.prop("knob");return Array.isArray(t)?this.options.index!=null?t[this.options.index]:null:t}init(t){this.options=Object.assign({},t),this.render(),this.startListening()}startListening(){this.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.model.on("reseted",this.remove,this),this.node.on("removed",this.remove,this),this.view.on("node:resize:mousedown",this.onTransform,this),this.view.on("node:rotate:mousedown",this.onTransform,this),this.view.on("node:resize:mouseup",this.onTransformed,this),this.view.on("node:rotate:mouseup",this.onTransformed,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.model.off("reseted",this.remove,this),this.node.off("removed",this.remove,this),this.view.off("node:resize:mousedown",this.onTransform,this),this.view.off("node:rotate:mousedown",this.onTransform,this),this.view.off("node:resize:mouseup",this.onTransformed,this),this.view.off("node:rotate:mouseup",this.onTransformed,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}render(){return this.container=document.createElement("div"),Jt(this.container,this.prefixClassName("widget-knob")),this.options.className&&Jt(this.container,this.options.className),this.view.addClass(Rs.KNOB),this.graph.container.appendChild(this.container),this.update(),this}remove(){return this.view.removeClass(Rs.KNOB),super.remove()}update(){if(this.metadata){const{update:t,position:e}=this.metadata,n={knob:this,cell:this.cell,node:this.node};if(e){const s=e.call(this.graph,Object.assign({},n));if(s){const r=this.graph.matrix(),o=this.node.getBBox(),a=Vt.normalize(this.node.getAngle()),l=k.create(s);a!==0&&l.rotate(-a,{x:o.width/2,y:o.height/2}),l.translate(o).scale(r.a,r.d).translate(r.e,r.f),this.container.style.left=`${l.x}px`,this.container.style.top=`${l.y}px`}}t&&t.call(this.graph,Object.assign({},n))}}hide(){this.container.style.display="none"}show(){this.container.style.display=""}onTransform(){this.hide()}onTransformed(){this.show()}onKnobMouseDown({knob:t}){this.cid!==t.cid&&this.hide()}onKnobMouseUp(){this.show()}notify(t,e){if(this.view){const n=this.view.normalizeEvent(e),s=this.graph.snapToGrid(n.clientX,n.clientY);this.view.notify(`cell:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}),this.cell.isNode()?this.view.notify(`node:${t}`,{e:n,view:this.view,node:this.node,cell:this.cell,x:s.x,y:s.y,knob:this}):this.cell.isEdge()&&this.view.notify(`edge:${t}`,{e:n,view:this.view,edge:this.cell,cell:this.cell,x:s.x,y:s.y,knob:this})}}onMouseDown(t){t.stopPropagation(),this.setEventData(t,{knobbing:!1,originX:t.clientX,originY:t.clientY,clientX:t.clientX,clientY:t.clientY}),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Rs.documentEvents,t.data),this.metadata&&this.metadata.onMouseDown&&this.metadata.onMouseDown.call(this.graph,{e:t,data:this.getEventData(t),knob:this,cell:this.cell,node:this.node}),this.notify("knob:mousedown",t)}onMouseMove(t){const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);if(e.knobbing||(e.knobbing=!0,n&&(n.addClass(Rs.KNOBBING),this.notify("knob",t)),this.model.startBatch("knob",{cid:this.cid})),e.clientX=t.clientX,e.clientY=t.clientY,this.metadata&&this.metadata.onMouseMove){const s=this.graph.matrix(),r=(t.clientX-e.originX)/s.a,o=(t.clientY-e.originY)/s.d,a=this.node.getAngle(),l=new k(r,o).rotate(a);this.metadata.onMouseMove.call(this.graph,{e:t,data:e,deltaX:l.x,deltaY:l.y,knob:this,cell:this.cell,node:this.node})}this.notify("knobbing",t),this.notify("knob:mousemove",t)}onMouseUp(t){this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.getEventData(t),n=this.graph.findViewByCell(this.node);e.knobbing&&(n&&n.removeClass(Rs.KNOBBING),this.metadata&&this.metadata.onMouseUp&&this.metadata.onMouseUp.call(this.graph,{e:t,data:e,knob:this,cell:this.cell,node:this.node}),this.model.stopBatch("knob",{cid:this.cid}),this.notify("knobbed",t)),this.notify("knob:mouseup",t)}}var Rs;(function(i){i.KNOB="has-widget-knob",i.KNOBBING="node-knobbing",i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"}})(Rs||(Rs={}));var W6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},Ko;(function(i){i.root="widget-minimap",i.viewport=`${i.root}-viewport`,i.zoom=`${i.viewport}-zoom`})(Ko||(Ko={}));class nm extends Ht{constructor(t){super();this.options=Object.assign(Object.assign({},Il.defaultOptions),t),this.updateViewport=qp(this.updateViewport.bind(this),0),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Ko.root));const e=document.createElement("div");this.container.appendChild(e),this.$viewport=this.$("<div>").addClass(this.prefixClassName(Ko.viewport)),this.options.scalable&&(this.zoomHandle=this.$("<div>").addClass(this.prefixClassName(Ko.zoom)).appendTo(this.$viewport).get(0)),this.$container.append(this.$viewport).css({width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;const n=Object.assign(Object.assign({},this.options.graphOptions),{container:e,model:this.sourceGraph.model,frozen:!0,async:this.sourceGraph.isAsync(),interacting:!1,grid:!1,background:!1,rotating:!1,resizing:!1,embedding:!1,selecting:!1,snapline:!1,clipboard:!1,history:!1,scroller:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(n):new Qt(n),this.targetGraph.renderer.unfreeze(),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}get graph(){return this.options.graph}get scroller(){return this.graph.scroller.widget}get graphContainer(){return this.scroller?this.scroller.container:this.graph.container}get $graphContainer(){return this.scroller?this.scroller.$container:this.$(this.graph.container)}startListening(){this.scroller?this.$graphContainer.on(`scroll${this.getEventNamespace()}`,this.updateViewport):this.sourceGraph.on("translate",this.updateViewport,this),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents({mousedown:"startAction",touchstart:"startAction",[`mousedown .${this.prefixClassName("graph")}`]:"scrollTo",[`touchstart .${this.prefixClassName("graph")}`]:"scrollTo"})}stopListening(){this.scroller?this.$graphContainer.off(this.getEventNamespace()):this.sourceGraph.off("translate",this.updateViewport,this),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}onRemove(){this.targetGraph.view.remove(),this.stopListening(),this.targetGraph.dispose()}updatePaper(t,e){let n,s;typeof t=="object"?(n=t.width,s=t.height):(n=t,s=e);const r=this.sourceGraph.options,o=this.sourceGraph.transform.getScale(),a=this.options.width-2*this.options.padding,l=this.options.height-2*this.options.padding;n/=o.sx,s/=o.sy,this.ratio=Math.min(a/n,l/s);const c=this.ratio,h=r.x*c/o.sx,f=r.y*c/o.sy;return n*=c,s*=c,this.targetGraph.resizeGraph(n,s),this.targetGraph.translate(h,f),this.targetGraph.scale(c,c),this.updateViewport(),this}updateViewport(){const t=this.ratio,e=this.sourceGraph.transform.getScale();let n=null;if(this.scroller)n=this.scroller.clientToLocalPoint(0,0);else{const o=this.sourceGraph.matrix();n=new k(-o.e/o.a,-o.f/o.d)}const s=this.$(this.targetGraph.container).position(),r=this.targetGraph.translate();r.ty=r.ty||0,this.geometry={top:s.top+n.y*t+r.ty,left:s.left+n.x*t+r.tx,width:this.$graphContainer.innerWidth()*t/e.sx,height:this.$graphContainer.innerHeight()*t/e.sy},this.$viewport.css(this.geometry)}startAction(t){const e=this.normalizeEvent(t),n=e.target===this.zoomHandle?"zooming":"panning",{tx:s,ty:r}=this.sourceGraph.translate(),o={action:n,clientX:e.clientX,clientY:e.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:s,translateY:r};this.delegateDocumentEvents(Il.documentEvents,o)}doAction(t){const e=this.normalizeEvent(t),n=e.clientX,s=e.clientY,r=e.data;switch(r.action){case"panning":{const o=this.sourceGraph.transform.getScale(),a=(n-r.clientX)*o.sx,l=(s-r.clientY)*o.sy;this.scroller?(this.graphContainer.scrollLeft=r.scrollLeft+a/this.ratio,this.graphContainer.scrollTop=r.scrollTop+l/this.ratio):this.sourceGraph.translate(r.translateX-a/this.ratio,r.translateY-l/this.ratio);break}case"zooming":{const o=r.scale,a=r.geometry,l=1+(r.clientX-n)/a.width/o.sx;r.frameId&&cancelAnimationFrame(r.frameId),r.frameId=requestAnimationFrame(()=>{this.sourceGraph.zoom(l*r.zoom,{absolute:!0,minScale:this.options.minScale,maxScale:this.options.maxScale})});break}}}stopAction(){this.undelegateDocumentEvents()}scrollTo(t){const e=this.normalizeEvent(t);let n,s;const r=this.targetGraph.translate();if(r.ty=r.ty||0,e.offsetX==null){const l=this.$(this.targetGraph.container).offset();n=e.pageX-l.left,s=e.pageY-l.top}else n=e.offsetX,s=e.offsetY;const o=(n-r.tx)/this.ratio,a=(s-r.ty)/this.ratio;this.sourceGraph.centerPoint(o,a)}dispose(){this.remove()}}W6([Ht.dispose()],nm.prototype,"dispose",null);var Il;(function(i){i.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:t=>new Qt(t)},i.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}})(Il||(Il={}));var X6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},Y6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class im extends Ht{constructor(t){super();const{graph:e}=t,n=Y6(t,["graph"]);this.graph=e,this.options=Object.assign({tolerance:10},n),this.render(),this.parseFilter(),this.disabled||this.startListening()}get model(){return this.graph.model}get containerClassName(){return this.prefixClassName("widget-snapline")}get verticalClassName(){return`${this.containerClassName}-vertical`}get horizontalClassName(){return`${this.containerClassName}-horizontal`}get disabled(){return this.options.enabled!==!0||this.graph.options.snapline.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.snapline.enabled=!0,this.startListening())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.snapline.enabled=!1,this.stopListening())}setFilter(t){this.options.filter=t,this.parseFilter()}render(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$horizontal=this.$(document.createElement("div")).addClass(this.horizontalClassName),this.$vertical=this.$(document.createElement("div")).addClass(this.verticalClassName),this.$container.hide().addClass(this.containerClassName).append([this.$horizontal,this.$vertical]),this.options.className&&this.$container.addClass(this.options.className)}startListening(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}stopListening(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}parseFilter(){this.filterShapes={},this.filterCells={},this.filterFunction=null;const t=this.options.filter;Array.isArray(t)?t.forEach(e=>{typeof e=="string"?this.filterShapes[e]=!0:this.filterCells[e.id]=!0}):typeof t=="function"&&(this.filterFunction=t)}onBatchStop({name:t,data:e}){t==="resize"&&this.snapOnResizing(e.cell,e)}captureCursorOffset({view:t,x:e,y:n}){const s=t.getDelegatedView();if(s&&this.isNodeMovable(s)){const r=t.cell.getPosition();this.offset={x:e-r.x,y:n-r.y}}}isNodeMovable(t){return t&&t.cell.isNode()&&t.can("nodeMovable")}snapOnResizing(t,e){if(this.options.resizing&&!e.snapped&&e.ui&&e.direction&&e.trueDirection){const n=this.graph.renderer.findViewByCell(t);if(n&&n.cell.isNode()){const s=t.getBBox(),r=s.bbox(t.getAngle()),o=r.getTopLeft(),a=r.getBottomRight(),l=Vt.normalize(t.getAngle()),c=this.options.tolerance||0;let h,f,d,p,y,v;const x={vertical:0,horizontal:0},w=e.direction,M=e.trueDirection,A=e.relativeDirection;M.indexOf("right")!==-1?x.vertical=a.x:x.vertical=o.x,M.indexOf("bottom")!==-1?x.horizontal=a.y:x.horizontal=o.y,this.model.getNodes().some(H=>{if(this.isIgnored(t,H))return!1;const ft=H.getBBox().bbox(H.getAngle()),yt=ft.getTopLeft(),U=ft.getBottomRight(),K={vertical:[yt.x,U.x],horizontal:[yt.y,U.y]},ot={};return Object.keys(K).forEach(vt=>{const It=vt,ie=K[It].map(ht=>({position:ht,distance:Math.abs(ht-x[It])})).filter(ht=>ht.distance<=c);ot[It]=Lh(ie,ht=>ht.distance)}),h==null&&ot.vertical.length>0&&(h=ot.vertical[0].position,f=Math.min(r.y,ft.y),d=Math.max(a.y,U.y)-f),p==null&&ot.horizontal.length>0&&(p=ot.horizontal[0].position,y=Math.min(r.x,ft.x),v=Math.max(a.x,U.x)-y),h!=null&&p!=null}),this.hide();let D=0,N=0;(p!=null||h!=null)&&(h!=null&&(D=M.indexOf("right")!==-1?h-a.x:o.x-h),p!=null&&(N=M.indexOf("bottom")!==-1?p-a.y:o.y-p));let m=0,P=0;if(l%90==0)l===90||l===270?(m=N,P=D):(m=D,P=N);else{const H=l>=0&&l<90?1:l>=90&&l<180?4:l>=180&&l<270?3:2;p!=null&&h!=null&&(D<N?(N=0,p=void 0):(D=0,h=void 0));const ft=Vt.toRad(l%90);D&&(m=H===3?D/Math.cos(ft):D/Math.sin(ft)),N&&(P=H===3?N/Math.cos(ft):N/Math.sin(ft));const yt=H===1||H===3;switch(A){case"top":case"bottom":P=N?N/(yt?Math.cos(ft):Math.sin(ft)):D/(yt?Math.sin(ft):Math.cos(ft));break;case"left":case"right":m=D?D/(yt?Math.cos(ft):Math.sin(ft)):N/(yt?Math.sin(ft):Math.cos(ft));break}}switch(A){case"top":case"bottom":m=0;break;case"left":case"right":P=0;break}const $=this.graph.getGridSize();let V=Math.max(s.width+m,$),G=Math.max(s.height+P,$);e.minWidth&&e.minWidth>$&&(V=Math.max(V,e.minWidth)),e.minHeight&&e.minHeight>$&&(G=Math.max(G,e.minHeight)),e.maxWidth&&(V=Math.min(V,e.maxWidth)),e.maxHeight&&(G=Math.min(G,e.maxHeight)),e.preserveAspectRatio&&(P<m?G=V*(s.height/s.width):V=G*(s.width/s.height)),(V!==s.width||G!==s.height)&&(t.resize(V,G,{direction:w,relativeDirection:A,trueDirection:M,snapped:!0,snaplines:this.cid,restrict:this.graph.hook.getRestrictArea(n)}),d&&(d+=G-s.height),v&&(v+=V-s.width));const X=t.getBBox().bbox(l);h&&Math.abs(X.x-h)>1&&Math.abs(X.width+X.x-h)>1&&(h=void 0),p&&Math.abs(X.y-p)>1&&Math.abs(X.height+X.y-p)>1&&(p=void 0),this.update({verticalLeft:h,verticalTop:f,verticalHeight:d,horizontalTop:p,horizontalLeft:y,horizontalWidth:v})}}}snapOnMoving({view:t,e,x:n,y:s}){const r=t.getEventData(e).delegatedView||t;if(!this.isNodeMovable(r))return;const o=r.cell,a=o.getSize(),l=o.getPosition(),c=new st(n-this.offset.x,s-this.offset.y,a.width,a.height),h=o.getAngle(),f=c.getCenter(),d=c.bbox(h),p=d.getTopLeft(),y=d.getBottomRight(),v=this.options.tolerance||0;let x,w,M,A,D,N,m=0,P=0;if(this.model.getNodes().some($=>{if(this.isIgnored(o,$))return!1;const V=$.getBBox().bbox($.getAngle()),G=V.getCenter(),X=V.getTopLeft(),H=V.getBottomRight();return x==null&&(Math.abs(G.x-f.x)<v?(x=G.x,m=.5):Math.abs(X.x-p.x)<v?(x=X.x,m=0):Math.abs(X.x-y.x)<v?(x=X.x,m=1):Math.abs(H.x-y.x)<v?(x=H.x,m=1):Math.abs(H.x-p.x)<v&&(x=H.x),x!=null&&(w=Math.min(d.y,V.y),M=Math.max(y.y,H.y)-w)),A==null&&(Math.abs(G.y-f.y)<v?(A=G.y,P=.5):Math.abs(X.y-p.y)<v?A=X.y:Math.abs(X.y-y.y)<v?(A=X.y,P=1):Math.abs(H.y-y.y)<v?(A=H.y,P=1):Math.abs(H.y-p.y)<v&&(A=H.y),A!=null&&(D=Math.min(d.x,V.x),N=Math.max(y.x,H.x)-D)),x!=null&&A!=null}),this.hide(),A!=null||x!=null){A!=null&&(d.y=A-P*d.height),x!=null&&(d.x=x-m*d.width);const $=d.getCenter(),V=$.x-c.width/2,G=$.y-c.height/2,X=V-l.x,H=G-l.y;(X!==0||H!==0)&&(o.translate(X,H,{snapped:!0,restrict:this.graph.hook.getRestrictArea(r)}),N&&(N+=X),M&&(M+=H)),this.update({verticalLeft:x,verticalTop:w,verticalHeight:M,horizontalTop:A,horizontalLeft:D,horizontalWidth:N})}}isIgnored(t,e){return e.id===t.id||e.isDescendantOf(t)||this.filterShapes[e.shape]||this.filterCells[e.id]||this.filterFunction&&dt(this.filterFunction,this.graph,e)}update(t){const e=this.graph.matrix(),n=e.a,s=e.d,r=e.e,o=e.f,a=this.options.sharp,l=this.graph.scroller.widget!=null;t.horizontalTop?this.$horizontal.css({top:t.horizontalTop*s+o,left:a?t.horizontalLeft*n+r:l?"-300%":0,width:a?t.horizontalWidth*n:l?"700%":"100%"}).show():this.$horizontal.hide(),t.verticalLeft?this.$vertical.css({left:t.verticalLeft*n+r,top:a?t.verticalTop*s+o:l?"-300%":0,height:a?t.verticalHeight*s:l?"700%":"100%"}).show():this.$vertical.hide(),this.show()}resetTimer(){this.timer&&(clearTimeout(this.timer),this.timer=null)}show(){return this.$container.show(),this.resetTimer(),this.container.parentNode==null&&this.graph.container.appendChild(this.container),this}hide(){this.$container.hide(),this.resetTimer();const t=this.options.clean,e=typeof t=="number"?t:t!==!1?3e3:0;return e>0&&(this.timer=window.setTimeout(()=>{this.unmount()},e)),this}onRemove(){this.stopListening(),this.hide()}dispose(){this.remove()}}X6([Ht.dispose()],im.prototype,"dispose",null);var K6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Yt extends se{init(){this.resetUpdates(),this.startListening(),this.resetViews(this.model.getCells()),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()}startListening(){this.model.on("sorted",this.onSortModel,this),this.model.on("reseted",this.onModelReseted,this),this.model.on("batch:stop",this.onBatchStop,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}stopListening(){this.model.off("sorted",this.onSortModel,this),this.model.off("reseted",this.onModelReseted,this),this.model.off("batch:stop",this.onBatchStop,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}resetUpdates(){this.updates={priorities:[{},{},{}],mounted:{},mountedCids:[],unmounted:{},unmountedCids:[],count:0,sort:!1,frozen:!1,freezeKey:null,animationId:null}}onSortModel(){this.model.hasActiveBatch(Yt.SORT_DELAYING_BATCHES)||this.sortViews()}onModelReseted({options:t}){this.removeZPivots(),this.resetViews(this.model.getCells(),t)}onBatchStop({name:t,data:e}){if(this.isFrozen())return;const n=this.model;if(!this.isAsync()){const r=Yt.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}const s=Yt.SORT_DELAYING_BATCHES;s.includes(t)&&!n.hasActiveBatch(s)&&this.sortViews()}onCellAdded({cell:t,options:e}){const n=e.position;this.isAsync()||typeof n!="number"?this.renderView(t,e):(e.maxPosition===n&&this.freeze({key:"addCells"}),this.renderView(t,e),n===0&&this.unfreeze({key:"addCells"}))}onCellRemoved({cell:t,options:e}){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,Yt.FLAG_REMOVE,n.priority,e)}onCellZIndexChanged({cell:t,options:e}){if(this.options.sorting==="approx"){const n=this.findViewByCell(t);n&&this.requestViewUpdate(n,Yt.FLAG_INSERT,n.priority,e)}}onCellVisibleChanged({cell:t,current:e,options:n}){e||this.processEdgeOnTerminalVisibleChanged(t,!1);const s=this.findViewByCell(t);!e&&s?this.removeView(t):e&&s==null&&this.renderView(t,n),e&&this.processEdgeOnTerminalVisibleChanged(t,!0)}processEdgeOnTerminalVisibleChanged(t,e){const n=(s,r)=>s.getSourceCellId()!==r.id?s.getSourceCell():s.getTargetCellId()!==r.id?s.getTargetCell():null;this.model.getConnectedEdges(t).forEach(s=>{const r=n(s,t);(r==null||r.isVisible())&&(e?s.show():s.hide())})}isEdgeTerminalVisible(t,e){const n=e==="source"?t.getSourceCellId():t.getTargetCellId(),s=n?this.model.getCell(n):null;return!(s&&!s.isVisible())}requestConnectedEdgesUpdate(t,e={}){if(xe.isCellView(t)){const n=t.cell,s=this.model.getConnectedEdges(n);for(let r=0,o=s.length;r<o;r+=1){const a=s[r],l=this.findViewByCell(a);if(!l)continue;const c=["update"];a.getTargetCell()===n&&c.push("target"),a.getSourceCell()===n&&c.push("source"),this.scheduleViewUpdate(l,l.getFlag(c),l.priority,e)}}}forcePostponedViewUpdate(t,e){if(!t||!xe.isCellView(t))return!1;const n=t.cell;if(n.isNode())return!1;const s=t;if(n.isEdge()&&(e&t.getFlag(["source","target"]))==0){let r=0;const o=this.findViewByCell(n.getSourceCell());o&&!this.isViewMounted(o)&&(r=this.dumpView(o),s.updateTerminalMagnet("source"));let a=0;const l=this.findViewByCell(n.getTargetCell());if(l&&!this.isViewMounted(l)&&(a=this.dumpView(l),s.updateTerminalMagnet("target")),r===0&&a===0)return!this.dumpView(s)}return!1}scheduleViewUpdate(t,e,n,s={}){const r=t.cid,o=this.updates;let a=o.priorities[n];a||(a=o.priorities[n]={});const l=a[r]||0;(l&e)!==e&&(l||(o.count+=1),e&Yt.FLAG_REMOVE&&l&Yt.FLAG_INSERT?a[r]^=Yt.FLAG_INSERT:e&Yt.FLAG_INSERT&&l&Yt.FLAG_REMOVE&&(a[r]^=Yt.FLAG_REMOVE),a[r]|=e,this.graph.hook.onViewUpdated(t,e,s))}requestViewUpdate(t,e,n,s={}){this.scheduleViewUpdate(t,e,n,s);const r=this.isAsync();if(this.isFrozen()||r&&s.async!==!1||this.model.hasActiveBatch(Yt.UPDATE_DELAYING_BATCHES))return;const o=this.updateViews(s);r&&this.graph.trigger("render:done",{stats:o,options:s})}dumpView(t,e={}){if(t==null)return 0;const n=t.cid,r=this.updates.priorities[t.priority],o=this.registerMountedView(t)|r[n];return delete r[n],o?this.updateView(t,o,e):0}dumpViews(t={}){this.checkView(t),this.updateViews(t)}requireView(t,e={}){const n=this.findViewByCell(t);return n==null?null:(this.dumpView(n,e),n)}updateView(t,e,n={}){if(t==null)return 0;if(xe.isCellView(t)){if(e&Yt.FLAG_REMOVE)return this.removeView(t.cell),0;e&Yt.FLAG_INSERT&&(this.insertView(t),e^=Yt.FLAG_INSERT)}return e?t.confirmUpdate(e,n):0}updateViews(t={}){let e,n=0,s=0,r=Yt.MIN_PRIORITY;do e=this.updateViewsBatch(t),n+=1,s+=e.updatedCount,r=Math.min(e.priority,r);while(!e.empty);return{priority:r,batchCount:n,updatedCount:s}}updateViewsBatch(t={}){const e=this.updates,n=e.priorities,s=t.batchSize||Yt.UPDATE_BATCH_SIZE;let r=!0,o=Yt.MIN_PRIORITY,a=0,l=0,c=0,h=0,f=t.checkView||this.options.checkView;typeof f!="function"&&(f=null);t:for(let d=0,p=n.length;d<p;d+=1){const y=n[d];for(const v in y){if(c>=s){r=!1;break t}const x=Ht.views[v];if(!x){delete y[v];continue}let w=y[v];if((w&Yt.FLAG_REMOVE)==0){const D=v in e.unmounted;if(f&&!dt(f,this.graph,{view:x,unmounted:D})){D||(this.registerUnmountedView(x),x.unmount()),e.unmounted[v]|=w,delete y[v],l+=1;continue}D&&(w|=Yt.FLAG_INSERT,a+=1),w|=this.registerMountedView(x)}const M=x;let A=this.updateView(x,w,t);if(A>0){const D=M.cell;D&&D.isEdge()&&(M.hasAction(A,"source")&&!this.isEdgeTerminalVisible(D,"source")&&(A=M.removeAction(A,"source"),A|=Yt.FLAG_REMOVE),M.hasAction(A,"target")&&!this.isEdgeTerminalVisible(D,"target")&&(A=M.removeAction(A,"target"),A|=Yt.FLAG_REMOVE))}if(A>0&&(y[v]=A,!this.graph.hook.onViewPostponed(M,A,t)||y[v])){h+=1,r=!1;continue}o>d&&(o=d),c+=1,delete y[v]}}return{empty:r,priority:o,mountedCount:a,unmountedCount:l,updatedCount:c,postponedCount:h}}updateViewsAsync(t={},e={processed:0,priority:Yt.MIN_PRIORITY}){const n=this.updates,s=n.animationId;if(s){if(nu(s),e.processed===0){const d=t.before;typeof d=="function"&&dt(d,this.graph,this.graph)}const r=this.updateViewsBatch(t),o=this.checkViewImpl({checkView:t.checkView,mountedBatchSize:Yt.MOUNT_BATCH_SIZE-r.mountedCount,unmountedBatchSize:Yt.MOUNT_BATCH_SIZE-r.unmountedCount});let a=e.processed;const l=n.count,c=o.mountedCount,h=o.unmountedCount;r.updatedCount>0&&(a+=r.updatedCount+r.unmountedCount,e.priority=Math.min(r.priority,e.priority),r.empty&&c===0?(r.priority=e.priority,r.mountedCount+=c,r.unmountedCount+=h,this.graph.trigger("render:done",{stats:r,options:t}),e.processed=0,n.count=0):e.processed=a);const f=t.progress;if(l&&typeof f=="function"&&dt(f,this.graph,{total:l,done:r.empty,current:a}),n.animationId!==s)return}n.animationId=eu(()=>{this.updateViewsAsync(t,e)})}registerMountedView(t){const e=t.cid,n=this.updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);const s=n.unmounted[e]||0;return delete n.unmounted[e],s}registerUnmountedView(t){const e=t.cid,n=this.updates;if(e in n.unmounted)return 0;n.unmounted[e]|=Yt.FLAG_INSERT;const s=n.unmounted[e];return n.unmountedCids.push(e),delete n.mounted[e],s}isViewMounted(t){return t==null?!1:t.cid in this.updates.mounted}getMountedViews(){return Object.keys(this.updates.mounted).map(t=>xe.views[t])}getUnmountedViews(){return Object.keys(this.updates.unmounted).map(t=>xe.views[t])}checkMountedViews(t,e){let n=0;if(typeof t!="function")return n;const s=this.updates,r=s.mounted,o=s.mountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in r))continue;const h=xe.views[c];if(h==null)continue;if(dt(t,this.graph,{view:h,unmounted:!0})){o.push(c);continue}n+=1,this.registerUnmountedView(h)&&h.unmount()}return o.splice(0,a),n}checkUnmountedViews(t,e){let n=0;typeof t!="function"&&(t=null);const s=this.updates,r=s.unmounted,o=s.unmountedCids,a=e==null?o.length:Math.min(o.length,e);for(let l=0;l<a;l+=1){const c=o[l];if(!(c in r))continue;const h=xe.views[c];if(h==null)continue;if(t&&!dt(t,this.graph,{view:h,unmounted:!1})){o.push(c);continue}n+=1;const f=this.registerMountedView(h);f&&this.scheduleViewUpdate(h,f,h.priority,{mounting:!0})}return o.splice(0,a),n}checkViewImpl(t={mountedBatchSize:Number.MAX_SAFE_INTEGER,unmountedBatchSize:Number.MAX_SAFE_INTEGER}){const e=t.checkView||this.options.checkView,n=this.checkMountedViews(e,t.unmountedBatchSize);return{mountedCount:this.checkUnmountedViews(e,n>0?Math.min(this.updates.unmountedCids.length-n,t.mountedBatchSize):t.mountedBatchSize),unmountedCount:n}}checkView(t={}){return this.checkViewImpl(t)}isFrozen(){return!!this.options.frozen}freeze(t={}){const e=t.key,n=this.updates,s=this.options.frozen,r=n.freezeKey;if(e&&e!==r){if(s&&r)return;n.frozen=s,n.freezeKey=e}this.options.frozen=!0;const o=n.animationId;n.animationId=null,this.isAsync()&&o!=null&&nu(o),this.graph.trigger("freeze",{key:e})}unfreeze(t={}){const e=t.key,n=this.updates,s=n.freezeKey;if(e&&s&&e!==s||(n.freezeKey=null,e&&e===s&&n.frozen))return;const r=()=>{this.options.frozen=n.frozen=!1,n.sort&&(this.sortViews(),n.sort=!1);const o=t.after;o&&dt(o,this.graph,this.graph),this.graph.trigger("unfreeze",{key:e})};if(this.isAsync()){this.freeze();const o=t.progress;this.updateViewsAsync(Object.assign(Object.assign({},t),{progress:({done:a,current:l,total:c})=>{o&&dt(o,this.graph,{done:a,current:l,total:c}),a&&r()}}))}else this.updateViews(t),r()}isAsync(){return!!this.options.async}setAsync(t){this.options.async=t}onRemove(){this.freeze(),this.removeViews()}resetViews(t=[],e={}){this.resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(let n=0,s=t.length;n<s;n+=1)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()}removeView(t){const e=this.views[t.id];if(e){const n=e.cid,s=this.updates,r=s.mounted,o=s.unmounted;e.remove(),delete this.views[t.id],delete r[n],delete o[n]}return e}removeViews(){this.views&&Object.keys(this.views).forEach(t=>{const e=this.views[t];e&&this.removeView(e.cell)}),this.views={}}renderView(t,e={}){const n=t.id,s=this.views;let r=0,o=s[n];if(!!t.isVisible()&&!(t.isEdge()&&(!this.isEdgeTerminalVisible(t,"source")||!this.isEdgeTerminalVisible(t,"target")))){if(o)r=Yt.FLAG_INSERT;else{const a=this.graph.hook.createCellView(t);a&&(o=s[t.id]=a,o.graph=this.graph,r=this.registerUnmountedView(o)|o.getBootstrapFlag())}o&&this.requestViewUpdate(o,r,o.priority,e)}}isExactSorting(){return this.options.sorting==="exact"}sortViews(){if(!!this.isExactSorting()){if(this.isFrozen()){this.updates.sort=!0;return}this.sortViewsExact()}}sortElements(t,e){const n=t.map(s=>{const r=s.parentNode,o=r.insertBefore(document.createTextNode(""),s.nextSibling);return a=>{if(r===a)throw new Error("You can't sort elements if any one is a descendant of another.");r.insertBefore(a,o),r.removeChild(o)}});t.sort(e).forEach((s,r)=>n[r](s))}sortViewsExact(){const t=this.view.$(this.view.stage).children("[data-cell-id]").toArray(),e=this.model;this.sortElements(t,(n,s)=>{const r=e.getCell(n.getAttribute("data-cell-id")||""),o=e.getCell(s.getAttribute("data-cell-id")||""),a=r.getZIndex()||0,l=o.getZIndex()||0;return a===l?0:a<l?-1:1})}addZPivot(t=0){this.zPivots==null&&(this.zPivots={});const e=this.zPivots;let n=e[t];if(n)return n;n=e[t]=document.createComment(`z-index:${t+1}`);let s=-1/0;for(const o in e){const a=+o;!(a<t&&a>s&&(s=a,s===t-1))}const r=this.view.stage;if(s!==-1/0){const o=e[s];r.insertBefore(n,o.nextSibling)}else r.insertBefore(n,r.firstChild);return n}removeZPivots(){this.zPivots&&Object.keys(this.zPivots).forEach(t=>{const e=this.zPivots[t];e&&e.parentNode&&e.parentNode.removeChild(e)}),this.zPivots={}}insertView(t){const e=this.view.stage;switch(this.options.sorting){case"approx":{const n=t.cell.getZIndex(),s=this.addZPivot(n);e.insertBefore(t.container,s);break}case"exact":default:e.appendChild(t.container);break}}findViewByCell(t){if(t==null)return null;const e=Gt.isCell(t)?t.id:t;return this.views[e]}findViewByElem(t){if(t==null)return null;const e=typeof t=="string"?this.view.stage.querySelector(t):t instanceof Element?t:t[0];if(e){const n=this.view.findAttr("data-cell-id",e);if(n)return this.views[n]}return null}findViewsFromPoint(t){const e={x:t.x,y:t.y};return this.model.getCells().map(n=>this.findViewByCell(n)).filter(n=>n!=null?Xe(n.container,{target:this.view.stage}).containsPoint(e):!1)}findEdgeViewsInArea(t,e={}){const n=st.create(t);return this.model.getEdges().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const r=Xe(s.container,{target:this.view.stage});return r.width===0?r.inflate(1,0):r.height===0&&r.inflate(0,1),e.strict?n.containsRect(r):n.isIntersectWithRect(r)}return!1})}findViewsInArea(t,e={}){const n=st.create(t);return this.model.getNodes().map(s=>this.findViewByCell(s)).filter(s=>{if(s){const r=Xe(s.container,{target:this.view.stage});return e.strict?n.containsRect(r):n.isIntersectWithRect(r)}return!1})}dispose(){this.resetUpdates(),this.stopListening()}}K6([se.dispose()],Yt.prototype,"dispose",null);(function(i){i.FLAG_INSERT=1<<30,i.FLAG_REMOVE=1<<29,i.MOUNT_BATCH_SIZE=1e3,i.UPDATE_BATCH_SIZE=1e3,i.MIN_PRIORITY=2,i.SORT_DELAYING_BATCHES=["add","to-front","to-back"],i.UPDATE_DELAYING_BATCHES=["translate"]})(Yt||(Yt={}));var J6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class zl extends se{get elem(){return this.view.background}init(){this.startListening(),this.options.background&&this.draw(this.options.background)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}updateBackgroundImage(t={}){let e=t.size||"auto auto",n=t.position||"center";const s=this.graph.transform.getScale(),r=this.graph.translate();if(typeof n=="object"){const o=r.tx+s.sx*(n.x||0),a=r.ty+s.sy*(n.y||0);n=`${o}px ${a}px`}typeof e=="object"&&(e=st.fromSize(e).scale(s.sx,s.sy),e=`${e.width}px ${e.height}px`),this.elem.style.backgroundSize=e,this.elem.style.backgroundPosition=n}drawBackgroundImage(t,e={}){if(!(t instanceof HTMLImageElement)){this.elem.style.backgroundImage="";return}const n=this.optionsCache;if(n&&n.image!==e.image)return;let s;const r=e.opacity,o=e.size;let a=e.repeat||"no-repeat";const l=Io.registry.get(a);if(typeof l=="function"){const h=e.quality||1;t.width*=h,t.height*=h;const f=l(t,e);if(!(f instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");s=f.toDataURL("image/png"),e.repeat&&a!==e.repeat?a=e.repeat:a="repeat",typeof o=="object"?(o.width*=f.width/t.width,o.height*=f.height/t.height):o===void 0&&(e.size={width:f.width/h,height:f.height/h})}else s=t.src,o===void 0&&(e.size={width:t.width,height:t.height});n!=null&&typeof e.size=="object"&&e.image===n.image&&e.repeat===n.repeat&&e.quality===n.quality&&(n.size=Po(e.size));const c=this.elem.style;c.backgroundImage=`url(${s})`,c.backgroundRepeat=a,c.opacity=r==null||r>=1?"":`${r}`,this.updateBackgroundImage(e)}updateBackgroundColor(t){this.elem.style.backgroundColor=t||""}updateBackgroundOptions(t){this.graph.options.background=t}update(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}draw(t){const e=t||{};if(this.updateBackgroundOptions(t),this.updateBackgroundColor(e.color),e.image){this.optionsCache=Po(e);const n=document.createElement("img");n.onload=()=>this.drawBackgroundImage(n,t),n.setAttribute("crossorigin","anonymous"),n.src=e.image}else this.drawBackgroundImage(null),this.optionsCache=null}clear(){this.draw()}dispose(){this.clear(),this.stopListening()}}J6([se.dispose()],zl.prototype,"dispose",null);var Z6=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},Q6=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class _r extends Ht{constructor(t){super();this.padding={left:0,top:0,right:0,bottom:0},this.options=Vn.getOptions(t);const e=this.graph.transform.getScale();this.sx=e.sx,this.sy=e.sy;const n=this.options.width||this.graph.options.width,s=this.options.height||this.graph.options.height;this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(Vn.containerClass)).css({width:n,height:s}),this.options.pageVisible&&this.$container.addClass(this.prefixClassName(Vn.pagedClass)),this.options.className&&this.$container.addClass(this.options.className);const r=this.graph.container;r.parentNode&&this.$container.insertBefore(r);const o=r.getAttribute("style");if(o){const a={};o.split(";").forEach(c=>{const h=c.trim();if(h){const f=h.split(":");f.length&&(a[f[0].trim()]=f[1]?f[1].trim():"")}}),Object.keys(a).forEach(c=>{c==="width"||c==="height"||(r.style[c]="",this.container.style[c]=a[c])})}this.content=document.createElement("div"),this.$content=this.$(this.content).addClass(this.prefixClassName(Vn.contentClass)).css({width:this.graph.options.width,height:this.graph.options.height}),this.background=document.createElement("div"),this.$background=this.$(this.background).addClass(this.prefixClassName(Vn.backgroundClass)),this.$content.append(this.background),this.options.pageVisible||this.$content.append(this.graph.view.grid),this.$content.append(r),this.$content.appendTo(this.container),this.startListening(),this.options.pageVisible||this.graph.grid.update(),this.backgroundManager=new _r.Background(this),this.options.autoResize||this.update()}get graph(){return this.options.graph}get model(){return this.graph.model}startListening(){const t=this.graph,e=this.model;t.on("scale",this.onScale,this),t.on("resize",this.onResize,this),t.on("before:print",this.storeScrollPosition,this),t.on("before:export",this.storeScrollPosition,this),t.on("after:print",this.restoreScrollPosition,this),t.on("after:export",this.restoreScrollPosition,this),t.on("render:done",this.onRenderDone,this),t.on("unfreeze",this.onUpdate,this),e.on("reseted",this.onUpdate,this),e.on("cell:added",this.onUpdate,this),e.on("cell:removed",this.onUpdate,this),e.on("cell:changed",this.onUpdate,this),e.on("batch:stop",this.onBatchStop,this),this.delegateBackgroundEvents()}stopListening(){const t=this.graph,e=this.model;t.off("scale",this.onScale,this),t.off("resize",this.onResize,this),t.off("beforeprint",this.storeScrollPosition,this),t.off("beforeexport",this.storeScrollPosition,this),t.off("afterprint",this.restoreScrollPosition,this),t.off("afterexport",this.restoreScrollPosition,this),t.off("render:done",this.onRenderDone,this),t.off("unfreeze",this.onUpdate,this),e.off("reseted",this.onUpdate,this),e.off("cell:added",this.onUpdate,this),e.off("cell:removed",this.onUpdate,this),e.off("cell:changed",this.onUpdate,this),e.off("batch:stop",this.onBatchStop,this),this.undelegateBackgroundEvents()}enableAutoResize(){this.options.autoResize=!0}disableAutoResize(){this.options.autoResize=!1}onUpdate(){this.graph.isAsync()||!this.options.autoResize||this.update()}onBatchStop(t){this.graph.isAsync()||!this.options.autoResize||Yt.UPDATE_DELAYING_BATCHES.includes(t.name)&&this.update()}delegateBackgroundEvents(t){const e=t||Zn.events;this.delegatedHandlers=Object.keys(e).reduce((n,s)=>{const r=e[s];if(s.indexOf(" ")===-1)if(typeof r=="function")n[s]=r;else{let o=this.graph.view[r];typeof o=="function"&&(o=o.bind(this.graph.view),n[s]=o)}return n},{}),this.onBackgroundEvent=this.onBackgroundEvent.bind(this),Object.keys(this.delegatedHandlers).forEach(n=>{this.delegateEvent(n,{guarded:!1},this.onBackgroundEvent)})}undelegateBackgroundEvents(){Object.keys(this.delegatedHandlers).forEach(t=>{this.undelegateEvent(t,this.onBackgroundEvent)})}onBackgroundEvent(t){let e=!1;const n=t.target;if(this.options.pageVisible)this.options.background?e=this.background===n:e=this.content===n;else{const s=this.graph.view;e=s.background===n||s.grid===n}if(e){const s=this.delegatedHandlers[t.type];typeof s=="function"&&s.apply(this.graph,arguments)}}onRenderDone({stats:t}){this.options.autoResize&&t.priority<2&&this.update()}onResize(){this.cachedCenterPoint&&(this.centerPoint(this.cachedCenterPoint.x,this.cachedCenterPoint.y),this.updatePageBreak())}onScale({sx:t,sy:e,ox:n,oy:s}){this.updateScale(t,e),(n||s)&&(this.centerPoint(n,s),this.updatePageBreak()),typeof(this.options.autoResizeOptions||this.options.fitTocontentOptions)=="function"&&this.update()}storeScrollPosition(){this.cachedScrollLeft=this.container.scrollLeft,this.cachedScrollTop=this.container.scrollTop}restoreScrollPosition(){this.container.scrollLeft=this.cachedScrollLeft,this.container.scrollTop=this.cachedScrollTop,this.cachedScrollLeft=null,this.cachedScrollTop=null}storeClientSize(){this.cachedClientSize={width:this.container.clientWidth,height:this.container.clientHeight}}restoreClientSize(){this.cachedClientSize=null}beforeManipulation(){($e.IS_IE||$e.IS_EDGE)&&this.$container.css("visibility","hidden")}afterManipulation(){($e.IS_IE||$e.IS_EDGE)&&this.$container.css("visibility","visible")}updatePageSize(t,e){t!=null&&(this.options.pageWidth=t),e!=null&&(this.options.pageHeight=e),this.updatePageBreak()}updatePageBreak(){if(this.pageBreak&&this.pageBreak.parentNode&&this.pageBreak.parentNode.removeChild(this.pageBreak),this.pageBreak=null,this.options.pageVisible&&this.options.pageBreak){const t=this.graph.options.width,e=this.graph.options.height,n=this.options.pageWidth*this.sx,s=this.options.pageHeight*this.sy;if(t>n||e>s){let r=!1;const o=document.createElement("div");for(let a=1,l=Math.floor(t/n);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-vertical")).css({left:a*n}).appendTo(o),r=!0;for(let a=1,l=Math.floor(e/s);a<l;a+=1)this.$("<div/>").addClass(this.prefixClassName("graph-pagebreak-horizontal")).css({top:a*s}).appendTo(o),r=!0;r&&(Jt(o,this.prefixClassName("graph-pagebreak")),this.$(this.graph.view.grid).after(o),this.pageBreak=o)}}}update(){const t=this.getClientSize();this.cachedCenterPoint=this.clientToLocalPoint(t.width/2,t.height/2);let e=this.options.autoResizeOptions||this.options.fitTocontentOptions;typeof e=="function"&&(e=dt(e,this,this));const n=Object.assign({gridWidth:this.options.pageWidth,gridHeight:this.options.pageHeight,allowNewOrigin:"negative"},e);this.graph.fitToContent(this.getFitToContentOptions(n))}getFitToContentOptions(t){const e=this.sx,n=this.sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=n),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=n),typeof t.padding=="object"?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*n,bottom:(t.padding.bottom||0)*n}:typeof t.padding=="number"&&(t.padding*=e),this.options.autoResize||(t.contentArea=st.create()),t}updateScale(t,e){const n=this.graph.options,s=t/this.sx,r=e/this.sy;this.sx=t,this.sy=e,this.graph.translate(n.x*s,n.y*r),this.graph.resizeGraph(n.width*s,n.height*r)}scrollbarPosition(t,e,n){if(t==null&&e==null)return{left:this.container.scrollLeft,top:this.container.scrollTop};const s={};return typeof t=="number"&&(s.scrollLeft=t),typeof e=="number"&&(s.scrollTop=e),n&&n.animation?this.$container.animate(s,n.animation):this.$container.prop(s),this}scrollToPoint(t,e,n){const s=this.getClientSize(),r=this.graph.matrix(),o={};return typeof t=="number"&&(o.scrollLeft=t-s.width/2+r.e+(this.padding.left||0)),typeof e=="number"&&(o.scrollTop=e-s.height/2+r.f+(this.padding.top||0)),n&&n.animation?this.$container.animate(o,n.animation):this.$container.prop(o),this}scrollToContent(t){const e=this.sx,n=this.sy,s=this.graph.getContentArea().getCenter();return this.scrollToPoint(s.x*e,s.y*n,t)}scrollToCell(t,e){const n=this.sx,s=this.sy,r=t.getBBox().getCenter();return this.scrollToPoint(r.x*n,r.y*s,e)}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const s=this.graph.matrix(),r=s.a,o=s.d,a=-s.e,l=-s.f,c=a+this.graph.options.width,h=l+this.graph.options.height;let f;if(this.storeClientSize(),typeof t=="number"||typeof e=="number"){f=n;const N=this.getVisibleArea().getCenter();typeof t=="number"?t*=r:t=N.x,typeof e=="number"?e*=o:e=N.y}else f=t,t=(a+c)/2,e=(l+h)/2;if(f&&f.padding)return this.positionPoint({x:t,y:e},"50%","50%",f);const d=this.getPadding(),p=this.getClientSize(),y=p.width/2,v=p.height/2,x=y-d.left-t+a,w=y-d.right+t-c,M=v-d.top-e+l,A=v-d.bottom+e-h;this.addPadding(Math.max(x,0),Math.max(w,0),Math.max(M,0),Math.max(A,0));const D=this.scrollToPoint(t,e,f||void 0);return this.restoreClientSize(),D}centerContent(t){return this.positionContent("center",t)}centerCell(t,e){return this.positionCell(t,"center",e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t,e)}positionCell(t,e,n){const s=t.getBBox();return this.positionRect(s,e,n)}positionRect(t,e,n){const s=st.create(t);switch(e){case"center":return this.positionPoint(s.getCenter(),"50%","50%",n);case"top":return this.positionPoint(s.getTopCenter(),"50%",0,n);case"top-right":return this.positionPoint(s.getTopRight(),"100%",0,n);case"right":return this.positionPoint(s.getRightMiddle(),"100%","50%",n);case"bottom-right":return this.positionPoint(s.getBottomRight(),"100%","100%",n);case"bottom":return this.positionPoint(s.getBottomCenter(),"50%","100%",n);case"bottom-left":return this.positionPoint(s.getBottomLeft(),0,"100%",n);case"left":return this.positionPoint(s.getLeftMiddle(),0,"50%",n);case"top-left":return this.positionPoint(s.getTopLeft(),0,0,n);default:return this}}positionPoint(t,e,n,s={}){const{padding:r}=s,o=Q6(s,["padding"]),a=mn(r),l=st.fromSize(this.getClientSize()),c=l.clone().moveAndExpand({x:a.left,y:a.top,width:-a.right-a.left,height:-a.top-a.bottom});e=oi(e,Math.max(0,c.width)),e<0&&(e=c.width+e),n=oi(n,Math.max(0,c.height)),n<0&&(n=c.height+n);const h=c.getTopLeft().translate(e,n),f=l.getCenter().diff(h),d=this.zoom(),p=f.scale(1/d,1/d),y=k.create(t).translate(p);return this.centerPoint(y.x,y.y,o)}zoom(t,e){if(t==null)return this.sx;e=e||{};let n,s;const r=this.getClientSize(),o=this.clientToLocalPoint(r.width/2,r.height/2);let a=t,l=t;if(e.absolute||(a+=this.sx,l+=this.sy),e.scaleGrid&&(a=Math.round(a/e.scaleGrid)*e.scaleGrid,l=Math.round(l/e.scaleGrid)*e.scaleGrid),e.maxScale&&(a=Math.min(e.maxScale,a),l=Math.min(e.maxScale,l)),e.minScale&&(a=Math.max(e.minScale,a),l=Math.max(e.minScale,l)),a=this.graph.transform.clampScale(a),l=this.graph.transform.clampScale(l),e.center){const c=a/this.sx,h=l/this.sy;n=e.center.x-(e.center.x-o.x)/c,s=e.center.y-(e.center.y-o.y)/h}else n=o.x,s=o.y;return this.beforeManipulation(),this.graph.transform.scale(a,l),this.centerPoint(n,s),this.afterManipulation(),this}zoomToRect(t,e={}){const n=st.create(t),s=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:s.options.x,y:s.options.y,width:this.$container.width(),height:this.$container.height()}),this.beforeManipulation(),s.transform.scaleContentToFitImpl(e,!1);const r=n.getCenter();return this.centerPoint(r.x,r.y),this.afterManipulation(),this}zoomToFit(t={}){return this.zoomToRect(this.graph.getContentArea(t),t)}transitionToPoint(t,e,n){typeof t=="object"?(n=e,e=t.y,t=t.x):e=e,n==null&&(n={});let s,r;const o=this.sx,a=Math.max(n.scale||o,1e-6),l=this.getClientSize(),c=new k(t,e),h=this.clientToLocalPoint(l.width/2,l.height/2);if(o===a){const d=h.diff(c).scale(o,o).round();s=`translate(${d.x}px,${d.y}px)`}else{const d=a/(o-a)*c.distance(h),p=h.clone().move(c,d),y=this.localToBackgroundPoint(p).round();s=`scale(${a/o})`,r=`${y.x}px ${y.y}px`}const f=n.onTransitionEnd;return this.$container.addClass(Vn.transitionClassName),this.$content.off(Vn.transitionEventName).on(Vn.transitionEventName,d=>{this.syncTransition(a,{x:t,y:e}),typeof f=="function"&&dt(f,this,d.originalEvent)}).css({transform:s,transformOrigin:r,transition:"transform",transitionDuration:n.duration||"1s",transitionDelay:n.delay,transitionTimingFunction:n.timing}),this}syncTransition(t,e){return this.beforeManipulation(),this.graph.scale(t),this.removeTransition(),this.centerPoint(e.x,e.y),this.afterManipulation(),this}removeTransition(){return this.$container.removeClass(Vn.transitionClassName),this.$content.off(Vn.transitionEventName).css({transform:"",transformOrigin:"",transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:""}),this}transitionToRect(t,e={}){const n=st.create(t),s=e.maxScale||1/0,r=e.minScale||Number.MIN_VALUE,o=e.scaleGrid||null,a=e.visibility||1,l=e.center?k.create(e.center):n.getCenter(),c=this.getClientSize(),h=c.width*a,f=c.height*a;let d=new st(l.x-h/2,l.y-f/2,h,f).getMaxUniformScaleToFit(n,l);return d=Math.min(d,s),o&&(d=Math.floor(d/o)*o),d=Math.max(r,d),this.transitionToPoint(l,Object.assign({scale:d},e))}startPanning(t){const e=this.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("pan:start",{e}),this.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.normalizeEvent(t),n=e.clientX-this.clientX,s=e.clientY-this.clientY;this.container.scrollTop-=s,this.container.scrollLeft-=n,this.clientX=e.clientX,this.clientY=e.clientY,this.trigger("panning",{e})}stopPanning(t){this.$(document.body).off(".panning"),this.$(window).off(".panning"),this.trigger("pan:stop",{e:t})}clientToLocalPoint(t,e){let n=typeof t=="object"?t.x:t,s=typeof t=="object"?t.y:e;const r=this.graph.matrix();return n+=this.container.scrollLeft-this.padding.left-r.e,s+=this.container.scrollTop-this.padding.top-r.f,new k(n/r.a,s/r.d)}localToBackgroundPoint(t,e){const n=typeof t=="object"?k.create(t):new k(t,e),s=this.graph.matrix(),r=this.padding;return Ei(n,s).translate(r.left,r.top)}resize(t,e){let n=t!=null?t:this.container.clientWidth,s=e!=null?e:this.container.clientHeight;typeof n=="number"&&(n=Math.round(n)),typeof s=="number"&&(s=Math.round(s)),this.options.width=n,this.options.height=s,this.$container.css({width:n,height:s}),this.update()}getClientSize(){return this.cachedClientSize?this.cachedClientSize:{width:this.container.clientWidth,height:this.container.clientHeight}}autoScroll(t,e){const n=10,s=this.container,r=s.getBoundingClientRect();let o=0,a=0;return t<=r.left+n&&(o=-n),e<=r.top+n&&(a=-n),t>=r.right-n&&(o=n),e>=r.bottom-n&&(a=n),o!==0&&(s.scrollLeft+=o),a!==0&&(s.scrollTop+=a),{scrollerX:o,scrollerY:a}}addPadding(t,e,n,s){let r=this.getPadding();this.padding={left:Math.round(r.left+(t||0)),top:Math.round(r.top+(n||0)),bottom:Math.round(r.bottom+(s||0)),right:Math.round(r.right+(e||0))},r=this.padding,this.$content.css({width:r.left+this.graph.options.width+r.right,height:r.top+this.graph.options.height+r.bottom});const o=this.graph.container;return o.style.left=`${this.padding.left}px`,o.style.top=`${this.padding.top}px`,this}getPadding(){const t=this.options.padding;return mn(typeof t=="function"?dt(t,this,this):t)}getVisibleArea(){const t=this.graph.matrix(),e=this.getClientSize(),n={x:this.container.scrollLeft||0,y:this.container.scrollTop||0,width:e.width,height:e.height},s=kn(n,t.inverse());return s.x-=(this.padding.left||0)/this.sx,s.y-=(this.padding.top||0)/this.sy,s}isCellVisible(t,e={}){const n=t.getBBox(),s=this.getVisibleArea();return e.strict?s.containsRect(n):s.isIntersectWithRect(n)}isPointVisible(t){return this.getVisibleArea().containsPoint(t)}lock(){return this.$container.css("overflow","hidden"),this}unlock(){return this.$container.css("overflow","scroll"),this}onRemove(){this.stopListening()}dispose(){this.$(this.graph.container).insertBefore(this.$container),this.remove()}}Z6([Ht.dispose()],_r.prototype,"dispose",null);(function(i){class t extends zl{constructor(n){super(n.graph);this.scroller=n,n.options.background&&this.draw(n.options.background)}get elem(){return this.scroller.background}init(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}updateBackgroundOptions(n){this.scroller.options.background=n}}i.Background=t})(_r||(_r={}));var Vn;(function(i){i.containerClass="graph-scroller",i.panningClass=`${i.containerClass}-panning`,i.pannableClass=`${i.containerClass}-pannable`,i.pagedClass=`${i.containerClass}-paged`,i.contentClass=`${i.containerClass}-content`,i.backgroundClass=`${i.containerClass}-background`,i.transitionClassName="transition-in-progress",i.transitionEventName="transitionend.graph-scroller-transition",i.defaultOptions={padding(){const e=this.getClientSize(),n=Math.max(this.options.minVisibleWidth||0,1)||1,s=Math.max(this.options.minVisibleHeight||0,1)||1,r=Math.max(e.width-n,0),o=Math.max(e.height-s,0);return{left:r,top:o,right:r,bottom:o}},minVisibleWidth:50,minVisibleHeight:50,pageVisible:!1,pageBreak:!1,autoResize:!0};function t(e){const n=pe({},i.defaultOptions,e);return n.pageWidth==null&&(n.pageWidth=e.graph.options.width),n.pageHeight==null&&(n.pageHeight=e.graph.options.height),n}i.getOptions=t})(Vn||(Vn={}));function _e(i,t,e,n={}){if(e){const s=e.graph,r=s.view.normalizeEvent(t),o=s.snapToGrid(r.clientX,r.clientY);e.notify(i,Object.assign({e:r,view:e,node:e.cell,cell:e.cell,x:o.x,y:o.y},n))}}var t5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class wu extends Ht{constructor(t){super();this.options=pe({},un.defaultOptions,t),this.options.model&&(this.options.collection=this.options.model.collection),this.options.collection?this.collection=this.options.collection:(this.collection=new Q0([],{comparator:un.depthComparator}),this.options.collection=this.collection),this.boxCount=0,this.createContainer(),this.initHandles(),this.startListening()}get graph(){return this.options.graph}get boxClassName(){return this.prefixClassName(un.classNames.box)}get $boxes(){return this.$container.children(`.${this.boxClassName}`)}get handleOptions(){return this.options}startListening(){const t=this.graph,e=this.collection;this.delegateEvents({[`mousedown .${this.boxClassName}`]:"onSelectionBoxMouseDown",[`touchstart .${this.boxClassName}`]:"onSelectionBoxMouseDown"},!0),t.on("scale",this.onGraphTransformed,this),t.on("translate",this.onGraphTransformed,this),t.model.on("updated",this.onModelUpdated,this),e.on("added",this.onCellAdded,this),e.on("removed",this.onCellRemoved,this),e.on("reseted",this.onReseted,this),e.on("updated",this.onCollectionUpdated,this),e.on("node:change:position",this.onNodePositionChanged,this),e.on("cell:changed",this.onCellChanged,this)}stopListening(){const t=this.graph,e=this.collection;this.undelegateEvents(),t.off("scale",this.onGraphTransformed,this),t.off("translate",this.onGraphTransformed,this),t.model.off("updated",this.onModelUpdated,this),e.off("added",this.onCellAdded,this),e.off("removed",this.onCellRemoved,this),e.off("reseted",this.onReseted,this),e.off("updated",this.onCollectionUpdated,this),e.off("node:change:position",this.onNodePositionChanged,this),e.off("cell:changed",this.onCellChanged,this)}onRemove(){this.stopListening()}onGraphTransformed(){this.updateSelectionBoxes({async:!1})}onCellChanged(){this.updateSelectionBoxes()}onNodePositionChanged({node:t,options:e}){const{showNodeSelectionBox:n,pointerEvents:s}=this.options,{ui:r,selection:o}=e;let a=!this.translating;if(a=a&&(n!==!0||s==="none"),a=a&&r&&!o,a){this.translating=!0;const l=t.position(),c=t.previous("position"),h=l.x-c.x,f=l.y-c.y;(h!==0||f!==0)&&this.translateSelectedNodes(h,f,t,e),this.translating=!1}}onModelUpdated({removed:t}){t&&t.length&&this.unselect(t)}isEmpty(){return this.length<=0}isSelected(t){return this.collection.has(t)}get length(){return this.collection.length}get cells(){return this.collection.toArray()}select(t,e={}){e.dryrun=!0;const n=this.filter(Array.isArray(t)?t:[t]);return this.collection.add(n,e),this}unselect(t,e={}){return e.dryrun=!0,this.collection.remove(Array.isArray(t)?t:[t],e),this}reset(t,e={}){if(t){if(e.batch){const c=this.filter(Array.isArray(t)?t:[t]);return this.collection.reset(c,Object.assign(Object.assign({},e),{ui:!0})),this}const n=this.cells,s=this.filter(Array.isArray(t)?t:[t]),r={},o={};n.forEach(c=>r[c.id]=c),s.forEach(c=>o[c.id]=c);const a=[],l=[];return s.forEach(c=>{r[c.id]||a.push(c)}),n.forEach(c=>{o[c.id]||l.push(c)}),l.length&&this.unselect(l,Object.assign(Object.assign({},e),{ui:!0})),a.length&&this.select(a,Object.assign(Object.assign({},e),{ui:!0})),l.length===0&&a.length===0&&this.updateContainer(),this}return this.clean(e)}clean(t={}){return this.length&&(t.batch===!1?this.unselect(this.cells,t):this.collection.reset([],Object.assign(Object.assign({},t),{ui:!0}))),this}setFilter(t){this.options.filter=t}setContent(t){this.options.content=t}startSelecting(t){t=this.normalizeEvent(t),this.clean();let e,n;const s=this.graph.container;if(t.offsetX!=null&&t.offsetY!=null&&s.contains(t.target))e=t.offsetX,n=t.offsetY;else{const r=this.$(s).offset(),o=s.scrollLeft,a=s.scrollTop;e=t.clientX-r.left+window.pageXOffset+o,n=t.clientY-r.top+window.pageYOffset+a}this.$container.css({top:n,left:e,width:1,height:1}),this.setEventData(t,{action:"selecting",clientX:t.clientX,clientY:t.clientY,offsetX:e,offsetY:n,scrollerX:0,scrollerY:0}),this.delegateDocumentEvents(un.documentEvents,t.data)}filter(t){const e=this.options.filter;return Array.isArray(e)?t.filter(n=>!e.includes(n)&&!e.includes(n.shape)):typeof e=="function"?t.filter(n=>dt(e,this.graph,n)):t}stopSelecting(t){const e=this.graph,n=this.getEventData(t);switch(n.action){case"selecting":{let r=this.$container.width(),o=this.$container.height();const a=this.$container.offset(),l=e.pageToLocal(a.left,a.top),c=e.transform.getScale();r/=c.sx,o/=c.sy;const h=new st(l.x,l.y,r,o),f=this.getCellViewsInArea(h).map(d=>d.cell);this.reset(f,{batch:!0}),this.hideRubberband();break}case"translating":{const r=e.snapToGrid(t.clientX,t.clientY);if(!this.options.following){const o=n;this.updateSelectedNodesPosition({dx:o.clientX-o.originX,dy:o.clientY-o.originY})}this.graph.model.stopBatch("move-selection"),this.notifyBoxEvent("box:mouseup",t,r.x,r.y);break}default:{this.clean();break}}}onMouseUp(t){this.getEventData(t).action&&(this.stopSelecting(t),this.undelegateDocumentEvents())}onSelectionBoxMouseDown(t){this.options.following||t.stopPropagation();const e=this.normalizeEvent(t);this.options.movable&&this.startTranslating(e);const n=this.getCellViewFromElem(e.target);this.setEventData(e,{activeView:n});const s=this.graph.snapToGrid(e.clientX,e.clientY);this.notifyBoxEvent("box:mousedown",e,s.x,s.y),this.delegateDocumentEvents(un.documentEvents,e.data)}startTranslating(t){this.graph.model.startBatch("move-selection");const e=this.graph.snapToGrid(t.clientX,t.clientY);this.setEventData(t,{action:"translating",clientX:e.x,clientY:e.y,originX:e.x,originY:e.y})}getSelectionOffset(t,e){let n=t.x-e.clientX,s=t.y-e.clientY;const r=this.graph.hook.getRestrictArea();if(r){const o=this.collection.toArray(),a=Gt.getCellsBBox(o,{deep:!0})||st.create(),l=r.x-a.x,c=r.y-a.y,h=r.x+r.width-(a.x+a.width),f=r.y+r.height-(a.y+a.height);if(n<l&&(n=l),s<c&&(s=c),h<n&&(n=h),f<s&&(s=f),!this.options.following){const d=t.x-e.originX,p=t.y-e.originY;n=d<=l||d>=h?0:n,s=p<=c||p>=f?0:s}}return{dx:n,dy:s}}updateSelectedNodesPosition(t){const{dx:e,dy:n}=t;if(e||n)if(this.translateSelectedNodes(e,n),this.boxesUpdated)this.collection.length>1&&this.updateSelectionBoxes();else{const s=this.graph.transform.getScale();this.$boxes.add(this.$selectionContainer).css({left:`+=${e*s.sx}`,top:`+=${n*s.sy}`})}}autoScrollGraph(t,e){const n=this.graph.scroller.widget;return n?n.autoScroll(t,e):{scrollerX:0,scrollerY:0}}adjustSelection(t){const e=this.normalizeEvent(t),n=this.getEventData(e);switch(n.action){case"selecting":{const r=n;r.moving!==!0&&(this.$container.appendTo(this.graph.container),this.showRubberband(),r.moving=!0);const{scrollerX:o,scrollerY:a}=this.autoScrollGraph(e.clientX,e.clientY);r.scrollerX+=o,r.scrollerY+=a;const l=e.clientX-r.clientX+r.scrollerX,c=e.clientY-r.clientY+r.scrollerY,h=parseInt(this.$container.css("left"),10),f=parseInt(this.$container.css("top"),10);this.$container.css({left:l<0?r.offsetX+l:h,top:c<0?r.offsetY+c:f,width:Math.abs(l),height:Math.abs(c)});break}case"translating":{const r=this.graph.snapToGrid(e.clientX,e.clientY),o=n,a=this.getSelectionOffset(r,o);this.options.following?this.updateSelectedNodesPosition(a):this.updateContainerPosition(a),a.dx&&(o.clientX=r.x),a.dy&&(o.clientY=r.y),this.notifyBoxEvent("box:mousemove",t,r.x,r.y);break}}this.boxesUpdated=!1}translateSelectedNodes(t,e,n,s){const r={},o=[];if(n&&(r[n.id]=!0),this.collection.toArray().forEach(a=>{a.getDescendants({deep:!0}).forEach(l=>{r[l.id]=!0})}),s&&s.translateBy){const a=this.graph.getCellById(s.translateBy);a&&(r[a.id]=!0,a.getDescendants({deep:!0}).forEach(l=>{r[l.id]=!0}),o.push(a))}this.collection.toArray().forEach(a=>{if(!r[a.id]){const l=Object.assign(Object.assign({},s),{selection:this.cid,exclude:o});a.translate(t,e,l),this.graph.model.getConnectedEdges(a).forEach(c=>{r[c.id]||(c.translate(t,e,l),r[c.id]=!0)})}})}getCellViewsInArea(t){const e=this.graph,n={strict:this.options.strict};let s=[];return this.options.rubberNode&&(this.options.useCellGeometry?s=s.concat(e.model.getNodesInArea(t,n).map(r=>e.renderer.findViewByCell(r)).filter(r=>r!=null)):s=s.concat(e.renderer.findViewsInArea(t,n))),this.options.rubberEdge&&(this.options.useCellGeometry?s=s.concat(e.model.getEdgesInArea(t,n).map(r=>e.renderer.findViewByCell(r)).filter(r=>r!=null)):s=s.concat(e.renderer.findEdgeViewsInArea(t,n))),s}notifyBoxEvent(t,e,n,s){const o=this.getEventData(e).activeView;this.trigger(t,{e,view:o,x:n,y:s,cell:o.cell})}getSelectedClassName(t){return this.prefixClassName(`${t.isNode()?"node":"edge"}-selected`)}addCellSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.addClass(this.getSelectedClassName(t))}removeCellUnSelectedClassName(t){const e=this.graph.renderer.findViewByCell(t);e&&e.removeClass(this.getSelectedClassName(t))}destroySelectionBox(t){this.removeCellUnSelectedClassName(t),this.canShowSelectionBox(t)&&(this.$container.find(`[data-cell-id="${t.id}"]`).remove(),this.$boxes.length===0&&this.hide(),this.boxCount=Math.max(0,this.boxCount-1))}destroyAllSelectionBoxes(t){t.forEach(e=>this.removeCellUnSelectedClassName(e)),this.hide(),this.$boxes.remove(),this.boxCount=0}hide(){this.$container.removeClass(this.prefixClassName(un.classNames.rubberband)).removeClass(this.prefixClassName(un.classNames.selected))}showRubberband(){this.$container.addClass(this.prefixClassName(un.classNames.rubberband))}hideRubberband(){this.$container.removeClass(this.prefixClassName(un.classNames.rubberband))}showSelected(){this.$container.removeAttr("style").addClass(this.prefixClassName(un.classNames.selected))}createContainer(){this.container=document.createElement("div"),this.$container=this.$(this.container),this.$container.addClass(this.prefixClassName(un.classNames.root)),this.options.className&&this.$container.addClass(this.options.className),this.$selectionContainer=this.$("<div/>").addClass(this.prefixClassName(un.classNames.inner)),this.$selectionContent=this.$("<div/>").addClass(this.prefixClassName(un.classNames.content)),this.$selectionContainer.append(this.$selectionContent),this.$selectionContainer.attr("data-selection-length",this.collection.length),this.$container.prepend(this.$selectionContainer),this.$handleContainer=this.$selectionContainer}updateContainerPosition(t){(t.dx||t.dy)&&this.$selectionContainer.css({left:`+=${t.dx}`,top:`+=${t.dy}`})}updateContainer(){const t={x:1/0,y:1/0},e={x:0,y:0};this.collection.toArray().filter(r=>this.canShowSelectionBox(r)).forEach(r=>{const o=this.graph.renderer.findViewByCell(r);if(o){const a=o.getBBox({useCellGeometry:this.options.useCellGeometry});t.x=Math.min(t.x,a.x),t.y=Math.min(t.y,a.y),e.x=Math.max(e.x,a.x+a.width),e.y=Math.max(e.y,a.y+a.height)}}),this.$selectionContainer.css({position:"absolute",pointerEvents:"none",left:t.x,top:t.y,width:e.x-t.x,height:e.y-t.y}).attr("data-selection-length",this.collection.length);const s=this.options.content;if(s)if(typeof s=="function"){const r=dt(s,this.graph,this,this.$selectionContent[0]);r&&this.$selectionContent.html(r)}else this.$selectionContent.html(s);this.collection.length>0&&!this.container.parentNode?this.$container.appendTo(this.graph.container):this.collection.length<=0&&this.container.parentNode&&this.container.parentNode.removeChild(this.container)}canShowSelectionBox(t){return t.isNode()&&this.options.showNodeSelectionBox===!0||t.isEdge()&&this.options.showEdgeSelectionBox===!0}createSelectionBox(t){if(this.addCellSelectedClassName(t),this.canShowSelectionBox(t)){const e=this.graph.renderer.findViewByCell(t);if(e){const n=e.getBBox({useCellGeometry:this.options.useCellGeometry}),s=this.boxClassName;this.$("<div/>").addClass(s).addClass(`${s}-${t.isNode()?"node":"edge"}`).attr("data-cell-id",t.id).css({position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height,pointerEvents:this.options.pointerEvents||"auto"}).appendTo(this.container),this.showSelected(),this.boxCount+=1}}}updateSelectionBoxes(t={}){this.collection.length>0&&(this.boxesUpdated=!0,this.graph.renderer.requestViewUpdate(this,1,2,t))}confirmUpdate(){return this.boxCount&&(this.hide(),this.$boxes.each((t,e)=>{const n=this.$(e).remove().attr("data-cell-id"),s=this.collection.get(n);s&&this.createSelectionBox(s)}),this.updateContainer()),0}getCellViewFromElem(t){const e=t.getAttribute("data-cell-id");if(e){const n=this.collection.get(e);if(n)return this.graph.renderer.findViewByCell(n)}return null}onCellRemoved({cell:t}){this.destroySelectionBox(t),this.updateContainer()}onReseted({previous:t,current:e}){this.destroyAllSelectionBoxes(t),e.forEach(n=>{this.listenCellRemoveEvent(n),this.createSelectionBox(n)}),this.updateContainer()}onCellAdded({cell:t}){this.listenCellRemoveEvent(t),this.createSelectionBox(t),this.updateContainer()}listenCellRemoveEvent(t){t.off("removed",this.onCellRemoved,this),t.on("removed",this.onCellRemoved,this)}onCollectionUpdated({added:t,removed:e,options:n}){t.forEach(r=>{this.trigger("cell:selected",{cell:r,options:n}),this.graph.trigger("cell:selected",{cell:r,options:n}),r.isNode()?(this.trigger("node:selected",{cell:r,options:n,node:r}),this.graph.trigger("node:selected",{cell:r,options:n,node:r})):r.isEdge()&&(this.trigger("edge:selected",{cell:r,options:n,edge:r}),this.graph.trigger("edge:selected",{cell:r,options:n,edge:r}))}),e.forEach(r=>{this.trigger("cell:unselected",{cell:r,options:n}),this.graph.trigger("cell:unselected",{cell:r,options:n}),r.isNode()?(this.trigger("node:unselected",{cell:r,options:n,node:r}),this.graph.trigger("node:unselected",{cell:r,options:n,node:r})):r.isEdge()&&(this.trigger("edge:unselected",{cell:r,options:n,edge:r}),this.graph.trigger("edge:unselected",{cell:r,options:n,edge:r}))});const s={added:t,removed:e,options:n,selected:this.cells};this.trigger("selection:changed",s),this.graph.trigger("selection:changed",s)}deleteSelectedCells(){const t=this.collection.toArray();this.clean(),this.graph.model.removeCells(t,{selection:this.cid})}startRotate({e:t}){const e=this.collection.toArray(),n=Gt.getCellsBBox(e).getCenter(),s=this.graph.snapToGrid(t.clientX,t.clientY),r=e.reduce((o,a)=>(o[a.id]=Vt.normalize(a.getAngle()),o),{});this.setEventData(t,{center:n,angles:r,start:s.theta(n)})}doRotate({e:t}){const e=this.getEventData(t),n=this.graph.options.rotating.grid,s=typeof n=="function"?dt(n,this.graph,null):n,r=this.graph.snapToGrid(t.clientX,t.clientY),o=e.start-r.theta(e.center);e.rotated||(e.rotated=!0),Math.abs(o)>.001&&(this.collection.toArray().forEach(a=>{const l=Le.snapToGrid(e.angles[a.id]+o,s||15);a.rotate(l,{absolute:!0,center:e.center,selection:this.cid})}),this.updateSelectionBoxes())}stopRotate({e:t}){const e=this.getEventData(t);e.rotated&&(e.rotated=!1,this.collection.toArray().forEach(n=>{_e("node:rotated",t,this.graph.findViewByCell(n))}))}startResize({e:t}){const e=this.graph.getGridSize(),n=this.collection.toArray(),s=Gt.getCellsBBox(n),r=n.map(l=>l.getBBox()),o=r.reduce((l,c)=>c.width<l?c.width:l,1/0),a=r.reduce((l,c)=>c.height<l?c.height:l,1/0);this.setEventData(t,{bbox:s,cells:this.graph.model.getSubGraph(n),minWidth:e*s.width/o,minHeight:e*s.height/a})}doResize({e:t,dx:e,dy:n}){const s=this.eventData(t),r=s.bbox,o=r.width,a=r.height,l=Math.max(o+e,s.minWidth),c=Math.max(a+n,s.minHeight);s.resized||(s.resized=!0),(Math.abs(o-l)>.001||Math.abs(a-c)>.001)&&(this.graph.model.resizeCells(l,c,s.cells,{selection:this.cid}),r.width=l,r.height=c,this.updateSelectionBoxes())}stopResize({e:t}){const e=this.eventData(t);e.resized&&(e.resized=!1,this.collection.toArray().forEach(n=>{_e("node:resized",t,this.graph.findViewByCell(n))}))}dispose(){this.clean(),this.remove()}}t5([Ht.dispose()],wu.prototype,"dispose",null);h2(wu,zs);var un;(function(i){const t="widget-selection";i.classNames={root:t,inner:`${t}-inner`,box:`${t}-box`,content:`${t}-content`,rubberband:`${t}-rubberband`,selected:`${t}-selected`},i.documentEvents={mousemove:"adjustSelection",touchmove:"adjustSelection",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},i.defaultOptions={movable:!0,following:!0,strict:!1,useCellGeometry:!1,content(n){return Cr('<%= length %> node<%= length > 1 ? "s":"" %> selected.')({length:n.length})},handles:[{name:"remove",position:"nw",events:{mousedown:"deleteSelectedCells"}},{name:"rotate",position:"sw",events:{mousedown:"startRotate",mousemove:"doRotate",mouseup:"stopRotate"}},{name:"resize",position:"se",events:{mousedown:"startResize",mousemove:"doResize",mouseup:"stopResize"}}]};function e(n){return n.getAncestors().length}i.depthComparator=e})(un||(un={}));class sm extends Yo{get node(){return this.cell}get containerClassName(){return this.prefixClassName("widget-transform")}get resizeClassName(){return`${this.containerClassName}-resize`}get rotateClassName(){return`${this.containerClassName}-rotate`}init(t){this.options=Object.assign(Object.assign({},Ge.defaultOptions),t),this.render(),this.startListening()}startListening(){this.delegateEvents({[`mousedown .${this.resizeClassName}`]:"startResizing",[`touchstart .${this.resizeClassName}`]:"startResizing",[`mousedown .${this.rotateClassName}`]:"startRotating",[`touchstart .${this.rotateClassName}`]:"startRotating"}),this.model.on("*",this.update,this),this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this),this.node.on("removed",this.remove,this),this.model.on("reseted",this.remove,this),this.view.on("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.on("cell:knob:mouseup",this.onKnobMouseUp,this),super.startListening()}stopListening(){this.undelegateEvents(),this.model.off("*",this.update,this),this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this),this.node.off("removed",this.remove,this),this.model.off("reseted",this.remove,this),this.view.off("cell:knob:mousedown",this.onKnobMouseDown,this),this.view.off("cell:knob:mouseup",this.onKnobMouseUp,this),super.stopListening()}renderHandles(){this.container=document.createElement("div"),this.$container=this.$(this.container);const t=this.$("<div/>").prop("draggable",!1),e=t.clone().addClass(this.rotateClassName),n=Ge.POSITIONS.map(s=>t.clone().addClass(this.resizeClassName).attr("data-position",s));this.empty(),this.$container.append(n,e)}render(){return this.renderHandles(),this.view.addClass(Ge.NODE_CLS),this.$container.addClass(this.containerClassName).toggleClass("no-orth-resize",this.options.preserveAspectRatio||!this.options.orthogonalResizing).toggleClass("no-resize",!this.options.resizable).toggleClass("no-rotate",!this.options.rotatable),this.options.className&&this.$container.addClass(this.options.className),this.graph.container.appendChild(this.container),this.update()}update(){const t=this.graph.matrix(),e=this.node.getBBox();e.x*=t.a,e.x+=t.e,e.y*=t.d,e.y+=t.f,e.width*=t.a,e.height*=t.d;const n=Vt.normalize(this.node.getAngle()),s=n!==0?`rotate(${n}deg)`:"";return this.$container.css({transform:s,width:e.width,height:e.height,left:e.x,top:e.y}),this.updateResizerDirections(),this}remove(){return this.view.removeClass(Ge.NODE_CLS),super.remove()}onKnobMouseDown(){this.startHandle()}onKnobMouseUp(){this.stopHandle()}updateResizerDirections(){const t=Vt.normalize(this.node.getAngle()),e=Math.floor(t*(Ge.DIRECTIONS.length/360));if(e!==this.prevShift){const n=Ge.DIRECTIONS.slice(e).concat(Ge.DIRECTIONS.slice(0,e)),s=r=>`${this.containerClassName}-cursor-${r}`;this.$container.find(`.${this.resizeClassName}`).removeClass(Ge.DIRECTIONS.map(r=>s(r)).join(" ")).each((r,o)=>{this.$(o).addClass(s(n[r]))}),this.prevShift=e}}getTrueDirection(t){const e=Vt.normalize(this.node.getAngle());let n=Ge.POSITIONS.indexOf(t);return n+=Math.floor(e*(Ge.POSITIONS.length/360)),n%=Ge.POSITIONS.length,Ge.POSITIONS[n]}toValidResizeDirection(t){return{top:"top-left",bottom:"bottom-right",left:"bottom-left",right:"top-right"}[t]||t}startResizing(t){t.stopPropagation(),this.model.startBatch("resize",{cid:this.cid});const e=this.$(t.target).attr("data-position"),n=this.graph.findViewByCell(this.node);this.prepareResizing(t,e),this.startAction(t),_e("node:resize:mousedown",t,n)}prepareResizing(t,e){const n=this.getTrueDirection(e);let s=0,r=0;e.split("-").forEach(c=>{s={left:-1,right:1}[c]||s,r={top:-1,bottom:1}[c]||r});const o=this.toValidResizeDirection(e),a={"top-right":"bottomLeft","top-left":"bottomRight","bottom-left":"topRight","bottom-right":"topLeft"}[o],l=Vt.normalize(this.node.getAngle());this.setEventData(t,{selector:a,direction:o,trueDirection:n,relativeDirection:e,angle:l,resizeX:s,resizeY:r,action:"resizing"})}startRotating(t){t.stopPropagation(),this.model.startBatch("rotate",{cid:this.cid});const e=this.graph.findViewByCell(this.node),n=this.node.getBBox().getCenter(),s=this.normalizeEvent(t),r=this.graph.snapToGrid(s.clientX,s.clientY);this.setEventData(t,{center:n,action:"rotating",angle:Vt.normalize(this.node.getAngle()),start:k.create(r).theta(n)}),this.startAction(t),_e("node:rotate:mousedown",t,e)}onMouseMove(t){const e=this.graph.findViewByCell(this.node);let n=this.getEventData(t);if(n.action){const s=this.normalizeEvent(t);let r=s.clientX,o=s.clientY;const a=this.graph.scroller.widget,l=this.options.restrictedResizing;if(l===!0||typeof l=="number"){const p=l===!0?0:l,y=a?Math.max(p,8):p,v=this.graph.container.getBoundingClientRect();r=cn(r,v.left+y,v.right-y),o=cn(o,v.top+y,v.bottom-y)}else this.options.autoScrollOnResizing&&a&&a.autoScroll(r,o);const c=this.graph.snapToGrid(r,o),h=this.graph.getGridSize(),f=this.node,d=this.options;if(n.action==="resizing"){n=n,n.resized||(e&&(e.addClass("node-resizing"),_e("node:resize",t,e)),n.resized=!0);const p=f.getBBox(),y=k.create(c).rotate(n.angle,p.getCenter()).diff(p[n.selector]);let v=n.resizeX?y.x*n.resizeX:p.width,x=n.resizeY?y.y*n.resizeY:p.height;const w=v,M=x;if(v=Le.snapToGrid(v,h),x=Le.snapToGrid(x,h),v=Math.max(v,d.minWidth||h),x=Math.max(x,d.minHeight||h),v=Math.min(v,d.maxWidth||1/0),x=Math.min(x,d.maxHeight||1/0),d.preserveAspectRatio){const D=p.width*x/p.height,N=p.height*v/p.width;v<D?x=N:v=D}const A=n.relativeDirection;if(d.allowReverse&&(w<=-v||M<=-x)){let D;A==="left"?w<=-v&&(D="right"):A==="right"?w<=-v&&(D="left"):A==="top"?M<=-x&&(D="bottom"):A==="bottom"?M<=-x&&(D="top"):A==="top-left"?w<=-v&&M<=-x?D="bottom-right":w<=-v?D="top-right":M<=-x&&(D="bottom-left"):A==="top-right"?w<=-v&&M<=-x?D="bottom-left":w<=-v?D="top-left":M<=-x&&(D="bottom-right"):A==="bottom-left"?w<=-v&&M<=-x?D="top-right":w<=-v?D="bottom-right":M<=-x&&(D="top-left"):A==="bottom-right"&&(w<=-v&&M<=-x?D="top-left":w<=-v?D="bottom-left":M<=-x&&(D="top-right"));const N=D;this.stopHandle();const m=this.$container.find(`.${this.resizeClassName}[data-position="${N}"]`);this.startHandle(m[0]),this.prepareResizing(t,N),this.onMouseMove(t)}if(p.width!==v||p.height!==x){const D={ui:!0,direction:n.direction,relativeDirection:n.relativeDirection,trueDirection:n.trueDirection,minWidth:d.minWidth,minHeight:d.minHeight,maxWidth:d.maxWidth,maxHeight:d.maxHeight,preserveAspectRatio:d.preserveAspectRatio===!0};f.resize(v,x,D),_e("node:resizing",t,e)}_e("node:resize:mousemove",t,e)}else if(n.action==="rotating"){n=n,n.rotated||(e&&(e.addClass("node-rotating"),_e("node:rotate",t,e)),n.rotated=!0);const p=f.getAngle(),y=n.start-k.create(c).theta(n.center);let v=n.angle+y;d.rotateGrid&&(v=Le.snapToGrid(v,d.rotateGrid)),p!==v&&(f.rotate(v,{absolute:!0}),_e("node:rotating",t,e)),_e("node:rotate:mousemove",t,e)}}}onMouseUp(t){const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);n.action&&(this.stopAction(t),this.model.stopBatch(n.action==="resizing"?"resize":"rotate",{cid:this.cid}),n.action==="resizing"?_e("node:resize:mouseup",t,e):n.action==="rotating"&&_e("node:rotate:mouseup",t,e))}startHandle(t){if(this.handle=t||null,this.$container.addClass(`${this.containerClassName}-active`),t){this.$(t).addClass(`${this.containerClassName}-active-handle`);const e=t.getAttribute("data-position");if(e){const n=Ge.DIRECTIONS[Ge.POSITIONS.indexOf(e)];this.$container.addClass(`${this.containerClassName}-cursor-${n}`)}}}stopHandle(){if(this.$container.removeClass(`${this.containerClassName}-active`),this.handle){this.$(this.handle).removeClass(`${this.containerClassName}-active-handle`);const t=this.handle.getAttribute("data-position");if(t){const e=Ge.DIRECTIONS[Ge.POSITIONS.indexOf(t)];this.$container.removeClass(`${this.containerClassName}-cursor-${e}`)}this.handle=null}}startAction(t){this.startHandle(t.target),this.graph.view.undelegateEvents(),this.delegateDocumentEvents(Ge.documentEvents,t.data)}stopAction(t){this.stopHandle(),this.undelegateDocumentEvents(),this.graph.view.delegateEvents();const e=this.graph.findViewByCell(this.node),n=this.getEventData(t);e&&(e.removeClass(`node-${n.action}`),n.action==="resizing"&&n.resized?_e("node:resized",t,e):n.action==="rotating"&&n.rotated&&_e("node:rotated",t,e))}}var Ge;(function(i){i.NODE_CLS="has-widget-transform",i.DIRECTIONS=["nw","n","ne","e","se","s","sw","w"],i.POSITIONS=["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],i.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp"},i.defaultOptions={minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,rotateGrid:15,rotatable:!0,preserveAspectRatio:!1,orthogonalResizing:!0,restrictedResizing:!1,autoScrollOnResizing:!0,allowReverse:!0}})(Ge||(Ge={}));var e5=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e},Qn;(function(i){function t(e,n,s){const r={};return Object.keys(s||{}).forEach(o=>{const a=s[o];r[o]=typeof a=="function"?a.call(e,n):a}),r}i.parseOptionGroup=t})(Qn||(Qn={}));(function(i){function t(e){const{grid:n,panning:s,selecting:r,embedding:o,snapline:a,resizing:l,rotating:c,knob:h,clipboard:f,history:d,scroller:p,minimap:y,keyboard:v,mousewheel:x}=e,w=e5(e,["grid","panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"]),M=e.container;if(M!=null)w.width==null&&(w.width=M.clientWidth),w.height==null&&(w.height=M.clientHeight);else throw new Error("Ensure the container of the graph is specified and valid");const A=pe({},i.defaults,w),D={size:10,visible:!1};return typeof n=="number"?A.grid={size:n,visible:!1}:typeof n=="boolean"?A.grid=Object.assign(Object.assign({},D),{visible:n}):A.grid=Object.assign(Object.assign({},D),n),["panning","selecting","embedding","snapline","resizing","rotating","knob","clipboard","history","scroller","minimap","keyboard","mousewheel"].forEach(m=>{const P=e[m];typeof P=="boolean"?A[m].enabled=P:A[m]=Object.assign(Object.assign({},A[m]),P)}),A.background&&A.scroller.enabled&&A.scroller.background==null&&(A.scroller.background=A.background,delete A.background),A}i.get=t})(Qn||(Qn={}));(function(i){i.defaults={x:0,y:0,grid:{size:10,visible:!1},scaling:{min:.01,max:16},background:!1,highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:Le.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:Le.prefix("available-magnet")}}},connecting:{snap:!1,multi:!0,dangling:!0,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",strategy:null,router:"normal",connector:"normal",validateConnection({type:t,sourceView:e,targetView:n}){return(t==="target"?n:e)!=null},createEdge(){return new tm}},transforming:{clearAll:!0,clearOnBlankMouseDown:!0},resizing:{enabled:!1,minWidth:0,minHeight:0,maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,orthogonal:!0,restricted:!1,autoScroll:!0,preserveAspectRatio:!1,allowReverse:!0},rotating:{enabled:!1,grid:15},translating:{restrict:!1},knob:{enabled:!1,clearAll:!0,clearOnBlankMouseDown:!0},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:()=>!0},selecting:{enabled:!1,rubberband:!1,rubberNode:!0,rubberEdge:!1,pointerEvents:"auto",multiple:!0,movable:!0,strict:!1,useCellGeometry:!1,selectCellOnMoved:!1,selectNodeOnMoved:!1,selectEdgeOnMoved:!1,content:null,handles:null},panning:{enabled:!1,eventTypes:["leftMouseDown"]},snapline:{enabled:!1},clipboard:{enabled:!1},history:{enabled:!1},scroller:{enabled:!1},keyboard:{enabled:!1},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},async:!1,frozen:!1,sorting:"exact",moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},guard:()=>!1}})(Qn||(Qn={}));var rm=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class om extends se{get cid(){return this.graph.view.cid}get svg(){return this.view.svg}get defs(){return this.view.defs}isDefined(t){return this.svg.getElementById(t)!=null}filter(t){let e=t.id;const n=t.name;if(e||(e=`filter-${n}-${this.cid}-${zh(JSON.stringify(t))}`),!this.isDefined(e)){const s=Pr.registry.get(n);if(s==null)return Pr.registry.onNotFound(n);const r=s(t.args||{}),o=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},t.attrs),{id:e});mt.create(Wt.sanitize(r),o).appendTo(this.defs)}return e}gradient(t){let e=t.id;const n=t.type;if(e||(e=`gradient-${n}-${this.cid}-${zh(JSON.stringify(t))}`),!this.isDefined(e)){const r=t.stops.map(l=>{const c=l.opacity!=null&&Number.isFinite(l.opacity)?l.opacity:1;return`<stop offset="${l.offset}" stop-color="${l.color}" stop-opacity="${c}"/>`}),o=`<${n}>${r.join("")}</${n}>`,a=Object.assign({id:e},t.attrs);mt.create(o,a).appendTo(this.defs)}return e}marker(t){const{id:e,refX:n,refY:s,markerUnits:r,markerOrient:o,tagName:a,children:l}=t,c=rm(t,["id","refX","refY","markerUnits","markerOrient","tagName","children"]);let h=e;if(h||(h=`marker-${this.cid}-${zh(JSON.stringify(t))}`),!this.isDefined(h)){a!=="path"&&delete c.d;const f=mt.create("marker",{refX:n,refY:s,id:h,overflow:"visible",orient:o!=null?o:"auto",markerUnits:r||"userSpaceOnUse"},l?l.map(d=>{var{tagName:p}=d,y=rm(d,["tagName"]);return mt.create(`${p}`||"path",$o(Object.assign(Object.assign({},c),y)))}):[mt.create(a||"path",$o(c))]);this.defs.appendChild(f.node)}return h}remove(t){const e=this.svg.getElementById(t);e&&e.parentNode&&e.parentNode.removeChild(e)}}var n5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},i5=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Su extends se{get elem(){return this.view.grid}get grid(){return this.options.grid}init(){this.startListening(),this.draw(this.grid)}startListening(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}stopListening(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}setVisible(t){this.grid.visible!==t&&(this.grid.visible=t,this.update())}getGridSize(){return this.grid.size}setGridSize(t){this.grid.size=Math.max(t,1),this.update()}show(){this.setVisible(!0),this.update()}hide(){this.setVisible(!1),this.update()}clear(){this.elem.style.backgroundImage=""}draw(t){this.clear(),this.instance=null,Object.assign(this.grid,t),this.patterns=this.resolveGrid(t),this.update()}update(t={}){const e=this.grid.size;if(e<=1||!this.grid.visible)return this.clear();const n=this.graph.matrix(),s=this.getInstance(),r=Array.isArray(t)?t:[t];this.patterns.forEach((l,c)=>{const h=`pattern_${c}`,f=n.a||1,d=n.d||1,{update:p,markup:y}=l,v=i5(l,["update","markup"]),x=Object.assign(Object.assign(Object.assign({},v),r[c]),{sx:f,sy:d,ox:n.e||0,oy:n.f||0,width:e*f,height:e*d});s.has(h)||s.add(h,mt.create("pattern",{id:h,patternUnits:"userSpaceOnUse"},mt.createVectors(y)).node);const w=s.get(h);typeof p=="function"&&p(w.childNodes[0],x);let M=x.ox%x.width;M<0&&(M+=x.width);let A=x.oy%x.height;A<0&&(A+=x.height),Zt(w,{x:M,y:A,width:x.width,height:x.height})});const o=new XMLSerializer().serializeToString(s.root),a=`url(data:image/svg+xml;base64,${btoa(o)})`;this.elem.style.backgroundImage=a}getInstance(){return this.instance||(this.instance=new Yi),this.instance}resolveGrid(t){if(!t)return[];const e=t.type;if(e==null)return[Object.assign(Object.assign({},Yi.presets.dot),t.args)];const n=Yi.registry.get(e);if(n){let s=t.args||[];return Array.isArray(s)||(s=[s]),Array.isArray(n)?n.map((r,o)=>Object.assign(Object.assign({},r),s[o])):[Object.assign(Object.assign({},n),s[0])]}return Yi.registry.onNotFound(e)}dispose(){this.stopListening(),this.clear()}}n5([se.dispose()],Su.prototype,"dispose",null);class am extends se{getClientMatrix(){return We(this.view.stage.getScreenCTM())}getClientOffset(){const t=this.view.svg.getBoundingClientRect();return new k(t.left,t.top)}getPageOffset(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}snapToGrid(t,e){return(typeof t=="number"?this.clientToLocalPoint(t,e):this.clientToLocalPoint(t.x,t.y)).snapToGrid(this.graph.getGridSize())}localToGraphPoint(t,e){const n=k.create(t,e);return Ei(n,this.graph.matrix())}localToClientPoint(t,e){const n=k.create(t,e);return Ei(n,this.getClientMatrix())}localToPagePoint(t,e){return(typeof t=="number"?this.localToGraphPoint(t,e):this.localToGraphPoint(t)).translate(this.getPageOffset())}localToGraphRect(t,e,n,s){const r=st.create(t,e,n,s);return kn(r,this.graph.matrix())}localToClientRect(t,e,n,s){const r=st.create(t,e,n,s);return kn(r,this.getClientMatrix())}localToPageRect(t,e,n,s){return(typeof t=="number"?this.localToGraphRect(t,e,n,s):this.localToGraphRect(t)).translate(this.getPageOffset())}graphToLocalPoint(t,e){const n=k.create(t,e);return Ei(n,this.graph.matrix().inverse())}clientToLocalPoint(t,e){const n=k.create(t,e);return Ei(n,this.getClientMatrix().inverse())}clientToGraphPoint(t,e){const n=k.create(t,e);return Ei(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalPoint(t,e){const s=k.create(t,e).diff(this.getPageOffset());return this.graphToLocalPoint(s)}graphToLocalRect(t,e,n,s){const r=st.create(t,e,n,s);return kn(r,this.graph.matrix().inverse())}clientToLocalRect(t,e,n,s){const r=st.create(t,e,n,s);return kn(r,this.getClientMatrix().inverse())}clientToGraphRect(t,e,n,s){const r=st.create(t,e,n,s);return kn(r,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}pageToLocalRect(t,e,n,s){const r=st.create(t,e,n,s),o=this.getPageOffset();return r.x-=o.x,r.y-=o.y,this.graphToLocalRect(r)}}var s5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Eu extends se{constructor(){super(...arguments);this.widget=this.graph.hook.createSnapline()}dispose(){this.widget.dispose()}}s5([se.dispose()],Eu.prototype,"dispose",null);var Bs;(function(i){function t(s){const r=[],o=[];return Array.isArray(s)?r.push(...s):s.split("|").forEach(a=>{a.indexOf("&")===-1?r.push(a):o.push(...a.split("&"))}),{or:r,and:o}}i.parse=t;function e(s,r){if(s!=null&&r!=null){const o=t(s),a=t(r),l=o.or.sort(),c=a.or.sort(),h=o.and.sort(),f=a.and.sort(),d=(p,y)=>p.length===y.length&&(p.length===0||p.every((v,x)=>v===y[x]));return d(l,c)&&d(h,f)}return s==null&&r==null}i.equals=e;function n(s,r,o){if(r==null||Array.isArray(r)&&r.length===0)return o?s.altKey!==!0&&s.ctrlKey!==!0&&s.metaKey!==!0&&s.shiftKey!==!0:!0;const{or:a,and:l}=t(r),c=h=>{const f=`${h.toLowerCase()}Key`;return s[f]===!0};return a.some(h=>c(h))&&l.every(h=>c(h))}i.isMatch=n})(Bs||(Bs={}));var r5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Au extends se{get widgetOptions(){return this.options.scroller}get pannable(){return this.widgetOptions?typeof this.widgetOptions.pannable=="object"?this.widgetOptions.pannable.enabled:!!this.widgetOptions.pannable:!1}init(){this.widget=this.graph.hook.createScroller(),this.startListening(),this.updateClassName(),this.widget&&this.widget.center()}startListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.widget.container).on("mousedown",this.onRightMouseDown))}stopListening(){let t=[];const e=this.widgetOptions.pannable;typeof e=="object"?t=e.eventTypes||[]:t=["leftMouseDown"],t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.widget.container).off("mousedown",this.onRightMouseDown)}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.widget&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}preparePanning({e:t}){this.widget&&(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&(this.updateClassName(!0),this.widget.startPanning(t),this.widget.once("pan:stop",()=>this.updateClassName(!1)))}allowPanning(t,e){return this.widget&&this.pannable&&Bs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}updateClassName(t){if(this.widget==null)return;const e=this.widget.container,n=this.view.prefixClassName("graph-scroller-pannable");this.pannable?(Jt(e,n),e.dataset.panning=(!!t).toString()):In(e,n)}enablePanning(){this.pannable||(this.widgetOptions.pannable=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.pannable=!1,this.updateClassName())}lock(){this.widget&&this.widget.lock()}unlock(){this.widget&&this.widget.unlock()}update(){this.widget&&this.widget.update()}enableAutoResize(){this.widget&&this.widget.enableAutoResize()}disableAutoResize(){this.widget&&this.widget.disableAutoResize()}resize(t,e){this.widget&&this.widget.resize(t,e)}dispose(){this.widget&&this.widget.dispose(),this.stopListening()}}r5([se.dispose()],Au.prototype,"dispose",null);var o5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},a5=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class Mu extends se{get commonOptions(){const t=this.instanceOptions;return a5(t,["enabled"])}get instanceOptions(){return this.options.clipboard}get cells(){return this.widget.cells}get disabled(){return this.instanceOptions.enabled!==!0}init(){this.widget=this.graph.hook.createClipboard(),this.widget.deserialize(this.instanceOptions)}enable(){this.disabled&&(this.instanceOptions.enabled=!0)}disable(){this.disabled||(this.instanceOptions.enabled=!1)}copy(t,e={}){this.disabled||this.widget.copy(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}cut(t,e={}){this.disabled||this.widget.cut(t,this.graph,Object.assign(Object.assign({},this.commonOptions),e))}paste(t={},e=this.graph){return this.disabled?[]:this.widget.paste(e,Object.assign(Object.assign({},this.commonOptions),t))}clean(t){(!this.disabled||t)&&this.widget.clean()}isEmpty(){return this.widget.isEmpty()}dispose(){this.clean(!0)}}o5([se.dispose()],Mu.prototype,"dispose",null);var l5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Rl extends se{constructor(){super(...arguments);this.highlights={}}init(){this.startListening()}startListening(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}stopListening(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}onCellHighlight({view:t,magnet:e,options:n={}}){const s=this.resolveHighlighter(n);if(!s)return;const r=this.getHighlighterId(e,s);if(!this.highlights[r]){const o=s.highlighter;o.highlight(t,e,Object.assign({},s.args)),this.highlights[r]={cellView:t,magnet:e,highlighter:o,args:s.args}}}onCellUnhighlight({magnet:t,options:e={}}){const n=this.resolveHighlighter(e);if(!n)return;const s=this.getHighlighterId(t,n);this.unhighlight(s)}resolveHighlighter(t){const e=this.options;let n=t.highlighter;if(n==null){const a=t.type;n=a&&e.highlighting[a]||e.highlighting.default}if(n==null)return null;const s=typeof n=="string"?{name:n}:n,r=s.name,o=Ai.registry.get(r);return o==null?Ai.registry.onNotFound(r):(Ai.check(r,o),{name:r,highlighter:o,args:s.args||{}})}getHighlighterId(t,e){return al(t),e.name+t.id+JSON.stringify(e.args)}unhighlight(t){const e=this.highlights[t];e&&(e.highlighter.unhighlight(e.cellView,e.magnet,e.args),delete this.highlights[t])}dispose(){Object.keys(this.highlights).forEach(t=>this.unhighlight(t)),this.stopListening()}}l5([Rl.dispose()],Rl.prototype,"dispose",null);var c5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Bl extends se{constructor(){super(...arguments);this.widgets=new Map}get container(){return this.graph.view.container}get viewport(){return this.graph.view.viewport}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening(),this.resize()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createTransform(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.dispose(),this.widgets.delete(t)}}getMatrix(){const t=this.viewport.getAttribute("transform");return t!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=t),We(this.viewportMatrix)}setMatrix(t){const e=We(t),n=Ns(e);this.viewport.setAttribute("transform",n),this.viewportMatrix=e,this.viewportTransformString=n}resize(t,e){let n=t===void 0?this.options.width:t,s=e===void 0?this.options.height:e;this.options.width=n,this.options.height=s,typeof n=="number"&&(n=Math.round(n)),typeof s=="number"&&(s=Math.round(s)),this.container.style.width=n==null?"":`${n}px`,this.container.style.height=s==null?"":`${s}px`;const r=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},r)),this}getComputedSize(){let t=this.options.width,e=this.options.height;return Qp(t)||(t=this.container.clientWidth),Qp(e)||(e=this.container.clientHeight),{width:t,height:e}}getScale(){return XT(this.getMatrix())}scale(t,e=t,n=0,s=0){if(t=this.clampScale(t),e=this.clampScale(e),n||s){const o=this.getTranslation(),a=o.tx-n*(t-1),l=o.ty-s*(e-1);(a!==o.tx||l!==o.ty)&&this.translate(a,l)}const r=this.getMatrix();return r.a=t,r.d=e,this.setMatrix(r),this.graph.trigger("scale",{sx:t,sy:e,ox:n,oy:s}),this}clampScale(t){const e=this.graph.options.scaling;return cn(t,e.min||.01,e.max||16)}getZoom(){return this.getScale().sx}zoom(t,e){e=e||{};let n=t,s=t;const r=this.getScale(),o=this.getComputedSize();let a=o.width/2,l=o.height/2;if(e.absolute||(n+=r.sx,s+=r.sy),e.scaleGrid&&(n=Math.round(n/e.scaleGrid)*e.scaleGrid,s=Math.round(s/e.scaleGrid)*e.scaleGrid),e.maxScale&&(n=Math.min(e.maxScale,n),s=Math.min(e.maxScale,s)),e.minScale&&(n=Math.max(e.minScale,n),s=Math.max(e.minScale,s)),e.center&&(a=e.center.x,l=e.center.y),n=this.clampScale(n),s=this.clampScale(s),a||l){const c=this.getTranslation(),h=a-(a-c.tx)*(n/r.sx),f=l-(l-c.ty)*(s/r.sy);(h!==c.tx||f!==c.ty)&&this.translate(h,f)}return this.scale(n,s),this}getRotation(){return YT(this.getMatrix())}rotate(t,e,n){if(e==null||n==null){const r=Xe(this.graph.view.stage);e=r.width/2,n=r.height/2}const s=this.getMatrix().translate(e,n).rotate(t).translate(-e,-n);return this.setMatrix(s),this}getTranslation(){return KT(this.getMatrix())}translate(t,e){const n=this.getMatrix();n.e=t||0,n.f=e||0,this.setMatrix(n);const s=this.getTranslation();return this.options.x=s.tx,this.options.y=s.ty,this.graph.trigger("translate",Object.assign({},s)),this}setOrigin(t,e){return this.translate(t||0,e||0)}fitToContent(t,e,n,s){if(typeof t=="object"){const A=t;t=A.gridWidth||1,e=A.gridHeight||1,n=A.padding||0,s=A}else t=t||1,e=e||1,n=n||0,s==null&&(s={});const r=mn(n),o=s.border||0,a=s.contentArea?st.create(s.contentArea):this.getContentArea(s);o>0&&a.inflate(o);const l=this.getScale(),c=this.getTranslation(),h=l.sx,f=l.sy;a.x*=h,a.y*=f,a.width*=h,a.height*=f;let d=Math.max(Math.ceil((a.width+a.x)/t),1)*t,p=Math.max(Math.ceil((a.height+a.y)/e),1)*e,y=0,v=0;(s.allowNewOrigin==="negative"&&a.x<0||s.allowNewOrigin==="positive"&&a.x>=0||s.allowNewOrigin==="any")&&(y=Math.ceil(-a.x/t)*t,y+=r.left,d+=y),(s.allowNewOrigin==="negative"&&a.y<0||s.allowNewOrigin==="positive"&&a.y>=0||s.allowNewOrigin==="any")&&(v=Math.ceil(-a.y/e)*e,v+=r.top,p+=v),d+=r.right,p+=r.bottom,d=Math.max(d,s.minWidth||0),p=Math.max(p,s.minHeight||0),d=Math.min(d,s.maxWidth||Number.MAX_SAFE_INTEGER),p=Math.min(p,s.maxHeight||Number.MAX_SAFE_INTEGER);const x=this.getComputedSize(),w=d!==x.width||p!==x.height;return(y!==c.tx||v!==c.ty)&&this.translate(y,v),w&&this.resize(d,p),new st(-y/h,-v/f,d/h,p/f)}scaleContentToFit(t={}){this.scaleContentToFitImpl(t)}scaleContentToFitImpl(t={},e=!0){let n,s;if(t.contentArea){const w=t.contentArea;n=this.graph.localToGraph(w),s=k.create(w)}else n=this.getContentBBox(t),s=this.graph.graphToLocal(n);if(!n.width||!n.height)return;const r=mn(t.padding),o=t.minScale||0,a=t.maxScale||Number.MAX_SAFE_INTEGER,l=t.minScaleX||o,c=t.maxScaleX||a,h=t.minScaleY||o,f=t.maxScaleY||a;let d;if(t.viewportArea)d=t.viewportArea;else{const w=this.getComputedSize(),M=this.getTranslation();d={x:M.tx,y:M.ty,width:w.width,height:w.height}}d=st.create(d).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const p=this.getScale();let y=d.width/n.width*p.sx,v=d.height/n.height*p.sy;t.preserveAspectRatio!==!1&&(y=v=Math.min(y,v));const x=t.scaleGrid;if(x&&(y=x*Math.floor(y/x),v=x*Math.floor(v/x)),y=cn(y,l,c),v=cn(v,h,f),this.scale(y,v),e){const w=this.options,M=d.x-s.x*y-w.x,A=d.y-s.y*v-w.y;this.translate(M,A)}}getContentArea(t={}){return t.useCellGeometry?this.model.getAllCellsBBox()||new st:Xe(this.graph.view.stage)}getContentBBox(t={}){return this.graph.localToGraph(this.getContentArea(t))}getGraphArea(){const t=st.fromSize(this.getComputedSize());return this.graph.graphToLocal(t)}zoomToRect(t,e={}){const n=st.create(t),s=this.graph;e.contentArea=n,e.viewportArea==null&&(e.viewportArea={x:s.options.x,y:s.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(e,!1);const r=n.getCenter();return this.centerPoint(r.x,r.y),this}zoomToFit(t={}){return this.zoomToRect(this.getContentArea(t),t)}centerPoint(t,e){const n=this.getComputedSize(),s=this.getScale(),r=this.getTranslation(),o=n.width/2,a=n.height/2;t=typeof t=="number"?t:o,e=typeof e=="number"?e:a,t=o-t*s.sx,e=a-e*s.sy,(r.tx!==t||r.ty!==e)&&this.translate(t,e)}centerContent(t){const n=this.graph.getContentArea(t).getCenter();this.centerPoint(n.x,n.y)}centerCell(t){return this.positionCell(t,"center")}positionPoint(t,e,n){const s=this.getComputedSize();e=oi(e,Math.max(0,s.width)),e<0&&(e=s.width+e),n=oi(n,Math.max(0,s.height)),n<0&&(n=s.height+n);const r=this.getTranslation(),o=this.getScale(),a=e-t.x*o.sx,l=n-t.y*o.sy;(r.tx!==a||r.ty!==l)&&this.translate(a,l)}positionRect(t,e){const n=st.create(t);switch(e){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}positionCell(t,e){const n=t.getBBox();return this.positionRect(n,e)}positionContent(t,e){const n=this.graph.getContentArea(e);return this.positionRect(n,t)}dispose(){this.widgets.forEach(t=>t.dispose()),this.widgets.clear(),this.stopListening()}}c5([Bl.dispose()],Bl.prototype,"dispose",null);var h5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Tu extends se{constructor(){super(...arguments);this.movedMap=new WeakMap,this.unselectMap=new WeakMap}get widgetOptions(){return this.options.selecting}get rubberbandDisabled(){return this.widgetOptions.enabled!==!0||this.widgetOptions.rubberband!==!0}get disabled(){return this.widgetOptions.enabled!==!0}get length(){return this.widget.length}get cells(){return this.widget.cells}init(){this.widget=this.graph.hook.createSelection(),this.startListening()}startListening(){this.graph.on("blank:mousedown",this.onBlankMouseDown,this),this.graph.on("blank:click",this.onBlankClick,this),this.graph.on("cell:mousemove",this.onCellMouseMove,this),this.graph.on("cell:mouseup",this.onCellMouseUp,this),this.widget.on("box:mousedown",this.onBoxMouseDown,this)}stopListening(){this.graph.off("blank:mousedown",this.onBlankMouseDown,this),this.graph.off("blank:click",this.onBlankClick,this),this.graph.off("cell:mousemove",this.onCellMouseMove,this),this.graph.off("cell:mouseup",this.onCellMouseUp,this),this.widget.off("box:mousedown",this.onBoxMouseDown,this)}onBlankMouseDown({e:t}){(this.allowRubberband(t,!0)||this.allowRubberband(t)&&!this.graph.scroller.allowPanning(t,!0)&&!this.graph.panning.allowPanning(t,!0))&&this.startRubberband(t)}onBlankClick(){this.clean()}allowRubberband(t,e){return!this.rubberbandDisabled&&Bs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowRubberband(t)}onCellMouseMove({cell:t}){this.movedMap.set(t,!0)}onCellMouseUp({e:t,cell:e}){const n=this.widgetOptions;let s=this.disabled;!s&&this.movedMap.has(e)&&(s=n.selectCellOnMoved===!1,s||(s=n.selectNodeOnMoved===!1&&e.isNode()),s||(s=n.selectEdgeOnMoved===!1&&e.isEdge())),s||(n.multiple===!1||!t.ctrlKey&&!t.metaKey?this.reset(e):this.unselectMap.has(e)?this.unselectMap.delete(e):this.isSelected(e)?this.unselect(e):this.select(e)),this.movedMap.delete(e)}onBoxMouseDown({e:t,cell:e}){this.disabled||this.widgetOptions.multiple!==!1&&(t.ctrlKey||t.metaKey)&&(this.unselect(e),this.unselectMap.set(e,!0))}isEmpty(){return this.length<=0}isSelected(t){return this.widget.isSelected(t)}getCells(t){return(Array.isArray(t)?t:[t]).map(e=>typeof e=="string"?this.graph.getCellById(e):e).filter(e=>e!=null)}select(t,e={}){const n=this.getCells(t);return n.length&&(this.isMultiple()?this.widget.select(n,e):this.reset(n.slice(0,1),e)),this}unselect(t,e={}){return this.widget.unselect(this.getCells(t),e),this}reset(t,e={}){return this.widget.reset(t?this.getCells(t):[],e),this}clean(t={}){return this.widget.clean(t),this}enable(){return this.disabled&&(this.widgetOptions.enabled=!0),this}disable(){return this.disabled||(this.widgetOptions.enabled=!1),this}startRubberband(t){return this.rubberbandDisabled||this.widget.startSelecting(t),this}enableRubberband(){return this.rubberbandDisabled&&(this.widgetOptions.rubberband=!0),this}disableRubberband(){return this.rubberbandDisabled||(this.widgetOptions.rubberband=!1),this}isMultiple(){return this.widgetOptions.multiple!==!1}enableMultiple(){return this.widgetOptions.multiple=!0,this}disableMultiple(){return this.widgetOptions.multiple=!1,this}setModifiers(t){return this.widgetOptions.modifiers=t,this}setContent(t){return this.widget.setContent(t),this}setFilter(t){return this.widget.setFilter(t),this}dispose(){this.stopListening(),this.widget.dispose()}}h5([se.dispose()],Tu.prototype,"dispose",null);var lm=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},u5=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e};class _s extends tn{constructor(t){super();this.batchCommands=null,this.batchLevel=0,this.lastBatchIndex=-1,this.freezed=!1,this.handlers=[],this.graph=t.graph,this.model=t.graph.model,this.options=De.getOptions(t),this.validator=new _s.Validator({history:this,cancelInvalid:this.options.cancelInvalid}),this.clean(),this.startListening()}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0)}disable(){this.disabled||(this.options.enabled=!1)}undo(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack.push(e),this.notify("undo",e,t))}return this}redo(t={}){if(!this.disabled){const e=this.redoStack.pop();e&&(this.applyCommand(e,t),this.undoStack.push(e),this.notify("redo",e,t))}return this}cancel(t={}){if(!this.disabled){const e=this.undoStack.pop();e&&(this.revertCommand(e,t),this.redoStack=[],this.notify("cancel",e,t))}return this}clean(t={}){return this.undoStack=[],this.redoStack=[],this.notify("clean",null,t),this}canUndo(){return!this.disabled&&this.undoStack.length>0}canRedo(){return!this.disabled&&this.redoStack.length>0}validate(t,...e){return this.validator.validate(t,...e),this}dispose(){this.validator.dispose(),this.clean(),this.stopListening()}startListening(){this.model.on("batch:start",this.initBatchCommand,this),this.model.on("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&this.options.eventNames.forEach((t,e)=>{this.handlers[e]=this.addCommand.bind(this,t),this.model.on(t,this.handlers[e])}),this.validator.on("invalid",t=>this.trigger("invalid",t))}stopListening(){this.model.off("batch:start",this.initBatchCommand,this),this.model.off("batch:stop",this.storeBatchCommand,this),this.options.eventNames&&(this.options.eventNames.forEach((t,e)=>{this.model.off(t,this.handlers[e])}),this.handlers.length=0),this.validator.off("invalid")}createCommand(t){return{batch:t?t.batch:!1,data:{}}}revertCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?De.sortBatchCommands(t):[t];for(let s=n.length-1;s>=0;s-=1){const r=n[s],o=Object.assign(Object.assign({},e),t2(r.options,this.options.revertOptionsList||[]));this.executeCommand(r,!0,o)}this.freezed=!1}applyCommand(t,e){this.freezed=!0;const n=Array.isArray(t)?De.sortBatchCommands(t):[t];for(let s=0;s<n.length;s+=1){const r=n[s],o=Object.assign(Object.assign({},e),t2(r.options,this.options.applyOptionsList||[]));this.executeCommand(r,!1,o)}this.freezed=!1}executeCommand(t,e,n){const s=this.model,r=s.getCell(t.data.id),o=t.event;if(De.isAddEvent(o)&&e||De.isRemoveEvent(o)&&!e)r.remove(n);else if(De.isAddEvent(o)&&!e||De.isRemoveEvent(o)&&e){const a=t.data;a.node?s.addNode(a.props,n):a.edge&&s.addEdge(a.props,n)}else if(De.isChangeEvent(o)){const a=t.data,l=a.key;if(l){const c=e?a.prev[l]:a.next[l];r.prop(l,c,n)}}else{const a=this.options.executeCommand;a&&dt(a,this,t,e,n)}}addCommand(t,e){if(this.freezed||this.disabled)return;const n=e,s=n.options||{};if(s.dryrun||De.isAddEvent(t)&&this.options.ignoreAdd||De.isRemoveEvent(t)&&this.options.ignoreRemove||De.isChangeEvent(t)&&this.options.ignoreChange)return;const r=this.options.beforeAddCommand;if(r!=null&&dt(r,this,t,e)===!1)return;t==="cell:change:*"&&(t=`cell:change:${n.key}`);const o=n.cell,a=en.isModel(o);let l;if(this.batchCommands){l=this.batchCommands[Math.max(this.lastBatchIndex,0)];const h=a&&!l.modelChange||l.data.id!==o.id,f=l.event!==t;if(this.lastBatchIndex>=0&&(h||f)){const d=this.batchCommands.findIndex(p=>(a&&p.modelChange||p.data.id===o.id)&&p.event===t);d<0||De.isAddEvent(t)||De.isRemoveEvent(t)?l=this.createCommand({batch:!0}):(l=this.batchCommands[d],this.batchCommands.splice(d,1)),this.batchCommands.push(l),this.lastBatchIndex=this.batchCommands.length-1}}else l=this.createCommand({batch:!1});if(De.isAddEvent(t)||De.isRemoveEvent(t)){const h=l.data;return l.event=t,l.options=s,h.id=o.id,h.props=Te(o.toJSON()),o.isEdge()?h.edge=!0:o.isNode()&&(h.node=!0),this.push(l,s)}if(De.isChangeEvent(t)){const h=e.key,f=l.data;return(!l.batch||!l.event)&&(l.event=t,l.options=s,f.key=h,f.prev==null&&(f.prev={}),f.prev[h]=Po(o.previous(h)),a?l.modelChange=!0:f.id=o.id),f.next==null&&(f.next={}),f.next[h]=Po(o.prop(h)),this.push(l,s)}const c=this.options.afterAddCommand;c&&dt(c,this,t,e,l),this.push(l,s)}initBatchCommand(t){this.freezed||(this.batchCommands?this.batchLevel+=1:(this.batchCommands=[this.createCommand({batch:!0})],this.batchLevel=0,this.lastBatchIndex=-1))}storeBatchCommand(t){if(!this.freezed)if(this.batchCommands&&this.batchLevel<=0){const e=this.filterBatchCommand(this.batchCommands);e.length>0&&(this.redoStack=[],this.undoStack.push(e),this.notify("add",e,t)),this.batchCommands=null,this.lastBatchIndex=-1,this.batchLevel=0}else this.batchCommands&&this.batchLevel>0&&(this.batchLevel-=1)}filterBatchCommand(t){let e=t.slice();const n=[];for(;e.length>0;){const s=e.shift(),r=s.event,o=s.data.id;if(r!=null&&(o!=null||s.modelChange)){if(De.isAddEvent(r)){const a=e.findIndex(l=>De.isRemoveEvent(l.event)&&l.data.id===o);if(a>=0){e=e.filter((l,c)=>a<c||l.data.id!==o);continue}}else if(De.isRemoveEvent(r)){const a=e.findIndex(l=>De.isAddEvent(l.event)&&l.data.id===o);if(a>=0){e.splice(a,1);continue}}else if(De.isChangeEvent(r)){const a=s.data;if(ri(a.prev,a.next))continue}n.push(s)}}return n}notify(t,e,n){const s=e==null?null:Array.isArray(e)?e:[e];this.emit(t,{cmds:s,options:n}),this.emit("change",{cmds:s,options:n})}push(t,e){this.redoStack=[],t.batch?(this.lastBatchIndex=Math.max(this.lastBatchIndex,0),this.emit("batch",{cmd:t,options:e})):(this.undoStack.push(t),this.notify("add",t,e))}}lm([tn.dispose()],_s.prototype,"dispose",null);(function(i){class t extends tn{constructor(n){super();this.map={},this.command=n.history,this.cancelInvalid=n.cancelInvalid!==!1,this.command.on("add",this.onCommandAdded,this)}onCommandAdded({cmds:n}){return Array.isArray(n)?n.every(s=>this.isValidCommand(s)):this.isValidCommand(n)}isValidCommand(n){if(n.options&&n.options.validation===!1)return!0;const s=n.event&&this.map[n.event]||[];let r=null;return s.forEach(o=>{let a=0;const l=c=>{const h=o[a];a+=1;try{if(h)h(c,n,l);else{r=c;return}}catch(f){l(f)}};l(r)}),r?(this.cancelInvalid&&this.command.cancel(),this.emit("invalid",{err:r}),!1):!0}validate(n,...s){const r=Array.isArray(n)?n:n.split(/\s+/);return s.forEach(o=>{if(typeof o!="function")throw new Error(`${r.join(" ")} requires callback functions.`)}),r.forEach(o=>{this.map[o]==null&&(this.map[o]=[]),this.map[o].push(s)}),this}dispose(){this.command.off("add",this.onCommandAdded,this)}}lm([tn.dispose()],t.prototype,"dispose",null),i.Validator=t})(_s||(_s={}));var De;(function(i){function t(o){return o==="cell:added"}i.isAddEvent=t;function e(o){return o==="cell:removed"}i.isRemoveEvent=e;function n(o){return o!=null&&o.startsWith("cell:change:")}i.isChangeEvent=n;function s(o){const a=u5(o,["graph"]),l=["cell:added","cell:removed","cell:change:*"],c=["batch:start","batch:stop"],h=o.eventNames?o.eventNames.filter(f=>!(i.isChangeEvent(f)||l.includes(f)||c.includes(f))):l;return Object.assign(Object.assign({},a),{eventNames:h,applyOptionsList:o.applyOptionsList||["propertyPath"],revertOptionsList:o.revertOptionsList||["propertyPath"]})}i.getOptions=s;function r(o){const a=[];for(let l=0,c=o.length;l<c;l+=1){const h=o[l];let f=null;if(i.isAddEvent(h.event)){const d=h.data.id;for(let p=0;p<l;p+=1)if(o[p].data.id===d){f=p;break}}f!==null?a.splice(f,0,h):a.push(h)}return a}i.sortBatchCommands=r})(De||(De={}));var f5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Ou extends se{get widgetOptions(){return this.options.minimap}init(){this.widget=this.graph.hook.createMiniMap()}dispose(){this.widget&&this.widget.dispose()}}f5([se.dispose()],Ou.prototype,"dispose",null);var cm={exports:{}};(function(i){(function(t,e,n){if(!t)return;for(var s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,c=1;c<20;++c)s[111+c]="f"+c;for(c=0;c<=9;++c)s[c+96]=c.toString();function h(P,$,V){if(P.addEventListener){P.addEventListener($,V,!1);return}P.attachEvent("on"+$,V)}function f(P){if(P.type=="keypress"){var $=String.fromCharCode(P.which);return P.shiftKey||($=$.toLowerCase()),$}return s[P.which]?s[P.which]:r[P.which]?r[P.which]:String.fromCharCode(P.which).toLowerCase()}function d(P,$){return P.sort().join(",")===$.sort().join(",")}function p(P){var $=[];return P.shiftKey&&$.push("shift"),P.altKey&&$.push("alt"),P.ctrlKey&&$.push("ctrl"),P.metaKey&&$.push("meta"),$}function y(P){if(P.preventDefault){P.preventDefault();return}P.returnValue=!1}function v(P){if(P.stopPropagation){P.stopPropagation();return}P.cancelBubble=!0}function x(P){return P=="shift"||P=="ctrl"||P=="alt"||P=="meta"}function w(){if(!l){l={};for(var P in s)P>95&&P<112||s.hasOwnProperty(P)&&(l[s[P]]=P)}return l}function M(P,$,V){return V||(V=w()[P]?"keydown":"keypress"),V=="keypress"&&$.length&&(V="keydown"),V}function A(P){return P==="+"?["+"]:(P=P.replace(/\+{2}/g,"+plus"),P.split("+"))}function D(P,$){var V,G,X,H=[];for(V=A(P),X=0;X<V.length;++X)G=V[X],a[G]&&(G=a[G]),$&&$!="keypress"&&o[G]&&(G=o[G],H.push("shift")),x(G)&&H.push(G);return $=M(G,H,$),{key:G,modifiers:H,action:$}}function N(P,$){return P===null||P===e?!1:P===$?!0:N(P.parentNode,$)}function m(P){var $=this;if(P=P||e,!($ instanceof m))return new m(P);$.target=P,$._callbacks={},$._directMap={};var V={},G,X=!1,H=!1,ft=!1;function yt(ht){ht=ht||{};var jt=!1,$t;for($t in V){if(ht[$t]){jt=!0;continue}V[$t]=0}jt||(ft=!1)}function U(ht,jt,$t,Nt,Kt,Ae){var Dt,le,ke=[],Se=$t.type;if(!$._callbacks[ht])return[];for(Se=="keyup"&&x(ht)&&(jt=[ht]),Dt=0;Dt<$._callbacks[ht].length;++Dt)if(le=$._callbacks[ht][Dt],!(!Nt&&le.seq&&V[le.seq]!=le.level)&&Se==le.action&&(Se=="keypress"&&!$t.metaKey&&!$t.ctrlKey||d(jt,le.modifiers))){var is=!Nt&&le.combo==Kt,ss=Nt&&le.seq==Nt&&le.level==Ae;(is||ss)&&$._callbacks[ht].splice(Dt,1),ke.push(le)}return ke}function K(ht,jt,$t,Nt){$.stopCallback(jt,jt.target||jt.srcElement,$t,Nt)||ht(jt,$t)===!1&&(y(jt),v(jt))}$._handleKey=function(ht,jt,$t){var Nt=U(ht,jt,$t),Kt,Ae={},Dt=0,le=!1;for(Kt=0;Kt<Nt.length;++Kt)Nt[Kt].seq&&(Dt=Math.max(Dt,Nt[Kt].level));for(Kt=0;Kt<Nt.length;++Kt){if(Nt[Kt].seq){if(Nt[Kt].level!=Dt)continue;le=!0,Ae[Nt[Kt].seq]=1,K(Nt[Kt].callback,$t,Nt[Kt].combo,Nt[Kt].seq);continue}le||K(Nt[Kt].callback,$t,Nt[Kt].combo)}var ke=$t.type=="keypress"&&H;$t.type==ft&&!x(ht)&&!ke&&yt(Ae),H=le&&$t.type=="keydown"};function ot(ht){typeof ht.which!="number"&&(ht.which=ht.keyCode);var jt=f(ht);if(!!jt){if(ht.type=="keyup"&&X===jt){X=!1;return}$.handleKey(jt,p(ht),ht)}}function vt(){clearTimeout(G),G=setTimeout(yt,1e3)}function It(ht,jt,$t,Nt){V[ht]=0;function Kt(Se){return function(){ft=Se,++V[ht],vt()}}function Ae(Se){K($t,Se,ht),Nt!=="keyup"&&(X=f(Se)),setTimeout(yt,10)}for(var Dt=0;Dt<jt.length;++Dt){var le=Dt+1===jt.length,ke=le?Ae:Kt(Nt||D(jt[Dt+1]).action);ie(jt[Dt],ke,Nt,ht,Dt)}}function ie(ht,jt,$t,Nt,Kt){$._directMap[ht+":"+$t]=jt,ht=ht.replace(/\s+/g," ");var Ae=ht.split(" "),Dt;if(Ae.length>1){It(ht,Ae,jt,$t);return}Dt=D(ht,$t),$._callbacks[Dt.key]=$._callbacks[Dt.key]||[],U(Dt.key,Dt.modifiers,{type:Dt.action},Nt,ht,Kt),$._callbacks[Dt.key][Nt?"unshift":"push"]({callback:jt,modifiers:Dt.modifiers,action:Dt.action,seq:Nt,level:Kt,combo:ht})}$._bindMultiple=function(ht,jt,$t){for(var Nt=0;Nt<ht.length;++Nt)ie(ht[Nt],jt,$t)},h(P,"keypress",ot),h(P,"keydown",ot),h(P,"keyup",ot)}m.prototype.bind=function(P,$,V){var G=this;return P=P instanceof Array?P:[P],G._bindMultiple.call(G,P,$,V),G},m.prototype.unbind=function(P,$){var V=this;return V.bind.call(V,P,function(){},$)},m.prototype.trigger=function(P,$){var V=this;return V._directMap[P+":"+$]&&V._directMap[P+":"+$]({},P),V},m.prototype.reset=function(){var P=this;return P._callbacks={},P._directMap={},P},m.prototype.stopCallback=function(P,$){var V=this;if((" "+$.className+" ").indexOf(" mousetrap ")>-1||N($,V.target))return!1;if("composedPath"in P&&typeof P.composedPath=="function"){var G=P.composedPath()[0];G!==P.target&&($=G)}return $.tagName=="INPUT"||$.tagName=="SELECT"||$.tagName=="TEXTAREA"||$.isContentEditable},m.prototype.handleKey=function(){var P=this;return P._handleKey.apply(P,arguments)},m.addKeycodes=function(P){for(var $ in P)P.hasOwnProperty($)&&(s[$]=P[$]);l=null},m.init=function(){var P=m(e);for(var $ in P)$.charAt(0)!=="_"&&(m[$]=function(V){return function(){return P[V].apply(P,arguments)}}($))},m.init(),t.Mousetrap=m,i.exports&&(i.exports=m),typeof n=="function"&&n.amd&&n(function(){return m})})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)})(cm);var d5=cm.exports,g5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Vs extends Jn{constructor(t){super();this.options=t;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,t.global?this.target=document:(this.target=this.container,this.disabled||this.target.setAttribute("tabindex","-1"),this.graph.on("cell:mouseup",this.focus,this),this.graph.on("blank:mouseup",this.focus,this)),this.mousetrap=Vs.createMousetrap(this)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(){this.disabled&&(this.options.enabled=!0,this.graph.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&this.target.setAttribute("tabindex","-1"))}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}on(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}off(t,e){this.mousetrap.unbind(this.getKeys(t),e)}focus(){this.target.focus({preventScroll:!0})}getKeys(t){return(Array.isArray(t)?t:[t]).map(e=>this.formatkey(e))}formatkey(t){const e=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command"),n=this.options.format;return n?dt(n,this.graph,e):e}isGraphEvent(t){const e=t.srcElement||t.target;return e?e===this.target||e===document.body?!0:Wh(this.container,e):!1}isEnabledForEvent(t){const e=!this.disabled&&this.isGraphEvent(t);if(e){const n=t.target,s=n&&n.tagName.toLowerCase(),r=t.keyCode||t.which;if(s==="input"&&(r===8||r===46))return!1;if(this.options.guard)return dt(this.options.guard,this.graph,t)}return e}dispose(){this.mousetrap.reset()}}g5([Jn.dispose()],Vs.prototype,"dispose",null);(function(i){function t(e){const n=new d5(e.target),s=n.stopCallback;return n.stopCallback=(r,o,a)=>e.isEnabledForEvent(r)?s?s.call(n,r,o,a):!1:!0,n}i.createMousetrap=t})(Vs||(Vs={}));var p5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Pu extends Jn{constructor(t){super();this.options=t,this.cumulatedFactor=1;const e=this.graph.scroller.widget;this.container=e?e.container:this.graph.container,this.target=this.options.global?document:this.container,this.mousewheelHandle=new G2(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.options.enabled&&this.enable(!0)}get graph(){return this.options.graph}get disabled(){return this.options.enabled!==!0}enable(t){(this.disabled||t)&&(this.options.enabled=!0,this.graph.options.mousewheel.enabled=!0,this.mousewheelHandle.enable())}disable(){this.disabled||(this.options.enabled=!1,this.graph.options.mousewheel.enabled=!1,this.mousewheelHandle.disable())}allowMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;return(n==null||n.call(this.graph,e))&&Bs.isMatch(e,this.options.modifiers)}onMouseWheel(t){const e=t.originalEvent||t,n=this.options.guard;if((n==null||n.call(this.graph,e))&&Bs.isMatch(e,this.options.modifiers)){const s=this.options.factor||1.2;this.currentScale==null&&(this.startPos={x:t.clientX,y:t.clientY},this.currentScale=this.graph.scroller.widget?this.graph.scroller.widget.zoom():this.graph.transform.getScale().sx),t.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*s*20)/20/this.currentScale:this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:this.cumulatedFactor=Math.round(this.currentScale*(1/s)*20)/20/this.currentScale,this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);const o=this.graph.scroller.widget,a=this.currentScale;let l=this.graph.transform.clampScale(a*this.cumulatedFactor);const c=this.options.minScale||Number.MIN_SAFE_INTEGER,h=this.options.maxScale||Number.MAX_SAFE_INTEGER;if(l=cn(l,c,h),l!==a)if(o)if(this.options.zoomAtMousePosition){const f=this.graph.coord.clientToLocalPoint(this.startPos);o.zoom(l,{absolute:!0,center:f.clone()})}else o.zoom(l,{absolute:!0});else if(this.options.zoomAtMousePosition){const f=this.graph.coord.clientToGraphPoint(this.startPos);this.graph.zoom(l,{absolute:!0,center:f.clone()})}else this.graph.zoom(l,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}dispose(){this.disable()}}p5([Jn.dispose()],Pu.prototype,"dispose",null);var m5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Hs extends se{show(t={}){const e=Object.assign(Object.assign({},Hs.defaultOptions),t),n=this.createPrintPages(e);e.ready(n,s=>this.showPrintWindow(s,e),{sheetSize:this.getSheetSize(e)})}get className(){return this.view.prefixClassName("graph-print")}showPrintWindow(t,e){if(t){const n=Ne(document.body),s=Ne(this.view.container),r=this.view.prefixClassName("graph-printing");n.addClass(r);const o=s.children().detach();t.forEach(c=>{c.removeClass(`${this.className}-preview`).addClass(`${this.className}-ready`).appendTo(n)});let a=!1;const l=()=>{a||(a=!0,n.removeClass(r),t.forEach(c=>c.remove()),s.append(o),Ne(`#${this.styleSheetId}`).remove(),this.graph.trigger("after:print",e),Ne(window).off("afterprint",l))};Ne(window).one("afterprint",l),setTimeout(l,200),window.print()}}createPrintPage(t,e){this.graph.trigger("before:print",e);const n=Ne("<div/>").addClass(this.className),s=Ne("<div/>").addClass(this.view.prefixClassName("graph-print-inner")).css("position","relative");e.size&&n.addClass(`${this.className}-size-${e.size}`);const r=mt.create(this.view.svg).clone(),o=r.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`);s.append(r.node);const a=this.getSheetSize(e),l=this.graph.transform.getGraphArea(),c=this.graph.transform.getScale(),h=this.graph.translate(),f=We().translate(h.tx/c.sx,h.ty/c.sy),d=this.getPageInfo(l,t,a),p=d.scale,y=d.bbox;return s.css({left:0,top:0}),r.attr({width:y.width*p,height:y.height*p,style:"position:relative",viewBox:[y.x,y.y,y.width,y.height].join(" ")}),o.attr("transform",Ns(f)),n.append(s),n.addClass(`${this.className}-preview`),{$page:n,sheetSize:a}}createPrintPages(t){let e;const n=this.getPrintArea(t),s=[];if(t.page){const r=this.getPageSize(n,t.page);this.getPageAreas(n,r).forEach(a=>{e=this.createPrintPage(a,t),s.push(e.$page)})}else e=this.createPrintPage(n,t),s.push(e.$page);if(e){const r={width:e.sheetSize.cssWidth,height:e.sheetSize.cssHeight};this.updatePrintStyle(r,t)}return s}get styleSheetId(){return this.view.prefixClassName("graph-print-style")}updatePrintStyle(t,e){const n=Object.keys(t).reduce((h,f)=>`${h} ${f}:${t[f]};`,""),s=mn(e.margin),r=e.marginUnit||"",o=e.sheetUnit||"",a=`
      @media print {
        .${this.className}.${this.className}-ready {
          ${n}
        }

        @page {
          margin:
          ${[s.top+r,s.right+r,s.bottom+r,s.left+r].join(" ")};
          size: ${e.sheet.width+o} ${e.sheet.height+o};

        .${this.className}.${this.className}-preview {
          ${n}
        }
      }`,l=this.styleSheetId,c=Ne(`#${l}`);c.length?c.html(a):Ne("head").append(`'<style type="text/css" id="${l}">${a}</style>'`)}getPrintArea(t){let e=t.area;if(!e){const n=mn(t.padding);e=this.graph.getContentArea().moveAndExpand({x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom})}return e}getPageSize(t,e){if(typeof e=="object"){const n=e,s={width:n.width,height:n.height};return s.width==null&&(s.width=Math.ceil(t.width/(n.columns||1))),s.height==null&&(s.height=Math.ceil(t.height/(n.rows||1))),s}return{width:t.width,height:t.height}}getPageAreas(t,e){const n=[],s=e.width,r=e.height;for(let o=0,a=0;o<t.height&&a<200;o+=r,a+=1)for(let l=0,c=0;l<t.width&&c<200;l+=s,c+=1)n.push(new st(t.x+l,t.y+o,s,r));return n}getSheetSize(t){const e=t.sheet,n=mn(t.margin),s=t.marginUnit||"",r=t.sheetUnit||"",o=`calc(${e.width}${r} - ${n.left+n.right}${s})`,a=`calc(${e.height}${r} - ${n.top+n.bottom}${s})`,l=tu.measure(o,a);return{cssWidth:o,cssHeight:a,width:l.width,height:l.height}}getPageInfo(t,e,n){const s=new st(e.x-t.x,e.y-t.y,e.width,e.height),r=s.width/s.height,o=n.width/n.height;return{bbox:s,scale:o<r?n.width/s.width:n.height/s.height,fitHorizontal:o<r}}dispose(){}}m5([se.dispose()],Hs.prototype,"dispose",null);(function(i){i.defaultOptions={page:!1,sheet:{width:210,height:297},sheetUnit:"mm",margin:.4,marginUnit:"in",padding:5,ready:(t,e)=>e(t)}})(Hs||(Hs={}));class hm extends se{toSVG(t,e={}){this.graph.trigger("before:export",e);const n=this.view.svg,s=mt.create(n).clone();let r=s.node;const o=s.findOne(`.${this.view.prefixClassName("graph-svg-stage")}`),a=e.viewBox||this.graph.graphToLocal(this.graph.getContentBBox()),l=e.preserveDimensions;if(l){const f=typeof l=="boolean"?a:l;s.attr({width:f.width,height:f.height})}if(s.removeAttribute("style").attr("viewBox",[a.x,a.y,a.width,a.height].join(" ")),o.removeAttribute("transform"),e.copyStyles!==!1){const f=n.ownerDocument,d=Array.from(n.querySelectorAll("*")),p=Array.from(r.querySelectorAll("*")),y=f.styleSheets.length,v=[];for(let M=y-1;M>=0;M-=1)v[M]=f.styleSheets[M],f.styleSheets[M].disabled=!0;const x={};d.forEach((M,A)=>{const D=window.getComputedStyle(M,null),N={};Object.keys(D).forEach(m=>{N[m]=D.getPropertyValue(m)}),x[A]=N}),y!==f.styleSheets.length&&v.forEach((M,A)=>{f.styleSheets[A]=M});for(let M=0;M<y;M+=1)f.styleSheets[M].disabled=!1;const w={};d.forEach((M,A)=>{const D=window.getComputedStyle(M,null),N=x[A],m={};Object.keys(D).forEach(P=>{D.getPropertyValue(P)!==N[P]&&(m[P]=D.getPropertyValue(P))}),w[A]=m}),p.forEach((M,A)=>{Ne(M).css(w[A])})}const c=e.stylesheet;if(typeof c=="string"){const f=n.ownerDocument.implementation.createDocument(null,"xml",null).createCDATASection(c);s.prepend(mt.create("style",{type:"text/css"},[f]))}const h=()=>{const f=e.beforeSerialize;if(typeof f=="function"){const p=dt(f,this.graph,r);p instanceof SVGSVGElement&&(r=p)}const d=new XMLSerializer().serializeToString(r).replace(/&nbsp;/g,"\xA0");this.graph.trigger("after:export",e),t(d)};if(e.serializeImages){const f=s.find("image").map(d=>new Promise(p=>{const y=d.attr("xlink:href")||d.attr("href");Qh.imageToDataUri(y,(v,x)=>{!v&&x&&d.attr("xlink:href",x),p()})}));Promise.all(f).then(h)}else h()}toDataURL(t,e){let n=e.viewBox||this.graph.getContentBBox();const s=mn(e.padding);e.width&&e.height&&(s.left+s.right>=e.width&&(s.left=s.right=0),s.top+s.bottom>=e.height&&(s.top=s.bottom=0));const r=new st(-s.left,-s.top,s.left+s.right,s.top+s.bottom);if(e.width&&e.height){const h=n.width+s.left+s.right,f=n.height+s.top+s.bottom;r.scale(h/e.width,f/e.height)}n=st.create(n).moveAndExpand(r);const o=typeof e.width=="number"&&typeof e.height=="number"?{width:e.width,height:e.height}:n;let a=e.ratio?parseFloat(e.ratio):1;(!Number.isFinite(a)||a===0)&&(a=1);const l={width:Math.max(Math.round(o.width*a),1),height:Math.max(Math.round(o.height*a),1)};{const h=document.createElement("canvas"),f=h.getContext("2d");h.width=l.width,h.height=l.height;const d=l.width-1,p=l.height-1;f.fillStyle="rgb(1,1,1)",f.fillRect(d,p,1,1);const y=f.getImageData(d,p,1,1).data;if(y[0]!==1||y[1]!==1||y[2]!==1)throw new Error("size exceeded")}const c=new Image;c.onload=()=>{const h=document.createElement("canvas");h.width=l.width,h.height=l.height;const f=h.getContext("2d");f.fillStyle=e.backgroundColor||"white",f.fillRect(0,0,l.width,l.height);try{f.drawImage(c,0,0,l.width,l.height);const d=h.toDataURL(e.type,e.quality);t(d)}catch{}},this.toSVG(h=>{c.src=`data:image/svg+xml,${encodeURIComponent(h)}`},Object.assign(Object.assign({},e),{viewBox:n,serializeImages:!0,preserveDimensions:Object.assign({},l)}))}toPNG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/png"}))}toJPEG(t,e={}){this.toDataURL(t,Object.assign(Object.assign({},e),{type:"image/jpeg"}))}}class b5 extends se{constructor(){super(...arguments);this.widgets=new Map}get isSelectionEnabled(){return this.options.selecting.enabled===!0}init(){this.startListening()}startListening(){this.graph.on("node:mouseup",this.onNodeMouseUp,this),this.graph.on("node:selected",this.onNodeSelected,this),this.graph.on("node:unselected",this.onNodeUnSelected,this)}stopListening(){this.graph.off("node:mouseup",this.onNodeMouseUp,this),this.graph.off("node:selected",this.onNodeSelected,this),this.graph.off("node:unselected",this.onNodeUnSelected,this)}onNodeMouseUp({node:t}){if(!this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!0});e&&this.widgets.set(t,e)}}onNodeSelected({node:t}){if(this.isSelectionEnabled){const e=this.graph.hook.createKnob(t,{clearAll:!1});e&&this.widgets.set(t,e)}}onNodeUnSelected({node:t}){if(this.isSelectionEnabled){const e=this.widgets.get(t);e&&e.forEach(n=>n.dispose()),this.widgets.delete(t)}}}var y5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class um extends se{get widgetOptions(){return this.options.panning}get pannable(){return this.widgetOptions&&this.widgetOptions.enabled===!0}init(){this.startListening(),this.updateClassName()}startListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.on("blank:mousedown",this.preparePanning,this),this.graph.on("node:unhandled:mousedown",this.preparePanning,this),this.graph.on("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&(this.onRightMouseDown=this.onRightMouseDown.bind(this),this.view.$(this.graph.container).on("mousedown",this.onRightMouseDown)),t.includes("mouseWheel")&&(this.mousewheelHandle=new G2(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()))}stopListening(){const t=this.widgetOptions.eventTypes;!t||(t.includes("leftMouseDown")&&(this.graph.off("blank:mousedown",this.preparePanning,this),this.graph.off("node:unhandled:mousedown",this.preparePanning,this),this.graph.off("edge:unhandled:mousedown",this.preparePanning,this)),t.includes("rightMouseDown")&&this.view.$(this.graph.container).off("mousedown",this.onRightMouseDown),t.includes("mouseWheel")&&this.mousewheelHandle&&this.mousewheelHandle.disable())}preparePanning({e:t}){(this.allowPanning(t,!0)||this.allowPanning(t)&&!this.graph.selection.allowRubberband(t,!0))&&this.startPanning(t)}allowPanning(t,e){return this.pannable&&Bs.isMatch(t,this.widgetOptions.modifiers,e)&&this.graph.hook.allowPanning(t)}startPanning(t){const e=this.view.normalizeEvent(t);this.clientX=e.clientX,this.clientY=e.clientY,this.panning=!0,this.updateClassName(),this.view.$(document.body).on({"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this)}),this.view.$(window).on("mouseup.panning",this.stopPanning.bind(this))}pan(t){const e=this.view.normalizeEvent(t),n=e.clientX-this.clientX,s=e.clientY-this.clientY;this.clientX=e.clientX,this.clientY=e.clientY,this.graph.translateBy(n,s)}stopPanning(t){this.panning=!1,this.updateClassName(),this.view.$(document.body).off(".panning"),this.view.$(window).off(".panning")}updateClassName(){const t=this.view.container,e=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(Jt(t,e),In(t,n)):(In(t,e),Jt(t,n)):(In(t,e),In(t,n))}onRightMouseDown(t){t.button===2&&this.allowPanning(t,!0)&&this.startPanning(t)}allowMouseWheel(t){return this.pannable&&!t.ctrlKey}onMouseWheel(t,e,n){t.ctrlKey||this.graph.translateBy(-e,-n)}autoPanning(t,e){const n=10,s=this.graph.getGraphArea();let r=0,o=0;t<=s.left+n&&(r=-n),e<=s.top+n&&(o=-n),t>=s.right-n&&(r=n),e>=s.bottom-n&&(o=n),(r!==0||o!==0)&&this.graph.translateBy(-r,-o)}enablePanning(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}disablePanning(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}dispose(){this.stopListening()}}y5([se.dispose()],um.prototype,"dispose",null);var C5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class fm extends se{hasScroller(){return this.graph.scroller.widget!=null}getContainer(){return this.hasScroller()?this.graph.scroller.widget.container:this.graph.container}init(){const t=this.options.autoResize;if(t){const e=typeof t=="boolean"?this.getContainer():t;bl.bind(e,()=>{const n=this.getContainer(),s=n.offsetWidth,r=n.offsetHeight;this.resize(s,r)})}}resize(t,e){this.hasScroller()?this.resizeScroller(t,e):this.resizeGraph(t,e)}resizeGraph(t,e){this.graph.transform.resize(t,e)}resizeScroller(t,e){this.graph.scroller.resize(t,e)}resizePage(t,e){const n=this.graph.scroller.widget;n&&n.updatePageSize(t,e)}dispose(){bl.clear(this.getContainer())}}C5([se.dispose()],fm.prototype,"dispose",null);var Ut=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r},v5=globalThis&&globalThis.__rest||function(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]]);return e},zt;(function(i){function t(n,s){return(r,o,a)=>{const l=a.value,c=s||o;a.value=function(...h){const f=this.options[c];if(f!=null){this.getNativeValue=l.bind(this,...h);const d=dt(f,this.graph,...h);if(this.getNativeValue=null,d!=null||n===!0&&d===null)return d}return l.call(this,...h)}}}i.hook=t;function e(n){return(s,r,o)=>{const a=o.value,l=n||r;o.value=function(...c){let h=a.call(this,...c);const f=this.options[l];return f!=null&&(h=dt(f,this.graph,...c)&&h),h}}}i.after=e})(zt||(zt={}));class Rt extends se{createModel(){if(this.options.model)return this.options.model;const t=new en;return t.graph=this.graph,t}createView(){return new Zn(this.graph)}createRenderer(){return new Yt(this.graph)}createDefsManager(){return new om(this.graph)}createGridManager(){return new Su(this.graph)}createCoordManager(){return new am(this.graph)}createKnobManager(){return new b5(this.graph)}createTransform(t,e){const n=this.getTransformOptions(t);return n.resizable||n.rotatable?new sm(Object.assign(Object.assign({node:t,graph:this.graph},n),e)):(n.clearAll&&sm.removeInstances(this.graph),null)}createKnob(t,e){const n=Qn.parseOptionGroup(this.graph,t,this.options.knob),s=Object.assign(Object.assign({},n),e);s.clearAll&&em.removeInstances(this.graph),s.clearAll=!1;const r=t.prop("knob"),o=[];return(Array.isArray(r)?r:[r]).forEach((l,c)=>{if(l){if(l.enabled===!1||typeof l.enabled=="function"&&l.enabled.call(this.graph,t)===!1)return}else return;n.enabled&&o.push(new em(Object.assign({node:t,index:c,graph:this.graph},s)))}),o}getTransformOptions(t){const e=Qn.parseOptionGroup(this.graph,t,this.options.resizing),n=Qn.parseOptionGroup(this.graph,t,this.options.rotating),s=Qn.parseOptionGroup(this.graph,t,this.options.transforming);return Object.assign(Object.assign({},s),{resizable:e.enabled,minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight,orthogonalResizing:e.orthogonal,restrictedResizing:e.restrict!=null?e.restrict:e.restricted,autoScrollOnResizing:e.autoScroll,preserveAspectRatio:e.preserveAspectRatio,allowReverse:e.allowReverse,rotatable:n.enabled,rotateGrid:n.grid})}createTransformManager(){return new Bl(this.graph)}createHighlightManager(){return new Rl(this.graph)}createBackgroundManager(){return new zl(this.graph)}createClipboard(){return new x5}createClipboardManager(){return new Mu(this.graph)}createSnapline(){return new im(Object.assign({graph:this.graph},this.options.snapline))}createSnaplineManager(){return new Eu(this.graph)}createSelection(){return new wu(Object.assign({graph:this.graph},this.options.selecting))}createSelectionManager(){return new Tu(this.graph)}allowRubberband(t){return!0}createHistoryManager(){return new _s(Object.assign({graph:this.graph},this.options.history))}createScroller(){return this.options.scroller.enabled?new _r(Object.assign({graph:this.graph},this.options.scroller)):null}createScrollerManager(){return new Au(this.graph)}allowPanning(t){return!0}createMiniMap(){const t=this.options.minimap,{enabled:e}=t,n=v5(t,["enabled"]);return e?new nm(Object.assign({graph:this.graph},n)):null}createMiniMapManager(){return new Ou(this.graph)}createKeyboard(){return new Vs(Object.assign({graph:this.graph},this.options.keyboard))}createMouseWheel(){return new Pu(Object.assign({graph:this.graph},this.options.mousewheel))}createPrintManager(){return new Hs(this.graph)}createFormatManager(){return new hm(this.graph)}createPanningManager(){return new um(this.graph)}createSizeManager(){return new fm(this.graph)}allowConnectToBlank(t){const e=this.options.connecting,n=e.allowBlank!=null?e.allowBlank:e.dangling;if(typeof n!="function")return!!n;const s=this.graph.findViewByCell(t),r=t.getSourceCell(),o=t.getTargetCell(),a=this.graph.findViewByCell(r),l=this.graph.findViewByCell(o);return dt(n,this.graph,{edge:t,edgeView:s,sourceCell:r,targetCell:o,sourceView:a,targetView:l,sourcePort:t.getSourcePortId(),targetPort:t.getTargetPortId(),sourceMagnet:s.sourceMagnet,targetMagnet:s.targetMagnet})}validateEdge(t,e,n){if(!this.allowConnectToBlank(t)){const r=t.getSourceCellId(),o=t.getTargetCellId();if(!(r&&o))return!1}const s=this.options.connecting.validateEdge;return s?dt(s,this.graph,{edge:t,type:e,previous:n}):!0}validateMagnet(t,e,n){if(e.getAttribute("magnet")!=="passive"){const s=this.options.connecting.validateMagnet;return s?dt(s,this.graph,{e:n,magnet:e,view:t,cell:t.cell}):!0}return!1}getDefaultEdge(t,e){let n;const s=this.options.connecting.createEdge;return s&&(n=dt(s,this.graph,{sourceMagnet:e,sourceView:t,sourceCell:t.cell})),n==null&&(n=new tm),n}validateConnection(t,e,n,s,r,o,a){const l=this.options.connecting,c=l.allowLoop,h=l.allowNode,f=l.allowEdge,d=l.allowPort,p=l.allowMulti!=null?l.allowMulti:l.multi,y=l.validateConnection,v=o?o.cell:null,x=r==="target"?n:t,w=r==="target"?s:e;let M=!0;const A=D=>{const N=r==="source"?a?a.port:null:v?v.getSourcePortId():null,m=r==="target"?a?a.port:null:v?v.getTargetPortId():null;return dt(D,this.graph,{edge:v,edgeView:o,sourceView:t,targetView:n,sourcePort:N,targetPort:m,sourceMagnet:e,targetMagnet:s,sourceCell:t?t.cell:null,targetCell:n?n.cell:null,type:r})};if(c!=null&&(typeof c=="boolean"?!c&&t===n&&(M=!1):M=A(c)),M&&d!=null&&(typeof d=="boolean"?!d&&w&&(M=!1):M=A(d)),M&&f!=null&&(typeof f=="boolean"?!f&&Oi.isEdgeView(x)&&(M=!1):M=A(f)),M&&h!=null&&(typeof h=="boolean"?!h&&x!=null&&hn.isNodeView(x)&&w==null&&(M=!1):M=A(h)),M&&p!=null&&o){const D=o.cell,N=r==="source"?a:D.getSource(),m=r==="target"?a:D.getTarget(),P=a?this.graph.getCellById(a.cell):null;if(N&&m&&N.cell&&m.cell&&P)if(typeof p=="function")M=A(p);else{const $=this.model.getConnectedEdges(P,{outgoing:r==="source",incoming:r==="target"});$.length&&(p==="withPort"?$.some(G=>{const X=G.getSource(),H=G.getTarget();return X&&H&&X.cell===N.cell&&H.cell===m.cell&&X.port!=null&&X.port===N.port&&H.port!=null&&H.port===m.port})&&(M=!1):p||$.some(G=>{const X=G.getSource(),H=G.getTarget();return X&&H&&X.cell===N.cell&&H.cell===m.cell})&&(M=!1))}}return M&&y!=null&&(M=A(y)),M}getRestrictArea(t){const e=this.options.translating.restrict,n=typeof e=="function"?dt(e,this.graph,t):e;return typeof n=="number"?this.graph.transform.getGraphArea().inflate(n):n===!0?this.graph.transform.getGraphArea():n||null}onViewUpdated(t,e,n){e&Yt.FLAG_INSERT||n.mounting||this.graph.renderer.requestConnectedEdgesUpdate(t,n)}onViewPostponed(t,e,n){return this.graph.renderer.forcePostponedViewUpdate(t,e)}getCellView(t){return null}createCellView(t){const e={graph:this.graph},n=this.getCellView(t);if(n)return new n(t,e);const s=t.view;if(s!=null&&typeof s=="string"){const r=xe.registry.get(s);return r?new r(t,e):xe.registry.onNotFound(s)}return t.isNode()?new hn(t,e):t.isEdge()?new Oi(t,e):null}getHTMLComponent(t){let e=t.getHTML();return typeof e=="string"&&(e=fi.componentRegistry.get(e)||e),Dn(e)&&(e=e.render),typeof e=="function"?dt(e,this.graph,t):e}shouldUpdateHTMLComponent(t){let e=t.getHTML();if(typeof e=="string"&&(e=fi.componentRegistry.get(e)||e),Dn(e)){const n=e.shouldComponentUpdate;return typeof n=="function"?dt(n,this.graph,t):!!n}return!1}onEdgeLabelRendered(t){}onPortRendered(t){}onToolItemCreated(t){}}Ut([zt.hook()],Rt.prototype,"createModel",null);Ut([zt.hook()],Rt.prototype,"createView",null);Ut([zt.hook()],Rt.prototype,"createRenderer",null);Ut([zt.hook()],Rt.prototype,"createDefsManager",null);Ut([zt.hook()],Rt.prototype,"createGridManager",null);Ut([zt.hook()],Rt.prototype,"createCoordManager",null);Ut([zt.hook()],Rt.prototype,"createKnobManager",null);Ut([zt.hook()],Rt.prototype,"createTransform",null);Ut([zt.hook()],Rt.prototype,"createKnob",null);Ut([zt.hook()],Rt.prototype,"createTransformManager",null);Ut([zt.hook()],Rt.prototype,"createHighlightManager",null);Ut([zt.hook()],Rt.prototype,"createBackgroundManager",null);Ut([zt.hook()],Rt.prototype,"createClipboard",null);Ut([zt.hook()],Rt.prototype,"createClipboardManager",null);Ut([zt.hook()],Rt.prototype,"createSnapline",null);Ut([zt.hook()],Rt.prototype,"createSnaplineManager",null);Ut([zt.hook()],Rt.prototype,"createSelection",null);Ut([zt.hook()],Rt.prototype,"createSelectionManager",null);Ut([zt.hook()],Rt.prototype,"allowRubberband",null);Ut([zt.hook()],Rt.prototype,"createHistoryManager",null);Ut([zt.hook()],Rt.prototype,"createScroller",null);Ut([zt.hook()],Rt.prototype,"createScrollerManager",null);Ut([zt.hook()],Rt.prototype,"allowPanning",null);Ut([zt.hook()],Rt.prototype,"createMiniMap",null);Ut([zt.hook()],Rt.prototype,"createMiniMapManager",null);Ut([zt.hook()],Rt.prototype,"createKeyboard",null);Ut([zt.hook()],Rt.prototype,"createMouseWheel",null);Ut([zt.hook()],Rt.prototype,"createPrintManager",null);Ut([zt.hook()],Rt.prototype,"createFormatManager",null);Ut([zt.hook()],Rt.prototype,"createPanningManager",null);Ut([zt.hook()],Rt.prototype,"createSizeManager",null);Ut([zt.after()],Rt.prototype,"onViewUpdated",null);Ut([zt.after()],Rt.prototype,"onViewPostponed",null);Ut([zt.hook()],Rt.prototype,"getCellView",null);Ut([zt.hook(!0)],Rt.prototype,"createCellView",null);Ut([zt.hook()],Rt.prototype,"getHTMLComponent",null);Ut([zt.hook()],Rt.prototype,"shouldUpdateHTMLComponent",null);Ut([zt.hook()],Rt.prototype,"onEdgeLabelRendered",null);Ut([zt.hook()],Rt.prototype,"onPortRendered",null);Ut([zt.hook()],Rt.prototype,"onToolItemCreated",null);var ti=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class Qt extends tn{constructor(t){super();this.options=Qn.get(t),this.css=new es(this),this.hook=new Rt(this),this.view=this.hook.createView(),this.defs=this.hook.createDefsManager(),this.coord=this.hook.createCoordManager(),this.transform=this.hook.createTransformManager(),this.knob=this.hook.createKnobManager(),this.highlight=this.hook.createHighlightManager(),this.grid=this.hook.createGridManager(),this.background=this.hook.createBackgroundManager(),this.model=this.hook.createModel(),this.renderer=this.hook.createRenderer(),this.clipboard=this.hook.createClipboardManager(),this.snapline=this.hook.createSnaplineManager(),this.selection=this.hook.createSelectionManager(),this.history=this.hook.createHistoryManager(),this.scroller=this.hook.createScrollerManager(),this.minimap=this.hook.createMiniMapManager(),this.keyboard=this.hook.createKeyboard(),this.mousewheel=this.hook.createMouseWheel(),this.print=this.hook.createPrintManager(),this.format=this.hook.createFormatManager(),this.panning=this.hook.createPanningManager(),this.size=this.hook.createSizeManager()}get container(){return this.view.container}get[Symbol.toStringTag](){return Qt.toStringTag}isNode(t){return t.isNode()}isEdge(t){return t.isEdge()}resetCells(t,e={}){return this.model.resetCells(t,e),this}clearCells(t={}){return this.model.clear(t),this}toJSON(t={}){return this.model.toJSON(t)}parseJSON(t){return this.model.parseJSON(t)}fromJSON(t,e={}){return this.model.fromJSON(t,e),this}getCellById(t){return this.model.getCell(t)}addNode(t,e={}){return this.model.addNode(t,e)}addNodes(t,e={}){return this.addCell(t.map(n=>we.isNode(n)?n:this.createNode(n)),e)}createNode(t){return this.model.createNode(t)}removeNode(t,e={}){return this.model.removeCell(t,e)}addEdge(t,e={}){return this.model.addEdge(t,e)}addEdges(t,e={}){return this.addCell(t.map(n=>ye.isEdge(n)?n:this.createEdge(n)),e)}removeEdge(t,e={}){return this.model.removeCell(t,e)}createEdge(t){return this.model.createEdge(t)}addCell(t,e={}){return this.model.addCell(t,e),this}removeCell(t,e={}){return this.model.removeCell(t,e)}removeCells(t,e={}){return this.model.removeCells(t,e)}removeConnectedEdges(t,e={}){return this.model.removeConnectedEdges(t,e)}disconnectConnectedEdges(t,e={}){return this.model.disconnectConnectedEdges(t,e),this}hasCell(t){return this.model.has(t)}getCell(t){return this.model.getCell(t)}getCells(){return this.model.getCells()}getCellCount(){return this.model.total()}getNodes(){return this.model.getNodes()}getEdges(){return this.model.getEdges()}getOutgoingEdges(t){return this.model.getOutgoingEdges(t)}getIncomingEdges(t){return this.model.getIncomingEdges(t)}getConnectedEdges(t,e={}){return this.model.getConnectedEdges(t,e)}getRootNodes(){return this.model.getRoots()}getLeafNodes(){return this.model.getLeafs()}isRootNode(t){return this.model.isRoot(t)}isLeafNode(t){return this.model.isLeaf(t)}getNeighbors(t,e={}){return this.model.getNeighbors(t,e)}isNeighbor(t,e,n={}){return this.model.isNeighbor(t,e,n)}getSuccessors(t,e={}){return this.model.getSuccessors(t,e)}isSuccessor(t,e,n={}){return this.model.isSuccessor(t,e,n)}getPredecessors(t,e={}){return this.model.getPredecessors(t,e)}isPredecessor(t,e,n={}){return this.model.isPredecessor(t,e,n)}getCommonAncestor(...t){return this.model.getCommonAncestor(...t)}getSubGraph(t,e={}){return this.model.getSubGraph(t,e)}cloneSubGraph(t,e={}){return this.model.cloneSubGraph(t,e)}cloneCells(t){return this.model.cloneCells(t)}getNodesFromPoint(t,e){return this.model.getNodesFromPoint(t,e)}getNodesInArea(t,e,n,s,r){return this.model.getNodesInArea(t,e,n,s,r)}getNodesUnderNode(t,e={}){return this.model.getNodesUnderNode(t,e)}searchCell(t,e,n={}){return this.model.search(t,e,n),this}getShortestPath(t,e,n={}){return this.model.getShortestPath(t,e,n)}getAllCellsBBox(){return this.model.getAllCellsBBox()}getCellsBBox(t,e={}){return this.model.getCellsBBox(t,e)}startBatch(t,e={}){this.model.startBatch(t,e)}stopBatch(t,e={}){this.model.stopBatch(t,e)}batchUpdate(t,e,n){const s=typeof t=="string"?t:"update",r=typeof t=="string"?e:t,o=typeof e=="function"?n:e;this.startBatch(s,o);const a=r();return this.stopBatch(s,o),a}isFrozen(){return this.renderer.isFrozen()}freeze(t={}){return this.renderer.freeze(t),this}unfreeze(t={}){return this.renderer.unfreeze(t),this}isAsync(){return this.renderer.isAsync()}setAsync(t){return this.renderer.setAsync(t),this}findView(t){return Gt.isCell(t)?this.findViewByCell(t):this.findViewByElem(t)}findViews(t){return st.isRectangleLike(t)?this.findViewsInArea(t):k.isPointLike(t)?this.findViewsFromPoint(t):[]}findViewByCell(t){return this.renderer.findViewByCell(t)}findViewByElem(t){return this.renderer.findViewByElem(t)}findViewsFromPoint(t,e){const n=typeof t=="number"?{x:t,y:e}:t;return this.renderer.findViewsFromPoint(n)}findViewsInArea(t,e,n,s,r){const o=typeof t=="number"?{x:t,y:e,width:n,height:s}:t,a=typeof t=="number"?r:e;return this.renderer.findViewsInArea(o,a)}isViewMounted(t){return this.renderer.isViewMounted(t)}getMountedViews(){return this.renderer.getMountedViews()}getUnmountedViews(){return this.renderer.getUnmountedViews()}matrix(t){return typeof t=="undefined"?this.transform.getMatrix():(this.transform.setMatrix(t),this)}resize(t,e){return this.size.resize(t,e),this}resizeGraph(t,e){return this.size.resizeGraph(t,e),this}resizeScroller(t,e){return this.size.resizeScroller(t,e),this}resizePage(t,e){return this.size.resizePage(t,e),this}scale(t,e=t,n=0,s=0){return typeof t=="undefined"?this.transform.getScale():(this.transform.scale(t,e,n,s),this)}zoom(t,e){const n=this.scroller.widget;if(n){if(typeof t=="undefined")return n.zoom();n.zoom(t,e)}else{if(typeof t=="undefined")return this.transform.getZoom();this.transform.zoom(t,e)}return this}zoomTo(t,e={}){const n=this.scroller.widget;n?n.zoom(t,Object.assign(Object.assign({},e),{absolute:!0})):this.transform.zoom(t,Object.assign(Object.assign({},e),{absolute:!0}))}zoomToRect(t,e={}){const n=this.scroller.widget;return n?n.zoomToRect(t,e):this.transform.zoomToRect(t,e),this}zoomToFit(t={}){const e=this.scroller.widget;return e?e.zoomToFit(t):this.transform.zoomToFit(t),this}rotate(t,e,n){return typeof t=="undefined"?this.transform.getRotation():(this.transform.rotate(t,e,n),this)}translate(t,e){return typeof t=="undefined"?this.transform.getTranslation():(this.transform.translate(t,e),this)}translateBy(t,e){const n=this.translate(),s=n.tx+t,r=n.ty+e;return this.translate(s,r)}getArea(){return this.transform.getGraphArea()}getGraphArea(){return this.transform.getGraphArea()}getContentArea(t={}){return this.transform.getContentArea(t)}getContentBBox(t={}){return this.transform.getContentBBox(t)}fitToContent(t,e,n,s){return this.transform.fitToContent(t,e,n,s)}scaleContentToFit(t={}){return this.transform.scaleContentToFit(t),this}center(t){return this.centerPoint(t)}centerPoint(t,e,n){const s=this.scroller.widget;return s?s.centerPoint(t,e,n):this.transform.centerPoint(t,e),this}centerContent(t){const e=this.scroller.widget;return e?e.centerContent(t):this.transform.centerContent(t),this}centerCell(t,e){const n=this.scroller.widget;return n?n.centerCell(t,e):this.transform.centerCell(t),this}positionPoint(t,e,n,s={}){const r=this.scroller.widget;return r?r.positionPoint(t,e,n,s):this.transform.positionPoint(t,e,n),this}positionRect(t,e,n){const s=this.scroller.widget;return s?s.positionRect(t,e,n):this.transform.positionRect(t,e),this}positionCell(t,e,n){const s=this.scroller.widget;return s?s.positionCell(t,e,n):this.transform.positionCell(t,e),this}positionContent(t,e){const n=this.scroller.widget;return n?n.positionContent(t,e):this.transform.positionContent(t,e),this}getClientMatrix(){return this.coord.getClientMatrix()}getClientOffset(){return this.coord.getClientOffset()}getPageOffset(){return this.coord.getPageOffset()}snapToGrid(t,e){return this.coord.snapToGrid(t,e)}pageToLocal(t,e,n,s){return st.isRectangleLike(t)?this.coord.pageToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.pageToLocalRect(t,e,n,s):this.coord.pageToLocalPoint(t,e)}localToPage(t,e,n,s){return st.isRectangleLike(t)?this.coord.localToPageRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.localToPageRect(t,e,n,s):this.coord.localToPagePoint(t,e)}clientToLocal(t,e,n,s){return st.isRectangleLike(t)?this.coord.clientToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.clientToLocalRect(t,e,n,s):this.coord.clientToLocalPoint(t,e)}localToClient(t,e,n,s){return st.isRectangleLike(t)?this.coord.localToClientRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.localToClientRect(t,e,n,s):this.coord.localToClientPoint(t,e)}localToGraph(t,e,n,s){return st.isRectangleLike(t)?this.coord.localToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.localToGraphRect(t,e,n,s):this.coord.localToGraphPoint(t,e)}graphToLocal(t,e,n,s){return st.isRectangleLike(t)?this.coord.graphToLocalRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.graphToLocalRect(t,e,n,s):this.coord.graphToLocalPoint(t,e)}clientToGraph(t,e,n,s){return st.isRectangleLike(t)?this.coord.clientToGraphRect(t):typeof t=="number"&&typeof e=="number"&&typeof n=="number"&&typeof s=="number"?this.coord.clientToGraphRect(t,e,n,s):this.coord.clientToGraphPoint(t,e)}defineFilter(t){return this.defs.filter(t)}defineGradient(t){return this.defs.gradient(t)}defineMarker(t){return this.defs.marker(t)}getGridSize(){return this.grid.getGridSize()}setGridSize(t){return this.grid.setGridSize(t),this}showGrid(){return this.grid.show(),this}hideGrid(){return this.grid.hide(),this}clearGrid(){return this.grid.clear(),this}drawGrid(t){return this.grid.draw(t),this}updateBackground(){return this.background.update(),this}drawBackground(t,e){const n=this.scroller.widget;return n!=null&&(this.options.background==null||!e)?n.backgroundManager.draw(t):this.background.draw(t),this}clearBackground(t){const e=this.scroller.widget;return e!=null&&(this.options.background==null||!t)?e.backgroundManager.clear():this.background.clear(),this}isClipboardEnabled(){return!this.clipboard.disabled}enableClipboard(){return this.clipboard.enable(),this}disableClipboard(){return this.clipboard.disable(),this}toggleClipboard(t){return t!=null?t!==this.isClipboardEnabled()&&(t?this.enableClipboard():this.disableClipboard()):this.isClipboardEnabled()?this.disableClipboard():this.enableClipboard(),this}isClipboardEmpty(){return this.clipboard.isEmpty()}getCellsInClipboard(){return this.clipboard.cells}cleanClipboard(){return this.clipboard.clean(),this}copy(t,e={}){return this.clipboard.copy(t,e),this}cut(t,e={}){return this.clipboard.cut(t,e),this}paste(t={},e=this){return this.clipboard.paste(t,e)}isHistoryEnabled(){return!this.history.disabled}enableHistory(){return this.history.enable(),this}disableHistory(){return this.history.disable(),this}toggleHistory(t){return t!=null?t!==this.isHistoryEnabled()&&(t?this.enableHistory():this.disableHistory()):this.isHistoryEnabled()?this.disableHistory():this.enableHistory(),this}undo(t={}){return this.history.undo(t),this}undoAndCancel(t={}){return this.history.cancel(t),this}redo(t={}){return this.history.redo(t),this}canUndo(){return this.history.canUndo()}canRedo(){return this.history.canRedo()}cleanHistory(t={}){this.history.clean(t)}isKeyboardEnabled(){return!this.keyboard.disabled}enableKeyboard(){return this.keyboard.enable(),this}disableKeyboard(){return this.keyboard.disable(),this}toggleKeyboard(t){return t!=null?t!==this.isKeyboardEnabled()&&(t?this.enableKeyboard():this.disableKeyboard()):this.isKeyboardEnabled()?this.disableKeyboard():this.enableKeyboard(),this}bindKey(t,e,n){return this.keyboard.on(t,e,n),this}unbindKey(t,e){return this.keyboard.off(t,e),this}isMouseWheelEnabled(){return!this.mousewheel.disabled}enableMouseWheel(){return this.mousewheel.enable(),this}disableMouseWheel(){return this.mousewheel.disable(),this}toggleMouseWheel(t){return t==null?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():t?this.enableMouseWheel():this.disableMouseWheel(),this}isPannable(){return this.scroller.widget?this.scroller.pannable:this.panning.pannable}enablePanning(){return this.scroller.widget?this.scroller.enablePanning():this.panning.enablePanning(),this}disablePanning(){return this.scroller.widget?this.scroller.disablePanning():this.panning.disablePanning(),this}togglePanning(t){return t==null?this.isPannable()?this.disablePanning():this.enablePanning():t!==this.isPannable()&&(t?this.enablePanning():this.disablePanning()),this}lockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.lock()}unlockScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.unlock()}updateScroller(){var t;(t=this.scroller.widget)===null||t===void 0||t.update()}getScrollbarPosition(){return this.scroller.widget.scrollbarPosition()}setScrollbarPosition(t,e,n){return this.scroller.widget.scrollbarPosition(t,e,n),this}scrollToPoint(t,e,n){return this.scroller.widget.scrollToPoint(t,e,n),this}scrollToContent(t){return this.scroller.widget.scrollToContent(t),this}scrollToCell(t,e){return this.scroller.widget.scrollToCell(t,e),this}transitionToPoint(t,e,n){return this.scroller.widget.transitionToPoint(t,e,n),this}transitionToRect(t,e={}){return this.scroller.widget.transitionToRect(t,e),this}isSelectionEnabled(){return!this.selection.disabled}enableSelection(){return this.selection.enable(),this}disableSelection(){return this.selection.disable(),this}toggleSelection(t){return t!=null?t!==this.isSelectionEnabled()&&(t?this.enableSelection():this.disableSelection()):this.isSelectionEnabled()?this.disableSelection():this.enableSelection(),this}isMultipleSelection(){return this.selection.isMultiple()}enableMultipleSelection(){return this.selection.enableMultiple(),this}disableMultipleSelection(){return this.selection.disableMultiple(),this}toggleMultipleSelection(t){return t!=null?t!==this.isMultipleSelection()&&(t?this.enableMultipleSelection():this.disableMultipleSelection()):this.isMultipleSelection()?this.disableMultipleSelection():this.enableMultipleSelection(),this}isSelectionMovable(){return this.selection.widget.options.movable!==!1}enableSelectionMovable(){return this.selection.widget.options.movable=!0,this}disableSelectionMovable(){return this.selection.widget.options.movable=!1,this}toggleSelectionMovable(t){return t!=null?t!==this.isSelectionMovable()&&(t?this.enableSelectionMovable():this.disableSelectionMovable()):this.isSelectionMovable()?this.disableSelectionMovable():this.enableSelectionMovable(),this}isRubberbandEnabled(){return!this.selection.rubberbandDisabled}enableRubberband(){return this.selection.enableRubberband(),this}disableRubberband(){return this.selection.disableRubberband(),this}toggleRubberband(t){return t!=null?t!==this.isRubberbandEnabled()&&(t?this.enableRubberband():this.disableRubberband()):this.isRubberbandEnabled()?this.disableRubberband():this.enableRubberband(),this}isStrictRubberband(){return this.selection.widget.options.strict===!0}enableStrictRubberband(){return this.selection.widget.options.strict=!0,this}disableStrictRubberband(){return this.selection.widget.options.strict=!1,this}toggleStrictRubberband(t){return t!=null?t!==this.isStrictRubberband()&&(t?this.enableStrictRubberband():this.disableStrictRubberband()):this.isStrictRubberband()?this.disableStrictRubberband():this.enableStrictRubberband(),this}setRubberbandModifiers(t){this.selection.setModifiers(t)}setSelectionFilter(t){return this.selection.setFilter(t),this}setSelectionDisplayContent(t){return this.selection.setContent(t),this}isSelectionEmpty(){return this.selection.isEmpty()}cleanSelection(t){return this.selection.clean(t),this}resetSelection(t,e){return this.selection.reset(t,e),this}getSelectedCells(){return this.selection.cells}getSelectedCellCount(){return this.selection.length}isSelected(t){return this.selection.isSelected(t)}select(t,e){return this.selection.select(t,e),this}unselect(t,e){return this.selection.unselect(t,e),this}isSnaplineEnabled(){return!this.snapline.widget.disabled}enableSnapline(){return this.snapline.widget.enable(),this}disableSnapline(){return this.snapline.widget.disable(),this}toggleSnapline(t){if(t!=null)t!==this.isSnaplineEnabled()&&(t?this.enableSnapline():this.disableSnapline());else return this.isSnaplineEnabled()?this.disableSnapline():this.enableSnapline(),this}hideSnapline(){return this.snapline.widget.hide(),this}setSnaplineFilter(t){return this.snapline.widget.setFilter(t),this}isSnaplineOnResizingEnabled(){return this.snapline.widget.options.resizing===!0}enableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!0,this}disableSnaplineOnResizing(){return this.snapline.widget.options.resizing=!1,this}toggleSnaplineOnResizing(t){return t!=null?t!==this.isSnaplineOnResizingEnabled()&&(t?this.enableSnaplineOnResizing():this.disableSnaplineOnResizing()):this.isSnaplineOnResizingEnabled()?this.disableSnaplineOnResizing():this.enableSnaplineOnResizing(),this}isSharpSnapline(){return this.snapline.widget.options.sharp===!0}enableSharpSnapline(){return this.snapline.widget.options.sharp=!0,this}disableSharpSnapline(){return this.snapline.widget.options.sharp=!1,this}toggleSharpSnapline(t){return t!=null?t!==this.isSharpSnapline()&&(t?this.enableSharpSnapline():this.disableSharpSnapline()):this.isSharpSnapline()?this.disableSharpSnapline():this.enableSharpSnapline(),this}getSnaplineTolerance(){return this.snapline.widget.options.tolerance}setSnaplineTolerance(t){return this.snapline.widget.options.tolerance=t,this}removeTools(){return this.emit("tools:remove"),this}hideTools(){return this.emit("tools:hide"),this}showTools(){return this.emit("tools:show"),this}toSVG(t,e={}){this.format.toSVG(t,e)}toDataURL(t,e){this.format.toDataURL(t,e)}toPNG(t,e={}){this.format.toPNG(t,e)}toJPEG(t,e={}){this.format.toJPEG(t,e)}printPreview(t){this.print.show(t)}dispose(){this.clearCells(),this.off(),this.css.dispose(),this.hook.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.knob.dispose(),this.highlight.dispose(),this.background.dispose(),this.clipboard.dispose(),this.snapline.dispose(),this.selection.dispose(),this.history.dispose(),this.keyboard.dispose(),this.mousewheel.dispose(),this.print.dispose(),this.format.dispose(),this.minimap.dispose(),this.panning.dispose(),this.scroller.dispose(),this.view.dispose(),this.renderer.dispose(),this.size.dispose()}}ti([_n.checkScroller()],Qt.prototype,"lockScroller",null);ti([_n.checkScroller()],Qt.prototype,"unlockScroller",null);ti([_n.checkScroller()],Qt.prototype,"updateScroller",null);ti([_n.checkScroller()],Qt.prototype,"getScrollbarPosition",null);ti([_n.checkScroller()],Qt.prototype,"setScrollbarPosition",null);ti([_n.checkScroller()],Qt.prototype,"scrollToPoint",null);ti([_n.checkScroller()],Qt.prototype,"scrollToContent",null);ti([_n.checkScroller()],Qt.prototype,"scrollToCell",null);ti([_n.checkScroller()],Qt.prototype,"transitionToPoint",null);ti([_n.checkScroller()],Qt.prototype,"transitionToRect",null);ti([tn.dispose()],Qt.prototype,"dispose",null);(function(i){i.View=Zn,i.Hook=Rt,i.Renderer=Yt,i.Keyboard=Vs,i.MouseWheel=Pu,i.BaseManager=se,i.DefsManager=om,i.GridManager=Su,i.CoordManager=am,i.PrintManager=Hs,i.FormatManager=hm,i.MiniMapManager=Ou,i.HistoryManager=_s,i.SnaplineManager=Eu,i.ScrollerManager=Au,i.ClipboardManager=Mu,i.TransformManager=Bl,i.HighlightManager=Rl,i.BackgroundManager=zl,i.SelectionManager=Tu})(Qt||(Qt={}));(function(i){i.toStringTag=`X6.${i.name}`;function t(e){if(e==null)return!1;if(e instanceof i)return!0;const n=e[Symbol.toStringTag],s=e;return(n==null||n===i.toStringTag)&&s.hook!=null&&s.view!=null&&s.model!=null}i.isGraph=t})(Qt||(Qt={}));(function(i){function t(e,n){const s=e instanceof HTMLElement?new i({container:e}):new i(e);return n!=null&&s.fromJSON(n),s}i.render=t})(Qt||(Qt={}));(function(i){i.registerNode=we.registry.register,i.registerEdge=ye.registry.register,i.registerView=xe.registry.register,i.registerAttr=li.registry.register,i.registerGrid=Yi.registry.register,i.registerFilter=Pr.registry.register,i.registerNodeTool=$r.registry.register,i.registerEdgeTool=Lr.registry.register,i.registerBackground=Io.registry.register,i.registerHighlighter=Ai.registry.register,i.registerPortLayout=$s.registry.register,i.registerPortLabelLayout=Dr.registry.register,i.registerMarker=Xi.registry.register,i.registerRouter=ts.registry.register,i.registerConnector=Is.registry.register,i.registerAnchor=Fr.registry.register,i.registerEdgeAnchor=jr.registry.register,i.registerConnectionPoint=Ir.registry.register,i.registerConnectionStrategy=kr.registry.register,i.registerHTMLComponent=fi.componentRegistry.register})(Qt||(Qt={}));(function(i){i.unregisterNode=we.registry.unregister,i.unregisterEdge=ye.registry.unregister,i.unregisterView=xe.registry.unregister,i.unregisterAttr=li.registry.unregister,i.unregisterGrid=Yi.registry.unregister,i.unregisterFilter=Pr.registry.unregister,i.unregisterNodeTool=$r.registry.unregister,i.unregisterEdgeTool=Lr.registry.unregister,i.unregisterBackground=Io.registry.unregister,i.unregisterHighlighter=Ai.registry.unregister,i.unregisterPortLayout=$s.registry.unregister,i.unregisterPortLabelLayout=Dr.registry.unregister,i.unregisterMarker=Xi.registry.unregister,i.unregisterRouter=ts.registry.unregister,i.unregisterConnector=Is.registry.unregister,i.unregisterAnchor=Fr.registry.unregister,i.unregisterEdgeAnchor=jr.registry.unregister,i.unregisterConnectionPoint=Ir.registry.unregister,i.unregisterConnectionStrategy=kr.registry.unregister,i.unregisterHTMLComponent=fi.componentRegistry.unregister})(Qt||(Qt={}));class x5{constructor(){this.cells=[]}copy(t,e,n={}){this.options=Object.assign({},n);const r=(en.isModel(e)?e:e.model).cloneSubGraph(t,n);this.cells=Lh(Object.keys(r).map(o=>r[o]),o=>o.isEdge()?2:1),this.serialize(n)}cut(t,e,n={}){this.copy(t,e,n),(Qt.isGraph(e)?e.model:e).batchUpdate("cut",()=>{t.forEach(r=>r.remove())})}paste(t,e={}){const n=Object.assign(Object.assign({},this.options),e),{offset:s,edgeProps:r,nodeProps:o}=n;let a=20,l=20;s&&(a=typeof s=="number"?s:s.dx,l=typeof s=="number"?s:s.dy),this.deserialize(n);const c=this.cells;c.forEach(f=>{f.model=null,f.removeProp("zIndex"),(a||l)&&f.translate(a,l),o&&f.isNode()&&f.prop(o),r&&f.isEdge()&&f.prop(r)});const h=Qt.isGraph(t)?t.model:t;return h.batchUpdate("paste",()=>{h.addCells(this.cells)}),this.copy(c,t,e),c}serialize(t){t.useLocalStorage!==!1&&Jo.save(this.cells)}deserialize(t){if(t.useLocalStorage){const e=Jo.fetch();e&&(this.cells=e)}}isEmpty(){return this.cells.length<=0}clean(){this.options={},this.cells=[],Jo.clean()}}var Jo;(function(i){const t=`${ci.prefixCls}.clipboard.cells`;function e(r){if(window.localStorage){const o=r.map(a=>a.toJSON());localStorage.setItem(t,JSON.stringify(o))}}i.save=e;function n(){if(window.localStorage){const r=localStorage.getItem(t),o=r?JSON.parse(r):[];if(o)return en.fromJSON(o)}}i.fetch=n;function s(){window.localStorage&&localStorage.removeItem(t)}i.clean=s})(Jo||(Jo={}));class w5{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get node(){return this.cell}getPresets(){return{className:"type-node",handles:[{name:"remove",position:"nw",events:{mousedown:this.removeCell.bind(this)},icon:null},{name:"resize",position:"se",events:{mousedown:this.startResize.bind(this),mousemove:this.doResize.bind(this),mouseup:this.stopResize.bind(this)},icon:null},{name:"clone",position:"n",events:{mousedown:this.startClone.bind(this),mousemove:this.doClone.bind(this),mouseup:this.stopClone.bind(this)},icon:null},{name:"link",position:"e",events:{mousedown:this.startLink.bind(this),mousemove:this.doLink.bind(this),mouseup:this.stopLink.bind(this)},icon:null},{name:"fork",position:"ne",events:{mousedown:this.startFork.bind(this),mousemove:this.doFork.bind(this),mouseup:this.stopFork.bind(this)},icon:null},{name:"unlink",position:"w",events:{mousedown:this.unlink.bind(this)},icon:null},{name:"rotate",position:"sw",events:{mousedown:this.startRotate.bind(this),mousemove:this.doRotate.bind(this),mouseup:this.stopRotate.bind(this)},icon:null}],bbox(t){return this.options.useCellGeometry?t.cell.getBBox():t.getBBox()},content(t){const e=Cr("x: <%= x %>, y: <%= y %>, width: <%= width %>, height: <%= height %>, angle: <%= angle %>"),n=t.cell,s=n.getBBox();return e({x:Math.floor(s.x),y:Math.floor(s.y),width:Math.floor(s.width),height:Math.floor(s.height),angle:Math.floor(n.getAngle())})},magnet(t){return t.container},tinyThreshold:40,smallThreshold:80,loopEdgePreferredSide:"top",loopEdgeWidth:40,rotateGrid:15,rotateEmbeds:!1}}removeCell(){this.model.removeConnectedEdges(this.cell),this.cell.remove()}startLink({x:t,y:e}){this.halo.startBatch();const n=this.graph,s=this.createEdgeConnectedToSource();s.setTarget({x:t,y:e}),this.model.addEdge(s,{validation:!1,halo:this.halo.cid,async:!1}),n.view.undelegateEvents(),this.edgeView=n.renderer.findViewByCell(s),this.edgeView.prepareArrowheadDragging("target",{x:t,y:e,fallbackAction:"remove"})}createEdgeConnectedToSource(){const t=this.getMagnet(this.view,"source"),e=this.getEdgeTerminal(this.view,t),n=this.graph.hook.getDefaultEdge(this.view,t);return n.setSource(e),n}getMagnet(t,e){const n=this.options.magnet;if(typeof n=="function"){const s=dt(n,this.halo,t,e);if(s instanceof SVGElement)return s}throw new Error("`magnet()` has to return an SVGElement")}getEdgeTerminal(t,e){const n={cell:t.cell.id};if(e!==t.container){const s=e.getAttribute("port");s?n.port=s:n.selector=t.getSelector(e)}return n}doLink({e:t,x:e,y:n}){this.edgeView&&this.edgeView.onMouseMove(t,e,n)}stopLink({e:t,x:e,y:n}){const s=this.edgeView;if(s){s.onMouseUp(t,e,n);const r=s.cell;r.hasLoop()&&this.makeLoopEdge(r),this.halo.stopBatch(),this.halo.trigger("action:edge:addde",{edge:r}),this.edgeView=null}this.graph.view.delegateEvents()}makeLoopEdge(t){let e=null,n=null;const s=this.options.loopEdgeWidth,r=this.graph.options,o=new st(0,0,r.width,r.height),a=this.graph.graphToLocal(this.view.getBBox());[this.options.loopEdgePreferredSide,"top","bottom","left","right"].some(c=>{let h=null,f=0,d=0;switch(c){case"top":h=new k(a.x+a.width/2,a.y-s),f=s/2;break;case"bottom":h=new k(a.x+a.width/2,a.y+a.height+s),f=s/2;break;case"left":h=new k(a.x-s,a.y+a.height/2),d=s/2;break;case"right":h=new k(a.x+a.width+s,a.y+a.height/2),d=s/2;break}return h?(e=h.translate(-f,-d),n=h.translate(f,d),o.containsPoint(e)&&o.containsPoint(n)):!1})&&e&&n&&t.setVertices([e,n])}startResize({e:t}){this.halo.startBatch(),this.flip=[1,0,0,1,1,0,0,1][Math.floor(Vt.normalize(this.node.getAngle())/45)],this.view.addClass("node-resizing"),_e("node:resize",t,this.view)}doResize({e:t,dx:e,dy:n}){const s=this.node.getSize(),r=Math.max(s.width+(this.flip?e:n),1),o=Math.max(s.height+(this.flip?n:e),1);this.node.resize(r,o,{absolute:!0}),_e("node:resizing",t,this.view)}stopResize({e:t}){this.view.removeClass("node-resizing"),_e("node:resized",t,this.view),this.halo.stopBatch()}startClone({e:t,x:e,y:n}){this.halo.startBatch();const r=this.options.clone(this.cell,{clone:!0});if(!Gt.isCell(r))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(r,e,n),this.model.addCell(r,{halo:this.halo.cid,async:!1});const o=this.graph.renderer.findViewByCell(r);o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}centerNodeAtCursor(t,e,n){const s=t.getBBox().getCenter(),r=e-s.x,o=n-s.y;t.translate(r,o)}doClone({e:t,x:e,y:n}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseMove(t,e,n)}stopClone({e:t,x:e,y:n}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseUp(t,e,n),this.halo.stopBatch()}startFork({e:t,x:e,y:n}){this.halo.startBatch();const s=this.options.clone(this.cell,{fork:!0});if(!Gt.isCell(s))throw new Error("option 'clone()' has to return a cell");this.centerNodeAtCursor(s,e,n),this.model.addCell(s,{halo:this.halo.cid,async:!1});const r=this.createEdgeConnectedToSource(),o=this.graph.renderer.findViewByCell(s),a=this.getMagnet(o,"target"),l=this.getEdgeTerminal(o,a);r.setTarget(l),this.model.addEdge(r,{halo:this.halo.cid,async:!1}),o.onMouseDown(t,e,n),this.halo.setEventData(t,{cloneView:o})}doFork({e:t,x:e,y:n}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseMove(t,e,n)}stopFork({e:t,x:e,y:n}){const s=this.halo.getEventData(t).cloneView;s&&s.onMouseUp(t,e,n),this.halo.stopBatch()}startRotate({e:t,x:e,y:n}){this.halo.startBatch();const s=this.node.getBBox().getCenter(),r=[this.node];this.options.rotateEmbeds&&this.node.getDescendants({deep:!0}).reduce((o,a)=>(a.isNode()&&o.push(a),o),r),this.halo.setEventData(t,{center:s,nodes:r,rotateStartAngles:r.map(o=>o.getAngle()),clientStartAngle:new k(e,n).theta(s)}),r.forEach(o=>{const a=this.graph.findViewByCell(o);a&&(a.addClass("node-rotating"),_e("node:rotate",t,a))})}doRotate({e:t,x:e,y:n}){const s=this.halo.getEventData(t),r=s.clientStartAngle-new k(e,n).theta(s.center);s.nodes.forEach((o,a)=>{const l=s.rotateStartAngles[a],c=Le.snapToGrid(l+r,this.options.rotateGrid);o.rotate(c,{absolute:!0,center:s.center,halo:this.halo.cid}),_e("node:rotating",t,this.graph.findViewByCell(o))})}stopRotate({e:t}){this.halo.getEventData(t).nodes.forEach(n=>{const s=this.graph.findViewByCell(n);s.removeClass("node-rotating"),_e("node:rotated",t,s)}),this.halo.stopBatch()}unlink(){this.halo.startBatch(),this.model.removeConnectedEdges(this.cell),this.halo.stopBatch()}}class S5{constructor(t){this.halo=t}get options(){return this.halo.options}get graph(){return this.halo.graph}get model(){return this.halo.model}get view(){return this.halo.view}get cell(){return this.halo.cell}get edge(){return this.cell}getPresets(){return{className:"type-edge",handles:[{name:"remove",position:"nw",icon:null,events:{mousedown:this.removeEdge.bind(this)}},{name:"direction",position:"se",icon:null,events:{mousedown:this.directionSwap.bind(this)}}],content:!1,bbox(t){return t.graph.localToGraph(t.getPointAtRatio(.5))},tinyThreshold:-1,smallThreshold:-1}}removeEdge(){this.cell.remove()}directionSwap(){const t=this.edge.getSource(),e=this.edge.getTarget();this.edge.prop({source:e,target:t})}}class Zo extends Yo{get type(){return this.options.type||"surround"}get handleOptions(){return this.options}init(t){this.options=pe(Zo.defaultOptions,this.cell.isNode()?new w5(this).getPresets():this.cell.isEdge()?new S5(this).getPresets():null,t),this.render(),this.initHandles(),this.update(),this.startListening()}startListening(){const t=this.model,e=this.graph;this.view.cell.on("removed",this.remove,this),t.on("reseted",this.remove,this),e.on("halo:destroy",this.remove,this),t.on("*",this.update,this),e.on("scale",this.update,this),e.on("translate",this.update,this),super.startListening()}stopListening(){const t=this.model,e=this.graph,n=this.view.cell;this.undelegateEvents(),n.off("removed",this.remove,this),t.off("reseted",this.remove,this),e.off("halo:destroy",this.remove,this),t.off("*",this.update,this),e.off("scale",this.update,this),e.off("translate",this.update,this),super.stopListening()}render(){const t=this.options,e=this.prefixClassName("widget-halo");return this.view.addClass(_l.NODE_CLS),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(e).attr("data-shape",this.view.cell.shape),t.className&&this.$container.addClass(t.className),this.$handleContainer=this.$("<div/>").addClass(`${e}-handles`).appendTo(this.container),this.$content=this.$("<div/>").addClass(`${e}-content`).appendTo(this.container),this.$container.appendTo(this.graph.container),this}remove(){return this.stopBatch(),this.view.removeClass(_l.NODE_CLS),super.remove()}update(){if(this.isRendered()){this.updateContent();const t=this.getBBox(),e=this.options.tinyThreshold||0,n=this.options.smallThreshold||0;this.$handleContainer.toggleClass(`${this.handleClassName}-tiny`,t.width<e&&t.height<e);const s=`${this.handleClassName}-small`;this.$handleContainer.toggleClass(s,!this.$handleContainer.hasClass(s)&&t.width<n&&t.height<n),this.$container.css({width:t.width,height:t.height,left:t.x,top:t.y}),this.hasHandle("unlink")&&this.toggleUnlink(),(this.type==="surround"||this.type==="toolbar")&&this.hasHandle("fork")&&this.toggleFork()}}updateContent(){const t=this.options.content;if(typeof t=="function"){const e=dt(t,this,this.view,this.$content[0]);e&&this.$content.html(e)}else t?this.$content.html(t):this.$content.remove()}getBBox(){const t=this.view,e=this.options.bbox,n=typeof e=="function"?dt(e,this,t):e;return st.create(Object.assign({x:0,y:0,width:1,height:1},n))}removeCell(){this.cell.remove()}toggleFork(){const t=this.view.cell.clone(),e=this.graph.hook.createCellView(t),n=this.graph.hook.validateConnection(this.view,null,e,null,"target");this.$handleContainer.children(".fork").toggleClass("hidden",!n),e.remove()}toggleUnlink(){const t=this.model.getConnectedEdges(this.view.cell).length>0;this.$handleContainer.children(".unlink").toggleClass("hidden",!t)}startBatch(){this.model.startBatch("halo",{halo:this.cid})}stopBatch(){this.model.hasActiveBatch("halo")&&this.model.stopBatch("halo",{halo:this.cid})}}(function(i){i.defaultOptions={type:"surround",clearAll:!0,clearOnBlankMouseDown:!0,useCellGeometry:!1,clone:t=>t.clone().removeZIndex()}})(Zo||(Zo={}));Object.getOwnPropertyNames(zs.prototype).forEach(i=>{i!=="constructor"&&Object.defineProperty(Zo.prototype,i,Object.getOwnPropertyDescriptor(zs.prototype,i))});var _l;(function(i){i.NODE_CLS="has-widget-halo"})(_l||(_l={}));var E5=globalThis&&globalThis.__decorate||function(i,t,e,n){var s=arguments.length,r=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,n);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(s<3?o(r):s>3?o(t,e,r):o(t,e))||r);return s>3&&r&&Object.defineProperty(t,e,r),r};class ns extends Ht{constructor(t){super();this.options=Object.assign(Object.assign({},ns.defaults),t),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName("widget-dnd")),this.draggingGraph=new Qt(Object.assign(Object.assign({},this.options.delegateGraphOptions),{container:document.createElement("div"),width:1,height:1})),this.$container.append(this.draggingGraph.container)}get targetScroller(){const t=this.options.target;return Qt.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return Qt.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}get snapline(){return this.targetGraph.snapline.widget}start(t,e){const n=e;n.preventDefault(),this.targetModel.startBatch("dnd"),this.$container.addClass("dragging").appendTo(this.options.containerParent||document.body),this.sourceNode=t,this.prepareDragging(t,n.clientX,n.clientY);const s=this.updateNodePosition(n.clientX,n.clientY);this.isSnaplineEnabled()&&(this.snapline.captureCursorOffset({e:n,node:t,cell:t,view:this.draggingView,x:s.x,y:s.y}),this.draggingNode.on("change:position",this.snap,this)),this.delegateDocumentEvents(ns.documentEvents,n.data)}isSnaplineEnabled(){return this.snapline&&!this.snapline.disabled}prepareDragging(t,e,n){const s=this.draggingGraph,r=s.model,o=this.options.getDragNode(t,{sourceNode:t,draggingGraph:s,targetGraph:this.targetGraph});o.position(0,0);let a=5;if(this.isSnaplineEnabled()&&(a+=this.snapline.options.tolerance||0),this.isSnaplineEnabled()||this.options.scaled){const h=this.targetGraph.transform.getScale();s.scale(h.sx,h.sy),a*=Math.max(h.sx,h.sy)}else s.scale(1,1);this.clearDragging(),this.options.animation&&this.$container.stop(!0,!0),r.resetCells([o]);const l=s.findViewByCell(o);l.undelegateEvents(),l.cell.off("changed"),s.fitToContent({padding:a,allowNewOrigin:"any"});const c=l.getBBox();this.geometryBBox=l.getBBox({useCellGeometry:!0}),this.delta=this.geometryBBox.getTopLeft().diff(c.getTopLeft()),this.draggingNode=o,this.draggingView=l,this.draggingBBox=o.getBBox(),this.padding=a,this.originOffset=this.updateGraphPosition(e,n)}updateGraphPosition(t,e){const n=document.body.scrollTop||document.documentElement.scrollTop,s=this.delta,r=this.geometryBBox,o=this.padding||5,a={left:t-s.x-r.width/2-o,top:e-s.y-r.height/2-o+n};return this.draggingGraph&&this.$container.offset(a),a}updateNodePosition(t,e){const n=this.targetGraph.clientToLocal(t,e),s=this.draggingBBox;return n.x-=s.width/2,n.y-=s.height/2,this.draggingNode.position(n.x,n.y),n}snap({cell:t,current:e,options:n}){const s=t;if(n.snapped){const r=this.draggingBBox;s.position(r.x+n.tx,r.y+n.ty,{silent:!0}),this.draggingView.translate(),s.position(e.x,e.y,{silent:!0}),this.snapOffset={x:n.tx,y:n.ty}}else this.snapOffset=null}onDragging(t){const e=this.draggingView;if(e){t.preventDefault();const n=this.normalizeEvent(t),s=n.clientX,r=n.clientY;this.updateGraphPosition(s,r);const o=this.updateNodePosition(s,r),a=this.targetGraph.options.embedding.enabled,l=(a||this.isSnaplineEnabled())&&this.isInsideValidArea({x:s,y:r});if(a){e.setEventData(n,{graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView});const c=e.getEventData(n);l?e.processEmbedding(n,c):e.clearEmbedding(c),this.candidateEmbedView=c.candidateEmbedView}this.isSnaplineEnabled()&&(l?this.snapline.snapOnMoving({e:n,view:e,x:o.x,y:o.y}):this.snapline.hide())}}onDragEnd(t){const e=this.draggingNode;if(e){const n=this.normalizeEvent(t),s=this.draggingView,r=this.draggingBBox,o=this.snapOffset;let a=r.x,l=r.y;o&&(a+=o.x,l+=o.y),e.position(a,l,{silent:!0});const c=this.drop(e,{x:n.clientX,y:n.clientY}),h=f=>{f?(this.onDropped(e),this.targetGraph.options.embedding.enabled&&s&&(s.setEventData(n,{cell:f,graph:this.targetGraph,candidateEmbedView:this.candidateEmbedView}),s.finalizeEmbedding(n,s.getEventData(n)))):this.onDropInvalid(),this.candidateEmbedView=null,this.targetModel.stopBatch("dnd")};Bh(c)?(this.undelegateDocumentEvents(),c.then(h)):h(c)}}clearDragging(){this.draggingNode&&(this.sourceNode=null,this.draggingNode.remove(),this.draggingNode=null,this.draggingView=null,this.delta=null,this.padding=null,this.snapOffset=null,this.originOffset=null,this.undelegateDocumentEvents())}onDropped(t){this.draggingNode===t&&(this.clearDragging(),this.$container.removeClass("dragging").remove())}onDropInvalid(){const t=this.draggingNode;if(t){const e=this.options.animation;if(e){const n=typeof e=="object"&&e.duration||150,s=typeof e=="object"&&e.easing||"swing";this.draggingView=null,this.$container.animate(this.originOffset,n,s,()=>this.onDropped(t))}else this.onDropped(t)}}isInsideValidArea(t){let e;const n=this.targetGraph,s=this.targetScroller;if(s)if(s.options.autoResize)e=this.getDropArea(s.container);else{const r=this.getDropArea(s.container);e=this.getDropArea(n.container).intersectsWithRect(r)}else e=this.getDropArea(n.container);return e&&e.containsPoint(t)}getDropArea(t){const e=this.$(t),n=e.offset(),s=document.body.scrollTop||document.documentElement.scrollTop,r=document.body.scrollLeft||document.documentElement.scrollLeft;return st.create({x:n.left+parseInt(e.css("border-left-width"),10)-r,y:n.top+parseInt(e.css("border-top-width"),10)-s,width:e.innerWidth(),height:e.innerHeight()})}drop(t,e){if(this.isInsideValidArea(e)){const n=this.targetGraph,s=n.model,r=n.clientToLocal(e),o=this.sourceNode,a=this.options.getDropNode(t,{sourceNode:o,draggingNode:t,targetGraph:this.targetGraph,draggingGraph:this.draggingGraph}),l=a.getBBox();r.x+=l.x-l.width/2,r.y+=l.y-l.height/2;const c=this.snapOffset?1:n.getGridSize();a.position(Le.snapToGrid(r.x,c),Le.snapToGrid(r.y,c)),a.removeZIndex();const h=this.options.validateNode,f=h?h(a,{sourceNode:o,draggingNode:t,droppingNode:a,targetGraph:n,draggingGraph:this.draggingGraph}):!0;return typeof f=="boolean"?f?(s.addCell(a,{stencil:this.cid}),a):null:dT(f).then(d=>d?(s.addCell(a,{stencil:this.cid}),a):null)}return null}onRemove(){this.draggingGraph&&(this.draggingGraph.view.remove(),this.draggingGraph.dispose())}dispose(){this.remove()}}E5([Ht.dispose()],ns.prototype,"dispose",null);(function(i){i.defaults={animation:!1,getDragNode:t=>t.clone(),getDropNode:t=>t.clone()},i.documentEvents={mousemove:"onDragging",touchmove:"onDragging",mouseup:"onDragEnd",touchend:"onDragEnd",touchcancel:"onDragEnd"}})(ns||(ns={}));function A5(i,t={}){const e=en.isModel(i)?i:new en().resetCells(i,{sort:!1,dryrun:!0}),n=e.getNodes(),s=t.columns||1,r=Math.ceil(n.length/s),o=t.dx||0,a=t.dy||0,l=t.center!==!1,c=t.resizeToFit===!0,h=t.marginX||0,f=t.marginY||0,d=[];let p=t.columnWidth;if(p==="compact")for(let M=0;M<s;M+=1){const A=di.getNodesInColumn(n,M,s);d.push(di.getMaxDim(A,"width")+o)}else{(p==null||p==="auto")&&(p=di.getMaxDim(n,"width")+o);for(let M=0;M<s;M+=1)d.push(p)}const y=di.accumulate(d,h),v=[];let x=t.rowHeight;if(x==="compact")for(let M=0;M<r;M+=1){const A=di.getNodesInRow(n,M,s);v.push(di.getMaxDim(A,"height")+a)}else{(x==null||x==="auto")&&(x=di.getMaxDim(n,"height")+a);for(let M=0;M<r;M+=1)v.push(x)}const w=di.accumulate(v,f);e.startBatch("layout"),n.forEach((M,A)=>{const D=A%s,N=Math.floor(A/s),m=d[D],P=v[N];let $=0,V=0,G=M.getSize();if(c){let X=m-2*o,H=P-2*a;const ft=G.height*(G.width?X/G.width:1),yt=G.width*(G.height?H/G.height:1);P<ft?X=yt:H=ft,G={width:X,height:H},M.setSize(G,t)}l&&($=(m-G.width)/2,V=(P-G.height)/2),M.position(y[D]+o+$,w[N]+a+V,t)}),e.stopBatch("layout")}var di;(function(i){function t(r,o){return r.reduce((a,l)=>Math.max(l.getSize()[o],a),0)}i.getMaxDim=t;function e(r,o,a){const l=[];for(let c=a*o,h=c+a;c<h;c+=1)l.push(r[c]);return l}i.getNodesInRow=e;function n(r,o,a){const l=[];for(let c=o,h=r.length;c<h;c+=a)l.push(r[c]);return l}i.getNodesInColumn=n;function s(r,o){return r.reduce((a,l,c)=>(a.push(a[c]+l),a),[o||0])}i.accumulate=s})(di||(di={}));class Vl extends Ht{constructor(t){super();this.graphs={},this.$groups={},this.options=Object.assign(Object.assign({},Vl.defaultOptions),t),this.dnd=new ns(this.options),this.onSearch=qp(this.onSearch,200),this.container=document.createElement("div"),this.$container=this.$(this.container).addClass(this.prefixClassName(yn.base)).attr("data-not-found-text",this.options.notFoundText||"No matches found"),this.options.collapsable=t.collapsable&&t.groups&&t.groups.some(n=>n.collapsable!==!1),this.options.collapsable&&(this.$container.addClass("collapsable"),t.groups&&t.groups.every(s=>s.collapsed||s.collapsable===!1)&&this.$container.addClass("collapsed")),this.$("<div/>").addClass(this.prefixClassName(yn.title)).html(this.options.title).appendTo(this.$container),t.search&&this.$container.addClass("searchable").append(this.renderSearch()),this.$content=this.$("<div/>").addClass(this.prefixClassName(yn.content)).appendTo(this.$container);const e=t.stencilGraphOptions||{};if(t.groups&&t.groups.length)t.groups.forEach(n=>{const s=this.$("<div/>").addClass(this.prefixClassName(yn.group)).attr("data-name",n.name);(n.collapsable==null&&t.collapsable||n.collapsable!==!1)&&s.addClass("collapsable"),s.toggleClass("collapsed",n.collapsed===!0);const r=this.$("<h3/>").addClass(this.prefixClassName(yn.groupTitle)).html(n.title||n.name),o=this.$("<div/>").addClass(this.prefixClassName(yn.groupContent)),a=n.graphOptions,l=new Qt(Object.assign(Object.assign(Object.assign({},e),a),{container:document.createElement("div"),model:e.model||new en,width:n.graphWidth||t.stencilGraphWidth,height:n.graphHeight||t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));o.append(l.container),s.append(r,o).appendTo(this.$content),this.$groups[n.name]=s,this.graphs[n.name]=l});else{const n=new Qt(Object.assign(Object.assign({},e),{container:document.createElement("div"),model:e.model||new en,width:t.stencilGraphWidth,height:t.stencilGraphHeight,interacting:!1,preventDefaultBlankAction:!1}));this.$content.append(n.container),this.graphs[Qo.defaultGroupName]=n}return this.startListening(),this}get targetScroller(){const t=this.options.target;return Qt.isGraph(t)?t.scroller.widget:t}get targetGraph(){const t=this.options.target;return Qt.isGraph(t)?t:t.graph}get targetModel(){return this.targetGraph.model}renderSearch(){return this.$("<div/>").addClass(this.prefixClassName(yn.search)).append(this.$("<input/>").attr({type:"search",placeholder:this.options.placeholder||"Search"}).addClass(this.prefixClassName(yn.searchText)))}startListening(){const t=this.prefixClassName(yn.title),e=this.prefixClassName(yn.searchText),n=this.prefixClassName(yn.groupTitle);this.delegateEvents({[`click .${t}`]:"onTitleClick",[`touchstart .${t}`]:"onTitleClick",[`click .${n}`]:"onGroupTitleClick",[`touchstart .${n}`]:"onGroupTitleClick",[`input .${e}`]:"onSearch",[`focusin .${e}`]:"onSearchFocusIn",[`focusout .${e}`]:"onSearchFocusOut"}),Object.keys(this.graphs).forEach(s=>{this.graphs[s].on("cell:mousedown",this.onDragStart,this)})}stopListening(){this.undelegateEvents(),Object.keys(this.graphs).forEach(t=>{this.graphs[t].off("cell:mousedown",this.onDragStart,this)})}load(t,e){return Array.isArray(t)?this.loadGroup(t,e):this.options.groups&&Object.keys(this.options.groups).forEach(n=>{t[n]&&this.loadGroup(t[n],n)}),this}loadGroup(t,e){const n=this.getModel(e);if(n){const a=t.map(l=>we.isNode(l)?l:we.create(l));n.resetCells(a)}const s=this.getGroup(e);let r=this.options.stencilGraphHeight;s&&s.graphHeight!=null&&(r=s.graphHeight);const o=s&&s.layout||this.options.layout;if(o&&n&&dt(o,this,n,s),!r){const a=this.getGraph(e);a.fitToContent({minWidth:a.options.width,gridHeight:1,padding:s&&s.graphPadding||this.options.stencilGraphPadding||10})}return this}onDragStart(t){const{e,node:n}=t;this.dnd.start(n,e)}filter(t,e){const n=Object.keys(this.graphs).reduce((s,r)=>{const o=this.graphs[r],a=r===Qo.defaultGroupName?null:r,l=o.model.getNodes().filter(d=>{let p=!1;typeof e=="function"?p=dt(e,this,d,t,a,this):typeof e=="boolean"?p=e:p=this.isCellMatched(d,t,e,t.toLowerCase()!==t);const y=o.renderer.findViewByCell(d);return y&&y.$(y.container).toggleClass("unmatched",!p),p}),c=l.length>0,h=this.options,f=new en;return f.resetCells(l),h.layout&&dt(h.layout,this,f,this.getGroup(r)),this.$groups[r]&&this.$groups[r].toggleClass("unmatched",!c),o.fitToContent({gridWidth:1,gridHeight:1,padding:h.stencilGraphPadding||10}),s||c},!1);this.$container.toggleClass("not-found",!n)}isCellMatched(t,e,n,s){return e&&n?Object.keys(n).some(r=>{if(r==="*"||t.shape===r){const o=n[r];return typeof o=="boolean"?o:(Array.isArray(o)?o:[o]).some(l=>{let c=t.getPropByPath(l);return c!=null?(c=`${c}`,s||(c=c.toLowerCase()),c.indexOf(e)>=0):!1})}return!1}):!0}onSearch(t){this.filter(t.target.value,this.options.search)}onSearchFocusIn(){this.$container.addClass("is-focused")}onSearchFocusOut(){this.$container.removeClass("is-focused")}onTitleClick(){this.options.collapsable&&(this.$container.toggleClass("collapsed"),this.$container.hasClass("collapsed")?this.collapseGroups():this.expandGroups())}onGroupTitleClick(t){const e=this.$(t.target).closest(`.${this.prefixClassName(yn.group)}`);this.toggleGroup(e.attr("data-name")||"");const n=Object.keys(this.$groups).every(s=>{const r=this.getGroup(s),o=this.$groups[s];return r&&r.collapsable===!1||o.hasClass("collapsed")});this.$container.toggleClass("collapsed",n)}getModel(t){const e=this.getGraph(t);return e?e.model:null}getGraph(t){return this.graphs[t||Qo.defaultGroupName]}getGroup(t){const e=this.options.groups;return t!=null&&e&&e.length?e.find(n=>n.name===t):null}toggleGroup(t){return this.isGroupCollapsed(t)?this.expandGroup(t):this.collapseGroup(t),this}collapseGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&!this.isGroupCollapsed(t)&&(this.trigger("group:collapse",{name:t}),e.addClass("collapsed"))}return this}expandGroup(t){if(this.isGroupCollapsable(t)){const e=this.$groups[t];e&&this.isGroupCollapsed(t)&&(this.trigger("group:expand",{name:t}),e.removeClass("collapsed"))}return this}isGroupCollapsable(t){return this.$groups[t].hasClass("collapsable")}isGroupCollapsed(t){const e=this.$groups[t];return e&&e.hasClass("collapsed")}collapseGroups(){return Object.keys(this.$groups).forEach(t=>this.collapseGroup(t)),this}expandGroups(){return Object.keys(this.$groups).forEach(t=>this.expandGroup(t)),this}resizeGroup(t,e){const n=this.graphs[t];return n&&n.resize(e.width,e.height),this}onRemove(){Object.keys(this.graphs).forEach(t=>{this.graphs[t].view.remove(),delete this.graphs[t]}),this.dnd.remove(),this.stopListening(),this.undelegateDocumentEvents()}}(function(i){i.defaultOptions=Object.assign({stencilGraphWidth:200,stencilGraphHeight:800,title:"Stencil",collapsable:!1,placeholder:"Search",notFoundText:"No matches found",layout(t,e){const n={columnWidth:this.options.stencilGraphWidth/2-10,columns:2,rowHeight:80,resizeToFit:!1,dx:10,dy:10};A5(t,Object.assign(Object.assign(Object.assign({},n),this.options.layoutOptions),e?e.layoutOptions:{}))}},ns.defaults)})(Vl||(Vl={}));var yn;(function(i){i.base="widget-stencil",i.title=`${i.base}-title`,i.search=`${i.base}-search`,i.searchText=`${i.search}-text`,i.content=`${i.base}-content`,i.group=`${i.base}-group`,i.groupTitle=`${i.group}-title`,i.groupContent=`${i.group}-content`})(yn||(yn={}));var Qo;(function(i){i.defaultGroupName="__default__"})(Qo||(Qo={}));function M5(){if(ci.trackable){const i="https://kcart.alipay.com/web/bi.do",t=new Image,e=Object.assign(Object.assign({},ci.trackInfo),{version:$P,pg:document.URL,r:new Date().getTime(),x6:!0,page_type:"syslog"}),n=encodeURIComponent(JSON.stringify([e]));t.src=`${i}?BIProfile=merge&d=${n}`}}ci.trackable&&setTimeout(M5,3e3);function T5(i){for(var t=-1,e=i==null?0:i.length,n={};++t<e;){var s=i[t];n[s[0]]=s[1]}return n}var O5=T5;class P5 extends Error{constructor(t){super(t);this.name="ElementPlusError"}}function D5(i,t){throw new P5(`[${i}] ${t}`)}var k5=typeof bo=="object"&&bo&&bo.Object===Object&&bo,dm=k5,N5=dm,$5=typeof self=="object"&&self&&self.Object===Object&&self,L5=N5||$5||Function("return this")(),Di=L5,F5=Di,j5=F5.Symbol,Du=j5,gm=Du,pm=Object.prototype,I5=pm.hasOwnProperty,z5=pm.toString,ta=gm?gm.toStringTag:void 0;function R5(i){var t=I5.call(i,ta),e=i[ta];try{i[ta]=void 0;var n=!0}catch{}var s=z5.call(i);return n&&(t?i[ta]=e:delete i[ta]),s}var B5=R5,_5=Object.prototype,V5=_5.toString;function H5(i){return V5.call(i)}var G5=H5,mm=Du,U5=B5,q5=G5,W5="[object Null]",X5="[object Undefined]",bm=mm?mm.toStringTag:void 0;function Y5(i){return i==null?i===void 0?X5:W5:bm&&bm in Object(i)?U5(i):q5(i)}var ku=Y5;function K5(i){var t=typeof i;return i!=null&&(t=="object"||t=="function")}var ym=K5,J5=ku,Z5=ym,Q5="[object AsyncFunction]",tk="[object Function]",ek="[object GeneratorFunction]",nk="[object Proxy]";function ik(i){if(!Z5(i))return!1;var t=J5(i);return t==tk||t==ek||t==Q5||t==nk}var sk=ik,rk=Di,ok=rk["__core-js_shared__"],ak=ok,Nu=ak,Cm=function(){var i=/[^.]+$/.exec(Nu&&Nu.keys&&Nu.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function lk(i){return!!Cm&&Cm in i}var ck=lk,hk=Function.prototype,uk=hk.toString;function fk(i){if(i!=null){try{return uk.call(i)}catch{}try{return i+""}catch{}}return""}var vm=fk,dk=sk,gk=ck,pk=ym,mk=vm,bk=/[\\^$.*+?()[\]{}|]/g,yk=/^\[object .+?Constructor\]$/,Ck=Function.prototype,vk=Object.prototype,xk=Ck.toString,wk=vk.hasOwnProperty,Sk=RegExp("^"+xk.call(wk).replace(bk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ek(i){if(!pk(i)||gk(i))return!1;var t=dk(i)?Sk:yk;return t.test(mk(i))}var Ak=Ek;function Mk(i,t){return i==null?void 0:i[t]}var Tk=Mk,Ok=Ak,Pk=Tk;function Dk(i,t){var e=Pk(i,t);return Ok(e)?e:void 0}var Vr=Dk,kk=Vr,Nk=Di,$k=kk(Nk,"Map"),Lk=$k,Fk=Vr;Fk(Object,"create");var jk=Di;jk.Uint8Array;var xm=Du,wm=xm?xm.prototype:void 0;wm&&wm.valueOf;function Ik(i){return i!=null&&typeof i=="object"}var Sm=Ik,zk=ku,Rk=Sm,Bk="[object Arguments]";function _k(i){return Rk(i)&&zk(i)==Bk}var Vk=_k,Em=Vk,Hk=Sm,Am=Object.prototype,Gk=Am.hasOwnProperty,Uk=Am.propertyIsEnumerable;Em(function(){return arguments}());var Mm={exports:{}};function qk(){return!1}var Wk=qk;(function(i,t){var e=Di,n=Wk,s=t&&!t.nodeType&&t,r=s&&!0&&i&&!i.nodeType&&i,o=r&&r.exports===s,a=o?e.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;i.exports=c})(Mm,Mm.exports);var $u={exports:{}};(function(i,t){var e=dm,n=t&&!t.nodeType&&t,s=n&&!0&&i&&!i.nodeType&&i,r=s&&s.exports===n,o=r&&e.process,a=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();i.exports=a})($u,$u.exports);var Tm=$u.exports;Tm&&Tm.isTypedArray;var Xk=Vr,Yk=Di,Kk=Xk(Yk,"DataView"),Jk=Kk,Zk=Vr,Qk=Di,tN=Zk(Qk,"Promise"),eN=tN,nN=Vr,iN=Di,sN=nN(iN,"Set"),rN=sN,oN=Vr,aN=Di,lN=oN(aN,"WeakMap"),cN=lN,Lu=Jk,Fu=Lk,ju=eN,Iu=rN,zu=cN,Om=ku,Hr=vm,Pm="[object Map]",hN="[object Object]",Dm="[object Promise]",km="[object Set]",Nm="[object WeakMap]",$m="[object DataView]",uN=Hr(Lu),fN=Hr(Fu),dN=Hr(ju),gN=Hr(Iu),pN=Hr(zu),Gr=Om;(Lu&&Gr(new Lu(new ArrayBuffer(1)))!=$m||Fu&&Gr(new Fu)!=Pm||ju&&Gr(ju.resolve())!=Dm||Iu&&Gr(new Iu)!=km||zu&&Gr(new zu)!=Nm)&&(Gr=function(i){var t=Om(i),e=t==hN?i.constructor:void 0,n=e?Hr(e):"";if(n)switch(n){case uN:return $m;case fN:return Pm;case dN:return Dm;case gN:return km;case pN:return Nm}return t});const ea=i=>typeof i=="number";function Lm(i){return Ie(i)?i:ea(i)?`${i}px`:""}const Fm=Symbol("scrollbarContextKey"),Ru=Symbol(),jm=Symbol();function mN(i,t){if(!Ue(i)||!!i[jm])return i;const{values:e,required:n,default:s,type:r,validator:o}=i,a=e||o?l=>{let c=!1,h=[];if(e&&(h=[...e,s],c||(c=h.includes(l))),o&&(c||(c=o(l))),!c&&h.length>0){const f=[...new Set(h)].map(d=>JSON.stringify(d)).join(", ");UC(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${f}], got value ${JSON.stringify(l)}.`)}return c}:void 0;return{type:typeof r=="object"&&Object.getOwnPropertySymbols(r).includes(Ru)?r[Ru]:r,required:!!n,default:s,validator:a,[jm]:!0}}const Im=i=>O5(Object.entries(i).map(([t,e])=>[t,mN(e,t)])),bN=i=>({[Ru]:i});function zm(i){return oy()?(ay(i),!0):!1}const na=typeof window!="undefined",yN=i=>typeof i=="string",Bu=()=>{};function CN(i){var t;const e=Pc(i);return(t=e==null?void 0:e.$el)!=null?t:e}const Rm=na?window:void 0;na&&window.document;na&&window.navigator;na&&window.location;function _u(...i){let t,e,n,s;if(yN(i[0])?([e,n,s]=i,t=Rm):[t,e,n,s]=i,!t)return Bu;let r=Bu;const o=or(()=>Pc(t),l=>{r(),!!l&&(l.addEventListener(e,n,s),r=()=>{l.removeEventListener(e,n,s),r=Bu})},{immediate:!0,flush:"post"}),a=()=>{o(),r()};return zm(a),a}const Bm="__vueuse_ssr_handlers__";globalThis[Bm]=globalThis[Bm]||{};var _m=Object.getOwnPropertySymbols,vN=Object.prototype.hasOwnProperty,xN=Object.prototype.propertyIsEnumerable,wN=(i,t)=>{var e={};for(var n in i)vN.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&_m)for(var n of _m(i))t.indexOf(n)<0&&xN.call(i,n)&&(e[n]=i[n]);return e};function SN(i,t,e={}){const n=e,{window:s=Rm}=n,r=wN(n,["window"]);let o;const a=s&&"ResizeObserver"in s,l=()=>{o&&(o.disconnect(),o=void 0)},c=or(()=>CN(i),f=>{l(),a&&s&&f&&(o=new s.ResizeObserver(t),o.observe(f,r))},{immediate:!0,flush:"post"}),h=()=>{l(),c()};return zm(h),{isSupported:a,stop:h}}var Vm,Hm;na&&(window==null?void 0:window.navigator)&&((Vm=window==null?void 0:window.navigator)==null?void 0:Vm.platform)&&/iP(ad|hone|od)/.test((Hm=window==null?void 0:window.navigator)==null?void 0:Hm.platform);var EN=Object.defineProperty,Gm=Object.getOwnPropertySymbols,AN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,Um=(i,t,e)=>t in i?EN(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,TN=(i,t)=>{for(var e in t||(t={}))AN.call(t,e)&&Um(i,e,t[e]);if(Gm)for(var e of Gm(t))MN.call(t,e)&&Um(i,e,t[e]);return i};const ON={top:0,left:0,bottom:0,right:0,height:0,width:0};TN({text:""},ON);const PN=(i,t)=>{if(i.install=e=>{for(const n of[i,...Object.values(t!=null?t:{})])e.component(n.name,n)},t)for(const[e,n]of Object.entries(t))i[e]=n;return i},DN={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},kN=({move:i,size:t,bar:e})=>({[e.size]:t,transform:`translate${e.axis}(${i}%)`}),NN=Im({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),qm="Bar";var Vu=ad({name:qm,props:NN,setup(i){const t=Pa(Fm);t||D5(qm,"can not inject scrollbar context");const e=Mn(),n=Mn(),s=Mn({}),r=Mn(!1);let o=!1,a=!1,l=null;const c=ro(()=>DN[i.vertical?"vertical":"horizontal"]),h=ro(()=>kN({size:i.size,move:i.move,bar:c.value})),f=ro(()=>e.value[c.value.offset]**2/t.wrapElement[c.value.scrollSize]/i.ratio/n.value[c.value.offset]),d=A=>{var D;if(A.stopPropagation(),A.ctrlKey||[1,2].includes(A.button))return;(D=window.getSelection())==null||D.removeAllRanges(),y(A);const N=A.currentTarget;!N||(s.value[c.value.axis]=N[c.value.offset]-(A[c.value.client]-N.getBoundingClientRect()[c.value.direction]))},p=A=>{if(!n.value||!e.value||!t.wrapElement)return;const D=Math.abs(A.target.getBoundingClientRect()[c.value.direction]-A[c.value.client]),N=n.value[c.value.offset]/2,m=(D-N)*100*f.value/e.value[c.value.offset];t.wrapElement[c.value.scroll]=m*t.wrapElement[c.value.scrollSize]/100},y=A=>{A.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),l=document.onselectstart,document.onselectstart=()=>!1},v=A=>{if(!e.value||!n.value||o===!1)return;const D=s.value[c.value.axis];if(!D)return;const N=(e.value.getBoundingClientRect()[c.value.direction]-A[c.value.client])*-1,m=n.value[c.value.offset]-D,P=(N-m)*100*f.value/e.value[c.value.offset];t.wrapElement[c.value.scroll]=P*t.wrapElement[c.value.scrollSize]/100},x=()=>{o=!1,s.value[c.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x),document.onselectstart=l,a&&(r.value=!1)},w=()=>{a=!1,r.value=!!i.size},M=()=>{a=!0,r.value=o};return zc(()=>document.removeEventListener("mouseup",x)),_u(Zf(t,"scrollbarElement"),"mousemove",w),_u(Zf(t,"scrollbarElement"),"mouseleave",M),{instance:e,thumb:n,bar:c,thumbStyle:h,visible:r,clickTrackHandler:p,clickThumbHandler:d}}});function $N(i,t,e,n,s,r){return er(),Fa(rh,{name:"el-scrollbar-fade"},{default:kc(()=>[pC(lo("div",{ref:"instance",class:Ks(["el-scrollbar__bar","is-"+i.bar.key]),onMousedown:t[1]||(t[1]=(...o)=>i.clickTrackHandler&&i.clickTrackHandler(...o))},[lo("div",{ref:"thumb",class:"el-scrollbar__thumb",style:Ys(i.thumbStyle),onMousedown:t[0]||(t[0]=(...o)=>i.clickThumbHandler&&i.clickThumbHandler(...o))},null,36)],34),[[T1,i.always||i.visible]])]),_:1})}Vu.render=$N;Vu.__file="packages/components/scrollbar/src/bar.vue";const LN=Im({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:bN([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:{type:Boolean,default:!1},minSize:{type:Number,default:20}}),FN={scroll:({scrollTop:i,scrollLeft:t})=>ea(i)&&ea(t)};var Hu=ad({name:"ElScrollbar",components:{Bar:Vu},props:LN,emits:FN,setup(i,{emit:t}){let e,n;const s=Mn(),r=Mn(),o=Mn(),a=Mn("0"),l=Mn("0"),c=Mn(0),h=Mn(0),f=Mn(1),d=Mn(1),p=4,y=ro(()=>{const A={};return i.height&&(A.height=Lm(i.height)),i.maxHeight&&(A.maxHeight=Lm(i.maxHeight)),[i.wrapStyle,A]}),v=()=>{if(r.value){const A=r.value.offsetHeight-p,D=r.value.offsetWidth-p;h.value=r.value.scrollTop*100/A*f.value,c.value=r.value.scrollLeft*100/D*d.value,t("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft})}},x=A=>{!ea(A)||(r.value.scrollTop=A)},w=A=>{!ea(A)||(r.value.scrollLeft=A)},M=()=>{if(!r.value)return;const A=r.value.offsetHeight-p,D=r.value.offsetWidth-p,N=A**2/r.value.scrollHeight,m=D**2/r.value.scrollWidth,P=Math.max(N,i.minSize),$=Math.max(m,i.minSize);f.value=N/(A-N)/(P/(A-P)),d.value=m/(D-m)/($/(D-$)),l.value=P+p<A?`${P}px`:"",a.value=$+p<D?`${$}px`:""};return or(()=>i.noresize,A=>{A?(e==null||e(),n==null||n()):({stop:e}=SN(o,M),n=_u("resize",M))},{immediate:!0}),nd(Fm,Ta({scrollbarElement:s,wrapElement:r})),Ic(()=>{i.native||_d(()=>M())}),{scrollbar$:s,wrap$:r,resize$:o,moveX:c,moveY:h,ratioX:d,ratioY:f,sizeWidth:a,sizeHeight:l,style:y,update:M,handleScroll:v,setScrollTop:x,setScrollLeft:w}}});const jN={ref:"scrollbar$",class:"el-scrollbar"};function IN(i,t,e,n,s,r){const o=EC("bar");return er(),Dd("div",jN,[lo("div",{ref:"wrap$",class:Ks([i.wrapClass,"el-scrollbar__wrap",i.native?"":"el-scrollbar__wrap--hidden-default"]),style:Ys(i.style),onScroll:t[0]||(t[0]=(...a)=>i.handleScroll&&i.handleScroll(...a))},[(er(),Fa(AC(i.tag),{ref:"resize$",class:Ks(["el-scrollbar__view",i.viewClass]),style:Ys(i.viewStyle)},{default:kc(()=>[NC(i.$slots,"default")]),_:3},8,["class","style"]))],38),i.native?DC("v-if",!0):(er(),Dd(On,{key:0},[sn(o,{move:i.moveX,ratio:i.ratioX,size:i.sizeWidth,always:i.always},null,8,["move","ratio","size","always"]),sn(o,{move:i.moveY,ratio:i.ratioY,size:i.sizeHeight,vertical:"",always:i.always},null,8,["move","ratio","size","always"])],64))],512)}Hu.render=IN;Hu.__file="packages/components/scrollbar/src/scrollbar.vue";const _N=PN(Hu);export{_N as E,Qt as G,BN as R,Vl as S,zN as T,PC as a,ro as b,sn as c,ad as d,Ta as e,Dd as f,er as g,zc as h,Ze as i,pC as j,ja as k,Pa as l,RN as m,_d as n,Ic as o,nd as p,Mn as r,Pc as u,T1 as v,or as w};
