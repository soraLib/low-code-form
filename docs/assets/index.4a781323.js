import{d as f,r,c as t,N as m,n as g,i as h,a as v,b as c,e as x,f as b,A as y}from"./index.f09d573a.js";import{A as O}from"./Add.451fe0c3.js";const p=f({props:{value:String},emits:["update:value"],setup(n,d){const a=r(!1),i=r(null),u=r(n.value);function s(){a.value=!0,g(()=>{var l;(l=i.value)==null||l.focus()})}function e(){d.emit("update:value",u.value),a.value=!1}return()=>t("div",{style:"min-height: 22px",onClick:s},[a.value?t(m,{ref:i,value:u.value,onUpdateValue:l=>u.value=l,onChange:e,onBlur:e},null):n.value])}});var C=f({name:"WidgetOptions",props:{graph:{required:!0,type:Object},plugin:{required:!0,type:Object}},setup(n,d){const a=r([]);h(n.plugin.attr,n.graph.selected[0])&&n.plugin.attr==="options"&&(a.value=n.graph.selected[0].attrs[n.plugin.attr].map(e=>{var l;return{label:e.label,value:(l=e.value)!=null?l:e.label}})),d.expose({update(){return a.value}});function i(){a.value.push({label:"",value:""})}function u(e){y.remove(a.value,a.value.indexOf(e))}const s=e=>a.value.indexOf(e);return()=>t("section",{class:"widget-options"},[t("header",null,[t(v,{type:"primary",size:"small",class:"text-sm",onClick:i},{default:()=>[c("Add Option")],icon:()=>t(x,null,{default:()=>[t(O,null,null)]})}),t("p",{class:"text-gray-500 font-bold"},[c("Please add at least one option.")])]),t(b,{"max-height":"300",class:"!w-min",striped:!0,data:a.value,columns:[{title:"Label",key:"label",width:200,render:e=>{const l=s(e);return t(p,{value:e.label,"onUpdate:value":o=>a.value[l].label=o},null)}},{title:"Value",key:"value",width:200,render:e=>{const l=s(e);return t(p,{value:e.value,"onUpdate:value":o=>a.value[l].value=o},null)}},{title:"Action",key:"actions",width:100,render:e=>t(v,{type:"error",strong:!0,size:"small",onClick:()=>u(e)},{default:()=>[c("Delete")]})}]},null)])}});export{C as default};
